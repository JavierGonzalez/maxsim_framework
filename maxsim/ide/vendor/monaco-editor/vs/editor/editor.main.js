/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.26.0(69d9363bfed1fbfc1ccb914875a20299f46bcc2e)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ie=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls","vs/nls!vs/editor/editor.main","vs/base/common/event","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/css!vs/editor/editor.main","vs/platform/theme/common/themeService","vs/base/common/errors","vs/editor/common/core/position","vs/editor/browser/editorExtensions","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/editor/common/modes","vs/base/common/arrays","vs/base/common/types","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/editorContextKeys","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/model/textModel","vs/platform/registry/common/platform","vs/platform/actions/common/actions","vs/platform/notification/common/notification","vs/editor/common/config/editorOptions","vs/editor/common/services/modelService","vs/platform/keybinding/common/keybinding","vs/base/browser/browser","vs/editor/common/controller/cursorCommon","vs/platform/configuration/common/configuration","vs/base/common/keyCodes","vs/base/common/objects","vs/base/common/resources","vs/base/browser/ui/aria/aria","vs/editor/common/modes/languageConfigurationRegistry","vs/base/common/network","vs/editor/browser/view/viewPart","vs/editor/common/view/editorColorRegistry","vs/base/common/actions","vs/base/common/map","vs/base/browser/ui/widget","vs/editor/common/model","vs/base/common/iterator","vs/base/browser/keyboardEvent","vs/base/browser/mouseEvent","vs/editor/common/core/editOperation","vs/editor/common/services/modeService","vs/platform/opener/common/opener","vs/platform/progress/common/progress","vs/base/browser/touch","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/platform/accessibility/common/accessibility","vs/editor/browser/config/configuration","vs/base/common/filters","vs/editor/common/services/resolverService","vs/platform/contextview/browser/contextView","vs/platform/log/common/log","vs/editor/browser/core/editorState","vs/base/common/linkedList","vs/base/common/path","vs/base/common/severity","vs/platform/instantiation/common/extensions","vs/editor/common/services/editorWorkerService","vs/editor/common/modes/nullMode","vs/platform/quickinput/common/quickInput","vs/platform/storage/common/storage","vs/platform/theme/common/iconRegistry","vs/base/common/stopwatch","vs/base/common/htmlContent","vs/editor/common/core/stringBuilder","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/core/lineTokens","vs/platform/clipboard/common/clipboardService","vs/platform/markers/common/markers","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/telemetry/common/telemetry","vs/base/common/decorators","vs/base/common/functional","vs/base/browser/event","vs/base/common/hash","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/browser/view/dynamicViewOverlay","vs/platform/configuration/common/configurationRegistry","vs/platform/quickinput/common/quickAccess","vs/platform/theme/common/theme","vs/base/browser/ui/tree/tree","vs/base/common/numbers","vs/base/common/buffer","vs/base/common/iconLabels","vs/base/browser/ui/iconLabel/iconLabels","vs/base/common/mime","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/model/textModelEvents","vs/editor/common/modes/languageConfiguration","vs/editor/common/view/renderingContext","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/viewModel/viewEventHandler","vs/editor/contrib/snippet/snippetParser","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/referencesModel","vs/editor/standalone/common/standaloneThemeService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/platform/theme/common/styler","vs/editor/contrib/suggest/suggest","vs/editor/contrib/peekView/peekView","vs/base/common/idGenerator","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/core/token","vs/editor/common/model/wordHelper","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/types","vs/editor/browser/services/bulkEditService","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/model/tokensStore","vs/editor/common/controller/cursorWordOperations","vs/editor/common/services/textResourceConfigurationService","vs/platform/instantiation/common/serviceCollection","vs/platform/layout/browser/layoutService","vs/editor/browser/core/markdownRenderer","vs/editor/common/modes/modesRegistry","vs/editor/contrib/find/findModel","vs/editor/browser/controller/coreCommands","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/codeAction/codeAction","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/base/common/lazy","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/dnd","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/list/listView","vs/editor/browser/editorDom","vs/editor/common/config/fontInfo","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/model/textModelSearch","vs/editor/common/modes/supports","vs/editor/common/modes/supports/richEditBrackets","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/editor/common/services/markersDecorationService","vs/editor/common/commands/shiftCommand","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/commonEditorConfig","vs/editor/browser/controller/mouseTarget","vs/platform/actions/browser/menuEntryActionViewItem","vs/platform/workspace/common/workspace","vs/editor/standalone/browser/simpleServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/browser/ui/tree/treeIcons","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/editorAction","vs/editor/common/model/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/blockCommentCommand","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverTypes","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/inlineCompletions/ghostText","vs/editor/contrib/inlineCompletions/utils","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/platform/instantiation/common/descriptors","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/common/controller/cursorMoveCommands","vs/editor/common/controller/cursor","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/keybindingResolver","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/standalone/browser/standaloneCodeServiceImpl","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/inlineCompletions/inlineCompletionsModel","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/contrib/wordOperations/wordOperations","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/find/findController","vs/editor/contrib/gotoError/gotoError","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/editor/standalone/browser/standaloneServices","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/inlineCompletions/ghostTextController","vs/editor/contrib/hover/hover","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/search","vs/base/common/fuzzyScorer","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/uuid","vs/base/parts/storage/common/storage","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/ghostText","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/charWidthReader","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/modes/abstractMode","vs/editor/common/modes/languageSelector","vs/editor/common/modes/linkComputer","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/supports/electricCharacter","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/services/semanticTokensDto","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/hover/hoverWidgets","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/core/keybindingCancellation","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/editor/common/viewModel/viewModelDecorations","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/inlineCompletions/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetController2","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggest","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/platform/clipboard/browser/clipboardService","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/instantiation/common/graph","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/controller/cursorColumnSelection","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/viewModel/splitLinesCollection","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/standalone/browser/colorizer","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/resolvedKeybindingItem","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/common/services/webWorker","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/hover/modesGlyphHover","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/services/getIconClasses","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/platform/accessibility/common/accessibilityService","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/browser/contextKeyService","vs/platform/browser/contextScopedHistoryWidget","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/services/markerDecorationsServiceImpl","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/inlineCompletions/ghostTextWidget","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view/viewImpl","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/dnd/dnd","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/colorHoverParticipant","vs/editor/contrib/hover/getHover","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/inlayHints/inlayHintsController","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputServiceImpl","vs/platform/severityIcon/common/severityIcon","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/browser/widget/diffReview","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/suggest/suggestWidget","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/inlineCompletions/suggestWidgetAdapterModel","vs/editor/contrib/inlineCompletions/ghostTextModel","vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/colorPicker/colorContributions","vs/editor/editor.all","vs/base/common/marked/marked","vs/base/common/insane/insane","vs/editor/edcore.main"],ne=function($){for(var e=[],_=0,k=$.length;_<k;_++)e[_]=ie[$[_]];return e},kt;(function($){var e=function(){function k(){this._pendingLoads=0}return k.prototype.attachListeners=function(M,L,S,m){var v=function(){L.removeEventListener("load",i),L.removeEventListener("error",C)},i=function(s){v(),S()},C=function(s){v(),m(s)};L.addEventListener("load",i),L.addEventListener("error",C)},k.prototype._onLoad=function(M,L){this._pendingLoads--,L()},k.prototype._onLoadError=function(M,L,S){this._pendingLoads--,L(S)},k.prototype._insertLinkNode=function(M){this._pendingLoads++;var L=document.head||document.getElementsByTagName("head")[0],S=L.getElementsByTagName("link")||L.getElementsByTagName("script");S.length>0?L.insertBefore(M,S[S.length-1]):L.appendChild(M)},k.prototype.createLinkTag=function(M,L,S,m){var v=this,i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("data-name",M);var C=function(){return v._onLoad(M,S)},s=function(o){return v._onLoadError(M,m,o)};return this.attachListeners(M,i,C,s),i.setAttribute("href",L),i},k.prototype._linkTagExists=function(M,L){var S,m,v,i,C=document.getElementsByTagName("link");for(S=0,m=C.length;S<m;S++)if(v=C[S].getAttribute("data-name"),i=C[S].getAttribute("href"),v===M||i===L)return!0;return!1},k.prototype.load=function(M,L,S,m){if(this._linkTagExists(M,L)){S();return}var v=this.createLinkTag(M,L,S,m);this._insertLinkNode(v)},k}(),_=function(){function k(){this._cssLoader=new e}return k.prototype.load=function(M,L,S,m){m=m||{};var v=m["vs/css"]||{};if(v.disabled){S({});return}var i=L.toUrl(M+".css");this._cssLoader.load(M,i,function(C){S({})},function(C){typeof S.error=="function"&&S.error("Could not find "+i+" or it was empty")})},k}();$.CSSPlugin=_,define("vs/css",new _)})(kt||(kt={}));var oi=this&&this.__spreadArrays||function(){for(var $=0,e=0,_=arguments.length;e<_;e++)$+=arguments[e].length;for(var k=Array($),M=0,e=0;e<_;e++)for(var L=arguments[e],S=0,m=L.length;S<m;S++,M++)k[M]=L[S];return k},Mt;(function($){var e=function(){function m(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(m.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!0,configurable:!0}),m.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},m}();function _(m,v,i){var C;return v.length===0?C=m:C=m.replace(/\{(\d+)\}/g,function(s,o){var a=o[0],c=v[a],u=s;return typeof c=="string"?u=c:(typeof c=="number"||typeof c=="boolean"||c===void 0||c===null)&&(u=String(c)),u}),i.isPseudo&&(C="\uFF3B"+C.replace(/[aouei]/g,"$&$&")+"\uFF3D"),C}function k(m,v){var i=m[v];return i||(i=m["*"],i)?i:null}function M(m,v,i){for(var C=[],s=3;s<arguments.length;s++)C[s-3]=arguments[s];return _(i,C,m)}function L(m,v){return function(i,C){var s=Array.prototype.slice.call(arguments,2);return _(m[i],s,v)}}var S=function(){function m(v){var i=this;this._env=v,this.localize=function(C,s){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];return M.apply(void 0,oi([i._env,C,s],o))}}return m.prototype.setPseudoTranslation=function(v){this._env._isPseudo=v},m.prototype.create=function(v,i){return{localize:L(i[v],this._env)}},m.prototype.load=function(v,i,C,s){var o=this;if(s=s||{},!v||v.length===0)C({localize:this.localize});else{var a=s["vs/nls"]||{},c=a.availableLanguages?k(a.availableLanguages,v):null,u=".nls";c!==null&&c!==m.DEFAULT_TAG&&(u=u+"."+c);var r=function(n){Array.isArray(n)?n.localize=L(n,o._env):n.localize=L(n[v],o._env),C(n)};typeof a.loadBundle=="function"?a.loadBundle(v,c,function(n,l){n?i([v+".nls"],r):r(l)}):i([v+u],r)}},m.DEFAULT_TAG="i-default",m}();$.NLSPlugin=S,define("vs/nls",new S(new e))})(Mt||(Mt={})),define(ie[30],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class _{constructor(L){this.domNode=L,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(L){this._maxWidth!==L&&(this._maxWidth=L,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(L){this._width!==L&&(this._width=L,this.domNode.style.width=this._width+"px")}setHeight(L){this._height!==L&&(this._height=L,this.domNode.style.height=this._height+"px")}setTop(L){this._top!==L&&(this._top=L,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(L){this._left!==L&&(this._left=L,this.domNode.style.left=this._left+"px")}setBottom(L){this._bottom!==L&&(this._bottom=L,this.domNode.style.bottom=this._bottom+"px")}setRight(L){this._right!==L&&(this._right=L,this.domNode.style.right=this._right+"px")}setFontFamily(L){this._fontFamily!==L&&(this._fontFamily=L,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(L){this._fontWeight!==L&&(this._fontWeight=L,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(L){this._fontSize!==L&&(this._fontSize=L,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(L){this._fontFeatureSettings!==L&&(this._fontFeatureSettings=L,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(L){this._lineHeight!==L&&(this._lineHeight=L,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(L){this._letterSpacing!==L&&(this._letterSpacing=L,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(L){this._className!==L&&(this._className=L,this.domNode.className=this._className)}toggleClassName(L,S){this.domNode.classList.toggle(L,S),this._className=this.domNode.className}setDisplay(L){this._display!==L&&(this._display=L,this.domNode.style.display=this._display)}setPosition(L){this._position!==L&&(this._position=L,this.domNode.style.position=this._position)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this.domNode.style.visibility=this._visibility)}setBackgroundColor(L){this._backgroundColor!==L&&(this._backgroundColor=L,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(L){this._layerHint!==L&&(this._layerHint=L,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(L){this._boxShadow!==L&&(this._boxShadow=L,this.domNode.style.boxShadow=L)}setContain(L){this._contain!==L&&(this._contain=L,this.domNode.style.contain=this._contain)}setAttribute(L,S){this.domNode.setAttribute(L,S)}removeAttribute(L){this.domNode.removeAttribute(L)}appendChild(L){this.domNode.appendChild(L.domNode)}removeChild(L){this.domNode.removeChild(L.domNode)}}e.FastDomNode=_;function k(M){return new _(M)}e.createFastDomNode=k}),define(ie[196],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let _=!1,k=null;function M(S){if(!S.parent||S.parent===S)return null;try{let m=S.location,v=S.parent.location;if(m.origin!=="null"&&v.origin!=="null"&&(m.protocol!==v.protocol||m.hostname!==v.hostname||m.port!==v.port))return _=!0,null}catch(m){return _=!0,null}return S.parent}class L{static getSameOriginWindowChain(){if(!k){k=[];let m=window,v;do v=M(m),v?k.push({window:m,iframeElement:m.frameElement||null}):k.push({window:m,iframeElement:null}),m=v;while(m)}return k.slice(0)}static hasDifferentOriginAncestor(){return k||this.getSameOriginWindowChain(),_}static getPositionOfChildWindowRelativeToAncestorWindow(m,v){if(!v||m===v)return{top:0,left:0};let i=0,C=0,s=this.getSameOriginWindowChain();for(const o of s){if(i+=o.window.scrollY,C+=o.window.scrollX,o.window===v||!o.iframeElement)break;let a=o.iframeElement.getBoundingClientRect();i+=a.top,C+=a.left}return{top:i,left:C}}}e.IframeUtils=L}),define(ie[284],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class _ extends Error{constructor(M,L){super(`ListError [${M}] ${L}`)}}e.ListError=_}),define(ie[285],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class _{constructor(M){this.spliceables=M}splice(M,L,S){this.spliceables.forEach(m=>m.splice(M,L,S))}}e.CombinedSpliceable=_}),define(ie[197],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const _=20;class k{constructor(L,S,m,v,i,C){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(m),this._arrowSize=Math.round(L),this._visibleSize=v,this._scrollSize=i,this._scrollPosition=C,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(L){const S=Math.round(L);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(L){const S=Math.round(L);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(L){const S=Math.round(L);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(L){this._scrollbarSize=Math.round(L)}setOppositeScrollbarSize(L){this._oppositeScrollbarSize=Math.round(L)}static _computeValues(L,S,m,v,i){const C=Math.max(0,m-L),s=Math.max(0,C-2*S),o=v>0&&v>m;if(!o)return{computedAvailableSize:Math.round(C),computedIsNeeded:o,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const a=Math.round(Math.max(_,Math.floor(m*s/v))),c=(s-a)/(v-m),u=i*c;return{computedAvailableSize:Math.round(C),computedIsNeeded:o,computedSliderSize:Math.round(a),computedSliderRatio:c,computedSliderPosition:Math.round(u)}}_refreshComputedValues(){const L=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=L.computedAvailableSize,this._computedIsNeeded=L.computedIsNeeded,this._computedSliderSize=L.computedSliderSize,this._computedSliderRatio=L.computedSliderRatio,this._computedSliderPosition=L.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(L){if(!this._computedIsNeeded)return 0;const S=L-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(L){if(!this._computedIsNeeded)return 0;const S=L-this._arrowSize;let m=this._scrollPosition;return S<this._computedSliderPosition?m-=this._visibleSize:m+=this._visibleSize,m}getDesiredScrollPositionFromDelta(L){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+L;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=k}),define(ie[100],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var _;(function(L){L[L.Unknown=0]="Unknown",L[L.Twistie=1]="Twistie",L[L.Element=2]="Element"})(_=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class k extends Error{constructor(S,m){super(`TreeError [${S}] ${m}`)}}e.TreeError=k;class M{constructor(S){this.fn=S,this._map=new WeakMap}map(S){let m=this._map.get(S);return m||(m=this.fn(S),this._map.set(S,m)),m}}e.WeakMapper=M}),define(ie[19],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function _(p,w=0){return p[p.length-(1+w)]}e.tail=_;function k(p){if(p.length===0)throw new Error("Invalid tail call");return[p.slice(0,p.length-1),p[p.length-1]]}e.tail2=k;function M(p,w,b=(g,f)=>g===f){if(p===w)return!0;if(!p||!w||p.length!==w.length)return!1;for(let g=0,f=p.length;g<f;g++)if(!b(p[g],w[g]))return!1;return!0}e.equals=M;function L(p,w,b){let g=0,f=p.length-1;for(;g<=f;){const y=(g+f)/2|0,I=b(p[y],w);if(I<0)g=y+1;else if(I>0)f=y-1;else return y}return-(g+1)}e.binarySearch=L;function S(p,w){let b=0,g=p.length;if(g===0)return 0;for(;b<g;){const f=Math.floor((b+g)/2);w(p[f])?g=f:b=f+1}return b}e.findFirstInSorted=S;function m(p,w,b){if(p=p|0,p>=w.length)throw new TypeError("invalid index");let g=w[Math.floor(w.length*Math.random())],f=[],y=[],I=[];for(let N of w){const D=b(N,g);D<0?f.push(N):D>0?y.push(N):I.push(N)}return p<f.length?m(p,f,b):p<f.length+I.length?I[0]:m(p-(f.length+I.length),y,b)}e.quickSelect=m;function v(p,w){const b=[];let g;for(const f of p.slice(0).sort(w))!g||w(g[0],f)!==0?(g=[f],b.push(g)):g.push(f);return b}e.groupBy=v;function i(p){return p.filter(w=>!!w)}e.coalesce=i;function C(p){return!Array.isArray(p)||p.length===0}e.isFalsyOrEmpty=C;function s(p){return Array.isArray(p)&&p.length>0}e.isNonEmptyArray=s;function o(p,w){if(!w)return p.filter((g,f)=>p.indexOf(g)===f);const b=Object.create(null);return p.filter(g=>{const f=w(g);return b[f]?!1:(b[f]=!0,!0)})}e.distinct=o;function a(p){const w=new Set;return p.filter(b=>w.has(b)?!1:(w.add(b),!0))}e.distinctES6=a;function c(p,w){return p.length>0?p[0]:w}e.firstOrDefault=c;function u(p){return[].concat(...p)}e.flatten=u;function r(p,w){let b=typeof w=="number"?p:0;typeof w=="number"?b=p:(b=0,w=p);const g=[];if(b<=w)for(let f=b;f<w;f++)g.push(f);else for(let f=b;f>w;f--)g.push(f);return g}e.range=r;function n(p,w,b){const g=p.slice(0,w),f=p.slice(w);return g.concat(b,f)}e.arrayInsert=n;function l(p,w){const b=p.indexOf(w);b>-1&&(p.splice(b,1),p.unshift(w))}e.pushToStart=l;function t(p,w){const b=p.indexOf(w);b>-1&&(p.splice(b,1),p.push(w))}e.pushToEnd=t;function d(p){return Array.isArray(p)?p:[p]}e.asArray=d;class h{constructor(w){this.items=w,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(w){let b=this.firstIdx;for(;b<this.items.length&&w(this.items[b]);)b++;const g=b===this.firstIdx?null:this.items.slice(this.firstIdx,b);return this.firstIdx=b,g}takeFromEndWhile(w){let b=this.lastIdx;for(;b>=0&&w(this.items[b]);)b--;const g=b===this.lastIdx?null:this.items.slice(b+1,this.lastIdx+1);return this.lastIdx=b,g}}e.ArrayQueue=h}),define(ie[198],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function _(k,M){if(!k)throw new Error(M?`Assertion failed (${M})`:"Assertion Failed")}e.ok=_}),define(ie[199],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const _=Object.prototype.hasOwnProperty;function k(L,S){for(let m in L)if(_.call(L,m)&&S({key:m,value:L[m]},function(){delete L[m]})===!1)return}e.forEach=k;class M{constructor(){this.map=new Map}add(S,m){let v=this.map.get(S);v||(v=new Set,this.map.set(S,v)),v.add(m)}delete(S,m){const v=this.map.get(S);!v||(v.delete(m),v.size===0&&this.map.delete(S))}forEach(S,m){const v=this.map.get(S);!v||v.forEach(m)}}e.SetMap=M}),define(ie[29],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function _(m,v){const i=Math.pow(10,v);return Math.round(m*i)/i}class k{constructor(v,i,C,s=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,v))|0,this.g=Math.min(255,Math.max(0,i))|0,this.b=Math.min(255,Math.max(0,C))|0,this.a=_(Math.max(Math.min(1,s),0),3)}static equals(v,i){return v.r===i.r&&v.g===i.g&&v.b===i.b&&v.a===i.a}}e.RGBA=k;class M{constructor(v,i,C,s){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=_(Math.max(Math.min(1,i),0),3),this.l=_(Math.max(Math.min(1,C),0),3),this.a=_(Math.max(Math.min(1,s),0),3)}static equals(v,i){return v.h===i.h&&v.s===i.s&&v.l===i.l&&v.a===i.a}static fromRGBA(v){const i=v.r/255,C=v.g/255,s=v.b/255,o=v.a,a=Math.max(i,C,s),c=Math.min(i,C,s);let u=0,r=0;const n=(c+a)/2,l=a-c;if(l>0){switch(r=Math.min(n<=.5?l/(2*n):l/(2-2*n),1),a){case i:u=(C-s)/l+(C<s?6:0);break;case C:u=(s-i)/l+2;break;case s:u=(i-C)/l+4;break}u*=60,u=Math.round(u)}return new M(u,r,n,o)}static _hue2rgb(v,i,C){return C<0&&(C+=1),C>1&&(C-=1),C<1/6?v+(i-v)*6*C:C<1/2?i:C<2/3?v+(i-v)*(2/3-C)*6:v}static toRGBA(v){const i=v.h/360,{s:C,l:s,a:o}=v;let a,c,u;if(C===0)a=c=u=s;else{const r=s<.5?s*(1+C):s+C-s*C,n=2*s-r;a=M._hue2rgb(n,r,i+1/3),c=M._hue2rgb(n,r,i),u=M._hue2rgb(n,r,i-1/3)}return new k(Math.round(a*255),Math.round(c*255),Math.round(u*255),o)}}e.HSLA=M;class L{constructor(v,i,C,s){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=_(Math.max(Math.min(1,i),0),3),this.v=_(Math.max(Math.min(1,C),0),3),this.a=_(Math.max(Math.min(1,s),0),3)}static equals(v,i){return v.h===i.h&&v.s===i.s&&v.v===i.v&&v.a===i.a}static fromRGBA(v){const i=v.r/255,C=v.g/255,s=v.b/255,o=Math.max(i,C,s),a=Math.min(i,C,s),c=o-a,u=o===0?0:c/o;let r;return c===0?r=0:o===i?r=((C-s)/c%6+6)%6:o===C?r=(s-i)/c+2:r=(i-C)/c+4,new L(Math.round(r*60),u,o,v.a)}static toRGBA(v){const{h:i,s:C,v:s,a:o}=v,a=s*C,c=a*(1-Math.abs(i/60%2-1)),u=s-a;let[r,n,l]=[0,0,0];return i<60?(r=a,n=c):i<120?(r=c,n=a):i<180?(n=a,l=c):i<240?(n=c,l=a):i<300?(r=c,l=a):i<=360&&(r=a,l=c),r=Math.round((r+u)*255),n=Math.round((n+u)*255),l=Math.round((l+u)*255),new k(r,n,l,o)}}e.HSVA=L;class S{constructor(v){if(v)if(v instanceof k)this.rgba=v;else if(v instanceof M)this._hsla=v,this.rgba=M.toRGBA(v);else if(v instanceof L)this._hsva=v,this.rgba=L.toRGBA(v);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(v){return S.Format.CSS.parseHex(v)||S.red}get hsla(){return this._hsla?this._hsla:M.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:L.fromRGBA(this.rgba)}equals(v){return!!v&&k.equals(this.rgba,v.rgba)&&M.equals(this.hsla,v.hsla)&&L.equals(this.hsva,v.hsva)}getRelativeLuminance(){const v=S._relativeLuminanceForComponent(this.rgba.r),i=S._relativeLuminanceForComponent(this.rgba.g),C=S._relativeLuminanceForComponent(this.rgba.b),s=.2126*v+.7152*i+.0722*C;return _(s,4)}static _relativeLuminanceForComponent(v){const i=v/255;return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(v){const i=this.getRelativeLuminance(),C=v.getRelativeLuminance();return i>C}isDarkerThan(v){const i=this.getRelativeLuminance(),C=v.getRelativeLuminance();return i<C}lighten(v){return new S(new M(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*v,this.hsla.a))}darken(v){return new S(new M(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*v,this.hsla.a))}transparent(v){const{r:i,g:C,b:s,a:o}=this.rgba;return new S(new k(i,C,s,o*v))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+S.Format.CSS.format(this)}static getLighterColor(v,i,C){if(v.isLighterThan(i))return v;C=C||.5;const s=v.getRelativeLuminance(),o=i.getRelativeLuminance();return C=C*(o-s)/o,v.lighten(C)}static getDarkerColor(v,i,C){if(v.isDarkerThan(i))return v;C=C||.5;const s=v.getRelativeLuminance(),o=i.getRelativeLuminance();return C=C*(s-o)/s,v.darken(C)}}e.Color=S,S.white=new S(new k(255,255,255,1)),S.black=new S(new k(0,0,0,1)),S.red=new S(new k(255,0,0,1)),S.blue=new S(new k(0,0,255,1)),S.cyan=new S(new k(0,255,255,1)),S.lightgrey=new S(new k(211,211,211,1)),S.transparent=new S(new k(0,0,0,0)),function(m){let v;(function(i){let C;(function(s){function o(p){return p.rgba.a===1?`rgb(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b})`:m.Format.CSS.formatRGBA(p)}s.formatRGB=o;function a(p){return`rgba(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b}, ${+p.rgba.a.toFixed(2)})`}s.formatRGBA=a;function c(p){return p.hsla.a===1?`hsl(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%)`:m.Format.CSS.formatHSLA(p)}s.formatHSL=c;function u(p){return`hsla(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%, ${p.hsla.a.toFixed(2)})`}s.formatHSLA=u;function r(p){const w=p.toString(16);return w.length!==2?"0"+w:w}function n(p){return`#${r(p.rgba.r)}${r(p.rgba.g)}${r(p.rgba.b)}`}s.formatHex=n;function l(p,w=!1){return w&&p.rgba.a===1?m.Format.CSS.formatHex(p):`#${r(p.rgba.r)}${r(p.rgba.g)}${r(p.rgba.b)}${r(Math.round(p.rgba.a*255))}`}s.formatHexA=l;function t(p){return p.isOpaque()?m.Format.CSS.formatHex(p):m.Format.CSS.formatRGBA(p)}s.format=t;function d(p){const w=p.length;if(w===0||p.charCodeAt(0)!==35)return null;if(w===7){const b=16*h(p.charCodeAt(1))+h(p.charCodeAt(2)),g=16*h(p.charCodeAt(3))+h(p.charCodeAt(4)),f=16*h(p.charCodeAt(5))+h(p.charCodeAt(6));return new m(new k(b,g,f,1))}if(w===9){const b=16*h(p.charCodeAt(1))+h(p.charCodeAt(2)),g=16*h(p.charCodeAt(3))+h(p.charCodeAt(4)),f=16*h(p.charCodeAt(5))+h(p.charCodeAt(6)),y=16*h(p.charCodeAt(7))+h(p.charCodeAt(8));return new m(new k(b,g,f,y/255))}if(w===4){const b=h(p.charCodeAt(1)),g=h(p.charCodeAt(2)),f=h(p.charCodeAt(3));return new m(new k(16*b+b,16*g+g,16*f+f))}if(w===5){const b=h(p.charCodeAt(1)),g=h(p.charCodeAt(2)),f=h(p.charCodeAt(3)),y=h(p.charCodeAt(4));return new m(new k(16*b+b,16*g+g,16*f+f,(16*y+y)/255))}return null}s.parseHex=d;function h(p){switch(p){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(C=i.CSS||(i.CSS={}))})(v=m.Format||(m.Format={}))}(S=e.Color||(e.Color={}))}),define(ie[89],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function _(k,M,L){let S=null,m=null;if(typeof L.value=="function"?(S="value",m=L.value,m.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof L.get=="function"&&(S="get",m=L.get),!m)throw new Error("not supported");const v=`$memoize$${M}`;L[S]=function(...i){return this.hasOwnProperty(v)||Object.defineProperty(this,v,{configurable:!1,enumerable:!1,writable:!1,value:m.apply(this,i)}),this[v]}}e.memoize=_}),define(ie[286],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class _{constructor(M,L,S,m){this.originalStart=M,this.originalLength=L,this.modifiedStart=S,this.modifiedLength=m}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=_}),define(ie[12],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.illegalState=e.illegalArgument=e.canceled=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class _{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(o){setTimeout(()=>{throw o.stack?new Error(o.message+`

`+o.stack):o},0)}}emit(o){this.listeners.forEach(a=>{a(o)})}onUnexpectedError(o){this.unexpectedErrorHandler(o),this.emit(o)}onUnexpectedExternalError(o){this.unexpectedErrorHandler(o)}}e.ErrorHandler=_,e.errorHandler=new _;function k(s){m(s)||e.errorHandler.onUnexpectedError(s)}e.onUnexpectedError=k;function M(s){m(s)||e.errorHandler.onUnexpectedExternalError(s)}e.onUnexpectedExternalError=M;function L(s){if(s instanceof Error){let{name:o,message:a}=s;const c=s.stacktrace||s.stack;return{$isError:!0,name:o,message:a,stack:c}}return s}e.transformErrorForSerialization=L;const S="Canceled";function m(s){return s instanceof Error&&s.name===S&&s.message===S}e.isPromiseCanceledError=m;function v(){const s=new Error(S);return s.name=s.message,s}e.canceled=v;function i(s){return s?new Error(`Illegal argument: ${s}`):new Error("Illegal argument")}e.illegalArgument=i;function C(s){return s?new Error(`Illegal state: ${s}`):new Error("Illegal state")}e.illegalState=C}),define(ie[90],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function _(k){const M=this;let L=!1,S;return function(){return L||(L=!0,S=k.apply(M,arguments)),S}}e.once=_}),define(ie[125],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class _{constructor(M){this._prefix=M,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=_,e.defaultGenerator=new _("id#")});let Tt;(function(){function $(e,_,k){function M(m,v){if(!_[m]){if(!e[m]){var i=typeof require=="function"&&require;if(!v&&i)return i(m,!0);if(L)return L(m,!0);var C=new Error("Cannot find module '"+m+"'");throw C.code="MODULE_NOT_FOUND",C}var s=_[m]={exports:{}};e[m][0].call(s.exports,function(o){var a=e[m][1][o];return M(a||o)},s,s.exports,$,e,_,k)}return _[m].exports}for(var L=typeof require=="function"&&require,S=0;S<k.length;S++)M(k[S]);return M}return $})()({1:[function($,e,_){"use strict";var k=$("./toMap"),M=["background","base","cite","href","longdesc","src","usemap"];e.exports={uris:k(M)}},{"./toMap":10}],2:[function($,e,_){"use strict";var k={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};e.exports=k},{}],3:[function($,e,_){"use strict";var k=$("./toMap"),M=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];e.exports={voids:k(M)}},{"./toMap":10}],4:[function($,e,_){"use strict";var k=$("he"),M=$("assignment"),L=$("./parser"),S=$("./sanitizer"),m=$("./defaults");function v(i,C,s){var o=[],a=s===!0?C:M({},m,C),c=S(o,a);return L(i,c),o.join("")}v.defaults=m,e.exports=v,Tt=v},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function($,e,_){"use strict";e.exports=function(M){return typeof M=="string"?M.toLowerCase():M}},{}],6:[function($,e,_){"use strict";function k(M){for(var L=Array.prototype.slice.call(arguments,1),S,m;L.length;){S=L.shift();for(m in S)S.hasOwnProperty(m)&&(Object.prototype.toString.call(M[m])==="[object Object]"?M[m]=k(M[m],S[m]):M[m]=S[m])}return M}e.exports=k},{}],7:[function($,e,_){"use strict";var k=$("he"),M=$("./lowercase"),L=$("./attributes"),S=$("./elements"),m=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,v=/^<\s*\/\s*([\w:-]+)[^>]*>/,i=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,C=/^</,s=/^<\s*\//;function o(){var c=[];return c.lastItem=function(){return c[c.length-1]},c}function a(c,u){for(var r=o(),n=c,l;c;)t();g();function t(){l=!0,d();var f=c===n;n=c,f&&(c="")}function d(){c.substr(0,4)==="<!--"?p():s.test(c)?h(v,g):C.test(c)&&h(m,b),w()}function h(f,y){var I=c.match(f);I&&(c=c.substring(I[0].length),I[0].replace(f,y),l=!1)}function p(){var f=c.indexOf("-->");f>=0&&(u.comment&&u.comment(c.substring(4,f)),c=c.substring(f+3),l=!1)}function w(){if(!!l){var f,y=c.indexOf("<");y>=0?(f=c.substring(0,y),c=c.substring(y)):(f=c,c=""),u.chars&&u.chars(f)}}function b(f,y,I,N){var D={},T=M(y),P=S.voids[T]||!!N;I.replace(i,R),P||r.push(T),u.start&&u.start(T,D,P);function R(O,A,F,E,W){F===void 0&&E===void 0&&W===void 0?D[A]=void 0:D[A]=k.decode(F||E||W||"")}}function g(f,y){var I,N=0,D=M(y);if(D)for(N=r.length-1;N>=0&&r[N]!==D;N--);if(N>=0){for(I=r.length-1;I>=N;I--)u.end&&u.end(r[I]);r.length=N}}}e.exports=a},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function($,e,_){"use strict";var k=$("he"),M=$("./lowercase"),L=$("./attributes"),S=$("./elements");function m(v,i){var C,s,o=i||{};return d(),{start:c,end:u,chars:n};function a(h){v.push(h)}function c(h,p,w){var b=M(h);if(s.ignoring){l(b);return}if((o.allowedTags||[]).indexOf(b)===-1){l(b);return}if(o.filter&&!o.filter({tag:b,attrs:p})){l(b);return}a("<"),a(b),Object.keys(p).forEach(g),a(w?"/>":">");function g(f){var y=p[f],I=(o.allowedClasses||{})[b]||[],N=(o.allowedAttributes||{})[b]||[];N=N.concat((o.allowedAttributes||{})["*"]||[]);var D,T=M(f);T==="class"&&N.indexOf(T)===-1?(y=y.split(" ").filter(P).join(" ").trim(),D=y.length):D=N.indexOf(T)!==-1&&(L.uris[T]!==!0||r(y)),D&&(a(" "),a(f),typeof y=="string"&&(a('="'),a(k.encode(y)),a('"')));function P(R){return I&&I.indexOf(R)!==-1}}}function u(h){var p=M(h),w=(o.allowedTags||[]).indexOf(p)!==-1;w&&s.ignoring===!1?(a("</"),a(p),a(">")):t(p)}function r(h){var p=h[0];if(p==="#"||p==="/")return!0;var w=h.indexOf(":");if(w===-1)return!0;var b=h.indexOf("?");if(b!==-1&&w>b)return!0;var g=h.indexOf("#");if(g!==-1&&w>g)return!0;return o.allowedSchemes.some(f);function f(y){return h.indexOf(y+":")===0}}function n(h){s.ignoring===!1&&a(o.transformText?o.transformText(h):h)}function l(h){S.voids[h]||(s.ignoring===!1?s={ignoring:h,depth:1}:s.ignoring===h&&s.depth++)}function t(h){s.ignoring===h&&--s.depth<=0&&d()}function d(){s={ignoring:!1,depth:0}}}e.exports=m},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function($,e,_){"use strict";var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},L=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,S=/[&<>"']/g;function m(s){return k[s]}function v(s){return M[s]}function i(s){return s==null?"":String(s).replace(S,m)}function C(s){return s==null?"":String(s).replace(L,v)}i.options=C.options={},e.exports={encode:i,escape:i,decode:C,unescape:C,version:"1.0.0-browser"}},{}],10:[function($,e,_){"use strict";function k(L){return L.reduce(M,{})}function M(L,S){return L[S]=!0,L}e.exports=k},{}]},{},[4]),define("vs/base/common/insane/insane",function(){return{insane:Tt}}),define(ie[53],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var _;(function(k){function M(h){return h&&typeof h=="object"&&typeof h[Symbol.iterator]=="function"}k.is=M;const L=Object.freeze([]);function S(){return L}k.empty=S;function*m(h){yield h}k.single=m;function v(h){return h||L}k.from=v;function i(h){return!h||h[Symbol.iterator]().next().done===!0}k.isEmpty=i;function C(h){return h[Symbol.iterator]().next().value}k.first=C;function s(h,p){for(const w of h)if(p(w))return!0;return!1}k.some=s;function o(h,p){for(const w of h)if(p(w))return w}k.find=o;function*a(h,p){for(const w of h)p(w)&&(yield w)}k.filter=a;function*c(h,p){let w=0;for(const b of h)yield p(b,w++)}k.map=c;function*u(...h){for(const p of h)for(const w of p)yield w}k.concat=u;function*r(h){for(const p of h)for(const w of p)yield w}k.concatNested=r;function n(h,p,w){let b=w;for(const g of h)b=p(b,g);return b}k.reduce=n;function*l(h,p,w=h.length){for(p<0&&(p+=h.length),w<0?w+=h.length:w>h.length&&(w=h.length);p<w;p++)yield h[p]}k.slice=l;function t(h,p=Number.POSITIVE_INFINITY){const w=[];if(p===0)return[w,h];const b=h[Symbol.iterator]();for(let g=0;g<p;g++){const f=b.next();if(f.done)return[w,k.empty()];w.push(f.value)}return[w,{[Symbol.iterator](){return b}}]}k.consume=t;function d(h,p,w=(b,g)=>b===g){const b=h[Symbol.iterator](),g=p[Symbol.iterator]();for(;;){const f=b.next(),y=g.next();if(f.done!==y.done)return!1;if(f.done)return!0;if(!w(f.value,y.value))return!1}}k.equals=d})(_=e.Iterable||(e.Iterable={}))}),define(ie[41],ne([0,1,12]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=e.KeyChord=e.KeyCodeUtils=void 0;class k{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(r,n){this._keyCodeToStr[r]=n,this._strToKeyCode[n.toLowerCase()]=r}keyCodeToStr(r){return this._keyCodeToStr[r]}strToKeyCode(r){return this._strToKeyCode[r.toLowerCase()]||0}}const M=new k,L=new k,S=new k;(function(){function u(r,n,l=n,t=l){M.define(r,n),L.define(r,l),S.define(r,t)}u(0,"unknown"),u(1,"Backspace"),u(2,"Tab"),u(3,"Enter"),u(4,"Shift"),u(5,"Ctrl"),u(6,"Alt"),u(7,"PauseBreak"),u(8,"CapsLock"),u(9,"Escape"),u(10,"Space"),u(11,"PageUp"),u(12,"PageDown"),u(13,"End"),u(14,"Home"),u(15,"LeftArrow","Left"),u(16,"UpArrow","Up"),u(17,"RightArrow","Right"),u(18,"DownArrow","Down"),u(19,"Insert"),u(20,"Delete"),u(21,"0"),u(22,"1"),u(23,"2"),u(24,"3"),u(25,"4"),u(26,"5"),u(27,"6"),u(28,"7"),u(29,"8"),u(30,"9"),u(31,"A"),u(32,"B"),u(33,"C"),u(34,"D"),u(35,"E"),u(36,"F"),u(37,"G"),u(38,"H"),u(39,"I"),u(40,"J"),u(41,"K"),u(42,"L"),u(43,"M"),u(44,"N"),u(45,"O"),u(46,"P"),u(47,"Q"),u(48,"R"),u(49,"S"),u(50,"T"),u(51,"U"),u(52,"V"),u(53,"W"),u(54,"X"),u(55,"Y"),u(56,"Z"),u(57,"Meta"),u(58,"ContextMenu"),u(59,"F1"),u(60,"F2"),u(61,"F3"),u(62,"F4"),u(63,"F5"),u(64,"F6"),u(65,"F7"),u(66,"F8"),u(67,"F9"),u(68,"F10"),u(69,"F11"),u(70,"F12"),u(71,"F13"),u(72,"F14"),u(73,"F15"),u(74,"F16"),u(75,"F17"),u(76,"F18"),u(77,"F19"),u(78,"NumLock"),u(79,"ScrollLock"),u(80,";",";","OEM_1"),u(81,"=","=","OEM_PLUS"),u(82,",",",","OEM_COMMA"),u(83,"-","-","OEM_MINUS"),u(84,".",".","OEM_PERIOD"),u(85,"/","/","OEM_2"),u(86,"`","`","OEM_3"),u(110,"ABNT_C1"),u(111,"ABNT_C2"),u(87,"[","[","OEM_4"),u(88,"\\","\\","OEM_5"),u(89,"]","]","OEM_6"),u(90,"'","'","OEM_7"),u(91,"OEM_8"),u(92,"OEM_102"),u(93,"NumPad0"),u(94,"NumPad1"),u(95,"NumPad2"),u(96,"NumPad3"),u(97,"NumPad4"),u(98,"NumPad5"),u(99,"NumPad6"),u(100,"NumPad7"),u(101,"NumPad8"),u(102,"NumPad9"),u(103,"NumPad_Multiply"),u(104,"NumPad_Add"),u(105,"NumPad_Separator"),u(106,"NumPad_Subtract"),u(107,"NumPad_Decimal"),u(108,"NumPad_Divide")})();var m;(function(u){function r(h){return M.keyCodeToStr(h)}u.toString=r;function n(h){return M.strToKeyCode(h)}u.fromString=n;function l(h){return L.keyCodeToStr(h)}u.toUserSettingsUS=l;function t(h){return S.keyCodeToStr(h)}u.toUserSettingsGeneral=t;function d(h){return L.strToKeyCode(h)||S.strToKeyCode(h)}u.fromUserSettings=d})(m=e.KeyCodeUtils||(e.KeyCodeUtils={}));function v(u,r){const n=(r&65535)<<16>>>0;return(u|n)>>>0}e.KeyChord=v;function i(u,r){if(u===0)return null;const n=(u&65535)>>>0,l=(u&4294901760)>>>16;return l!==0?new o([C(n,r),C(l,r)]):new o([C(n,r)])}e.createKeybinding=i;function C(u,r){const n=!!(u&2048),l=!!(u&256),t=r===2?l:n,d=!!(u&1024),h=!!(u&512),p=r===2?n:l,w=u&255;return new s(t,d,h,p,w)}e.createSimpleKeybinding=C;class s{constructor(r,n,l,t,d){this.ctrlKey=r,this.shiftKey=n,this.altKey=l,this.metaKey=t,this.keyCode=d}equals(r){return this.ctrlKey===r.ctrlKey&&this.shiftKey===r.shiftKey&&this.altKey===r.altKey&&this.metaKey===r.metaKey&&this.keyCode===r.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new o([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=s;class o{constructor(r){if(r.length===0)throw _.illegalArgument("parts");this.parts=r}}e.ChordKeybinding=o;class a{constructor(r,n,l,t,d,h){this.ctrlKey=r,this.shiftKey=n,this.altKey=l,this.metaKey=t,this.keyLabel=d,this.keyAriaLabel=h}}e.ResolvedKeybindingPart=a;class c{}e.ResolvedKeybinding=c}),define(ie[155],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class _{constructor(M){this.executor=M,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(M){this._error=M}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=_}),define(ie[2],ne([0,1,53]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.trackDisposable=void 0;const k=!1;let M=null;if(k){const r="__is_disposable_tracked__";M=new class{trackDisposable(n){const l=new Error("Potentially leaked disposable").stack;setTimeout(()=>{n[r]||console.log(l)},3e3)}markTracked(n){if(n&&n!==a.None)try{n[r]=!0}catch(l){}}}}function L(r){!M||M.markTracked(r)}function S(r){return M&&M.trackDisposable(r),r}e.trackDisposable=S;class m extends Error{constructor(n){super(`Encountered errors while disposing of store. Errors: [${n.join(", ")}]`);this.errors=n}}e.MultiDisposeError=m;function v(r){return typeof r.dispose=="function"&&r.dispose.length===0}e.isDisposable=v;function i(r){if(_.Iterable.is(r)){let n=[];for(const l of r)if(l){L(l);try{l.dispose()}catch(t){n.push(t)}}if(n.length===1)throw n[0];if(n.length>1)throw new m(n);return Array.isArray(r)?[]:r}else if(r)return L(r),r.dispose(),r}e.dispose=i;function C(...r){return r.forEach(L),s(()=>i(r))}e.combinedDisposable=C;function s(r){const n=S({dispose:()=>{L(n),r()}});return n}e.toDisposable=s;class o{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(L(this),this._isDisposed=!0,this.clear())}clear(){try{i(this._toDispose.values())}finally{this._toDispose.clear()}}add(n){if(!n)return n;if(n===this)throw new Error("Cannot register a disposable on itself!");return L(n),this._isDisposed?o.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(n),n}}e.DisposableStore=o,o.DISABLE_DISPOSED_WARNING=!1;class a{constructor(){this._store=new o,S(this)}dispose(){L(this),this._store.dispose()}_register(n){if(n===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(n)}}e.Disposable=a,a.None=Object.freeze({dispose(){}});class c{constructor(){this._isDisposed=!1,S(this)}get value(){return this._isDisposed?void 0:this._value}set value(n){var l;this._isDisposed||n===this._value||((l=this._value)===null||l===void 0||l.dispose(),n&&L(n),this._value=n)}clear(){this.value=void 0}dispose(){var n;this._isDisposed=!0,L(this),(n=this._value)===null||n===void 0||n.dispose(),this._value=void 0}}e.MutableDisposable=c;class u{constructor(n){this.object=n}dispose(){}}e.ImmortalReference=u}),define(ie[71],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class _{constructor(L){this.element=L,this.next=_.Undefined,this.prev=_.Undefined}}_.Undefined=new _(void 0);class k{constructor(){this._first=_.Undefined,this._last=_.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===_.Undefined}clear(){let L=this._first;for(;L!==_.Undefined;){const S=L.next;L.prev=_.Undefined,L.next=_.Undefined,L=S}this._first=_.Undefined,this._last=_.Undefined,this._size=0}unshift(L){return this._insert(L,!1)}push(L){return this._insert(L,!0)}_insert(L,S){const m=new _(L);if(this._first===_.Undefined)this._first=m,this._last=m;else if(S){const i=this._last;this._last=m,m.prev=i,i.next=m}else{const i=this._first;this._first=m,m.next=i,i.prev=m}this._size+=1;let v=!1;return()=>{v||(v=!0,this._remove(m))}}shift(){if(this._first!==_.Undefined){const L=this._first.element;return this._remove(this._first),L}}pop(){if(this._last!==_.Undefined){const L=this._last.element;return this._remove(this._last),L}}_remove(L){if(L.prev!==_.Undefined&&L.next!==_.Undefined){const S=L.prev;S.next=L.next,L.next.prev=S}else L.prev===_.Undefined&&L.next===_.Undefined?(this._first=_.Undefined,this._last=_.Undefined):L.next===_.Undefined?(this._last=this._last.prev,this._last.next=_.Undefined):L.prev===_.Undefined&&(this._first=this._first.next,this._first.prev=_.Undefined);this._size-=1}*[Symbol.iterator](){let L=this._first;for(;L!==_.Undefined;)yield L.element,L=L.next}}e.LinkedList=k}),function($,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):($=typeof globalThis!="undefined"?globalThis:$||self,$.marked=e())}(this,function(){"use strict";function $(we,Se){for(var ye=0;ye<Se.length;ye++){var me=Se[ye];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(we,me.key,me)}}function e(we,Se,ye){return Se&&$(we.prototype,Se),ye&&$(we,ye),we}function _(we,Se){if(!!we){if(typeof we=="string")return k(we,Se);var ye=Object.prototype.toString.call(we).slice(8,-1);if(ye==="Object"&&we.constructor&&(ye=we.constructor.name),ye==="Map"||ye==="Set")return Array.from(we);if(ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye))return k(we,Se)}}function k(we,Se){(Se==null||Se>we.length)&&(Se=we.length);for(var ye=0,me=new Array(Se);ye<Se;ye++)me[ye]=we[ye];return me}function M(we,Se){var ye;if(typeof Symbol=="undefined"||we[Symbol.iterator]==null){if(Array.isArray(we)||(ye=_(we))||Se&&we&&typeof we.length=="number"){ye&&(we=ye);var me=0;return function(){return me>=we.length?{done:!0}:{done:!1,value:we[me++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return ye=we[Symbol.iterator](),ye.next.bind(ye)}function L(we){var Se={exports:{}};return we(Se,Se.exports),Se.exports}var S=L(function(we){function Se(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function ye(me){we.exports.defaults=me}we.exports={defaults:Se(),getDefaults:Se,changeDefaults:ye}}),m=/[&<>"']/,v=/[&<>"']/g,i=/[<>"']|&(?!#?\w+;)/,C=/[<>"']|&(?!#?\w+;)/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o=function(Se){return s[Se]};function a(we,Se){if(Se){if(m.test(we))return we.replace(v,o)}else if(i.test(we))return we.replace(C,o);return we}var c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function u(we){return we.replace(c,function(Se,ye){return ye=ye.toLowerCase(),ye==="colon"?":":ye.charAt(0)==="#"?ye.charAt(1)==="x"?String.fromCharCode(parseInt(ye.substring(2),16)):String.fromCharCode(+ye.substring(1)):""})}var r=/(^|[^\[])\^/g;function n(we,Se){we=we.source||we,Se=Se||"";var ye={replace:function(ce,fe){return fe=fe.source||fe,fe=fe.replace(r,"$1"),we=we.replace(ce,fe),ye},getRegex:function(){return new RegExp(we,Se)}};return ye}var l=/[^\w:]/g,t=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function d(we,Se,ye){if(we){var me;try{me=decodeURIComponent(u(ye)).replace(l,"").toLowerCase()}catch(ce){return null}if(me.indexOf("javascript:")===0||me.indexOf("vbscript:")===0||me.indexOf("data:")===0)return null}Se&&!t.test(ye)&&(ye=g(Se,ye));try{ye=encodeURI(ye).replace(/%25/g,"%")}catch(ce){return null}return ye}var h={},p=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,b=/^([^:]+:\/*[^/]*)[\s\S]*$/;function g(we,Se){h[" "+we]||(p.test(we)?h[" "+we]=we+"/":h[" "+we]=N(we,"/",!0)),we=h[" "+we];var ye=we.indexOf(":")===-1;return Se.substring(0,2)==="//"?ye?Se:we.replace(w,"$1")+Se:Se.charAt(0)==="/"?ye?Se:we.replace(b,"$1")+Se:we+Se}var f={exec:function(){}};function y(we){for(var Se=1,ye,me;Se<arguments.length;Se++){ye=arguments[Se];for(me in ye)Object.prototype.hasOwnProperty.call(ye,me)&&(we[me]=ye[me])}return we}function I(we,Se){var ye=we.replace(/\|/g,function(fe,Ce,be){for(var ke=!1,Ne=Ce;--Ne>=0&&be[Ne]==="\\";)ke=!ke;return ke?"|":" |"}),me=ye.split(/ \|/),ce=0;if(me.length>Se)me.splice(Se);else for(;me.length<Se;)me.push("");for(;ce<me.length;ce++)me[ce]=me[ce].trim().replace(/\\\|/g,"|");return me}function N(we,Se,ye){var me=we.length;if(me===0)return"";for(var ce=0;ce<me;){var fe=we.charAt(me-ce-1);if(fe===Se&&!ye)ce++;else if(fe!==Se&&ye)ce++;else break}return we.substr(0,me-ce)}function D(we,Se){if(we.indexOf(Se[1])===-1)return-1;for(var ye=we.length,me=0,ce=0;ce<ye;ce++)if(we[ce]==="\\")ce++;else if(we[ce]===Se[0])me++;else if(we[ce]===Se[1]&&(me--,me<0))return ce;return-1}function T(we){we&&we.sanitize&&!we.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P(we,Se){if(Se<1)return"";for(var ye="";Se>1;)Se&1&&(ye+=we),Se>>=1,we+=we;return ye+we}var R={escape:a,unescape:u,edit:n,cleanUrl:d,resolveUrl:g,noopTest:f,merge:y,splitCells:I,rtrim:N,findClosingBracket:D,checkSanitizeDeprecation:T,repeatString:P},O=S.defaults,A=R.rtrim,F=R.splitCells,E=R.escape,W=R.findClosingBracket;function V(we,Se,ye){var me=Se.href,ce=Se.title?E(Se.title):null,fe=we[1].replace(/\\([\[\]])/g,"$1");return we[0].charAt(0)!=="!"?{type:"link",raw:ye,href:me,title:ce,text:fe}:{type:"image",raw:ye,href:me,title:ce,text:E(fe)}}function U(we,Se){var ye=we.match(/^(\s+)(?:```)/);if(ye===null)return Se;var me=ye[1];return Se.split(`
`).map(function(ce){var fe=ce.match(/^\s+/);if(fe===null)return ce;var Ce=fe[0];return Ce.length>=me.length?ce.slice(me.length):ce}).join(`
`)}var q=function(){function we(ye){this.options=ye||O}var Se=we.prototype;return Se.space=function(me){var ce=this.rules.block.newline.exec(me);if(ce)return ce[0].length>1?{type:"space",raw:ce[0]}:{raw:`
`}},Se.code=function(me){var ce=this.rules.block.code.exec(me);if(ce){var fe=ce[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ce[0],codeBlockStyle:"indented",text:this.options.pedantic?fe:A(fe,`
`)}}},Se.fences=function(me){var ce=this.rules.block.fences.exec(me);if(ce){var fe=ce[0],Ce=U(fe,ce[3]||"");return{type:"code",raw:fe,lang:ce[2]?ce[2].trim():ce[2],text:Ce}}},Se.heading=function(me){var ce=this.rules.block.heading.exec(me);if(ce){var fe=ce[2].trim();if(/#$/.test(fe)){var Ce=A(fe,"#");(this.options.pedantic||!Ce||/ $/.test(Ce))&&(fe=Ce.trim())}return{type:"heading",raw:ce[0],depth:ce[1].length,text:fe}}},Se.nptable=function(me){var ce=this.rules.block.nptable.exec(me);if(ce){var fe={type:"table",header:F(ce[1].replace(/^ *| *\| *$/g,"")),align:ce[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:ce[3]?ce[3].replace(/\n$/,"").split(`
`):[],raw:ce[0]};if(fe.header.length===fe.align.length){var Ce=fe.align.length,be;for(be=0;be<Ce;be++)/^ *-+: *$/.test(fe.align[be])?fe.align[be]="right":/^ *:-+: *$/.test(fe.align[be])?fe.align[be]="center":/^ *:-+ *$/.test(fe.align[be])?fe.align[be]="left":fe.align[be]=null;for(Ce=fe.cells.length,be=0;be<Ce;be++)fe.cells[be]=F(fe.cells[be],fe.header.length);return fe}}},Se.hr=function(me){var ce=this.rules.block.hr.exec(me);if(ce)return{type:"hr",raw:ce[0]}},Se.blockquote=function(me){var ce=this.rules.block.blockquote.exec(me);if(ce){var fe=ce[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ce[0],text:fe}}},Se.list=function(me){var ce=this.rules.block.list.exec(me);if(ce){var fe=ce[0],Ce=ce[2],be=Ce.length>1,ke={type:"list",raw:fe,ordered:be,start:be?+Ce.slice(0,-1):"",loose:!1,items:[]},Ne=ce[0].match(this.rules.block.item),Re=!1,Pe,Fe,Oe,xe,Be,ze,Ke,We,He=Ne.length;Oe=this.rules.block.listItemStart.exec(Ne[0]);for(var Ve=0;Ve<He;Ve++){if(Pe=Ne[Ve],fe=Pe,Ve!==He-1){if(xe=this.rules.block.listItemStart.exec(Ne[Ve+1]),this.options.pedantic?xe[1].length>Oe[1].length:xe[1].length>Oe[0].length||xe[1].length>3){Ne.splice(Ve,2,Ne[Ve]+`
`+Ne[Ve+1]),Ve--,He--;continue}else(!this.options.pedantic||this.options.smartLists?xe[2][xe[2].length-1]!==Ce[Ce.length-1]:be===(xe[2].length===1))&&(Be=Ne.slice(Ve+1).join(`
`),ke.raw=ke.raw.substring(0,ke.raw.length-Be.length),Ve=He-1);Oe=xe}Fe=Pe.length,Pe=Pe.replace(/^ *([*+-]|\d+[.)]) ?/,""),~Pe.indexOf(`
 `)&&(Fe-=Pe.length,Pe=this.options.pedantic?Pe.replace(/^ {1,4}/gm,""):Pe.replace(new RegExp("^ {1,"+Fe+"}","gm"),"")),ze=Re||/\n\n(?!\s*$)/.test(Pe),Ve!==He-1&&(Re=Pe.charAt(Pe.length-1)===`
`,ze||(ze=Re)),ze&&(ke.loose=!0),this.options.gfm&&(Ke=/^\[[ xX]\] /.test(Pe),We=void 0,Ke&&(We=Pe[1]!==" ",Pe=Pe.replace(/^\[[ xX]\] +/,""))),ke.items.push({type:"list_item",raw:fe,task:Ke,checked:We,loose:ze,text:Pe})}return ke}},Se.html=function(me){var ce=this.rules.block.html.exec(me);if(ce)return{type:this.options.sanitize?"paragraph":"html",raw:ce[0],pre:!this.options.sanitizer&&(ce[1]==="pre"||ce[1]==="script"||ce[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ce[0]):E(ce[0]):ce[0]}},Se.def=function(me){var ce=this.rules.block.def.exec(me);if(ce){ce[3]&&(ce[3]=ce[3].substring(1,ce[3].length-1));var fe=ce[1].toLowerCase().replace(/\s+/g," ");return{tag:fe,raw:ce[0],href:ce[2],title:ce[3]}}},Se.table=function(me){var ce=this.rules.block.table.exec(me);if(ce){var fe={type:"table",header:F(ce[1].replace(/^ *| *\| *$/g,"")),align:ce[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:ce[3]?ce[3].replace(/\n$/,"").split(`
`):[]};if(fe.header.length===fe.align.length){fe.raw=ce[0];var Ce=fe.align.length,be;for(be=0;be<Ce;be++)/^ *-+: *$/.test(fe.align[be])?fe.align[be]="right":/^ *:-+: *$/.test(fe.align[be])?fe.align[be]="center":/^ *:-+ *$/.test(fe.align[be])?fe.align[be]="left":fe.align[be]=null;for(Ce=fe.cells.length,be=0;be<Ce;be++)fe.cells[be]=F(fe.cells[be].replace(/^ *\| *| *\| *$/g,""),fe.header.length);return fe}}},Se.lheading=function(me){var ce=this.rules.block.lheading.exec(me);if(ce)return{type:"heading",raw:ce[0],depth:ce[2].charAt(0)==="="?1:2,text:ce[1]}},Se.paragraph=function(me){var ce=this.rules.block.paragraph.exec(me);if(ce)return{type:"paragraph",raw:ce[0],text:ce[1].charAt(ce[1].length-1)===`
`?ce[1].slice(0,-1):ce[1]}},Se.text=function(me){var ce=this.rules.block.text.exec(me);if(ce)return{type:"text",raw:ce[0],text:ce[0]}},Se.escape=function(me){var ce=this.rules.inline.escape.exec(me);if(ce)return{type:"escape",raw:ce[0],text:E(ce[1])}},Se.tag=function(me,ce,fe){var Ce=this.rules.inline.tag.exec(me);if(Ce)return!ce&&/^<a /i.test(Ce[0])?ce=!0:ce&&/^<\/a>/i.test(Ce[0])&&(ce=!1),!fe&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ce[0])?fe=!0:fe&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ce[0])&&(fe=!1),{type:this.options.sanitize?"text":"html",raw:Ce[0],inLink:ce,inRawBlock:fe,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ce[0]):E(Ce[0]):Ce[0]}},Se.link=function(me){var ce=this.rules.inline.link.exec(me);if(ce){var fe=ce[2].trim();if(!this.options.pedantic&&/^</.test(fe)){if(!/>$/.test(fe))return;var Ce=A(fe.slice(0,-1),"\\");if((fe.length-Ce.length)%2==0)return}else{var be=W(ce[2],"()");if(be>-1){var ke=ce[0].indexOf("!")===0?5:4,Ne=ke+ce[1].length+be;ce[2]=ce[2].substring(0,be),ce[0]=ce[0].substring(0,Ne).trim(),ce[3]=""}}var Re=ce[2],Pe="";if(this.options.pedantic){var Fe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Re);Fe&&(Re=Fe[1],Pe=Fe[3])}else Pe=ce[3]?ce[3].slice(1,-1):"";return Re=Re.trim(),/^</.test(Re)&&(this.options.pedantic&&!/>$/.test(fe)?Re=Re.slice(1):Re=Re.slice(1,-1)),V(ce,{href:Re&&Re.replace(this.rules.inline._escapes,"$1"),title:Pe&&Pe.replace(this.rules.inline._escapes,"$1")},ce[0])}},Se.reflink=function(me,ce){var fe;if((fe=this.rules.inline.reflink.exec(me))||(fe=this.rules.inline.nolink.exec(me))){var Ce=(fe[2]||fe[1]).replace(/\s+/g," ");if(Ce=ce[Ce.toLowerCase()],!Ce||!Ce.href){var be=fe[0].charAt(0);return{type:"text",raw:be,text:be}}return V(fe,Ce,fe[0])}},Se.emStrong=function(me,ce,fe){fe===void 0&&(fe="");var Ce=this.rules.inline.emStrong.lDelim.exec(me);if(!!Ce&&!(Ce[3]&&fe.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var be=Ce[1]||Ce[2]||"";if(!be||be&&(fe===""||this.rules.inline.punctuation.exec(fe))){var ke=Ce[0].length-1,Ne,Re,Pe=ke,Fe=0,Oe=Ce[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Oe.lastIndex=0,ce=ce.slice(-1*me.length+ke);(Ce=Oe.exec(ce))!=null;)if(Ne=Ce[1]||Ce[2]||Ce[3]||Ce[4]||Ce[5]||Ce[6],!!Ne){if(Re=Ne.length,Ce[3]||Ce[4]){Pe+=Re;continue}else if((Ce[5]||Ce[6])&&ke%3&&!((ke+Re)%3)){Fe+=Re;continue}if(Pe-=Re,!(Pe>0)){if(Pe+Fe-Re<=0&&!ce.slice(Oe.lastIndex).match(Oe)&&(Re=Math.min(Re,Re+Pe+Fe)),Math.min(ke,Re)%2)return{type:"em",raw:me.slice(0,ke+Ce.index+Re+1),text:me.slice(1,ke+Ce.index+Re)};if(Math.min(ke,Re)%2==0)return{type:"strong",raw:me.slice(0,ke+Ce.index+Re+1),text:me.slice(2,ke+Ce.index+Re-1)}}}}}},Se.codespan=function(me){var ce=this.rules.inline.code.exec(me);if(ce){var fe=ce[2].replace(/\n/g," "),Ce=/[^ ]/.test(fe),be=/^ /.test(fe)&&/ $/.test(fe);return Ce&&be&&(fe=fe.substring(1,fe.length-1)),fe=E(fe,!0),{type:"codespan",raw:ce[0],text:fe}}},Se.br=function(me){var ce=this.rules.inline.br.exec(me);if(ce)return{type:"br",raw:ce[0]}},Se.del=function(me){var ce=this.rules.inline.del.exec(me);if(ce)return{type:"del",raw:ce[0],text:ce[2]}},Se.autolink=function(me,ce){var fe=this.rules.inline.autolink.exec(me);if(fe){var Ce,be;return fe[2]==="@"?(Ce=E(this.options.mangle?ce(fe[1]):fe[1]),be="mailto:"+Ce):(Ce=E(fe[1]),be=Ce),{type:"link",raw:fe[0],text:Ce,href:be,tokens:[{type:"text",raw:Ce,text:Ce}]}}},Se.url=function(me,ce){var fe;if(fe=this.rules.inline.url.exec(me)){var Ce,be;if(fe[2]==="@")Ce=E(this.options.mangle?ce(fe[0]):fe[0]),be="mailto:"+Ce;else{var ke;do ke=fe[0],fe[0]=this.rules.inline._backpedal.exec(fe[0])[0];while(ke!==fe[0]);Ce=E(fe[0]),fe[1]==="www."?be="http://"+Ce:be=Ce}return{type:"link",raw:fe[0],text:Ce,href:be,tokens:[{type:"text",raw:Ce,text:Ce}]}}},Se.inlineText=function(me,ce,fe){var Ce=this.rules.inline.text.exec(me);if(Ce){var be;return ce?be=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ce[0]):E(Ce[0]):Ce[0]:be=E(this.options.smartypants?fe(Ce[0]):Ce[0]),{type:"text",raw:Ce[0],text:be}}},we}(),j=R.noopTest,te=R.edit,ae=R.merge,de={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:j,table:j,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};de._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,de._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,de.def=te(de.def).replace("label",de._label).replace("title",de._title).getRegex(),de.bullet=/(?:[*+-]|\d{1,9}[.)])/,de.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,de.item=te(de.item,"gm").replace(/bull/g,de.bullet).getRegex(),de.listItemStart=te(/^( *)(bull)/).replace("bull",de.bullet).getRegex(),de.list=te(de.list).replace(/bull/g,de.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+de.def.source+")").getRegex(),de._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",de._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,de.html=te(de.html,"i").replace("comment",de._comment).replace("tag",de._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),de.paragraph=te(de._paragraph).replace("hr",de.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",de._tag).getRegex(),de.blockquote=te(de.blockquote).replace("paragraph",de.paragraph).getRegex(),de.normal=ae({},de),de.gfm=ae({},de.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),de.gfm.nptable=te(de.gfm.nptable).replace("hr",de.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",de._tag).getRegex(),de.gfm.table=te(de.gfm.table).replace("hr",de.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",de._tag).getRegex(),de.pedantic=ae({},de.normal,{html:te(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",de._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:j,paragraph:te(de.normal._paragraph).replace("hr",de.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",de.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ue={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:j,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:j,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ue._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ue.punctuation=te(ue.punctuation).replace(/punctuation/g,ue._punctuation).getRegex(),ue.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ue.escapedEmSt=/\\\*|\\_/g,ue._comment=te(de._comment).replace("(?:-->|$)","-->").getRegex(),ue.emStrong.lDelim=te(ue.emStrong.lDelim).replace(/punct/g,ue._punctuation).getRegex(),ue.emStrong.rDelimAst=te(ue.emStrong.rDelimAst,"g").replace(/punct/g,ue._punctuation).getRegex(),ue.emStrong.rDelimUnd=te(ue.emStrong.rDelimUnd,"g").replace(/punct/g,ue._punctuation).getRegex(),ue._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ue._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ue._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ue.autolink=te(ue.autolink).replace("scheme",ue._scheme).replace("email",ue._email).getRegex(),ue._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ue.tag=te(ue.tag).replace("comment",ue._comment).replace("attribute",ue._attribute).getRegex(),ue._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ue._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ue._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ue.link=te(ue.link).replace("label",ue._label).replace("href",ue._href).replace("title",ue._title).getRegex(),ue.reflink=te(ue.reflink).replace("label",ue._label).getRegex(),ue.reflinkSearch=te(ue.reflinkSearch,"g").replace("reflink",ue.reflink).replace("nolink",ue.nolink).getRegex(),ue.normal=ae({},ue),ue.pedantic=ae({},ue.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:te(/^!?\[(label)\]\((.*?)\)/).replace("label",ue._label).getRegex(),reflink:te(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ue._label).getRegex()}),ue.gfm=ae({},ue.normal,{escape:te(ue.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),ue.gfm.url=te(ue.gfm.url,"i").replace("email",ue.gfm._extended_email).getRegex(),ue.breaks=ae({},ue.gfm,{br:te(ue.br).replace("{2,}","*").getRegex(),text:te(ue.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var X={block:de,inline:ue},B=S.defaults,Z=X.block,H=X.inline,z=R.repeatString;function ee(we){return we.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function x(we){var Se="",ye,me,ce=we.length;for(ye=0;ye<ce;ye++)me=we.charCodeAt(ye),Math.random()>.5&&(me="x"+me.toString(16)),Se+="&#"+me+";";return Se}var G=function(){function we(ye){this.tokens=[],this.tokens.links=Object.create(null),this.options=ye||B,this.options.tokenizer=this.options.tokenizer||new q,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var me={block:Z.normal,inline:H.normal};this.options.pedantic?(me.block=Z.pedantic,me.inline=H.pedantic):this.options.gfm&&(me.block=Z.gfm,this.options.breaks?me.inline=H.breaks:me.inline=H.gfm),this.tokenizer.rules=me}we.lex=function(me,ce){var fe=new we(ce);return fe.lex(me)},we.lexInline=function(me,ce){var fe=new we(ce);return fe.inlineTokens(me)};var Se=we.prototype;return Se.lex=function(me){return me=me.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(me,this.tokens,!0),this.inline(this.tokens),this.tokens},Se.blockTokens=function(me,ce,fe){ce===void 0&&(ce=[]),fe===void 0&&(fe=!0),this.options.pedantic&&(me=me.replace(/^ +$/gm,""));for(var Ce,be,ke,Ne;me;){if(Ce=this.tokenizer.space(me)){me=me.substring(Ce.raw.length),Ce.type&&ce.push(Ce);continue}if(Ce=this.tokenizer.code(me)){me=me.substring(Ce.raw.length),Ne=ce[ce.length-1],Ne&&Ne.type==="paragraph"?(Ne.raw+=`
`+Ce.raw,Ne.text+=`
`+Ce.text):ce.push(Ce);continue}if(Ce=this.tokenizer.fences(me)){me=me.substring(Ce.raw.length),ce.push(Ce);continue}if(Ce=this.tokenizer.heading(me)){me=me.substring(Ce.raw.length),ce.push(Ce);continue}if(Ce=this.tokenizer.nptable(me)){me=me.substring(Ce.raw.length),ce.push(Ce);continue}if(Ce=this.tokenizer.hr(me)){me=me.substring(Ce.raw.length),ce.push(Ce);continue}if(Ce=this.tokenizer.blockquote(me)){me=me.substring(Ce.raw.length),Ce.tokens=this.blockTokens(Ce.text,[],fe),ce.push(Ce);continue}if(Ce=this.tokenizer.list(me)){for(me=me.substring(Ce.raw.length),ke=Ce.items.length,be=0;be<ke;be++)Ce.items[be].tokens=this.blockTokens(Ce.items[be].text,[],!1);ce.push(Ce);continue}if(Ce=this.tokenizer.html(me)){me=me.substring(Ce.raw.length),ce.push(Ce);continue}if(fe&&(Ce=this.tokenizer.def(me))){me=me.substring(Ce.raw.length),this.tokens.links[Ce.tag]||(this.tokens.links[Ce.tag]={href:Ce.href,title:Ce.title});continue}if(Ce=this.tokenizer.table(me)){me=me.substring(Ce.raw.length),ce.push(Ce);continue}if(Ce=this.tokenizer.lheading(me)){me=me.substring(Ce.raw.length),ce.push(Ce);continue}if(fe&&(Ce=this.tokenizer.paragraph(me))){me=me.substring(Ce.raw.length),ce.push(Ce);continue}if(Ce=this.tokenizer.text(me)){me=me.substring(Ce.raw.length),Ne=ce[ce.length-1],Ne&&Ne.type==="text"?(Ne.raw+=`
`+Ce.raw,Ne.text+=`
`+Ce.text):ce.push(Ce);continue}if(me){var Re="Infinite loop on byte: "+me.charCodeAt(0);if(this.options.silent){console.error(Re);break}else throw new Error(Re)}}return ce},Se.inline=function(me){var ce,fe,Ce,be,ke,Ne,Re=me.length;for(ce=0;ce<Re;ce++)switch(Ne=me[ce],Ne.type){case"paragraph":case"text":case"heading":{Ne.tokens=[],this.inlineTokens(Ne.text,Ne.tokens);break}case"table":{for(Ne.tokens={header:[],cells:[]},be=Ne.header.length,fe=0;fe<be;fe++)Ne.tokens.header[fe]=[],this.inlineTokens(Ne.header[fe],Ne.tokens.header[fe]);for(be=Ne.cells.length,fe=0;fe<be;fe++)for(ke=Ne.cells[fe],Ne.tokens.cells[fe]=[],Ce=0;Ce<ke.length;Ce++)Ne.tokens.cells[fe][Ce]=[],this.inlineTokens(ke[Ce],Ne.tokens.cells[fe][Ce]);break}case"blockquote":{this.inline(Ne.tokens);break}case"list":{for(be=Ne.items.length,fe=0;fe<be;fe++)this.inline(Ne.items[fe].tokens);break}}return me},Se.inlineTokens=function(me,ce,fe,Ce){ce===void 0&&(ce=[]),fe===void 0&&(fe=!1),Ce===void 0&&(Ce=!1);var be,ke,Ne=me,Re,Pe,Fe;if(this.tokens.links){var Oe=Object.keys(this.tokens.links);if(Oe.length>0)for(;(Re=this.tokenizer.rules.inline.reflinkSearch.exec(Ne))!=null;)Oe.includes(Re[0].slice(Re[0].lastIndexOf("[")+1,-1))&&(Ne=Ne.slice(0,Re.index)+"["+z("a",Re[0].length-2)+"]"+Ne.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Re=this.tokenizer.rules.inline.blockSkip.exec(Ne))!=null;)Ne=Ne.slice(0,Re.index)+"["+z("a",Re[0].length-2)+"]"+Ne.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Re=this.tokenizer.rules.inline.escapedEmSt.exec(Ne))!=null;)Ne=Ne.slice(0,Re.index)+"++"+Ne.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;me;){if(Pe||(Fe=""),Pe=!1,be=this.tokenizer.escape(me)){me=me.substring(be.raw.length),ce.push(be);continue}if(be=this.tokenizer.tag(me,fe,Ce)){me=me.substring(be.raw.length),fe=be.inLink,Ce=be.inRawBlock;var xe=ce[ce.length-1];xe&&be.type==="text"&&xe.type==="text"?(xe.raw+=be.raw,xe.text+=be.text):ce.push(be);continue}if(be=this.tokenizer.link(me)){me=me.substring(be.raw.length),be.type==="link"&&(be.tokens=this.inlineTokens(be.text,[],!0,Ce)),ce.push(be);continue}if(be=this.tokenizer.reflink(me,this.tokens.links)){me=me.substring(be.raw.length);var Be=ce[ce.length-1];be.type==="link"?(be.tokens=this.inlineTokens(be.text,[],!0,Ce),ce.push(be)):Be&&be.type==="text"&&Be.type==="text"?(Be.raw+=be.raw,Be.text+=be.text):ce.push(be);continue}if(be=this.tokenizer.emStrong(me,Ne,Fe)){me=me.substring(be.raw.length),be.tokens=this.inlineTokens(be.text,[],fe,Ce),ce.push(be);continue}if(be=this.tokenizer.codespan(me)){me=me.substring(be.raw.length),ce.push(be);continue}if(be=this.tokenizer.br(me)){me=me.substring(be.raw.length),ce.push(be);continue}if(be=this.tokenizer.del(me)){me=me.substring(be.raw.length),be.tokens=this.inlineTokens(be.text,[],fe,Ce),ce.push(be);continue}if(be=this.tokenizer.autolink(me,x)){me=me.substring(be.raw.length),ce.push(be);continue}if(!fe&&(be=this.tokenizer.url(me,x))){me=me.substring(be.raw.length),ce.push(be);continue}if(be=this.tokenizer.inlineText(me,Ce,ee)){me=me.substring(be.raw.length),be.raw.slice(-1)!=="_"&&(Fe=be.raw.slice(-1)),Pe=!0,ke=ce[ce.length-1],ke&&ke.type==="text"?(ke.raw+=be.raw,ke.text+=be.text):ce.push(be);continue}if(me){var ze="Infinite loop on byte: "+me.charCodeAt(0);if(this.options.silent){console.error(ze);break}else throw new Error(ze)}}return ce},e(we,null,[{key:"rules",get:function(){return{block:Z,inline:H}}}]),we}(),Q=S.defaults,J=R.cleanUrl,le=R.escape,oe=function(){function we(ye){this.options=ye||Q}var Se=we.prototype;return Se.code=function(me,ce,fe){var Ce=(ce||"").match(/\S*/)[0];if(this.options.highlight){var be=this.options.highlight(me,Ce);be!=null&&be!==me&&(fe=!0,me=be)}return me=me.replace(/\n$/,"")+`
`,Ce?'<pre><code class="'+this.options.langPrefix+le(Ce,!0)+'">'+(fe?me:le(me,!0))+`</code></pre>
`:"<pre><code>"+(fe?me:le(me,!0))+`</code></pre>
`},Se.blockquote=function(me){return`<blockquote>
`+me+`</blockquote>
`},Se.html=function(me){return me},Se.heading=function(me,ce,fe,Ce){return this.options.headerIds?"<h"+ce+' id="'+this.options.headerPrefix+Ce.slug(fe)+'">'+me+"</h"+ce+`>
`:"<h"+ce+">"+me+"</h"+ce+`>
`},Se.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Se.list=function(me,ce,fe){var Ce=ce?"ol":"ul",be=ce&&fe!==1?' start="'+fe+'"':"";return"<"+Ce+be+`>
`+me+"</"+Ce+`>
`},Se.listitem=function(me){return"<li>"+me+`</li>
`},Se.checkbox=function(me){return"<input "+(me?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Se.paragraph=function(me){return"<p>"+me+`</p>
`},Se.table=function(me,ce){return ce&&(ce="<tbody>"+ce+"</tbody>"),`<table>
<thead>
`+me+`</thead>
`+ce+`</table>
`},Se.tablerow=function(me){return`<tr>
`+me+`</tr>
`},Se.tablecell=function(me,ce){var fe=ce.header?"th":"td",Ce=ce.align?"<"+fe+' align="'+ce.align+'">':"<"+fe+">";return Ce+me+"</"+fe+`>
`},Se.strong=function(me){return"<strong>"+me+"</strong>"},Se.em=function(me){return"<em>"+me+"</em>"},Se.codespan=function(me){return"<code>"+me+"</code>"},Se.br=function(){return this.options.xhtml?"<br/>":"<br>"},Se.del=function(me){return"<del>"+me+"</del>"},Se.link=function(me,ce,fe){if(me=J(this.options.sanitize,this.options.baseUrl,me),me===null)return fe;var Ce='<a href="'+le(me)+'"';return ce&&(Ce+=' title="'+ce+'"'),Ce+=">"+fe+"</a>",Ce},Se.image=function(me,ce,fe){if(me=J(this.options.sanitize,this.options.baseUrl,me),me===null)return fe;var Ce='<img src="'+me+'" alt="'+fe+'"';return ce&&(Ce+=' title="'+ce+'"'),Ce+=this.options.xhtml?"/>":">",Ce},Se.text=function(me){return me},we}(),he=function(){function we(){}var Se=we.prototype;return Se.strong=function(me){return me},Se.em=function(me){return me},Se.codespan=function(me){return me},Se.del=function(me){return me},Se.html=function(me){return me},Se.text=function(me){return me},Se.link=function(me,ce,fe){return""+fe},Se.image=function(me,ce,fe){return""+fe},Se.br=function(){return""},we}(),K=function(){function we(){this.seen={}}var Se=we.prototype;return Se.serialize=function(me){return me.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Se.getNextSafeSlug=function(me,ce){var fe=me,Ce=0;if(this.seen.hasOwnProperty(fe)){Ce=this.seen[me];do Ce++,fe=me+"-"+Ce;while(this.seen.hasOwnProperty(fe))}return ce||(this.seen[me]=Ce,this.seen[fe]=0),fe},Se.slug=function(me,ce){ce===void 0&&(ce={});var fe=this.serialize(me);return this.getNextSafeSlug(fe,ce.dryrun)},we}(),re=S.defaults,Y=R.unescape,se=function(){function we(ye){this.options=ye||re,this.options.renderer=this.options.renderer||new oe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new he,this.slugger=new K}we.parse=function(me,ce){var fe=new we(ce);return fe.parse(me)},we.parseInline=function(me,ce){var fe=new we(ce);return fe.parseInline(me)};var Se=we.prototype;return Se.parse=function(me,ce){ce===void 0&&(ce=!0);var fe="",Ce,be,ke,Ne,Re,Pe,Fe,Oe,xe,Be,ze,Ke,We,He,Ve,Ue,Ze,$e,Qe=me.length;for(Ce=0;Ce<Qe;Ce++)switch(Be=me[Ce],Be.type){case"space":continue;case"hr":{fe+=this.renderer.hr();continue}case"heading":{fe+=this.renderer.heading(this.parseInline(Be.tokens),Be.depth,Y(this.parseInline(Be.tokens,this.textRenderer)),this.slugger);continue}case"code":{fe+=this.renderer.code(Be.text,Be.lang,Be.escaped);continue}case"table":{for(Oe="",Fe="",Ne=Be.header.length,be=0;be<Ne;be++)Fe+=this.renderer.tablecell(this.parseInline(Be.tokens.header[be]),{header:!0,align:Be.align[be]});for(Oe+=this.renderer.tablerow(Fe),xe="",Ne=Be.cells.length,be=0;be<Ne;be++){for(Pe=Be.tokens.cells[be],Fe="",Re=Pe.length,ke=0;ke<Re;ke++)Fe+=this.renderer.tablecell(this.parseInline(Pe[ke]),{header:!1,align:Be.align[ke]});xe+=this.renderer.tablerow(Fe)}fe+=this.renderer.table(Oe,xe);continue}case"blockquote":{xe=this.parse(Be.tokens),fe+=this.renderer.blockquote(xe);continue}case"list":{for(ze=Be.ordered,Ke=Be.start,We=Be.loose,Ne=Be.items.length,xe="",be=0;be<Ne;be++)Ve=Be.items[be],Ue=Ve.checked,Ze=Ve.task,He="",Ve.task&&($e=this.renderer.checkbox(Ue),We?Ve.tokens.length>0&&Ve.tokens[0].type==="text"?(Ve.tokens[0].text=$e+" "+Ve.tokens[0].text,Ve.tokens[0].tokens&&Ve.tokens[0].tokens.length>0&&Ve.tokens[0].tokens[0].type==="text"&&(Ve.tokens[0].tokens[0].text=$e+" "+Ve.tokens[0].tokens[0].text)):Ve.tokens.unshift({type:"text",text:$e}):He+=$e),He+=this.parse(Ve.tokens,We),xe+=this.renderer.listitem(He,Ze,Ue);fe+=this.renderer.list(xe,ze,Ke);continue}case"html":{fe+=this.renderer.html(Be.text);continue}case"paragraph":{fe+=this.renderer.paragraph(this.parseInline(Be.tokens));continue}case"text":{for(xe=Be.tokens?this.parseInline(Be.tokens):Be.text;Ce+1<Qe&&me[Ce+1].type==="text";)Be=me[++Ce],xe+=`
`+(Be.tokens?this.parseInline(Be.tokens):Be.text);fe+=ce?this.renderer.paragraph(xe):xe;continue}default:{var Ye='Token with "'+Be.type+'" type was not found.';if(this.options.silent){console.error(Ye);return}else throw new Error(Ye)}}return fe},Se.parseInline=function(me,ce){ce=ce||this.renderer;var fe="",Ce,be,ke=me.length;for(Ce=0;Ce<ke;Ce++)switch(be=me[Ce],be.type){case"escape":{fe+=ce.text(be.text);break}case"html":{fe+=ce.html(be.text);break}case"link":{fe+=ce.link(be.href,be.title,this.parseInline(be.tokens,ce));break}case"image":{fe+=ce.image(be.href,be.title,be.text);break}case"strong":{fe+=ce.strong(this.parseInline(be.tokens,ce));break}case"em":{fe+=ce.em(this.parseInline(be.tokens,ce));break}case"codespan":{fe+=ce.codespan(be.text);break}case"br":{fe+=ce.br();break}case"del":{fe+=ce.del(this.parseInline(be.tokens,ce));break}case"text":{fe+=ce.text(be.text);break}default:{var Ne='Token with "'+be.type+'" type was not found.';if(this.options.silent){console.error(Ne);return}else throw new Error(Ne)}}return fe},we}(),ge=R.merge,pe=R.checkSanitizeDeprecation,ve=R.escape,Le=S.getDefaults,Ee=S.changeDefaults,Te=S.defaults;function De(we,Se,ye){if(typeof we=="undefined"||we===null)throw new Error("marked(): input parameter is undefined or null");if(typeof we!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(we)+", string expected");if(typeof Se=="function"&&(ye=Se,Se=null),Se=ge({},De.defaults,Se||{}),pe(Se),ye){var me=Se.highlight,ce;try{ce=G.lex(we,Se)}catch(ke){return ye(ke)}var fe=function(Ne){var Re;if(!Ne)try{Re=se.parse(ce,Se)}catch(Pe){Ne=Pe}return Se.highlight=me,Ne?ye(Ne):ye(null,Re)};if(!me||me.length<3||(delete Se.highlight,!ce.length))return fe();var Ce=0;De.walkTokens(ce,function(ke){ke.type==="code"&&(Ce++,setTimeout(function(){me(ke.text,ke.lang,function(Ne,Re){if(Ne)return fe(Ne);Re!=null&&Re!==ke.text&&(ke.text=Re,ke.escaped=!0),Ce--,Ce===0&&fe()})},0))}),Ce===0&&fe();return}try{var be=G.lex(we,Se);return Se.walkTokens&&De.walkTokens(be,Se.walkTokens),se.parse(be,Se)}catch(ke){if(ke.message+=`
Please report this to https://github.com/markedjs/marked.`,Se.silent)return"<p>An error occurred:</p><pre>"+ve(ke.message+"",!0)+"</pre>";throw ke}}De.options=De.setOptions=function(we){return ge(De.defaults,we),Ee(De.defaults),De},De.getDefaults=Le,De.defaults=Te,De.use=function(we){var Se=ge({},we);if(we.renderer&&function(){var me=De.defaults.renderer||new oe,ce=function(be){var ke=me[be];me[be]=function(){for(var Ne=arguments.length,Re=new Array(Ne),Pe=0;Pe<Ne;Pe++)Re[Pe]=arguments[Pe];var Fe=we.renderer[be].apply(me,Re);return Fe===!1&&(Fe=ke.apply(me,Re)),Fe}};for(var fe in we.renderer)ce(fe);Se.renderer=me}(),we.tokenizer&&function(){var me=De.defaults.tokenizer||new q,ce=function(be){var ke=me[be];me[be]=function(){for(var Ne=arguments.length,Re=new Array(Ne),Pe=0;Pe<Ne;Pe++)Re[Pe]=arguments[Pe];var Fe=we.tokenizer[be].apply(me,Re);return Fe===!1&&(Fe=ke.apply(me,Re)),Fe}};for(var fe in we.tokenizer)ce(fe);Se.tokenizer=me}(),we.walkTokens){var ye=De.defaults.walkTokens;Se.walkTokens=function(me){we.walkTokens(me),ye&&ye(me)}}De.setOptions(Se)},De.walkTokens=function(we,Se){for(var ye=M(we),me;!(me=ye()).done;){var ce=me.value;switch(Se(ce),ce.type){case"table":{for(var fe=M(ce.tokens.header),Ce;!(Ce=fe()).done;){var be=Ce.value;De.walkTokens(be,Se)}for(var ke=M(ce.tokens.cells),Ne;!(Ne=ke()).done;)for(var Re=Ne.value,Pe=M(Re),Fe;!(Fe=Pe()).done;){var Oe=Fe.value;De.walkTokens(Oe,Se)}break}case"list":{De.walkTokens(ce.items,Se);break}default:ce.tokens&&De.walkTokens(ce.tokens,Se)}}},De.parseInline=function(we,Se){if(typeof we=="undefined"||we===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof we!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(we)+", string expected");Se=ge({},De.defaults,Se||{}),pe(Se);try{var ye=G.lexInline(we,Se);return Se.walkTokens&&De.walkTokens(ye,Se.walkTokens),se.parseInline(ye,Se)}catch(me){if(me.message+=`
Please report this to https://github.com/markedjs/marked.`,Se.silent)return"<p>An error occurred:</p><pre>"+ve(me.message+"",!0)+"</pre>";throw me}},De.Parser=se,De.parser=se.parse,De.Renderer=oe,De.TextRenderer=he,De.Lexer=G,De.lexer=G.lex,De.Tokenizer=q,De.Slugger=K,De.parse=De;var Ae=De;return Ae}),define(ie[287],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class _{constructor(M,L=0,S=M.length,m=L-1){this.items=M,this.start=L,this.end=S,this.index=m}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=_}),define(ie[288],ne([0,1,287]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(L=[],S=10){this._initialize(L),this._limit=S,this._onChange()}add(L){this._history.delete(L),this._history.add(L),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(L){return this._history.has(L)}_onChange(){this._reduceToLimit();const L=this._elements;this._navigator=new _.ArrayNavigator(L,0,L.length,L.length)}_reduceToLimit(){const L=this._elements;L.length>this._limit&&this._initialize(L.slice(L.length-this._limit))}_currentPosition(){const L=this._navigator.current();return L?this._elements.indexOf(L):-1}_initialize(L){this._history=new Set;for(const S of L)this._history.add(S)}get _elements(){const L=[];return this._history.forEach(S=>L.push(S)),L}}e.HistoryNavigator=k}),define(ie[101],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.clamp=void 0;function _(M,L,S){return Math.min(Math.max(M,L),S)}e.clamp=_;class k{constructor(){this._n=1,this._val=0}update(L){return this._val=this._val+(L-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=k}),define(ie[17],ne([0,1]),function($,e){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setImmediate=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.isPreferringBrowserCodeLoad=e.browserCodeLoadingCacheStrategy=e.isElectronSandboxed=e.globals=void 0;const k="en";let M=!1,L=!1,S=!1,m=!1,v=!1,i=!1,C=!1,s,o=k,a,c;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let u;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?u=e.globals.vscode.process:typeof process!="undefined"&&(u=process);const r=typeof((_=u==null?void 0:u.versions)===null||_===void 0?void 0:_.electron)=="string"&&u.type==="renderer";if(e.isElectronSandboxed=r&&(u==null?void 0:u.sandboxed),e.browserCodeLoadingCacheStrategy=(()=>{if(e.isElectronSandboxed)return"bypassHeatCheck";const h=u==null?void 0:u.env.VSCODE_BROWSER_CODE_LOADING;if(typeof h=="string")return h==="none"||h==="code"||h==="bypassHeatCheck"||h==="bypassHeatCheckAndEagerCompile"?h:"bypassHeatCheck"})(),e.isPreferringBrowserCodeLoad=typeof e.browserCodeLoadingCacheStrategy=="string",typeof navigator=="object"&&!r)c=navigator.userAgent,M=c.indexOf("Windows")>=0,L=c.indexOf("Macintosh")>=0,C=(c.indexOf("Macintosh")>=0||c.indexOf("iPad")>=0||c.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=c.indexOf("Linux")>=0,i=!0,s=navigator.language,o=s;else if(typeof u=="object"){M=u.platform==="win32",L=u.platform==="darwin",S=u.platform==="linux",m=S&&!!u.env.SNAP&&!!u.env.SNAP_REVISION,s=k,o=k;const h=u.env.VSCODE_NLS_CONFIG;if(h)try{const p=JSON.parse(h),w=p.availableLanguages["*"];s=p.locale,o=w||k,a=p._translationsConfigFile}catch(p){}v=!0}else console.error("Unable to resolve platform.");let n=0;L?n=1:M?n=3:S&&(n=2),e.isWindows=M,e.isMacintosh=L,e.isLinux=S,e.isNative=v,e.isWeb=i,e.isIOS=C,e.userAgent=c,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let w=[];e.globals.addEventListener("message",g=>{if(g.data&&g.data.vscodeSetImmediateId)for(let f=0,y=w.length;f<y;f++){const I=w[f];if(I.id===g.data.vscodeSetImmediateId){w.splice(f,1),I.callback();return}}});let b=0;return g=>{const f=++b;w.push({id:f,callback:g}),e.globals.postMessage({vscodeSetImmediateId:f},"*")}}if(typeof(u==null?void 0:u.nextTick)=="function")return u.nextTick.bind(u);const p=Promise.resolve();return w=>p.then(w)}(),e.OS=L||C?2:M?1:3;let l=!0,t=!1;function d(){if(!t){t=!0;const h=new Uint8Array(2);h[0]=1,h[1]=2,l=new Uint16Array(h.buffer)[0]===(2<<8)+1}return l}e.isLittleEndian=d}),define(ie[289],ne([0,1,17]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;if(typeof _.globals.vscode!="undefined"&&typeof _.globals.vscode.process!="undefined"){const M=_.globals.vscode.process;k={get platform(){return M.platform},get env(){return M.env},cwd(){return M.cwd()},nextTick(L){return _.setImmediate(L)}}}else typeof process!="undefined"?k={get platform(){return process.platform},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(M){return process.nextTick(M)}}:k={get platform(){return _.isWindows?"win32":_.isMacintosh?"darwin":"linux"},nextTick(M){return _.setImmediate(M)},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(ie[72],ne([0,1,289]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,M=97,L=90,S=122,m=46,v=47,i=92,C=58,s=63;class o extends Error{constructor(d,h,p){let w;typeof h=="string"&&h.indexOf("not ")===0?(w="must not be",h=h.replace(/^not /,"")):w="must be";const b=d.indexOf(".")!==-1?"property":"argument";let g=`The "${d}" ${b} ${w} of type ${h}`;g+=`. Received type ${typeof p}`,super(g),this.code="ERR_INVALID_ARG_TYPE"}}function a(t,d){if(typeof t!="string")throw new o(d,"string",t)}function c(t){return t===v||t===i}function u(t){return t===v}function r(t){return t>=k&&t<=L||t>=M&&t<=S}function n(t,d,h,p){let w="",b=0,g=-1,f=0,y=0;for(let I=0;I<=t.length;++I){if(I<t.length)y=t.charCodeAt(I);else{if(p(y))break;y=v}if(p(y)){if(!(g===I-1||f===1))if(f===2){if(w.length<2||b!==2||w.charCodeAt(w.length-1)!==m||w.charCodeAt(w.length-2)!==m){if(w.length>2){const N=w.lastIndexOf(h);N===-1?(w="",b=0):(w=w.slice(0,N),b=w.length-1-w.lastIndexOf(h)),g=I,f=0;continue}else if(w.length!==0){w="",b=0,g=I,f=0;continue}}d&&(w+=w.length>0?`${h}..`:"..",b=2)}else w.length>0?w+=`${h}${t.slice(g+1,I)}`:w=t.slice(g+1,I),b=I-g-1;g=I,f=0}else y===m&&f!==-1?++f:f=-1}return w}function l(t,d){if(d===null||typeof d!="object")throw new o("pathObject","Object",d);const h=d.dir||d.root,p=d.base||`${d.name||""}${d.ext||""}`;return h?h===d.root?`${h}${p}`:`${h}${t}${p}`:p}e.win32={resolve(...t){let d="",h="",p=!1;for(let w=t.length-1;w>=-1;w--){let b;if(w>=0){if(b=t[w],a(b,"path"),b.length===0)continue}else d.length===0?b=_.cwd():(b=_.env[`=${d}`]||_.cwd(),(b===void 0||b.slice(0,2).toLowerCase()!==d.toLowerCase()&&b.charCodeAt(2)===i)&&(b=`${d}\\`));const g=b.length;let f=0,y="",I=!1;const N=b.charCodeAt(0);if(g===1)c(N)&&(f=1,I=!0);else if(c(N))if(I=!0,c(b.charCodeAt(1))){let D=2,T=D;for(;D<g&&!c(b.charCodeAt(D));)D++;if(D<g&&D!==T){const P=b.slice(T,D);for(T=D;D<g&&c(b.charCodeAt(D));)D++;if(D<g&&D!==T){for(T=D;D<g&&!c(b.charCodeAt(D));)D++;(D===g||D!==T)&&(y=`\\\\${P}\\${b.slice(T,D)}`,f=D)}}}else f=1;else r(N)&&b.charCodeAt(1)===C&&(y=b.slice(0,2),f=2,g>2&&c(b.charCodeAt(2))&&(I=!0,f=3));if(y.length>0)if(d.length>0){if(y.toLowerCase()!==d.toLowerCase())continue}else d=y;if(p){if(d.length>0)break}else if(h=`${b.slice(f)}\\${h}`,p=I,I&&d.length>0)break}return h=n(h,!p,"\\",c),p?`${d}\\${h}`:`${d}${h}`||"."},normalize(t){a(t,"path");const d=t.length;if(d===0)return".";let h=0,p,w=!1;const b=t.charCodeAt(0);if(d===1)return u(b)?"\\":t;if(c(b))if(w=!0,c(t.charCodeAt(1))){let f=2,y=f;for(;f<d&&!c(t.charCodeAt(f));)f++;if(f<d&&f!==y){const I=t.slice(y,f);for(y=f;f<d&&c(t.charCodeAt(f));)f++;if(f<d&&f!==y){for(y=f;f<d&&!c(t.charCodeAt(f));)f++;if(f===d)return`\\\\${I}\\${t.slice(y)}\\`;f!==y&&(p=`\\\\${I}\\${t.slice(y,f)}`,h=f)}}}else h=1;else r(b)&&t.charCodeAt(1)===C&&(p=t.slice(0,2),h=2,d>2&&c(t.charCodeAt(2))&&(w=!0,h=3));let g=h<d?n(t.slice(h),!w,"\\",c):"";return g.length===0&&!w&&(g="."),g.length>0&&c(t.charCodeAt(d-1))&&(g+="\\"),p===void 0?w?`\\${g}`:g:w?`${p}\\${g}`:`${p}${g}`},isAbsolute(t){a(t,"path");const d=t.length;if(d===0)return!1;const h=t.charCodeAt(0);return c(h)||d>2&&r(h)&&t.charCodeAt(1)===C&&c(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let d,h;for(let b=0;b<t.length;++b){const g=t[b];a(g,"path"),g.length>0&&(d===void 0?d=h=g:d+=`\\${g}`)}if(d===void 0)return".";let p=!0,w=0;if(typeof h=="string"&&c(h.charCodeAt(0))){++w;const b=h.length;b>1&&c(h.charCodeAt(1))&&(++w,b>2&&(c(h.charCodeAt(2))?++w:p=!1))}if(p){for(;w<d.length&&c(d.charCodeAt(w));)w++;w>=2&&(d=`\\${d.slice(w)}`)}return e.win32.normalize(d)},relative(t,d){if(a(t,"from"),a(d,"to"),t===d)return"";const h=e.win32.resolve(t),p=e.win32.resolve(d);if(h===p||(t=h.toLowerCase(),d=p.toLowerCase(),t===d))return"";let w=0;for(;w<t.length&&t.charCodeAt(w)===i;)w++;let b=t.length;for(;b-1>w&&t.charCodeAt(b-1)===i;)b--;const g=b-w;let f=0;for(;f<d.length&&d.charCodeAt(f)===i;)f++;let y=d.length;for(;y-1>f&&d.charCodeAt(y-1)===i;)y--;const I=y-f,N=g<I?g:I;let D=-1,T=0;for(;T<N;T++){const R=t.charCodeAt(w+T);if(R!==d.charCodeAt(f+T))break;R===i&&(D=T)}if(T!==N){if(D===-1)return p}else{if(I>N){if(d.charCodeAt(f+T)===i)return p.slice(f+T+1);if(T===2)return p.slice(f+T)}g>N&&(t.charCodeAt(w+T)===i?D=T:T===2&&(D=3)),D===-1&&(D=0)}let P="";for(T=w+D+1;T<=b;++T)(T===b||t.charCodeAt(T)===i)&&(P+=P.length===0?"..":"\\..");return f+=D,P.length>0?`${P}${p.slice(f,y)}`:(p.charCodeAt(f)===i&&++f,p.slice(f,y))},toNamespacedPath(t){if(typeof t!="string")return t;if(t.length===0)return"";const d=e.win32.resolve(t);if(d.length<=2)return t;if(d.charCodeAt(0)===i){if(d.charCodeAt(1)===i){const h=d.charCodeAt(2);if(h!==s&&h!==m)return`\\\\?\\UNC\\${d.slice(2)}`}}else if(r(d.charCodeAt(0))&&d.charCodeAt(1)===C&&d.charCodeAt(2)===i)return`\\\\?\\${d}`;return t},dirname(t){a(t,"path");const d=t.length;if(d===0)return".";let h=-1,p=0;const w=t.charCodeAt(0);if(d===1)return c(w)?t:".";if(c(w)){if(h=p=1,c(t.charCodeAt(1))){let f=2,y=f;for(;f<d&&!c(t.charCodeAt(f));)f++;if(f<d&&f!==y){for(y=f;f<d&&c(t.charCodeAt(f));)f++;if(f<d&&f!==y){for(y=f;f<d&&!c(t.charCodeAt(f));)f++;if(f===d)return t;f!==y&&(h=p=f+1)}}}}else r(w)&&t.charCodeAt(1)===C&&(h=d>2&&c(t.charCodeAt(2))?3:2,p=h);let b=-1,g=!0;for(let f=d-1;f>=p;--f)if(c(t.charCodeAt(f))){if(!g){b=f;break}}else g=!1;if(b===-1){if(h===-1)return".";b=h}return t.slice(0,b)},basename(t,d){d!==void 0&&a(d,"ext"),a(t,"path");let h=0,p=-1,w=!0,b;if(t.length>=2&&r(t.charCodeAt(0))&&t.charCodeAt(1)===C&&(h=2),d!==void 0&&d.length>0&&d.length<=t.length){if(d===t)return"";let g=d.length-1,f=-1;for(b=t.length-1;b>=h;--b){const y=t.charCodeAt(b);if(c(y)){if(!w){h=b+1;break}}else f===-1&&(w=!1,f=b+1),g>=0&&(y===d.charCodeAt(g)?--g==-1&&(p=b):(g=-1,p=f))}return h===p?p=f:p===-1&&(p=t.length),t.slice(h,p)}for(b=t.length-1;b>=h;--b)if(c(t.charCodeAt(b))){if(!w){h=b+1;break}}else p===-1&&(w=!1,p=b+1);return p===-1?"":t.slice(h,p)},extname(t){a(t,"path");let d=0,h=-1,p=0,w=-1,b=!0,g=0;t.length>=2&&t.charCodeAt(1)===C&&r(t.charCodeAt(0))&&(d=p=2);for(let f=t.length-1;f>=d;--f){const y=t.charCodeAt(f);if(c(y)){if(!b){p=f+1;break}continue}w===-1&&(b=!1,w=f+1),y===m?h===-1?h=f:g!==1&&(g=1):h!==-1&&(g=-1)}return h===-1||w===-1||g===0||g===1&&h===w-1&&h===p+1?"":t.slice(h,w)},format:l.bind(null,"\\"),parse(t){a(t,"path");const d={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return d;const h=t.length;let p=0,w=t.charCodeAt(0);if(h===1)return c(w)?(d.root=d.dir=t,d):(d.base=d.name=t,d);if(c(w)){if(p=1,c(t.charCodeAt(1))){let D=2,T=D;for(;D<h&&!c(t.charCodeAt(D));)D++;if(D<h&&D!==T){for(T=D;D<h&&c(t.charCodeAt(D));)D++;if(D<h&&D!==T){for(T=D;D<h&&!c(t.charCodeAt(D));)D++;D===h?p=D:D!==T&&(p=D+1)}}}}else if(r(w)&&t.charCodeAt(1)===C){if(h<=2)return d.root=d.dir=t,d;if(p=2,c(t.charCodeAt(2))){if(h===3)return d.root=d.dir=t,d;p=3}}p>0&&(d.root=t.slice(0,p));let b=-1,g=p,f=-1,y=!0,I=t.length-1,N=0;for(;I>=p;--I){if(w=t.charCodeAt(I),c(w)){if(!y){g=I+1;break}continue}f===-1&&(y=!1,f=I+1),w===m?b===-1?b=I:N!==1&&(N=1):b!==-1&&(N=-1)}return f!==-1&&(b===-1||N===0||N===1&&b===f-1&&b===g+1?d.base=d.name=t.slice(g,f):(d.name=t.slice(g,b),d.base=t.slice(g,f),d.ext=t.slice(b,f))),g>0&&g!==p?d.dir=t.slice(0,g-1):d.dir=d.root,d},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...t){let d="",h=!1;for(let p=t.length-1;p>=-1&&!h;p--){const w=p>=0?t[p]:_.cwd();a(w,"path"),w.length!==0&&(d=`${w}/${d}`,h=w.charCodeAt(0)===v)}return d=n(d,!h,"/",u),h?`/${d}`:d.length>0?d:"."},normalize(t){if(a(t,"path"),t.length===0)return".";const d=t.charCodeAt(0)===v,h=t.charCodeAt(t.length-1)===v;return t=n(t,!d,"/",u),t.length===0?d?"/":h?"./":".":(h&&(t+="/"),d?`/${t}`:t)},isAbsolute(t){return a(t,"path"),t.length>0&&t.charCodeAt(0)===v},join(...t){if(t.length===0)return".";let d;for(let h=0;h<t.length;++h){const p=t[h];a(p,"path"),p.length>0&&(d===void 0?d=p:d+=`/${p}`)}return d===void 0?".":e.posix.normalize(d)},relative(t,d){if(a(t,"from"),a(d,"to"),t===d||(t=e.posix.resolve(t),d=e.posix.resolve(d),t===d))return"";const h=1,p=t.length,w=p-h,b=1,g=d.length-b,f=w<g?w:g;let y=-1,I=0;for(;I<f;I++){const D=t.charCodeAt(h+I);if(D!==d.charCodeAt(b+I))break;D===v&&(y=I)}if(I===f)if(g>f){if(d.charCodeAt(b+I)===v)return d.slice(b+I+1);if(I===0)return d.slice(b+I)}else w>f&&(t.charCodeAt(h+I)===v?y=I:I===0&&(y=0));let N="";for(I=h+y+1;I<=p;++I)(I===p||t.charCodeAt(I)===v)&&(N+=N.length===0?"..":"/..");return`${N}${d.slice(b+y)}`},toNamespacedPath(t){return t},dirname(t){if(a(t,"path"),t.length===0)return".";const d=t.charCodeAt(0)===v;let h=-1,p=!0;for(let w=t.length-1;w>=1;--w)if(t.charCodeAt(w)===v){if(!p){h=w;break}}else p=!1;return h===-1?d?"/":".":d&&h===1?"//":t.slice(0,h)},basename(t,d){d!==void 0&&a(d,"ext"),a(t,"path");let h=0,p=-1,w=!0,b;if(d!==void 0&&d.length>0&&d.length<=t.length){if(d===t)return"";let g=d.length-1,f=-1;for(b=t.length-1;b>=0;--b){const y=t.charCodeAt(b);if(y===v){if(!w){h=b+1;break}}else f===-1&&(w=!1,f=b+1),g>=0&&(y===d.charCodeAt(g)?--g==-1&&(p=b):(g=-1,p=f))}return h===p?p=f:p===-1&&(p=t.length),t.slice(h,p)}for(b=t.length-1;b>=0;--b)if(t.charCodeAt(b)===v){if(!w){h=b+1;break}}else p===-1&&(w=!1,p=b+1);return p===-1?"":t.slice(h,p)},extname(t){a(t,"path");let d=-1,h=0,p=-1,w=!0,b=0;for(let g=t.length-1;g>=0;--g){const f=t.charCodeAt(g);if(f===v){if(!w){h=g+1;break}continue}p===-1&&(w=!1,p=g+1),f===m?d===-1?d=g:b!==1&&(b=1):d!==-1&&(b=-1)}return d===-1||p===-1||b===0||b===1&&d===p-1&&d===h+1?"":t.slice(d,p)},format:l.bind(null,"/"),parse(t){a(t,"path");const d={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return d;const h=t.charCodeAt(0)===v;let p;h?(d.root="/",p=1):p=0;let w=-1,b=0,g=-1,f=!0,y=t.length-1,I=0;for(;y>=p;--y){const N=t.charCodeAt(y);if(N===v){if(!f){b=y+1;break}continue}g===-1&&(f=!1,g=y+1),N===m?w===-1?w=y:I!==1&&(I=1):w!==-1&&(I=-1)}if(g!==-1){const N=b===0&&h?1:b;w===-1||I===0||I===1&&w===g-1&&w===b+1?d.base=d.name=t.slice(N,g):(d.name=t.slice(N,w),d.base=t.slice(N,g),d.ext=t.slice(w,g))}return b>0?d.dir=t.slice(0,b-1):h&&(d.dir="/"),d},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=_.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=_.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=_.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=_.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=_.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=_.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=_.platform==="win32"?e.win32.sep:e.posix.sep}),define(ie[126],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var _;(function(k){function M(v,i){if(v.start>=i.end||i.start>=v.end)return{start:0,end:0};const C=Math.max(v.start,i.start),s=Math.min(v.end,i.end);return s-C<=0?{start:0,end:0}:{start:C,end:s}}k.intersect=M;function L(v){return v.end-v.start<=0}k.isEmpty=L;function S(v,i){return!L(M(v,i))}k.intersects=S;function m(v,i){const C=[],s={start:v.start,end:Math.min(i.start,v.end)},o={start:Math.max(i.end,v.start),end:v.end};return L(s)||C.push(s),L(o)||C.push(o),C}k.relativeComplement=m})(_=e.Range||(e.Range={}))}),define(ie[290],ne([0,1,126]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function k(v,i){const C=[];for(let s of i){if(v.start>=s.range.end)continue;if(v.end<s.range.start)break;const o=_.Range.intersect(v,s.range);_.Range.isEmpty(o)||C.push({range:o,size:s.size})}return C}e.groupIntersect=k;function M({start:v,end:i},C){return{start:v+C,end:i+C}}e.shift=M;function L(v){const i=[];let C=null;for(let s of v){const o=s.range.start,a=s.range.end,c=s.size;if(C&&c===C.size){C.range.end=a;continue}C={range:{start:o,end:a},size:c},i.push(C)}return i}e.consolidate=L;function S(...v){return L(v.reduce((i,C)=>i.concat(C),[]))}class m{constructor(){this.groups=[],this._size=0}splice(i,C,s=[]){const o=s.length-C,a=k({start:0,end:i},this.groups),c=k({start:i+C,end:Number.POSITIVE_INFINITY},this.groups).map(r=>({range:M(r.range,o),size:r.size})),u=s.map((r,n)=>({range:{start:i+n,end:i+n+1},size:r.size}));this.groups=S(a,u,c),this._size=this.groups.reduce((r,n)=>r+n.size*(n.range.end-n.range.start),0)}get count(){const i=this.groups.length;return i?this.groups[i-1].range.end:0}get size(){return this._size}indexAt(i){if(i<0)return-1;let C=0,s=0;for(let o of this.groups){const a=o.range.end-o.range.start,c=s+a*o.size;if(i<c)return C+Math.floor((i-s)/o.size);C+=a,s=c}return C}indexAfter(i){return Math.min(this.indexAt(i)+1,this.count)}positionAt(i){if(i<0)return-1;let C=0,s=0;for(let o of this.groups){const a=o.range.end-o.range.start,c=s+a;if(i<c)return C+(i-s)*o.size;C+=a*o.size,s=c}return-1}}e.RangeMap=m}),define(ie[80],ne([0,1,17]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const k=_.globals.performance&&typeof _.globals.performance.now=="function";class M{constructor(S){this._highResolution=k&&S,this._startTime=this._now(),this._stopTime=-1}static create(S=!0){return new M(S)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?_.globals.performance.now():Date.now()}}e.StopWatch=M}),define(ie[6],ne([0,1,12,2,71,80]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.Emitter=e.Event=void 0;var S;(function(u){u.None=()=>k.Disposable.None;function r(R){return(O,A=null,F)=>{let E=!1,W;return W=R(V=>{if(!E)return W?W.dispose():E=!0,O.call(A,V)},null,F),E&&W.dispose(),W}}u.once=r;function n(R,O){return w((A,F=null,E)=>R(W=>A.call(F,O(W)),null,E))}u.map=n;function l(R,O){return w((A,F=null,E)=>R(W=>{O(W),A.call(F,W)},null,E))}u.forEach=l;function t(R,O){return w((A,F=null,E)=>R(W=>O(W)&&A.call(F,W),null,E))}u.filter=t;function d(R){return R}u.signal=d;function h(...R){return(O,A=null,F)=>k.combinedDisposable(...R.map(E=>E(W=>O.call(A,W),null,F)))}u.any=h;function p(R,O,A){let F=A;return n(R,E=>(F=O(F,E),F))}u.reduce=p;function w(R){let O;const A=new C({onFirstListenerAdd(){O=R(A.fire,A)},onLastListenerRemove(){O.dispose()}});return A.event}function b(R,O,A=100,F=!1,E){let W,V,U,q=0;const j=new C({leakWarningThreshold:E,onFirstListenerAdd(){W=R(te=>{q++,V=O(V,te),F&&!U&&(j.fire(V),V=void 0),clearTimeout(U),U=setTimeout(()=>{const ae=V;V=void 0,U=void 0,(!F||q>1)&&j.fire(ae),q=0},A)})},onLastListenerRemove(){W.dispose()}});return j.event}u.debounce=b;function g(R,O=(A,F)=>A===F){let A=!0,F;return t(R,E=>{const W=A||!O(E,F);return A=!1,F=E,W})}u.latch=g;function f(R,O){return[u.filter(R,O),u.filter(R,A=>!O(A))]}u.split=f;function y(R,O=!1,A=[]){let F=A.slice(),E=R(U=>{F?F.push(U):V.fire(U)});const W=()=>{F&&F.forEach(U=>V.fire(U)),F=null},V=new C({onFirstListenerAdd(){E||(E=R(U=>V.fire(U)))},onFirstListenerDidAdd(){F&&(O?setTimeout(W):W())},onLastListenerRemove(){E&&E.dispose(),E=null}});return V.event}u.buffer=y;class I{constructor(O){this.event=O}map(O){return new I(n(this.event,O))}forEach(O){return new I(l(this.event,O))}filter(O){return new I(t(this.event,O))}reduce(O,A){return new I(p(this.event,O,A))}latch(){return new I(g(this.event))}debounce(O,A=100,F=!1,E){return new I(b(this.event,O,A,F,E))}on(O,A,F){return this.event(O,A,F)}once(O,A,F){return r(this.event)(O,A,F)}}function N(R){return new I(R)}u.chain=N;function D(R,O,A=F=>F){const F=(...U)=>V.fire(A(...U)),E=()=>R.on(O,F),W=()=>R.removeListener(O,F),V=new C({onFirstListenerAdd:E,onLastListenerRemove:W});return V.event}u.fromNodeEventEmitter=D;function T(R,O,A=F=>F){const F=(...U)=>V.fire(A(...U)),E=()=>R.addEventListener(O,F),W=()=>R.removeEventListener(O,F),V=new C({onFirstListenerAdd:E,onLastListenerRemove:W});return V.event}u.fromDOMEventEmitter=T;function P(R){return new Promise(O=>r(R)(O))}u.toPromise=P})(S=e.Event||(e.Event={}));class m{constructor(r){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${r}_${m._idPool++}`}start(r){this._stopWatch=new L.StopWatch(!0),this._listenerCount=r}stop(){if(this._stopWatch){const r=this._stopWatch.elapsed();this._elapsedOverall+=r,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${r.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}m._idPool=0;let v=-1;class i{constructor(r,n=Math.random().toString(18).slice(2,5)){this.customThreshold=r,this.name=n,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(r){let n=v;if(typeof this.customThreshold=="number"&&(n=this.customThreshold),n<=0||r<n)return;this._stacks||(this._stacks=new Map);const l=new Error().stack.split(`
`).slice(3).join(`
`),t=this._stacks.get(l)||0;if(this._stacks.set(l,t+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let d,h=0;for(const[p,w]of this._stacks)(!d||h<w)&&(d=p,h=w);console.warn(`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${h}):`),console.warn(d)}return()=>{const d=this._stacks.get(l)||0;this._stacks.set(l,d-1)}}}class C{constructor(r){var n;this._disposed=!1,this._options=r,this._leakageMon=v>0?new i(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((n=this._options)===null||n===void 0?void 0:n._profName)?new m(this._options._profName):void 0}get event(){return this._event||(this._event=(r,n,l)=>{var t;this._listeners||(this._listeners=new M.LinkedList);const d=this._listeners.isEmpty();d&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const h=this._listeners.push(n?[r,n]:r);d&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,r,n);const p=(t=this._leakageMon)===null||t===void 0?void 0:t.check(this._listeners.size);let w;return w={dispose:()=>{p&&p(),w.dispose=C._noop,this._disposed||(h(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}},l instanceof k.DisposableStore?l.add(w):Array.isArray(l)&&l.push(w),w}),this._event}fire(r){var n,l;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new M.LinkedList);for(let t of this._listeners)this._deliveryQueue.push([t,r]);for((n=this._perfMon)===null||n===void 0||n.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[t,d]=this._deliveryQueue.shift();try{typeof t=="function"?t.call(void 0,d):t[0].call(t[1],d)}catch(h){_.onUnexpectedError(h)}}(l=this._perfMon)===null||l===void 0||l.stop()}}dispose(){var r,n,l,t,d;this._disposed||(this._disposed=!0,(r=this._listeners)===null||r===void 0||r.clear(),(n=this._deliveryQueue)===null||n===void 0||n.clear(),(t=(l=this._options)===null||l===void 0?void 0:l.onLastListenerRemove)===null||t===void 0||t.call(l),(d=this._leakageMon)===null||d===void 0||d.dispose())}}e.Emitter=C,C._noop=function(){};class s extends C{constructor(r){super(r);this._isPaused=0,this._eventQueue=new M.LinkedList,this._mergeFn=r==null?void 0:r.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const r=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(r))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(r){this._listeners&&(this._isPaused!==0?this._eventQueue.push(r):super.fire(r))}}e.PauseableEmitter=s;class o extends s{constructor(r){var n;super(r);this._delay=(n=r.delay)!==null&&n!==void 0?n:100}fire(r){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(r)}}e.DebounceEmitter=o;class a{constructor(){this.buffers=[]}wrapEvent(r){return(n,l,t)=>r(d=>{const h=this.buffers[this.buffers.length-1];h?h.push(()=>n.call(l,d)):n.call(l,d)},void 0,t)}bufferEvents(r){const n=[];this.buffers.push(n);const l=r();return this.buffers.pop(),n.forEach(t=>t()),l}}e.EventBufferer=a;class c{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=k.Disposable.None,this.emitter=new C({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(r){this.inputEvent=r,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=r(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=c}),define(ie[38],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getPixelRatio=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=void 0;class k{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new _.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let s=document.createElement("canvas").getContext("2d"),o=window.devicePixelRatio||1,a=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1;return o/a}}k.INSTANCE=new k;function M(){return k.INSTANCE.getZoomLevel()}e.getZoomLevel=M;function L(){return k.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=L;function S(C){return k.INSTANCE.onDidChangeZoomLevel(C)}e.onDidChangeZoomLevel=S;function m(){return k.INSTANCE.getZoomFactor()}e.getZoomFactor=m;function v(){return k.INSTANCE.getPixelRatio()}e.getPixelRatio=v;const i=navigator.userAgent;e.isFirefox=i.indexOf("Firefox")>=0,e.isWebKit=i.indexOf("AppleWebKit")>=0,e.isChrome=i.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&i.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isAndroid=i.indexOf("Android")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(ie[156],ne([0,1,38,17]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:k.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:k.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>k.isNative||_.isStandalone?0:navigator.keyboard||_.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)}}),define(ie[91],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopEvent=e.DomEmitter=void 0;class k{constructor(S,m,v){const i=C=>this.emitter.fire(C);this.emitter=new _.Emitter({onFirstListenerAdd:()=>S.addEventListener(m,i,v),onLastListenerRemove:()=>S.removeEventListener(m,i,v)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=k;function M(L){return L.preventDefault(),L.stopPropagation(),L}e.stopEvent=M}),define(ie[54],ne([0,1,38,41,17]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;let L=new Array(230),S=new Array(112);(function(){for(let c=0;c<S.length;c++)S[c]=-1;function a(c,u){L[c]=u,S[u]=c}a(3,7),a(8,1),a(9,2),a(13,3),a(16,4),a(17,5),a(18,6),a(19,7),a(20,8),a(27,9),a(32,10),a(33,11),a(34,12),a(35,13),a(36,14),a(37,15),a(38,16),a(39,17),a(40,18),a(45,19),a(46,20),a(48,21),a(49,22),a(50,23),a(51,24),a(52,25),a(53,26),a(54,27),a(55,28),a(56,29),a(57,30),a(65,31),a(66,32),a(67,33),a(68,34),a(69,35),a(70,36),a(71,37),a(72,38),a(73,39),a(74,40),a(75,41),a(76,42),a(77,43),a(78,44),a(79,45),a(80,46),a(81,47),a(82,48),a(83,49),a(84,50),a(85,51),a(86,52),a(87,53),a(88,54),a(89,55),a(90,56),a(93,58),a(96,93),a(97,94),a(98,95),a(99,96),a(100,97),a(101,98),a(102,99),a(103,100),a(104,101),a(105,102),a(106,103),a(107,104),a(108,105),a(109,106),a(110,107),a(111,108),a(112,59),a(113,60),a(114,61),a(115,62),a(116,63),a(117,64),a(118,65),a(119,66),a(120,67),a(121,68),a(122,69),a(123,70),a(124,71),a(125,72),a(126,73),a(127,74),a(128,75),a(129,76),a(130,77),a(144,78),a(145,79),a(186,80),a(187,81),a(188,82),a(189,83),a(190,84),a(191,85),a(192,86),a(193,110),a(194,111),a(219,87),a(220,88),a(221,89),a(222,90),a(223,91),a(226,92),a(229,109),_.isFirefox?(a(59,80),a(107,81),a(109,83),M.isMacintosh&&a(224,57)):_.isWebKit&&(a(91,57),M.isMacintosh?a(93,57):a(92,57))})();function m(a){if(a.charCode){let c=String.fromCharCode(a.charCode).toUpperCase();return k.KeyCodeUtils.fromString(c)}return L[a.keyCode]||0}const v=M.isMacintosh?256:2048,i=512,C=1024,s=M.isMacintosh?2048:256;class o{constructor(c){this._standardKeyboardEventBrand=!0;let u=c;this.browserEvent=u,this.target=u.target,this.ctrlKey=u.ctrlKey,this.shiftKey=u.shiftKey,this.altKey=u.altKey,this.metaKey=u.metaKey,this.keyCode=m(u),this.code=u.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(c){return this._asKeybinding===c}_computeKeybinding(){let c=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode);let u=0;return this.ctrlKey&&(u|=v),this.altKey&&(u|=i),this.shiftKey&&(u|=C),this.metaKey&&(u|=s),u|=c,u}_computeRuntimeKeybinding(){let c=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode),new k.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,c)}}e.StandardKeyboardEvent=o}),define(ie[55],ne([0,1,38,196,17]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class L{constructor(v){this.timestamp=Date.now(),this.browserEvent=v,this.leftButton=v.button===0,this.middleButton=v.button===1,this.rightButton=v.button===2,this.buttons=v.buttons,this.target=v.target,this.detail=v.detail||1,v.type==="dblclick"&&(this.detail=2),this.ctrlKey=v.ctrlKey,this.shiftKey=v.shiftKey,this.altKey=v.altKey,this.metaKey=v.metaKey,typeof v.pageX=="number"?(this.posx=v.pageX,this.posy=v.pageY):(this.posx=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=v.clientY+document.body.scrollTop+document.documentElement.scrollTop);let i=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,v.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=L;class S{constructor(v,i=0,C=0){if(this.browserEvent=v||null,this.target=v?v.target||v.targetNode||v.srcElement:null,this.deltaY=C,this.deltaX=i,v){let s=v,o=v;if(typeof s.wheelDeltaY!="undefined")this.deltaY=s.wheelDeltaY/120;else if(typeof o.VERTICAL_AXIS!="undefined"&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if(v.type==="wheel"){const a=v;a.deltaMode===a.DOM_DELTA_LINE?_.isFirefox&&!M.isMacintosh?this.deltaY=-v.deltaY/3:this.deltaY=-v.deltaY:this.deltaY=-v.deltaY/40}if(typeof s.wheelDeltaX!="undefined")_.isSafari&&M.isWindows?this.deltaX=-(s.wheelDeltaX/120):this.deltaX=s.wheelDeltaX/120;else if(typeof o.HORIZONTAL_AXIS!="undefined"&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-v.detail/3;else if(v.type==="wheel"){const a=v;a.deltaMode===a.DOM_DELTA_LINE?_.isFirefox&&!M.isMacintosh?this.deltaX=-v.deltaX/3:this.deltaX=-v.deltaX:this.deltaX=-v.deltaX/40}this.deltaY===0&&this.deltaX===0&&v.wheelDelta&&(this.deltaY=v.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=S}),define(ie[23],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(m,v){const i=setTimeout(m.bind(v),0);return{dispose(){clearTimeout(i)}}});var M;(function(m){function v(i){return i===m.None||i===m.Cancelled||i instanceof L?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}m.isCancellationToken=v,m.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_.Event.None}),m.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(M=e.CancellationToken||(e.CancellationToken={}));class L{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new _.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(v){this._token=void 0,this._parentListener=void 0,this._parentListener=v&&v.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new L),this._token}cancel(){this._token?this._token instanceof L&&this._token.cancel():this._token=M.Cancelled}dispose(v=!1){v&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof L&&this._token.dispose():this._token=M.None}}e.CancellationTokenSource=S});var Ie=this&&this.__awaiter||function($,e,_,k){function M(L){return L instanceof _?L:new _(function(S){S(L)})}return new(_||(_=Promise))(function(L,S){function m(C){try{i(k.next(C))}catch(s){S(s)}}function v(C){try{i(k.throw(C))}catch(s){S(s)}}function i(C){C.done?L(C.value):M(C.value).then(m,v)}i((k=k.apply($,e||[])).next())})};define(ie[15],ne([0,1,23,12,2]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function L(t){return!!t&&typeof t.then=="function"}e.isThenable=L;function S(t){const d=new _.CancellationTokenSource,h=t(d.token),p=new Promise((w,b)=>{d.token.onCancellationRequested(()=>{b(k.canceled())}),Promise.resolve(h).then(g=>{d.dispose(),w(g)},g=>{d.dispose(),b(g)})});return new class{cancel(){d.cancel()}then(w,b){return p.then(w,b)}catch(w){return this.then(void 0,w)}finally(w){return p.finally(w)}}}e.createCancelablePromise=S;function m(t,d,h){return Promise.race([t,new Promise(p=>d.onCancellationRequested(()=>p(h)))])}e.raceCancellation=m;class v{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(d){if(this.activePromise){if(this.queuedPromiseFactory=d,!this.queuedPromise){const h=()=>{this.queuedPromise=null;const p=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,p};this.queuedPromise=new Promise(p=>{this.activePromise.then(h,h).then(p)})}return new Promise((h,p)=>{this.queuedPromise.then(h,p)})}return this.activePromise=d(),new Promise((h,p)=>{this.activePromise.then(w=>{this.activePromise=null,h(w)},w=>{this.activePromise=null,p(w)})})}}e.Throttler=v;class i{constructor(d){this.defaultDelay=d,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(d,h=this.defaultDelay){return this.task=d,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((p,w)=>{this.doResolve=p,this.doReject=w}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const p=this.task;return this.task=null,p()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},h),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(k.canceled()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=i;class C{constructor(d){this.delayer=new i(d),this.throttler=new v}trigger(d,h){return this.delayer.trigger(()=>this.throttler.queue(d),h)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=C;function s(t,d){return d?new Promise((h,p)=>{const w=setTimeout(h,t);d.onCancellationRequested(()=>{clearTimeout(w),p(k.canceled())})}):S(h=>s(t,h))}e.timeout=s;function o(t,d=0){const h=setTimeout(t,d);return M.toDisposable(()=>clearTimeout(h))}e.disposableTimeout=o;function a(t,d=p=>!!p,h=null){let p=0;const w=t.length,b=()=>{if(p>=w)return Promise.resolve(h);const g=t[p++];return Promise.resolve(g()).then(y=>d(y)?Promise.resolve(y):b())};return b()}e.first=a;class c{constructor(d,h){this._token=-1,typeof d=="function"&&typeof h=="number"&&this.setIfNotSet(d,h)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(d,h){this.cancel(),this._token=setTimeout(()=>{this._token=-1,d()},h)}setIfNotSet(d,h){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,d()},h))}}e.TimeoutTimer=c;class u{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(d,h){this.cancel(),this._token=setInterval(()=>{d()},h)}}e.IntervalTimer=u;class r{constructor(d,h){this.timeoutToken=-1,this.runner=d,this.timeout=h,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(d=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,d)}get delay(){return this.timeout}set delay(d){this.timeout=d}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=r,function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const t=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});e.runWhenIdle=d=>{const h=setTimeout(()=>d(t));let p=!1;return{dispose(){p||(p=!0,clearTimeout(h))}}}}else e.runWhenIdle=(t,d)=>{const h=requestIdleCallback(t,typeof d=="number"?{timeout:d}:void 0);let p=!1;return{dispose(){p||(p=!0,cancelIdleCallback(h))}}}}();class n{constructor(d){this._didRun=!1,this._executor=()=>{try{this._value=d()}catch(h){this._error=h}finally{this._didRun=!0}},this._handle=e.runWhenIdle(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}e.IdleValue=n;var l;(function(t){function d(h){return Ie(this,void 0,void 0,function*(){let p;const w=yield Promise.all(h.map(b=>b.then(g=>g,g=>{p||(p=g)})));if(typeof p!="undefined")throw p;return w})}t.settled=d})(l=e.Promises||(e.Promises={}))}),define(ie[291],ne([0,1,15,2]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class M extends k.Disposable{constructor(S,m,v){super();this._visibility=S,this._visibleClassName=m,this._invisibleClassName=v,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new _.TimeoutTimer)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(S){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=M}),define(ie[27],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=e.registerCodicon=e.iconRegistry=void 0;class k{constructor(){this._icons=new Map,this._onDidRegister=new _.Emitter}add(C){const s=this._icons.get(C.id);s?C.description?s.description=C.description:console.error(`Duplicate registration of codicon ${C.id}`):(this._icons.set(C.id,C),this._onDidRegister.fire(C))}get(C){return this._icons.get(C)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const M=new k;e.iconRegistry=M;function L(i,C){return new m(i,C)}e.registerCodicon=L;function S(i){return i?i.replace(/\$\((.*?)\)/g,(C,s)=>` ${s} `).trim():""}e.getCodiconAriaLabel=S;class m{constructor(C,s,o){this.id=C,this.definition=s,this.description=o,M.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=m;var v;(function(i){i.iconNameSegment="[A-Za-z0-9]+",i.iconNameExpression="[A-Za-z0-9\\-]+",i.iconModifierExpression="~[A-Za-z]+";const C=new RegExp(`^(${i.iconNameExpression})(${i.iconModifierExpression})?$`);function s(c){if(c instanceof m)return["codicon","codicon-"+c.id];const u=C.exec(c.id);if(!u)return s(m.error);let[,r,n]=u;const l=["codicon","codicon-"+r];return n&&l.push("codicon-modifier-"+n.substr(1)),l}i.asClassNameArray=s;function o(c){return s(c).join(" ")}i.asClassName=o;function a(c){return"."+s(c).join(".")}i.asCSSSelector=a})(v=e.CSSIcon||(e.CSSIcon={})),function(i){i.add=new i("add",{fontCharacter:"\\ea60"}),i.plus=new i("plus",{fontCharacter:"\\ea60"}),i.gistNew=new i("gist-new",{fontCharacter:"\\ea60"}),i.repoCreate=new i("repo-create",{fontCharacter:"\\ea60"}),i.lightbulb=new i("lightbulb",{fontCharacter:"\\ea61"}),i.lightBulb=new i("light-bulb",{fontCharacter:"\\ea61"}),i.repo=new i("repo",{fontCharacter:"\\ea62"}),i.repoDelete=new i("repo-delete",{fontCharacter:"\\ea62"}),i.gistFork=new i("gist-fork",{fontCharacter:"\\ea63"}),i.repoForked=new i("repo-forked",{fontCharacter:"\\ea63"}),i.gitPullRequest=new i("git-pull-request",{fontCharacter:"\\ea64"}),i.gitPullRequestAbandoned=new i("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),i.recordKeys=new i("record-keys",{fontCharacter:"\\ea65"}),i.keyboard=new i("keyboard",{fontCharacter:"\\ea65"}),i.tag=new i("tag",{fontCharacter:"\\ea66"}),i.tagAdd=new i("tag-add",{fontCharacter:"\\ea66"}),i.tagRemove=new i("tag-remove",{fontCharacter:"\\ea66"}),i.person=new i("person",{fontCharacter:"\\ea67"}),i.personFollow=new i("person-follow",{fontCharacter:"\\ea67"}),i.personOutline=new i("person-outline",{fontCharacter:"\\ea67"}),i.personFilled=new i("person-filled",{fontCharacter:"\\ea67"}),i.gitBranch=new i("git-branch",{fontCharacter:"\\ea68"}),i.gitBranchCreate=new i("git-branch-create",{fontCharacter:"\\ea68"}),i.gitBranchDelete=new i("git-branch-delete",{fontCharacter:"\\ea68"}),i.sourceControl=new i("source-control",{fontCharacter:"\\ea68"}),i.mirror=new i("mirror",{fontCharacter:"\\ea69"}),i.mirrorPublic=new i("mirror-public",{fontCharacter:"\\ea69"}),i.star=new i("star",{fontCharacter:"\\ea6a"}),i.starAdd=new i("star-add",{fontCharacter:"\\ea6a"}),i.starDelete=new i("star-delete",{fontCharacter:"\\ea6a"}),i.starEmpty=new i("star-empty",{fontCharacter:"\\ea6a"}),i.comment=new i("comment",{fontCharacter:"\\ea6b"}),i.commentAdd=new i("comment-add",{fontCharacter:"\\ea6b"}),i.alert=new i("alert",{fontCharacter:"\\ea6c"}),i.warning=new i("warning",{fontCharacter:"\\ea6c"}),i.search=new i("search",{fontCharacter:"\\ea6d"}),i.searchSave=new i("search-save",{fontCharacter:"\\ea6d"}),i.logOut=new i("log-out",{fontCharacter:"\\ea6e"}),i.signOut=new i("sign-out",{fontCharacter:"\\ea6e"}),i.logIn=new i("log-in",{fontCharacter:"\\ea6f"}),i.signIn=new i("sign-in",{fontCharacter:"\\ea6f"}),i.eye=new i("eye",{fontCharacter:"\\ea70"}),i.eyeUnwatch=new i("eye-unwatch",{fontCharacter:"\\ea70"}),i.eyeWatch=new i("eye-watch",{fontCharacter:"\\ea70"}),i.circleFilled=new i("circle-filled",{fontCharacter:"\\ea71"}),i.primitiveDot=new i("primitive-dot",{fontCharacter:"\\ea71"}),i.closeDirty=new i("close-dirty",{fontCharacter:"\\ea71"}),i.debugBreakpoint=new i("debug-breakpoint",{fontCharacter:"\\ea71"}),i.debugBreakpointDisabled=new i("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),i.debugHint=new i("debug-hint",{fontCharacter:"\\ea71"}),i.primitiveSquare=new i("primitive-square",{fontCharacter:"\\ea72"}),i.edit=new i("edit",{fontCharacter:"\\ea73"}),i.pencil=new i("pencil",{fontCharacter:"\\ea73"}),i.info=new i("info",{fontCharacter:"\\ea74"}),i.issueOpened=new i("issue-opened",{fontCharacter:"\\ea74"}),i.gistPrivate=new i("gist-private",{fontCharacter:"\\ea75"}),i.gitForkPrivate=new i("git-fork-private",{fontCharacter:"\\ea75"}),i.lock=new i("lock",{fontCharacter:"\\ea75"}),i.mirrorPrivate=new i("mirror-private",{fontCharacter:"\\ea75"}),i.close=new i("close",{fontCharacter:"\\ea76"}),i.removeClose=new i("remove-close",{fontCharacter:"\\ea76"}),i.x=new i("x",{fontCharacter:"\\ea76"}),i.repoSync=new i("repo-sync",{fontCharacter:"\\ea77"}),i.sync=new i("sync",{fontCharacter:"\\ea77"}),i.clone=new i("clone",{fontCharacter:"\\ea78"}),i.desktopDownload=new i("desktop-download",{fontCharacter:"\\ea78"}),i.beaker=new i("beaker",{fontCharacter:"\\ea79"}),i.microscope=new i("microscope",{fontCharacter:"\\ea79"}),i.vm=new i("vm",{fontCharacter:"\\ea7a"}),i.deviceDesktop=new i("device-desktop",{fontCharacter:"\\ea7a"}),i.file=new i("file",{fontCharacter:"\\ea7b"}),i.fileText=new i("file-text",{fontCharacter:"\\ea7b"}),i.more=new i("more",{fontCharacter:"\\ea7c"}),i.ellipsis=new i("ellipsis",{fontCharacter:"\\ea7c"}),i.kebabHorizontal=new i("kebab-horizontal",{fontCharacter:"\\ea7c"}),i.mailReply=new i("mail-reply",{fontCharacter:"\\ea7d"}),i.reply=new i("reply",{fontCharacter:"\\ea7d"}),i.organization=new i("organization",{fontCharacter:"\\ea7e"}),i.organizationFilled=new i("organization-filled",{fontCharacter:"\\ea7e"}),i.organizationOutline=new i("organization-outline",{fontCharacter:"\\ea7e"}),i.newFile=new i("new-file",{fontCharacter:"\\ea7f"}),i.fileAdd=new i("file-add",{fontCharacter:"\\ea7f"}),i.newFolder=new i("new-folder",{fontCharacter:"\\ea80"}),i.fileDirectoryCreate=new i("file-directory-create",{fontCharacter:"\\ea80"}),i.trash=new i("trash",{fontCharacter:"\\ea81"}),i.trashcan=new i("trashcan",{fontCharacter:"\\ea81"}),i.history=new i("history",{fontCharacter:"\\ea82"}),i.clock=new i("clock",{fontCharacter:"\\ea82"}),i.folder=new i("folder",{fontCharacter:"\\ea83"}),i.fileDirectory=new i("file-directory",{fontCharacter:"\\ea83"}),i.symbolFolder=new i("symbol-folder",{fontCharacter:"\\ea83"}),i.logoGithub=new i("logo-github",{fontCharacter:"\\ea84"}),i.markGithub=new i("mark-github",{fontCharacter:"\\ea84"}),i.github=new i("github",{fontCharacter:"\\ea84"}),i.terminal=new i("terminal",{fontCharacter:"\\ea85"}),i.console=new i("console",{fontCharacter:"\\ea85"}),i.repl=new i("repl",{fontCharacter:"\\ea85"}),i.zap=new i("zap",{fontCharacter:"\\ea86"}),i.symbolEvent=new i("symbol-event",{fontCharacter:"\\ea86"}),i.error=new i("error",{fontCharacter:"\\ea87"}),i.stop=new i("stop",{fontCharacter:"\\ea87"}),i.variable=new i("variable",{fontCharacter:"\\ea88"}),i.symbolVariable=new i("symbol-variable",{fontCharacter:"\\ea88"}),i.array=new i("array",{fontCharacter:"\\ea8a"}),i.symbolArray=new i("symbol-array",{fontCharacter:"\\ea8a"}),i.symbolModule=new i("symbol-module",{fontCharacter:"\\ea8b"}),i.symbolPackage=new i("symbol-package",{fontCharacter:"\\ea8b"}),i.symbolNamespace=new i("symbol-namespace",{fontCharacter:"\\ea8b"}),i.symbolObject=new i("symbol-object",{fontCharacter:"\\ea8b"}),i.symbolMethod=new i("symbol-method",{fontCharacter:"\\ea8c"}),i.symbolFunction=new i("symbol-function",{fontCharacter:"\\ea8c"}),i.symbolConstructor=new i("symbol-constructor",{fontCharacter:"\\ea8c"}),i.symbolBoolean=new i("symbol-boolean",{fontCharacter:"\\ea8f"}),i.symbolNull=new i("symbol-null",{fontCharacter:"\\ea8f"}),i.symbolNumeric=new i("symbol-numeric",{fontCharacter:"\\ea90"}),i.symbolNumber=new i("symbol-number",{fontCharacter:"\\ea90"}),i.symbolStructure=new i("symbol-structure",{fontCharacter:"\\ea91"}),i.symbolStruct=new i("symbol-struct",{fontCharacter:"\\ea91"}),i.symbolParameter=new i("symbol-parameter",{fontCharacter:"\\ea92"}),i.symbolTypeParameter=new i("symbol-type-parameter",{fontCharacter:"\\ea92"}),i.symbolKey=new i("symbol-key",{fontCharacter:"\\ea93"}),i.symbolText=new i("symbol-text",{fontCharacter:"\\ea93"}),i.symbolReference=new i("symbol-reference",{fontCharacter:"\\ea94"}),i.goToFile=new i("go-to-file",{fontCharacter:"\\ea94"}),i.symbolEnum=new i("symbol-enum",{fontCharacter:"\\ea95"}),i.symbolValue=new i("symbol-value",{fontCharacter:"\\ea95"}),i.symbolRuler=new i("symbol-ruler",{fontCharacter:"\\ea96"}),i.symbolUnit=new i("symbol-unit",{fontCharacter:"\\ea96"}),i.activateBreakpoints=new i("activate-breakpoints",{fontCharacter:"\\ea97"}),i.archive=new i("archive",{fontCharacter:"\\ea98"}),i.arrowBoth=new i("arrow-both",{fontCharacter:"\\ea99"}),i.arrowDown=new i("arrow-down",{fontCharacter:"\\ea9a"}),i.arrowLeft=new i("arrow-left",{fontCharacter:"\\ea9b"}),i.arrowRight=new i("arrow-right",{fontCharacter:"\\ea9c"}),i.arrowSmallDown=new i("arrow-small-down",{fontCharacter:"\\ea9d"}),i.arrowSmallLeft=new i("arrow-small-left",{fontCharacter:"\\ea9e"}),i.arrowSmallRight=new i("arrow-small-right",{fontCharacter:"\\ea9f"}),i.arrowSmallUp=new i("arrow-small-up",{fontCharacter:"\\eaa0"}),i.arrowUp=new i("arrow-up",{fontCharacter:"\\eaa1"}),i.bell=new i("bell",{fontCharacter:"\\eaa2"}),i.bold=new i("bold",{fontCharacter:"\\eaa3"}),i.book=new i("book",{fontCharacter:"\\eaa4"}),i.bookmark=new i("bookmark",{fontCharacter:"\\eaa5"}),i.debugBreakpointConditionalUnverified=new i("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),i.debugBreakpointConditional=new i("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),i.debugBreakpointConditionalDisabled=new i("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),i.debugBreakpointDataUnverified=new i("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),i.debugBreakpointData=new i("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),i.debugBreakpointDataDisabled=new i("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),i.debugBreakpointLogUnverified=new i("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),i.debugBreakpointLog=new i("debug-breakpoint-log",{fontCharacter:"\\eaab"}),i.debugBreakpointLogDisabled=new i("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),i.briefcase=new i("briefcase",{fontCharacter:"\\eaac"}),i.broadcast=new i("broadcast",{fontCharacter:"\\eaad"}),i.browser=new i("browser",{fontCharacter:"\\eaae"}),i.bug=new i("bug",{fontCharacter:"\\eaaf"}),i.calendar=new i("calendar",{fontCharacter:"\\eab0"}),i.caseSensitive=new i("case-sensitive",{fontCharacter:"\\eab1"}),i.check=new i("check",{fontCharacter:"\\eab2"}),i.checklist=new i("checklist",{fontCharacter:"\\eab3"}),i.chevronDown=new i("chevron-down",{fontCharacter:"\\eab4"}),i.chevronLeft=new i("chevron-left",{fontCharacter:"\\eab5"}),i.chevronRight=new i("chevron-right",{fontCharacter:"\\eab6"}),i.chevronUp=new i("chevron-up",{fontCharacter:"\\eab7"}),i.chromeClose=new i("chrome-close",{fontCharacter:"\\eab8"}),i.chromeMaximize=new i("chrome-maximize",{fontCharacter:"\\eab9"}),i.chromeMinimize=new i("chrome-minimize",{fontCharacter:"\\eaba"}),i.chromeRestore=new i("chrome-restore",{fontCharacter:"\\eabb"}),i.circleOutline=new i("circle-outline",{fontCharacter:"\\eabc"}),i.debugBreakpointUnverified=new i("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),i.circleSlash=new i("circle-slash",{fontCharacter:"\\eabd"}),i.circuitBoard=new i("circuit-board",{fontCharacter:"\\eabe"}),i.clearAll=new i("clear-all",{fontCharacter:"\\eabf"}),i.clippy=new i("clippy",{fontCharacter:"\\eac0"}),i.closeAll=new i("close-all",{fontCharacter:"\\eac1"}),i.cloudDownload=new i("cloud-download",{fontCharacter:"\\eac2"}),i.cloudUpload=new i("cloud-upload",{fontCharacter:"\\eac3"}),i.code=new i("code",{fontCharacter:"\\eac4"}),i.collapseAll=new i("collapse-all",{fontCharacter:"\\eac5"}),i.colorMode=new i("color-mode",{fontCharacter:"\\eac6"}),i.commentDiscussion=new i("comment-discussion",{fontCharacter:"\\eac7"}),i.compareChanges=new i("compare-changes",{fontCharacter:"\\eafd"}),i.creditCard=new i("credit-card",{fontCharacter:"\\eac9"}),i.dash=new i("dash",{fontCharacter:"\\eacc"}),i.dashboard=new i("dashboard",{fontCharacter:"\\eacd"}),i.database=new i("database",{fontCharacter:"\\eace"}),i.debugContinue=new i("debug-continue",{fontCharacter:"\\eacf"}),i.debugDisconnect=new i("debug-disconnect",{fontCharacter:"\\ead0"}),i.debugPause=new i("debug-pause",{fontCharacter:"\\ead1"}),i.debugRestart=new i("debug-restart",{fontCharacter:"\\ead2"}),i.debugStart=new i("debug-start",{fontCharacter:"\\ead3"}),i.debugStepInto=new i("debug-step-into",{fontCharacter:"\\ead4"}),i.debugStepOut=new i("debug-step-out",{fontCharacter:"\\ead5"}),i.debugStepOver=new i("debug-step-over",{fontCharacter:"\\ead6"}),i.debugStop=new i("debug-stop",{fontCharacter:"\\ead7"}),i.debug=new i("debug",{fontCharacter:"\\ead8"}),i.deviceCameraVideo=new i("device-camera-video",{fontCharacter:"\\ead9"}),i.deviceCamera=new i("device-camera",{fontCharacter:"\\eada"}),i.deviceMobile=new i("device-mobile",{fontCharacter:"\\eadb"}),i.diffAdded=new i("diff-added",{fontCharacter:"\\eadc"}),i.diffIgnored=new i("diff-ignored",{fontCharacter:"\\eadd"}),i.diffModified=new i("diff-modified",{fontCharacter:"\\eade"}),i.diffRemoved=new i("diff-removed",{fontCharacter:"\\eadf"}),i.diffRenamed=new i("diff-renamed",{fontCharacter:"\\eae0"}),i.diff=new i("diff",{fontCharacter:"\\eae1"}),i.discard=new i("discard",{fontCharacter:"\\eae2"}),i.editorLayout=new i("editor-layout",{fontCharacter:"\\eae3"}),i.emptyWindow=new i("empty-window",{fontCharacter:"\\eae4"}),i.exclude=new i("exclude",{fontCharacter:"\\eae5"}),i.extensions=new i("extensions",{fontCharacter:"\\eae6"}),i.eyeClosed=new i("eye-closed",{fontCharacter:"\\eae7"}),i.fileBinary=new i("file-binary",{fontCharacter:"\\eae8"}),i.fileCode=new i("file-code",{fontCharacter:"\\eae9"}),i.fileMedia=new i("file-media",{fontCharacter:"\\eaea"}),i.filePdf=new i("file-pdf",{fontCharacter:"\\eaeb"}),i.fileSubmodule=new i("file-submodule",{fontCharacter:"\\eaec"}),i.fileSymlinkDirectory=new i("file-symlink-directory",{fontCharacter:"\\eaed"}),i.fileSymlinkFile=new i("file-symlink-file",{fontCharacter:"\\eaee"}),i.fileZip=new i("file-zip",{fontCharacter:"\\eaef"}),i.files=new i("files",{fontCharacter:"\\eaf0"}),i.filter=new i("filter",{fontCharacter:"\\eaf1"}),i.flame=new i("flame",{fontCharacter:"\\eaf2"}),i.foldDown=new i("fold-down",{fontCharacter:"\\eaf3"}),i.foldUp=new i("fold-up",{fontCharacter:"\\eaf4"}),i.fold=new i("fold",{fontCharacter:"\\eaf5"}),i.folderActive=new i("folder-active",{fontCharacter:"\\eaf6"}),i.folderOpened=new i("folder-opened",{fontCharacter:"\\eaf7"}),i.gear=new i("gear",{fontCharacter:"\\eaf8"}),i.gift=new i("gift",{fontCharacter:"\\eaf9"}),i.gistSecret=new i("gist-secret",{fontCharacter:"\\eafa"}),i.gist=new i("gist",{fontCharacter:"\\eafb"}),i.gitCommit=new i("git-commit",{fontCharacter:"\\eafc"}),i.gitCompare=new i("git-compare",{fontCharacter:"\\eafd"}),i.gitMerge=new i("git-merge",{fontCharacter:"\\eafe"}),i.githubAction=new i("github-action",{fontCharacter:"\\eaff"}),i.githubAlt=new i("github-alt",{fontCharacter:"\\eb00"}),i.globe=new i("globe",{fontCharacter:"\\eb01"}),i.grabber=new i("grabber",{fontCharacter:"\\eb02"}),i.graph=new i("graph",{fontCharacter:"\\eb03"}),i.gripper=new i("gripper",{fontCharacter:"\\eb04"}),i.heart=new i("heart",{fontCharacter:"\\eb05"}),i.home=new i("home",{fontCharacter:"\\eb06"}),i.horizontalRule=new i("horizontal-rule",{fontCharacter:"\\eb07"}),i.hubot=new i("hubot",{fontCharacter:"\\eb08"}),i.inbox=new i("inbox",{fontCharacter:"\\eb09"}),i.issueClosed=new i("issue-closed",{fontCharacter:"\\eb0a"}),i.issueReopened=new i("issue-reopened",{fontCharacter:"\\eb0b"}),i.issues=new i("issues",{fontCharacter:"\\eb0c"}),i.italic=new i("italic",{fontCharacter:"\\eb0d"}),i.jersey=new i("jersey",{fontCharacter:"\\eb0e"}),i.json=new i("json",{fontCharacter:"\\eb0f"}),i.kebabVertical=new i("kebab-vertical",{fontCharacter:"\\eb10"}),i.key=new i("key",{fontCharacter:"\\eb11"}),i.law=new i("law",{fontCharacter:"\\eb12"}),i.lightbulbAutofix=new i("lightbulb-autofix",{fontCharacter:"\\eb13"}),i.linkExternal=new i("link-external",{fontCharacter:"\\eb14"}),i.link=new i("link",{fontCharacter:"\\eb15"}),i.listOrdered=new i("list-ordered",{fontCharacter:"\\eb16"}),i.listUnordered=new i("list-unordered",{fontCharacter:"\\eb17"}),i.liveShare=new i("live-share",{fontCharacter:"\\eb18"}),i.loading=new i("loading",{fontCharacter:"\\eb19"}),i.location=new i("location",{fontCharacter:"\\eb1a"}),i.mailRead=new i("mail-read",{fontCharacter:"\\eb1b"}),i.mail=new i("mail",{fontCharacter:"\\eb1c"}),i.markdown=new i("markdown",{fontCharacter:"\\eb1d"}),i.megaphone=new i("megaphone",{fontCharacter:"\\eb1e"}),i.mention=new i("mention",{fontCharacter:"\\eb1f"}),i.milestone=new i("milestone",{fontCharacter:"\\eb20"}),i.mortarBoard=new i("mortar-board",{fontCharacter:"\\eb21"}),i.move=new i("move",{fontCharacter:"\\eb22"}),i.multipleWindows=new i("multiple-windows",{fontCharacter:"\\eb23"}),i.mute=new i("mute",{fontCharacter:"\\eb24"}),i.noNewline=new i("no-newline",{fontCharacter:"\\eb25"}),i.note=new i("note",{fontCharacter:"\\eb26"}),i.octoface=new i("octoface",{fontCharacter:"\\eb27"}),i.openPreview=new i("open-preview",{fontCharacter:"\\eb28"}),i.package_=new i("package",{fontCharacter:"\\eb29"}),i.paintcan=new i("paintcan",{fontCharacter:"\\eb2a"}),i.pin=new i("pin",{fontCharacter:"\\eb2b"}),i.play=new i("play",{fontCharacter:"\\eb2c"}),i.run=new i("run",{fontCharacter:"\\eb2c"}),i.plug=new i("plug",{fontCharacter:"\\eb2d"}),i.preserveCase=new i("preserve-case",{fontCharacter:"\\eb2e"}),i.preview=new i("preview",{fontCharacter:"\\eb2f"}),i.project=new i("project",{fontCharacter:"\\eb30"}),i.pulse=new i("pulse",{fontCharacter:"\\eb31"}),i.question=new i("question",{fontCharacter:"\\eb32"}),i.quote=new i("quote",{fontCharacter:"\\eb33"}),i.radioTower=new i("radio-tower",{fontCharacter:"\\eb34"}),i.reactions=new i("reactions",{fontCharacter:"\\eb35"}),i.references=new i("references",{fontCharacter:"\\eb36"}),i.refresh=new i("refresh",{fontCharacter:"\\eb37"}),i.regex=new i("regex",{fontCharacter:"\\eb38"}),i.remoteExplorer=new i("remote-explorer",{fontCharacter:"\\eb39"}),i.remote=new i("remote",{fontCharacter:"\\eb3a"}),i.remove=new i("remove",{fontCharacter:"\\eb3b"}),i.replaceAll=new i("replace-all",{fontCharacter:"\\eb3c"}),i.replace=new i("replace",{fontCharacter:"\\eb3d"}),i.repoClone=new i("repo-clone",{fontCharacter:"\\eb3e"}),i.repoForcePush=new i("repo-force-push",{fontCharacter:"\\eb3f"}),i.repoPull=new i("repo-pull",{fontCharacter:"\\eb40"}),i.repoPush=new i("repo-push",{fontCharacter:"\\eb41"}),i.report=new i("report",{fontCharacter:"\\eb42"}),i.requestChanges=new i("request-changes",{fontCharacter:"\\eb43"}),i.rocket=new i("rocket",{fontCharacter:"\\eb44"}),i.rootFolderOpened=new i("root-folder-opened",{fontCharacter:"\\eb45"}),i.rootFolder=new i("root-folder",{fontCharacter:"\\eb46"}),i.rss=new i("rss",{fontCharacter:"\\eb47"}),i.ruby=new i("ruby",{fontCharacter:"\\eb48"}),i.saveAll=new i("save-all",{fontCharacter:"\\eb49"}),i.saveAs=new i("save-as",{fontCharacter:"\\eb4a"}),i.save=new i("save",{fontCharacter:"\\eb4b"}),i.screenFull=new i("screen-full",{fontCharacter:"\\eb4c"}),i.screenNormal=new i("screen-normal",{fontCharacter:"\\eb4d"}),i.searchStop=new i("search-stop",{fontCharacter:"\\eb4e"}),i.server=new i("server",{fontCharacter:"\\eb50"}),i.settingsGear=new i("settings-gear",{fontCharacter:"\\eb51"}),i.settings=new i("settings",{fontCharacter:"\\eb52"}),i.shield=new i("shield",{fontCharacter:"\\eb53"}),i.smiley=new i("smiley",{fontCharacter:"\\eb54"}),i.sortPrecedence=new i("sort-precedence",{fontCharacter:"\\eb55"}),i.splitHorizontal=new i("split-horizontal",{fontCharacter:"\\eb56"}),i.splitVertical=new i("split-vertical",{fontCharacter:"\\eb57"}),i.squirrel=new i("squirrel",{fontCharacter:"\\eb58"}),i.starFull=new i("star-full",{fontCharacter:"\\eb59"}),i.starHalf=new i("star-half",{fontCharacter:"\\eb5a"}),i.symbolClass=new i("symbol-class",{fontCharacter:"\\eb5b"}),i.symbolColor=new i("symbol-color",{fontCharacter:"\\eb5c"}),i.symbolConstant=new i("symbol-constant",{fontCharacter:"\\eb5d"}),i.symbolEnumMember=new i("symbol-enum-member",{fontCharacter:"\\eb5e"}),i.symbolField=new i("symbol-field",{fontCharacter:"\\eb5f"}),i.symbolFile=new i("symbol-file",{fontCharacter:"\\eb60"}),i.symbolInterface=new i("symbol-interface",{fontCharacter:"\\eb61"}),i.symbolKeyword=new i("symbol-keyword",{fontCharacter:"\\eb62"}),i.symbolMisc=new i("symbol-misc",{fontCharacter:"\\eb63"}),i.symbolOperator=new i("symbol-operator",{fontCharacter:"\\eb64"}),i.symbolProperty=new i("symbol-property",{fontCharacter:"\\eb65"}),i.wrench=new i("wrench",{fontCharacter:"\\eb65"}),i.wrenchSubaction=new i("wrench-subaction",{fontCharacter:"\\eb65"}),i.symbolSnippet=new i("symbol-snippet",{fontCharacter:"\\eb66"}),i.tasklist=new i("tasklist",{fontCharacter:"\\eb67"}),i.telescope=new i("telescope",{fontCharacter:"\\eb68"}),i.textSize=new i("text-size",{fontCharacter:"\\eb69"}),i.threeBars=new i("three-bars",{fontCharacter:"\\eb6a"}),i.thumbsdown=new i("thumbsdown",{fontCharacter:"\\eb6b"}),i.thumbsup=new i("thumbsup",{fontCharacter:"\\eb6c"}),i.tools=new i("tools",{fontCharacter:"\\eb6d"}),i.triangleDown=new i("triangle-down",{fontCharacter:"\\eb6e"}),i.triangleLeft=new i("triangle-left",{fontCharacter:"\\eb6f"}),i.triangleRight=new i("triangle-right",{fontCharacter:"\\eb70"}),i.triangleUp=new i("triangle-up",{fontCharacter:"\\eb71"}),i.twitter=new i("twitter",{fontCharacter:"\\eb72"}),i.unfold=new i("unfold",{fontCharacter:"\\eb73"}),i.unlock=new i("unlock",{fontCharacter:"\\eb74"}),i.unmute=new i("unmute",{fontCharacter:"\\eb75"}),i.unverified=new i("unverified",{fontCharacter:"\\eb76"}),i.verified=new i("verified",{fontCharacter:"\\eb77"}),i.versions=new i("versions",{fontCharacter:"\\eb78"}),i.vmActive=new i("vm-active",{fontCharacter:"\\eb79"}),i.vmOutline=new i("vm-outline",{fontCharacter:"\\eb7a"}),i.vmRunning=new i("vm-running",{fontCharacter:"\\eb7b"}),i.watch=new i("watch",{fontCharacter:"\\eb7c"}),i.whitespace=new i("whitespace",{fontCharacter:"\\eb7d"}),i.wholeWord=new i("whole-word",{fontCharacter:"\\eb7e"}),i.window=new i("window",{fontCharacter:"\\eb7f"}),i.wordWrap=new i("word-wrap",{fontCharacter:"\\eb80"}),i.zoomIn=new i("zoom-in",{fontCharacter:"\\eb81"}),i.zoomOut=new i("zoom-out",{fontCharacter:"\\eb82"}),i.listFilter=new i("list-filter",{fontCharacter:"\\eb83"}),i.listFlat=new i("list-flat",{fontCharacter:"\\eb84"}),i.listSelection=new i("list-selection",{fontCharacter:"\\eb85"}),i.selection=new i("selection",{fontCharacter:"\\eb85"}),i.listTree=new i("list-tree",{fontCharacter:"\\eb86"}),i.debugBreakpointFunctionUnverified=new i("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),i.debugBreakpointFunction=new i("debug-breakpoint-function",{fontCharacter:"\\eb88"}),i.debugBreakpointFunctionDisabled=new i("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),i.debugStackframeActive=new i("debug-stackframe-active",{fontCharacter:"\\eb89"}),i.debugStackframeDot=new i("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),i.debugStackframe=new i("debug-stackframe",{fontCharacter:"\\eb8b"}),i.debugStackframeFocused=new i("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),i.debugBreakpointUnsupported=new i("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),i.symbolString=new i("symbol-string",{fontCharacter:"\\eb8d"}),i.debugReverseContinue=new i("debug-reverse-continue",{fontCharacter:"\\eb8e"}),i.debugStepBack=new i("debug-step-back",{fontCharacter:"\\eb8f"}),i.debugRestartFrame=new i("debug-restart-frame",{fontCharacter:"\\eb90"}),i.callIncoming=new i("call-incoming",{fontCharacter:"\\eb92"}),i.callOutgoing=new i("call-outgoing",{fontCharacter:"\\eb93"}),i.menu=new i("menu",{fontCharacter:"\\eb94"}),i.expandAll=new i("expand-all",{fontCharacter:"\\eb95"}),i.feedback=new i("feedback",{fontCharacter:"\\eb96"}),i.groupByRefType=new i("group-by-ref-type",{fontCharacter:"\\eb97"}),i.ungroupByRefType=new i("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),i.account=new i("account",{fontCharacter:"\\eb99"}),i.bellDot=new i("bell-dot",{fontCharacter:"\\eb9a"}),i.debugConsole=new i("debug-console",{fontCharacter:"\\eb9b"}),i.library=new i("library",{fontCharacter:"\\eb9c"}),i.output=new i("output",{fontCharacter:"\\eb9d"}),i.runAll=new i("run-all",{fontCharacter:"\\eb9e"}),i.syncIgnored=new i("sync-ignored",{fontCharacter:"\\eb9f"}),i.pinned=new i("pinned",{fontCharacter:"\\eba0"}),i.githubInverted=new i("github-inverted",{fontCharacter:"\\eba1"}),i.debugAlt=new i("debug-alt",{fontCharacter:"\\eb91"}),i.serverProcess=new i("server-process",{fontCharacter:"\\eba2"}),i.serverEnvironment=new i("server-environment",{fontCharacter:"\\eba3"}),i.pass=new i("pass",{fontCharacter:"\\eba4"}),i.stopCircle=new i("stop-circle",{fontCharacter:"\\eba5"}),i.playCircle=new i("play-circle",{fontCharacter:"\\eba6"}),i.record=new i("record",{fontCharacter:"\\eba7"}),i.debugAltSmall=new i("debug-alt-small",{fontCharacter:"\\eba8"}),i.vmConnect=new i("vm-connect",{fontCharacter:"\\eba9"}),i.cloud=new i("cloud",{fontCharacter:"\\ebaa"}),i.merge=new i("merge",{fontCharacter:"\\ebab"}),i.exportIcon=new i("export",{fontCharacter:"\\ebac"}),i.graphLeft=new i("graph-left",{fontCharacter:"\\ebad"}),i.magnet=new i("magnet",{fontCharacter:"\\ebae"}),i.notebook=new i("notebook",{fontCharacter:"\\ebaf"}),i.redo=new i("redo",{fontCharacter:"\\ebb0"}),i.checkAll=new i("check-all",{fontCharacter:"\\ebb1"}),i.pinnedDirty=new i("pinned-dirty",{fontCharacter:"\\ebb2"}),i.passFilled=new i("pass-filled",{fontCharacter:"\\ebb3"}),i.circleLargeFilled=new i("circle-large-filled",{fontCharacter:"\\ebb4"}),i.circleLargeOutline=new i("circle-large-outline",{fontCharacter:"\\ebb5"}),i.combine=new i("combine",{fontCharacter:"\\ebb6"}),i.gather=new i("gather",{fontCharacter:"\\ebb6"}),i.table=new i("table",{fontCharacter:"\\ebb7"}),i.variableGroup=new i("variable-group",{fontCharacter:"\\ebb8"}),i.typeHierarchy=new i("type-hierarchy",{fontCharacter:"\\ebb9"}),i.typeHierarchySub=new i("type-hierarchy-sub",{fontCharacter:"\\ebba"}),i.typeHierarchySuper=new i("type-hierarchy-super",{fontCharacter:"\\ebbb"}),i.gitPullRequestCreate=new i("git-pull-request-create",{fontCharacter:"\\ebbc"}),i.runAbove=new i("run-above",{fontCharacter:"\\ebbd"}),i.runBelow=new i("run-below",{fontCharacter:"\\ebbe"}),i.notebookTemplate=new i("notebook-template",{fontCharacter:"\\ebbf"}),i.debugRerun=new i("debug-rerun",{fontCharacter:"\\ebc0"}),i.workspaceTrusted=new i("workspace-trusted",{fontCharacter:"\\ebc1"}),i.workspaceUntrusted=new i("workspace-untrusted",{fontCharacter:"\\ebc2"}),i.workspaceUnspecified=new i("workspace-unspecified",{fontCharacter:"\\ebc3"}),i.terminalCmd=new i("terminal-cmd",{fontCharacter:"\\ebc4"}),i.terminalDebian=new i("terminal-debian",{fontCharacter:"\\ebc5"}),i.terminalLinux=new i("terminal-linux",{fontCharacter:"\\ebc6"}),i.terminalPowershell=new i("terminal-powershell",{fontCharacter:"\\ebc7"}),i.terminalTmux=new i("terminal-tmux",{fontCharacter:"\\ebc8"}),i.terminalUbuntu=new i("terminal-ubuntu",{fontCharacter:"\\ebc9"}),i.terminalBash=new i("terminal-bash",{fontCharacter:"\\ebca"}),i.arrowSwap=new i("arrow-swap",{fontCharacter:"\\ebcb"}),i.copy=new i("copy",{fontCharacter:"\\ebcc"}),i.personAdd=new i("person-add",{fontCharacter:"\\ebcd"}),i.filterFilled=new i("filter-filled",{fontCharacter:"\\ebce"}),i.wand=new i("wand",{fontCharacter:"\\ebcf"}),i.debugLineByLine=new i("debug-line-by-line",{fontCharacter:"\\ebd0"}),i.inspect=new i("inspect",{fontCharacter:"\\ebd1"}),i.dropDownButton=new i("drop-down-button",i.chevronDown.definition)}(m=e.Codicon||(e.Codicon={}))}),define(ie[200],ne([0,1,27]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treeItemLoadingIcon=e.treeFilterClearIcon=e.treeFilterOnTypeOffIcon=e.treeFilterOnTypeOnIcon=e.treeItemExpandedIcon=void 0,e.treeItemExpandedIcon=_.registerCodicon("tree-item-expanded",_.Codicon.chevronDown),e.treeFilterOnTypeOnIcon=_.registerCodicon("tree-filter-on-type-on",_.Codicon.listFilter),e.treeFilterOnTypeOffIcon=_.registerCodicon("tree-filter-on-type-off",_.Codicon.listSelection),e.treeFilterClearIcon=_.registerCodicon("tree-filter-clear",_.Codicon.close),e.treeItemLoadingIcon=_.registerCodicon("tree-item-loading",_.Codicon.loading)}),define(ie[292],ne([0,1,15]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const k=new _.IdleValue(()=>{const m=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:m,collatorIsNumeric:m.resolvedOptions().numeric}});function M(m,v,i=!1){const C=m||"",s=v||"",o=k.value.collator.compare(C,s);return k.value.collatorIsNumeric&&o===0&&C!==s?C<s?-1:1:o}e.compareFileNames=M;function L(m,v,i){const C=m.toLowerCase(),s=v.toLowerCase(),o=S(m,v,i);if(o)return o;const a=C.endsWith(i),c=s.endsWith(i);if(a!==c)return a?-1:1;const u=M(C,s);return u!==0?u:C.localeCompare(s)}e.compareAnything=L;function S(m,v,i){const C=m.toLowerCase(),s=v.toLowerCase(),o=C.startsWith(i),a=s.startsWith(i);if(o!==a)return o?-1:1;if(o&&a){if(C.length<s.length)return-1;if(C.length>s.length)return 1}return 0}e.compareByPrefix=S}),define(ie[127],ne([0,1,6,2]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class M{constructor(a,c,u,r,n,l){this._scrollStateBrand=void 0,a=a|0,c=c|0,u=u|0,r=r|0,n=n|0,l=l|0,this.rawScrollLeft=u,this.rawScrollTop=l,a<0&&(a=0),u+a>c&&(u=c-a),u<0&&(u=0),r<0&&(r=0),l+r>n&&(l=n-r),l<0&&(l=0),this.width=a,this.scrollWidth=c,this.scrollLeft=u,this.height=r,this.scrollHeight=n,this.scrollTop=l}equals(a){return this.rawScrollLeft===a.rawScrollLeft&&this.rawScrollTop===a.rawScrollTop&&this.width===a.width&&this.scrollWidth===a.scrollWidth&&this.scrollLeft===a.scrollLeft&&this.height===a.height&&this.scrollHeight===a.scrollHeight&&this.scrollTop===a.scrollTop}withScrollDimensions(a,c){return new M(typeof a.width!="undefined"?a.width:this.width,typeof a.scrollWidth!="undefined"?a.scrollWidth:this.scrollWidth,c?this.rawScrollLeft:this.scrollLeft,typeof a.height!="undefined"?a.height:this.height,typeof a.scrollHeight!="undefined"?a.scrollHeight:this.scrollHeight,c?this.rawScrollTop:this.scrollTop)}withScrollPosition(a){return new M(this.width,this.scrollWidth,typeof a.scrollLeft!="undefined"?a.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof a.scrollTop!="undefined"?a.scrollTop:this.rawScrollTop)}createScrollEvent(a,c){const u=this.width!==a.width,r=this.scrollWidth!==a.scrollWidth,n=this.scrollLeft!==a.scrollLeft,l=this.height!==a.height,t=this.scrollHeight!==a.scrollHeight,d=this.scrollTop!==a.scrollTop;return{inSmoothScrolling:c,oldWidth:a.width,oldScrollWidth:a.scrollWidth,oldScrollLeft:a.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:a.height,oldScrollHeight:a.scrollHeight,oldScrollTop:a.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:u,scrollWidthChanged:r,scrollLeftChanged:n,heightChanged:l,scrollHeightChanged:t,scrollTopChanged:d}}}e.ScrollState=M;class L extends k.Disposable{constructor(a,c){super();this._scrollableBrand=void 0,this._onScroll=this._register(new _.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=a,this._scheduleAtNextAnimationFrame=c,this._state=new M(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(a){this._smoothScrollDuration=a}validateScrollPosition(a){return this._state.withScrollPosition(a)}getScrollDimensions(){return this._state}setScrollDimensions(a,c){const u=this._state.withScrollDimensions(a,c);this._setState(u,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(a){const c=this._state.withScrollPosition(a);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(c,!1)}setScrollPositionSmooth(a,c){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(a);if(this._smoothScrolling){a={scrollLeft:typeof a.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:a.scrollLeft,scrollTop:typeof a.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:a.scrollTop};const u=this._state.withScrollPosition(a);if(this._smoothScrolling.to.scrollLeft===u.scrollLeft&&this._smoothScrolling.to.scrollTop===u.scrollTop)return;let r;c?r=new i(this._smoothScrolling.from,u,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,u,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const u=this._state.withScrollPosition(a);this._smoothScrolling=i.start(this._state,u,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const a=this._smoothScrolling.tick(),c=this._state.withScrollPosition(a);if(this._setState(c,!0),!!this._smoothScrolling){if(a.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(a,c){const u=this._state;u.equals(a)||(this._state=a,this._onScroll.fire(this._state.createScrollEvent(u,c)))}}e.Scrollable=L;class S{constructor(a,c,u){this.scrollLeft=a,this.scrollTop=c,this.isDone=u}}e.SmoothScrollingUpdate=S;function m(o,a){const c=a-o;return function(u){return o+c*s(u)}}function v(o,a,c){return function(u){return u<c?o(u/c):a((u-c)/(1-c))}}class i{constructor(a,c,u,r){this.from=a,this.to=c,this.duration=r,this.startTime=u,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(a,c,u){if(Math.abs(a-c)>2.5*u){let n,l;return a<c?(n=a+.75*u,l=c-.75*u):(n=a-.75*u,l=c+.75*u),v(m(a,n),m(l,c),.33)}return m(a,c)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(a){this.to=a.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(a){const c=(a-this.startTime)/this.duration;if(c<1){const u=this.scrollLeft(c),r=this.scrollTop(c);return new S(u,r,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(a,c,u){return i.start(a,c,u)}static start(a,c,u){u=u+10;const r=Date.now()-10;return new i(a,c,r,u)}}e.SmoothScrollingOperation=i;function C(o){return Math.pow(o,3)}function s(o){return 1-C(1-o)}}),define(ie[8],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLeftDeleteOffset=e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.decodeUTF8=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function _(K){return!K||typeof K!="string"?!0:K.trim().length===0}e.isFalsyOrWhitespace=_;const k=/{(\d+)}/g;function M(K,...re){return re.length===0?K:K.replace(k,function(Y,se){const ge=parseInt(se,10);return isNaN(ge)||ge<0||ge>=re.length?Y:re[ge]})}e.format=M;function L(K){return K.replace(/[<>&]/g,function(re){switch(re){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return re}})}e.escape=L;function S(K){return K.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=S;function m(K,re=" "){const Y=v(K,re);return i(Y,re)}e.trim=m;function v(K,re){if(!K||!re)return K;const Y=re.length;if(Y===0||K.length===0)return K;let se=0;for(;K.indexOf(re,se)===se;)se=se+Y;return K.substring(se)}e.ltrim=v;function i(K,re){if(!K||!re)return K;const Y=re.length,se=K.length;if(Y===0||se===0)return K;let ge=se,pe=-1;for(;pe=K.lastIndexOf(re,ge-1),!(pe===-1||pe+Y!==ge);){if(pe===0)return"";ge=pe}return K.substring(0,ge)}e.rtrim=i;function C(K){return K.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=C;function s(K){return K.replace(/\*/g,"")}e.stripWildcards=s;function o(K,re,Y={}){if(!K)throw new Error("Cannot create regex from empty string");re||(K=S(K)),Y.wholeWord&&(/\B/.test(K.charAt(0))||(K="\\b"+K),/\B/.test(K.charAt(K.length-1))||(K=K+"\\b"));let se="";return Y.global&&(se+="g"),Y.matchCase||(se+="i"),Y.multiline&&(se+="m"),Y.unicode&&(se+="u"),new RegExp(K,se)}e.createRegExp=o;function a(K){return K.source==="^"||K.source==="^$"||K.source==="$"||K.source==="^\\s*$"?!1:!!(K.exec("")&&K.lastIndex===0)}e.regExpLeadsToEndlessLoop=a;function c(K){return(K.global?"g":"")+(K.ignoreCase?"i":"")+(K.multiline?"m":"")+(K.unicode?"u":"")}e.regExpFlags=c;function u(K){return K.split(/\r\n|\r|\n/)}e.splitLines=u;function r(K){for(let re=0,Y=K.length;re<Y;re++){const se=K.charCodeAt(re);if(se!==32&&se!==9)return re}return-1}e.firstNonWhitespaceIndex=r;function n(K,re=0,Y=K.length){for(let se=re;se<Y;se++){const ge=K.charCodeAt(se);if(ge!==32&&ge!==9)return K.substring(re,se)}return K.substring(re,Y)}e.getLeadingWhitespace=n;function l(K,re=K.length-1){for(let Y=re;Y>=0;Y--){const se=K.charCodeAt(Y);if(se!==32&&se!==9)return Y}return-1}e.lastNonWhitespaceIndex=l;function t(K,re){return K<re?-1:K>re?1:0}e.compare=t;function d(K,re,Y=0,se=K.length,ge=0,pe=re.length){for(;Y<se&&ge<pe;Y++,ge++){let Ee=K.charCodeAt(Y),Te=re.charCodeAt(ge);if(Ee<Te)return-1;if(Ee>Te)return 1}const ve=se-Y,Le=pe-ge;return ve<Le?-1:ve>Le?1:0}e.compareSubstring=d;function h(K,re){return p(K,re,0,K.length,0,re.length)}e.compareIgnoreCase=h;function p(K,re,Y=0,se=K.length,ge=0,pe=re.length){for(;Y<se&&ge<pe;Y++,ge++){let Ee=K.charCodeAt(Y),Te=re.charCodeAt(ge);if(Ee===Te)continue;const De=Ee-Te;if(!(De===32&&b(Te))&&!(De===-32&&b(Ee)))return w(Ee)&&w(Te)?De:d(K.toLowerCase(),re.toLowerCase(),Y,se,ge,pe)}const ve=se-Y,Le=pe-ge;return ve<Le?-1:ve>Le?1:0}e.compareSubstringIgnoreCase=p;function w(K){return K>=97&&K<=122}e.isLowerAsciiLetter=w;function b(K){return K>=65&&K<=90}e.isUpperAsciiLetter=b;function g(K){return w(K)||b(K)}function f(K,re){return K.length===re.length&&y(K,re)}e.equalsIgnoreCase=f;function y(K,re,Y=K.length){for(let se=0;se<Y;se++){const ge=K.charCodeAt(se),pe=re.charCodeAt(se);if(ge!==pe){if(g(ge)&&g(pe)){const ve=Math.abs(ge-pe);if(ve!==0&&ve!==32)return!1}else if(String.fromCharCode(ge).toLowerCase()!==String.fromCharCode(pe).toLowerCase())return!1}}return!0}function I(K,re){const Y=re.length;return re.length>K.length?!1:y(K,re,Y)}e.startsWithIgnoreCase=I;function N(K,re){let Y,se=Math.min(K.length,re.length);for(Y=0;Y<se;Y++)if(K.charCodeAt(Y)!==re.charCodeAt(Y))return Y;return se}e.commonPrefixLength=N;function D(K,re){let Y,se=Math.min(K.length,re.length);const ge=K.length-1,pe=re.length-1;for(Y=0;Y<se;Y++)if(K.charCodeAt(ge-Y)!==re.charCodeAt(pe-Y))return Y;return se}e.commonSuffixLength=D;function T(K){return 55296<=K&&K<=56319}e.isHighSurrogate=T;function P(K){return 56320<=K&&K<=57343}e.isLowSurrogate=P;function R(K,re){return(K-55296<<10)+(re-56320)+65536}e.computeCodePoint=R;function O(K,re,Y){const se=K.charCodeAt(Y);if(T(se)&&Y+1<re){const ge=K.charCodeAt(Y+1);if(P(ge))return R(se,ge)}return se}e.getNextCodePoint=O;function A(K,re){const Y=K.charCodeAt(re-1);if(P(Y)&&re>1){const se=K.charCodeAt(re-2);if(T(se))return R(se,Y)}return Y}function F(K,re){const Y=G.getInstance(),se=re,ge=K.length,pe=O(K,ge,re);re+=pe>=65536?2:1;let ve=Y.getGraphemeBreakType(pe);for(;re<ge;){const Le=O(K,ge,re),Ee=Y.getGraphemeBreakType(Le);if(x(ve,Ee))break;re+=Le>=65536?2:1,ve=Ee}return re-se}e.nextCharLength=F;function E(K,re){const Y=G.getInstance(),se=re,ge=A(K,re);re-=ge>=65536?2:1;let pe=Y.getGraphemeBreakType(ge);for(;re>0;){const ve=A(K,re),Le=Y.getGraphemeBreakType(ve);if(x(Le,pe))break;re-=ve>=65536?2:1,pe=Le}return se-re}e.prevCharLength=E;function W(K){const re=K.byteLength,Y=[];let se=0;for(;se<re;){const ge=K[se];let pe;if(ge>=240&&se+3<re?pe=(K[se++]&7)<<18>>>0|(K[se++]&63)<<12>>>0|(K[se++]&63)<<6>>>0|(K[se++]&63)<<0>>>0:ge>=224&&se+2<re?pe=(K[se++]&15)<<12>>>0|(K[se++]&63)<<6>>>0|(K[se++]&63)<<0>>>0:ge>=192&&se+1<re?pe=(K[se++]&31)<<6>>>0|(K[se++]&63)<<0>>>0:pe=K[se++],pe>=0&&pe<=55295||pe>=57344&&pe<=65535)Y.push(String.fromCharCode(pe));else if(pe>=65536&&pe<=1114111){const ve=pe-65536,Le=55296+((ve&1047552)>>>10),Ee=56320+((ve&1023)>>>0);Y.push(String.fromCharCode(Le)),Y.push(String.fromCharCode(Ee))}else Y.push(String.fromCharCode(65533))}return Y.join("")}e.decodeUTF8=W;const V=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function U(K){return V.test(K)}e.containsRTL=U;const q=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function j(K){return q.test(K)}e.containsEmoji=j;const te=/^[\t\n\r\x20-\x7E]*$/;function ae(K){return te.test(K)}e.isBasicASCII=ae,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function de(K){return e.UNUSUAL_LINE_TERMINATORS.test(K)}e.containsUnusualLineTerminators=de;function ue(K){for(let re=0,Y=K.length;re<Y;re++)if(X(K.charCodeAt(re)))return!0;return!1}e.containsFullWidthCharacter=ue;function X(K){return K=+K,K>=11904&&K<=55215||K>=63744&&K<=64255||K>=65281&&K<=65374}e.isFullWidthCharacter=X;function B(K){return K>=127462&&K<=127487||K===8986||K===8987||K===9200||K===9203||K>=9728&&K<=10175||K===11088||K===11093||K>=127744&&K<=128591||K>=128640&&K<=128764||K>=128992&&K<=129003||K>=129280&&K<=129535||K>=129648&&K<=129750}e.isEmojiImprecise=B,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function Z(K){return!!(K&&K.length>0&&K.charCodeAt(0)===65279)}e.startsWithUTF8BOM=Z;function H(K,re=!1){return K?(re&&(K=K.replace(/\\./g,"")),K.toLowerCase()!==K):!1}e.containsUppercaseCharacter=H;function z(K){const re=90-65+1;return K=K%(2*re),K<re?String.fromCharCode(97+K):String.fromCharCode(65+K-re)}e.singleLetterHash=z;function ee(K){return G.getInstance().getGraphemeBreakType(K)}e.getGraphemeBreakType=ee;function x(K,re){return K===0?re!==5&&re!==7:K===2&&re===3?!1:K===4||K===2||K===3||re===4||re===2||re===3?!0:!(K===8&&(re===8||re===9||re===11||re===12)||(K===11||K===9)&&(re===9||re===10)||(K===12||K===10)&&re===10||re===5||re===13||re===7||K===1||K===13&&re===14||K===6&&re===6)}e.breakBetweenGraphemeBreakType=x;class G{constructor(){this._data=Q()}static getInstance(){return G._INSTANCE||(G._INSTANCE=new G),G._INSTANCE}getGraphemeBreakType(re){if(re<32)return re===10?3:re===13?2:4;if(re<127)return 0;const Y=this._data,se=Y.length/3;let ge=1;for(;ge<=se;)if(re<Y[3*ge])ge=2*ge;else if(re>Y[3*ge+1])ge=2*ge+1;else return Y[3*ge+2];return 0}}G._INSTANCE=null;function Q(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function J(K,re){if(K===0)return 0;const Y=le(K,re);if(Y!==void 0)return Y;const se=A(re,K);return K-=oe(se),K}e.getLeftDeleteOffset=J;function le(K,re){let Y=A(re,K);for(K-=oe(Y);he(Y)||Y===65039||Y===8419;){if(K===0)return;Y=A(re,K),K-=oe(Y)}if(!!B(Y)){if(K>=0){const se=A(re,K);se===8205&&(K-=oe(se))}return K}}function oe(K){return K>=65536?2:1}function he(K){return 127995<=K&&K<=127999}}),define(ie[102],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const k=typeof Buffer!="undefined",M=typeof TextDecoder!="undefined";let L;class S{constructor(c){this.buffer=c,this.byteLength=this.buffer.byteLength}static wrap(c){return k&&!Buffer.isBuffer(c)&&(c=Buffer.from(c.buffer,c.byteOffset,c.byteLength)),new S(c)}toString(){return k?this.buffer.toString():M?(L||(L=new TextDecoder),L.decode(this.buffer)):_.decodeUTF8(this.buffer)}}e.VSBuffer=S;function m(a,c){return a[c+0]<<0>>>0|a[c+1]<<8>>>0}e.readUInt16LE=m;function v(a,c,u){a[u+0]=c&255,c=c>>>8,a[u+1]=c&255}e.writeUInt16LE=v;function i(a,c){return a[c]*Math.pow(2,24)+a[c+1]*Math.pow(2,16)+a[c+2]*Math.pow(2,8)+a[c+3]}e.readUInt32BE=i;function C(a,c,u){a[u+3]=c,c=c>>>8,a[u+2]=c,c=c>>>8,a[u+1]=c,c=c>>>8,a[u]=c}e.writeUInt32BE=C;function s(a,c){return a[c]}e.readUInt8=s;function o(a,c,u){a[u]=c}e.writeUInt8=o}),define(ie[157],ne([0,1,17,8,72]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.toPosixPath=e.toSlashes=void 0;function L(s){return s.replace(/[\\/]/g,M.posix.sep)}e.toSlashes=L;function S(s){return s.indexOf("/")===-1&&(s=L(s)),/^[a-zA-Z]:(\/|$)/.test(s)&&(s="/"+s),s}e.toPosixPath=S;function m(s,o,a,c=M.sep){if(s===o)return!0;if(!s||!o||o.length>s.length)return!1;if(a){if(!k.startsWithIgnoreCase(s,o))return!1;if(o.length===s.length)return!0;let r=o.length;return o.charAt(o.length-1)===c&&r--,s.charAt(r)===c}return o.charAt(o.length-1)!==c&&(o+=c),s.indexOf(o)===0}e.isEqualOrParent=m;function v(s){return s>=65&&s<=90||s>=97&&s<=122}e.isWindowsDriveLetter=v;function i(s){const o=M.normalize(s);return _.isWindows?s.length>3?!1:C(o)&&(s.length===2||o.charCodeAt(2)===92):o===M.posix.sep}e.isRootOrDriveLetter=i;function C(s){return _.isWindows?v(s.charCodeAt(0))&&s.charCodeAt(1)===58:!1}e.hasDriveLetter=C}),define(ie[92],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.doHash=e.hash=void 0;function k(u){return M(u,0)}e.hash=k;function M(u,r){switch(typeof u){case"object":return u===null?L(349,r):Array.isArray(u)?v(u,r):i(u,r);case"string":return m(u,r);case"boolean":return S(u,r);case"number":return L(u,r);case"undefined":return L(937,r);default:return L(617,r)}}e.doHash=M;function L(u,r){return(r<<5)-r+u|0}function S(u,r){return L(u?433:863,r)}function m(u,r){r=L(149417,r);for(let n=0,l=u.length;n<l;n++)r=L(u.charCodeAt(n),r);return r}e.stringHash=m;function v(u,r){return r=L(104579,r),u.reduce((n,l)=>M(l,n),r)}function i(u,r){return r=L(181387,r),Object.keys(u).sort().reduce((n,l)=>(n=m(l,n),M(u[l],n)),r)}function C(u,r,n=32){const l=n-r,t=~((1<<l)-1);return(u<<r|(t&u)>>>l)>>>0}function s(u,r=0,n=u.byteLength,l=0){for(let t=0;t<n;t++)u[r+t]=l}function o(u,r,n="0"){for(;u.length<r;)u=n+u;return u}function a(u,r=32){return u instanceof ArrayBuffer?Array.from(new Uint8Array(u)).map(n=>n.toString(16).padStart(2,"0")).join(""):o((u>>>0).toString(16),r/4)}e.toHexString=a;class c{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(r){const n=r.length;if(n===0)return;const l=this._buff;let t=this._buffLen,d=this._leftoverHighSurrogate,h,p;for(d!==0?(h=d,p=-1,d=0):(h=r.charCodeAt(0),p=0);;){let w=h;if(_.isHighSurrogate(h))if(p+1<n){const b=r.charCodeAt(p+1);_.isLowSurrogate(b)?(p++,w=_.computeCodePoint(h,b)):w=65533}else{d=h;break}else _.isLowSurrogate(h)&&(w=65533);if(t=this._push(l,t,w),p++,p<n)h=r.charCodeAt(p);else break}this._buffLen=t,this._leftoverHighSurrogate=d}_push(r,n,l){return l<128?r[n++]=l:l<2048?(r[n++]=192|(l&1984)>>>6,r[n++]=128|(l&63)>>>0):l<65536?(r[n++]=224|(l&61440)>>>12,r[n++]=128|(l&4032)>>>6,r[n++]=128|(l&63)>>>0):(r[n++]=240|(l&1835008)>>>18,r[n++]=128|(l&258048)>>>12,r[n++]=128|(l&4032)>>>6,r[n++]=128|(l&63)>>>0),n>=64&&(this._step(),n-=64,this._totalLen+=64,r[0]=r[64+0],r[1]=r[64+1],r[2]=r[64+2]),n}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),a(this._h0)+a(this._h1)+a(this._h2)+a(this._h3)+a(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,s(this._buff,this._buffLen),this._buffLen>56&&(this._step(),s(this._buff));const r=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(r/4294967296),!1),this._buffDV.setUint32(60,r%4294967296,!1),this._step()}_step(){const r=c._bigBlock32,n=this._buffDV;for(let f=0;f<64;f+=4)r.setUint32(f,n.getUint32(f,!1),!1);for(let f=64;f<320;f+=4)r.setUint32(f,C(r.getUint32(f-12,!1)^r.getUint32(f-32,!1)^r.getUint32(f-56,!1)^r.getUint32(f-64,!1),1),!1);let l=this._h0,t=this._h1,d=this._h2,h=this._h3,p=this._h4,w,b,g;for(let f=0;f<80;f++)f<20?(w=t&d|~t&h,b=1518500249):f<40?(w=t^d^h,b=1859775393):f<60?(w=t&d|t&h|d&h,b=2400959708):(w=t^d^h,b=3395469782),g=C(l,5)+w+p+b+r.getUint32(f*4,!1)&4294967295,p=h,h=d,d=C(t,30),t=l,l=g;this._h0=this._h0+l&4294967295,this._h1=this._h1+t&4294967295,this._h2=this._h2+d&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+p&4294967295}}e.StringSHA1=c,c._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ie[128],ne([0,1,286,92]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class M{constructor(s){this.source=s}getElements(){const s=this.source,o=new Int32Array(s.length);for(let a=0,c=s.length;a<c;a++)o[a]=s.charCodeAt(a);return o}}e.StringDiffSequence=M;function L(C,s,o){return new i(new M(C),new M(s)).ComputeDiff(o).changes}e.stringDiff=L;class S{static Assert(s,o){if(!s)throw new Error(o)}}e.Debug=S;class m{static Copy(s,o,a,c,u){for(let r=0;r<u;r++)a[c+r]=s[o+r]}static Copy2(s,o,a,c,u){for(let r=0;r<u;r++)a[c+r]=s[o+r]}}e.MyArray=m;class v{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new _.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(s,o){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,o),this.m_originalCount++}AddModifiedElement(s,o){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,o),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class i{constructor(s,o,a=null){this.ContinueProcessingPredicate=a,this._originalSequence=s,this._modifiedSequence=o;const[c,u,r]=i._getElements(s),[n,l,t]=i._getElements(o);this._hasStrings=r&&t,this._originalStringElements=c,this._originalElementsOrHash=u,this._modifiedStringElements=n,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(s){return s.length>0&&typeof s[0]=="string"}static _getElements(s){const o=s.getElements();if(i._isStringArray(o)){const a=new Int32Array(o.length);for(let c=0,u=o.length;c<u;c++)a[c]=k.stringHash(o[c],0);return[o,a,!0]}return o instanceof Int32Array?[[],o,!1]:[[],new Int32Array(o),!1]}ElementsAreEqual(s,o){return this._originalElementsOrHash[s]!==this._modifiedElementsOrHash[o]?!1:this._hasStrings?this._originalStringElements[s]===this._modifiedStringElements[o]:!0}ElementsAreStrictEqual(s,o){if(!this.ElementsAreEqual(s,o))return!1;const a=i._getStrictElement(this._originalSequence,s),c=i._getStrictElement(this._modifiedSequence,o);return a===c}static _getStrictElement(s,o){return typeof s.getStrictElement=="function"?s.getStrictElement(o):null}OriginalElementsAreEqual(s,o){return this._originalElementsOrHash[s]!==this._originalElementsOrHash[o]?!1:this._hasStrings?this._originalStringElements[s]===this._originalStringElements[o]:!0}ModifiedElementsAreEqual(s,o){return this._modifiedElementsOrHash[s]!==this._modifiedElementsOrHash[o]?!1:this._hasStrings?this._modifiedStringElements[s]===this._modifiedStringElements[o]:!0}ComputeDiff(s){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,s)}_ComputeDiff(s,o,a,c,u){const r=[!1];let n=this.ComputeDiffRecursive(s,o,a,c,r);return u&&(n=this.PrettifyChanges(n)),{quitEarly:r[0],changes:n}}ComputeDiffRecursive(s,o,a,c,u){for(u[0]=!1;s<=o&&a<=c&&this.ElementsAreEqual(s,a);)s++,a++;for(;o>=s&&c>=a&&this.ElementsAreEqual(o,c);)o--,c--;if(s>o||a>c){let h;return a<=c?(S.Assert(s===o+1,"originalStart should only be one more than originalEnd"),h=[new _.DiffChange(s,0,a,c-a+1)]):s<=o?(S.Assert(a===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[new _.DiffChange(s,o-s+1,a,0)]):(S.Assert(s===o+1,"originalStart should only be one more than originalEnd"),S.Assert(a===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const r=[0],n=[0],l=this.ComputeRecursionPoint(s,o,a,c,r,n,u),t=r[0],d=n[0];if(l!==null)return l;if(!u[0]){const h=this.ComputeDiffRecursive(s,t,a,d,u);let p=[];return u[0]?p=[new _.DiffChange(t+1,o-(t+1)+1,d+1,c-(d+1)+1)]:p=this.ComputeDiffRecursive(t+1,o,d+1,c,u),this.ConcatenateChanges(h,p)}return[new _.DiffChange(s,o-s+1,a,c-a+1)]}WALKTRACE(s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y,I){let N=null,D=null,T=new v,P=o,R=a,O=w[0]-f[0]-c,A=-1073741824,F=this.m_forwardHistory.length-1;do{const E=O+s;E===P||E<R&&t[E-1]<t[E+1]?(h=t[E+1],b=h-O-c,h<A&&T.MarkNextChange(),A=h,T.AddModifiedElement(h+1,b),O=E+1-s):(h=t[E-1]+1,b=h-O-c,h<A&&T.MarkNextChange(),A=h-1,T.AddOriginalElement(h,b+1),O=E-1-s),F>=0&&(t=this.m_forwardHistory[F],s=t[0],P=1,R=t.length-1)}while(--F>=-1);if(N=T.getReverseChanges(),I[0]){let E=w[0]+1,W=f[0]+1;if(N!==null&&N.length>0){const V=N[N.length-1];E=Math.max(E,V.getOriginalEnd()),W=Math.max(W,V.getModifiedEnd())}D=[new _.DiffChange(E,p-E+1,W,g-W+1)]}else{T=new v,P=r,R=n,O=w[0]-f[0]-l,A=1073741824,F=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const E=O+u;E===P||E<R&&d[E-1]>=d[E+1]?(h=d[E+1]-1,b=h-O-l,h>A&&T.MarkNextChange(),A=h+1,T.AddOriginalElement(h+1,b+1),O=E+1-u):(h=d[E-1],b=h-O-l,h>A&&T.MarkNextChange(),A=h,T.AddModifiedElement(h+1,b+1),O=E-1-u),F>=0&&(d=this.m_reverseHistory[F],u=d[0],P=1,R=d.length-1)}while(--F>=-1);D=T.getChanges()}return this.ConcatenateChanges(N,D)}ComputeRecursionPoint(s,o,a,c,u,r,n){let l=0,t=0,d=0,h=0,p=0,w=0;s--,a--,u[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const b=o-s+(c-a),g=b+1,f=new Int32Array(g),y=new Int32Array(g),I=c-a,N=o-s,D=s-a,T=o-c,R=(N-I)%2==0;f[I]=s,y[N]=o,n[0]=!1;for(let O=1;O<=b/2+1;O++){let A=0,F=0;d=this.ClipDiagonalBound(I-O,O,I,g),h=this.ClipDiagonalBound(I+O,O,I,g);for(let W=d;W<=h;W+=2){W===d||W<h&&f[W-1]<f[W+1]?l=f[W+1]:l=f[W-1]+1,t=l-(W-I)-D;const V=l;for(;l<o&&t<c&&this.ElementsAreEqual(l+1,t+1);)l++,t++;if(f[W]=l,l+t>A+F&&(A=l,F=t),!R&&Math.abs(W-N)<=O-1&&l>=y[W])return u[0]=l,r[0]=t,V<=y[W]&&1447>0&&O<=1447+1?this.WALKTRACE(I,d,h,D,N,p,w,T,f,y,l,o,u,t,c,r,R,n):null}const E=(A-s+(F-a)-O)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(A,E))return n[0]=!0,u[0]=A,r[0]=F,E>0&&1447>0&&O<=1447+1?this.WALKTRACE(I,d,h,D,N,p,w,T,f,y,l,o,u,t,c,r,R,n):(s++,a++,[new _.DiffChange(s,o-s+1,a,c-a+1)]);p=this.ClipDiagonalBound(N-O,O,N,g),w=this.ClipDiagonalBound(N+O,O,N,g);for(let W=p;W<=w;W+=2){W===p||W<w&&y[W-1]>=y[W+1]?l=y[W+1]-1:l=y[W-1],t=l-(W-N)-T;const V=l;for(;l>s&&t>a&&this.ElementsAreEqual(l,t);)l--,t--;if(y[W]=l,R&&Math.abs(W-I)<=O&&l<=f[W])return u[0]=l,r[0]=t,V>=f[W]&&1447>0&&O<=1447+1?this.WALKTRACE(I,d,h,D,N,p,w,T,f,y,l,o,u,t,c,r,R,n):null}if(O<=1447){let W=new Int32Array(h-d+2);W[0]=I-d+1,m.Copy2(f,d,W,1,h-d+1),this.m_forwardHistory.push(W),W=new Int32Array(w-p+2),W[0]=N-p+1,m.Copy2(y,p,W,1,w-p+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(I,d,h,D,N,p,w,T,f,y,l,o,u,t,c,r,R,n)}PrettifyChanges(s){for(let o=0;o<s.length;o++){const a=s[o],c=o<s.length-1?s[o+1].originalStart:this._originalElementsOrHash.length,u=o<s.length-1?s[o+1].modifiedStart:this._modifiedElementsOrHash.length,r=a.originalLength>0,n=a.modifiedLength>0;for(;a.originalStart+a.originalLength<c&&a.modifiedStart+a.modifiedLength<u&&(!r||this.OriginalElementsAreEqual(a.originalStart,a.originalStart+a.originalLength))&&(!n||this.ModifiedElementsAreEqual(a.modifiedStart,a.modifiedStart+a.modifiedLength));){const t=this.ElementsAreStrictEqual(a.originalStart,a.modifiedStart);if(this.ElementsAreStrictEqual(a.originalStart+a.originalLength,a.modifiedStart+a.modifiedLength)&&!t)break;a.originalStart++,a.modifiedStart++}let l=[null];if(o<s.length-1&&this.ChangesOverlap(s[o],s[o+1],l)){s[o]=l[0],s.splice(o+1,1),o--;continue}}for(let o=s.length-1;o>=0;o--){const a=s[o];let c=0,u=0;if(o>0){const h=s[o-1];c=h.originalStart+h.originalLength,u=h.modifiedStart+h.modifiedLength}const r=a.originalLength>0,n=a.modifiedLength>0;let l=0,t=this._boundaryScore(a.originalStart,a.originalLength,a.modifiedStart,a.modifiedLength);for(let h=1;;h++){const p=a.originalStart-h,w=a.modifiedStart-h;if(p<c||w<u||r&&!this.OriginalElementsAreEqual(p,p+a.originalLength)||n&&!this.ModifiedElementsAreEqual(w,w+a.modifiedLength))break;const g=(p===c&&w===u?5:0)+this._boundaryScore(p,a.originalLength,w,a.modifiedLength);g>t&&(t=g,l=h)}a.originalStart-=l,a.modifiedStart-=l;const d=[null];if(o>0&&this.ChangesOverlap(s[o-1],s[o],d)){s[o-1]=d[0],s.splice(o,1),o++;continue}}if(this._hasStrings)for(let o=1,a=s.length;o<a;o++){const c=s[o-1],u=s[o],r=u.originalStart-c.originalStart-c.originalLength,n=c.originalStart,l=u.originalStart+u.originalLength,t=l-n,d=c.modifiedStart,h=u.modifiedStart+u.modifiedLength,p=h-d;if(r<5&&t<20&&p<20){const w=this._findBetterContiguousSequence(n,t,d,p,r);if(w){const[b,g]=w;(b!==c.originalStart+c.originalLength||g!==c.modifiedStart+c.modifiedLength)&&(c.originalLength=b-c.originalStart,c.modifiedLength=g-c.modifiedStart,u.originalStart=b+r,u.modifiedStart=g+r,u.originalLength=l-u.originalStart,u.modifiedLength=h-u.modifiedStart)}}}return s}_findBetterContiguousSequence(s,o,a,c,u){if(o<u||c<u)return null;const r=s+o-u+1,n=a+c-u+1;let l=0,t=0,d=0;for(let h=s;h<r;h++)for(let p=a;p<n;p++){const w=this._contiguousSequenceScore(h,p,u);w>0&&w>l&&(l=w,t=h,d=p)}return l>0?[t,d]:null}_contiguousSequenceScore(s,o,a){let c=0;for(let u=0;u<a;u++){if(!this.ElementsAreEqual(s+u,o+u))return 0;c+=this._originalStringElements[s+u].length}return c}_OriginalIsBoundary(s){return s<=0||s>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[s])}_OriginalRegionIsBoundary(s,o){if(this._OriginalIsBoundary(s)||this._OriginalIsBoundary(s-1))return!0;if(o>0){const a=s+o;if(this._OriginalIsBoundary(a-1)||this._OriginalIsBoundary(a))return!0}return!1}_ModifiedIsBoundary(s){return s<=0||s>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[s])}_ModifiedRegionIsBoundary(s,o){if(this._ModifiedIsBoundary(s)||this._ModifiedIsBoundary(s-1))return!0;if(o>0){const a=s+o;if(this._ModifiedIsBoundary(a-1)||this._ModifiedIsBoundary(a))return!0}return!1}_boundaryScore(s,o,a,c){const u=this._OriginalRegionIsBoundary(s,o)?1:0,r=this._ModifiedRegionIsBoundary(a,c)?1:0;return u+r}ConcatenateChanges(s,o){let a=[];if(s.length===0||o.length===0)return o.length>0?o:s;if(this.ChangesOverlap(s[s.length-1],o[0],a)){const c=new Array(s.length+o.length-1);return m.Copy(s,0,c,0,s.length-1),c[s.length-1]=a[0],m.Copy(o,1,c,s.length,o.length-1),c}else{const c=new Array(s.length+o.length);return m.Copy(s,0,c,0,s.length),m.Copy(o,0,c,s.length,o.length),c}}ChangesOverlap(s,o,a){if(S.Assert(s.originalStart<=o.originalStart,"Left change is not less than or equal to right change"),S.Assert(s.modifiedStart<=o.modifiedStart,"Left change is not less than or equal to right change"),s.originalStart+s.originalLength>=o.originalStart||s.modifiedStart+s.modifiedLength>=o.modifiedStart){const c=s.originalStart;let u=s.originalLength;const r=s.modifiedStart;let n=s.modifiedLength;return s.originalStart+s.originalLength>=o.originalStart&&(u=o.originalStart+o.originalLength-s.originalStart),s.modifiedStart+s.modifiedLength>=o.modifiedStart&&(n=o.modifiedStart+o.modifiedLength-s.modifiedStart),a[0]=new _.DiffChange(c,u,r,n),!0}else return a[0]=null,!1}ClipDiagonalBound(s,o,a,c){if(s>=0&&s<c)return s;const u=a,r=c-a-1,n=o%2==0;if(s<0){const l=u%2==0;return n===l?0:1}else{const l=r%2==0;return n===l?c-1:c-2}}}e.LcsDiff=i}),define(ie[158],ne([0,1,100,19,128,6,53]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function m(s){return typeof s=="object"&&"visibility"in s&&"data"in s}e.isFilterResult=m;function v(s){switch(s){case!0:return 1;case!1:return 0;default:return s}}e.getVisibleState=v;function i(s){return typeof s.collapsible=="boolean"}class C{constructor(o,a,c,u={}){this.user=o,this.list=a,this.rootRef=[],this.eventBufferer=new L.EventBufferer,this._onDidChangeCollapseState=new L.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new L.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new L.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof u.collapseByDefault=="undefined"?!1:u.collapseByDefault,this.filter=u.filter,this.autoExpandSingleChildren=typeof u.autoExpandSingleChildren=="undefined"?!1:u.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(o,a,c=S.Iterable.empty(),u={}){if(o.length===0)throw new _.TreeError(this.user,"Invalid tree location");u.diffIdentityProvider?this.spliceSmart(u.diffIdentityProvider,o,a,c,u):this.spliceSimple(o,a,c,u)}spliceSmart(o,a,c,u,r,n){var l;u===void 0&&(u=S.Iterable.empty()),n===void 0&&(n=(l=r.diffDepth)!==null&&l!==void 0?l:0);const{parentNode:t}=this.getParentNodeWithListIndex(a),d=[...u],h=a[a.length-1],p=new M.LcsDiff({getElements:()=>t.children.map(y=>o.getId(y.element).toString())},{getElements:()=>[...t.children.slice(0,h),...d,...t.children.slice(h+c)].map(y=>o.getId(y.element).toString())}).ComputeDiff(!1);if(p.quitEarly)return this.spliceSimple(a,c,d,r);const w=a.slice(0,-1),b=(y,I,N)=>{if(n>0)for(let D=0;D<N;D++)y--,I--,this.spliceSmart(o,[...w,y,0],Number.MAX_SAFE_INTEGER,d[I].children,r,n-1)};let g=Math.min(t.children.length,h+c),f=d.length;for(const y of p.changes.sort((I,N)=>N.originalStart-I.originalStart))b(g,f,g-(y.originalStart+y.originalLength)),g=y.originalStart,f=y.modifiedStart-h,this.spliceSimple([...w,g],y.originalLength,S.Iterable.slice(d,f,f+y.modifiedLength),r);b(g,f,g)}spliceSimple(o,a,c=S.Iterable.empty(),{onDidCreateNode:u,onDidDeleteNode:r}){const{parentNode:n,listIndex:l,revealed:t,visible:d}=this.getParentNodeWithListIndex(o),h=[],p=S.Iterable.map(c,R=>this.createTreeNode(R,n,n.visible?1:0,t,h,u)),w=o[o.length-1],b=n.children.length>0;let g=0;for(let R=w;R>=0&&R<n.children.length;R--){const O=n.children[R];if(O.visible){g=O.visibleChildIndex;break}}const f=[];let y=0,I=0;for(const R of p)f.push(R),I+=R.renderNodeCount,R.visible&&(R.visibleChildIndex=g+y++);const N=n.children.splice(w,a,...f);let D=0;for(const R of N)R.visible&&D++;if(D!==0)for(let R=w+f.length;R<n.children.length;R++){const O=n.children[R];O.visible&&(O.visibleChildIndex-=D)}if(n.visibleChildrenCount+=y-D,t&&d){const R=N.reduce((O,A)=>O+(A.visible?A.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(n,I-R),this.list.splice(l,R,h)}if(N.length>0&&r){const R=O=>{r(O),O.children.forEach(R)};N.forEach(R)}const T=n.children.length>0;b!==T&&this.setCollapsible(o.slice(0,-1),T),this._onDidSplice.fire({insertedNodes:f,deletedNodes:N});let P=n;for(;P;){if(P.visibility===2){this.refilter();break}P=P.parent}}rerender(o){if(o.length===0)throw new _.TreeError(this.user,"Invalid tree location");const{node:a,listIndex:c,revealed:u}=this.getTreeNodeWithListIndex(o);a.visible&&u&&this.list.splice(c,1,[a])}has(o){return this.hasTreeNode(o)}getListIndex(o){const{listIndex:a,visible:c,revealed:u}=this.getTreeNodeWithListIndex(o);return c&&u?a:-1}getListRenderCount(o){return this.getTreeNode(o).renderNodeCount}isCollapsible(o){return this.getTreeNode(o).collapsible}setCollapsible(o,a){const c=this.getTreeNode(o);typeof a=="undefined"&&(a=!c.collapsible);const u={collapsible:a};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(o,u))}isCollapsed(o){return this.getTreeNode(o).collapsed}setCollapsed(o,a,c){const u=this.getTreeNode(o);typeof a=="undefined"&&(a=!u.collapsed);const r={collapsed:a,recursive:c||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(o,r))}_setCollapseState(o,a){const{node:c,listIndex:u,revealed:r}=this.getTreeNodeWithListIndex(o),n=this._setListNodeCollapseState(c,u,r,a);if(c!==this.root&&this.autoExpandSingleChildren&&n&&!i(a)&&c.collapsible&&!c.collapsed&&!a.recursive){let l=-1;for(let t=0;t<c.children.length;t++)if(c.children[t].visible)if(l>-1){l=-1;break}else l=t;l>-1&&this._setCollapseState([...o,l],a)}return n}_setListNodeCollapseState(o,a,c,u){const r=this._setNodeCollapseState(o,u,!1);if(!c||!o.visible||!r)return r;const n=o.renderNodeCount,l=this.updateNodeAfterCollapseChange(o),t=n-(a===-1?0:1);return this.list.splice(a+1,t,l.slice(1)),r}_setNodeCollapseState(o,a,c){let u;if(o===this.root?u=!1:(i(a)?(u=o.collapsible!==a.collapsible,o.collapsible=a.collapsible):o.collapsible?(u=o.collapsed!==a.collapsed,o.collapsed=a.collapsed):u=!1,u&&this._onDidChangeCollapseState.fire({node:o,deep:c})),!i(a)&&a.recursive)for(const r of o.children)u=this._setNodeCollapseState(r,a,!0)||u;return u}expandTo(o){this.eventBufferer.bufferEvents(()=>{let a=this.getTreeNode(o);for(;a.parent;)a=a.parent,o=o.slice(0,o.length-1),a.collapsed&&this._setCollapseState(o,{collapsed:!1,recursive:!1})})}refilter(){const o=this.root.renderNodeCount,a=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,o,a)}createTreeNode(o,a,c,u,r,n){const l={parent:a,element:o.element,children:[],depth:a.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof o.collapsible=="boolean"?o.collapsible:typeof o.collapsed!="undefined",collapsed:typeof o.collapsed=="undefined"?this.collapseByDefault:o.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},t=this._filterNode(l,c);l.visibility=t,u&&r.push(l);const d=o.children||S.Iterable.empty(),h=u&&t!==0&&!l.collapsed,p=S.Iterable.map(d,g=>this.createTreeNode(g,l,t,h,r,n));let w=0,b=1;for(const g of p)l.children.push(g),b+=g.renderNodeCount,g.visible&&(g.visibleChildIndex=w++);return l.collapsible=l.collapsible||l.children.length>0,l.visibleChildrenCount=w,l.visible=t===2?w>0:t===1,l.visible?l.collapsed||(l.renderNodeCount=b):(l.renderNodeCount=0,u&&r.pop()),n&&n(l),l}updateNodeAfterCollapseChange(o){const a=o.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(o,c),this._updateAncestorsRenderNodeCount(o.parent,c.length-a),c}_updateNodeAfterCollapseChange(o,a){if(o.visible===!1)return 0;if(a.push(o),o.renderNodeCount=1,!o.collapsed)for(const c of o.children)o.renderNodeCount+=this._updateNodeAfterCollapseChange(c,a);return this._onDidChangeRenderNodeCount.fire(o),o.renderNodeCount}updateNodeAfterFilterChange(o){const a=o.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(o,o.visible?1:0,c),this._updateAncestorsRenderNodeCount(o.parent,c.length-a),c}_updateNodeAfterFilterChange(o,a,c,u=!0){let r;if(o!==this.root){if(r=this._filterNode(o,a),r===0)return o.visible=!1,o.renderNodeCount=0,!1;u&&c.push(o)}const n=c.length;o.renderNodeCount=o===this.root?0:1;let l=!1;if(!o.collapsed||r!==0){let t=0;for(const d of o.children)l=this._updateNodeAfterFilterChange(d,r,c,u&&!o.collapsed)||l,d.visible&&(d.visibleChildIndex=t++);o.visibleChildrenCount=t}else o.visibleChildrenCount=0;return o!==this.root&&(o.visible=r===2?l:r===1),o.visible?o.collapsed||(o.renderNodeCount+=c.length-n):(o.renderNodeCount=0,u&&c.pop()),this._onDidChangeRenderNodeCount.fire(o),o.visible}_updateAncestorsRenderNodeCount(o,a){if(a!==0)for(;o;)o.renderNodeCount+=a,this._onDidChangeRenderNodeCount.fire(o),o=o.parent}_filterNode(o,a){const c=this.filter?this.filter.filter(o.element,a):1;return typeof c=="boolean"?(o.filterData=void 0,c?1:0):m(c)?(o.filterData=c.data,v(c.visibility)):(o.filterData=void 0,v(c))}hasTreeNode(o,a=this.root){if(!o||o.length===0)return!0;const[c,...u]=o;return c<0||c>a.children.length?!1:this.hasTreeNode(u,a.children[c])}getTreeNode(o,a=this.root){if(!o||o.length===0)return a;const[c,...u]=o;if(c<0||c>a.children.length)throw new _.TreeError(this.user,"Invalid tree location");return this.getTreeNode(u,a.children[c])}getTreeNodeWithListIndex(o){if(o.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:a,listIndex:c,revealed:u,visible:r}=this.getParentNodeWithListIndex(o),n=o[o.length-1];if(n<0||n>a.children.length)throw new _.TreeError(this.user,"Invalid tree location");const l=a.children[n];return{node:l,listIndex:c,revealed:u,visible:r&&l.visible}}getParentNodeWithListIndex(o,a=this.root,c=0,u=!0,r=!0){const[n,...l]=o;if(n<0||n>a.children.length)throw new _.TreeError(this.user,"Invalid tree location");for(let t=0;t<n;t++)c+=a.children[t].renderNodeCount;return u=u&&!a.collapsed,r=r&&a.visible,l.length===0?{parentNode:a,listIndex:c,revealed:u,visible:r}:this.getParentNodeWithListIndex(l,a.children[n],c+1,u,r)}getNode(o=[]){return this.getTreeNode(o)}getNodeLocation(o){const a=[];let c=o;for(;c.parent;)a.push(c.parent.children.indexOf(c)),c=c.parent;return a.reverse()}getParentNodeLocation(o){if(o.length!==0)return o.length===1?[]:k.tail2(o)[0]}}e.IndexTreeModel=C}),define(ie[159],ne([0,1,53,158,100]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class L{constructor(m,v,i={}){this.user=m,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new k.IndexTreeModel(m,v,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(C,s){return i.sorter.compare(C.element,s.element)}}),this.identityProvider=i.identityProvider}setChildren(m,v=_.Iterable.empty(),i={}){const C=this.getElementLocation(m);this._setChildren(C,this.preserveCollapseState(v),i)}_setChildren(m,v=_.Iterable.empty(),i){const C=new Set,s=new Set,o=c=>{var u;if(c.element===null)return;const r=c;if(C.add(r.element),this.nodes.set(r.element,r),this.identityProvider){const n=this.identityProvider.getId(r.element).toString();s.add(n),this.nodesByIdentity.set(n,r)}(u=i.onDidCreateNode)===null||u===void 0||u.call(i,r)},a=c=>{var u;if(c.element===null)return;const r=c;if(C.has(r.element)||this.nodes.delete(r.element),this.identityProvider){const n=this.identityProvider.getId(r.element).toString();s.has(n)||this.nodesByIdentity.delete(n)}(u=i.onDidDeleteNode)===null||u===void 0||u.call(i,r)};this.model.splice([...m,0],Number.MAX_VALUE,v,Object.assign(Object.assign({},i),{onDidCreateNode:o,onDidDeleteNode:a}))}preserveCollapseState(m=_.Iterable.empty()){return this.sorter&&(m=[...m].sort(this.sorter.compare.bind(this.sorter))),_.Iterable.map(m,v=>{let i=this.nodes.get(v.element);if(!i&&this.identityProvider){const o=this.identityProvider.getId(v.element).toString();i=this.nodesByIdentity.get(o)}if(!i)return Object.assign(Object.assign({},v),{children:this.preserveCollapseState(v.children)});const C=typeof v.collapsible=="boolean"?v.collapsible:i.collapsible,s=typeof v.collapsed!="undefined"?v.collapsed:i.collapsed;return Object.assign(Object.assign({},v),{collapsible:C,collapsed:s,children:this.preserveCollapseState(v.children)})})}rerender(m){const v=this.getElementLocation(m);this.model.rerender(v)}has(m){return this.nodes.has(m)}getListIndex(m){const v=this.getElementLocation(m);return this.model.getListIndex(v)}getListRenderCount(m){const v=this.getElementLocation(m);return this.model.getListRenderCount(v)}isCollapsible(m){const v=this.getElementLocation(m);return this.model.isCollapsible(v)}setCollapsible(m,v){const i=this.getElementLocation(m);return this.model.setCollapsible(i,v)}isCollapsed(m){const v=this.getElementLocation(m);return this.model.isCollapsed(v)}setCollapsed(m,v,i){const C=this.getElementLocation(m);return this.model.setCollapsed(C,v,i)}expandTo(m){const v=this.getElementLocation(m);this.model.expandTo(v)}refilter(){this.model.refilter()}getNode(m=null){if(m===null)return this.model.getNode(this.model.rootRef);const v=this.nodes.get(m);if(!v)throw new M.TreeError(this.user,`Tree element not found: ${m}`);return v}getNodeLocation(m){return m.element}getParentNodeLocation(m){if(m===null)throw new M.TreeError(this.user,"Invalid getParentNodeLocation call");const v=this.nodes.get(m);if(!v)throw new M.TreeError(this.user,`Tree element not found: ${m}`);const i=this.model.getNodeLocation(v),C=this.model.getParentNodeLocation(i);return this.model.getNode(C).element}getElementLocation(m){if(m===null)return[];const v=this.nodes.get(m);if(!v)throw new M.TreeError(this.user,`Tree element not found: ${m}`);return this.model.getNodeLocation(v)}}e.ObjectTreeModel=L}),define(ie[293],ne([0,1,53,6,100,159]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function S(l){const t=[l.element],d=l.incompressible||!1;return{element:{elements:t,incompressible:d},children:_.Iterable.map(_.Iterable.from(l.children),S),collapsible:l.collapsible,collapsed:l.collapsed}}function m(l){const t=[l.element],d=l.incompressible||!1;let h,p;for(;[p,h]=_.Iterable.consume(_.Iterable.from(l.children),2),!(p.length!==1||p[0].incompressible);)l=p[0],t.push(l.element);return{element:{elements:t,incompressible:d},children:_.Iterable.map(_.Iterable.concat(p,h),m),collapsible:l.collapsible,collapsed:l.collapsed}}e.compress=m;function v(l,t=0){let d;return t<l.element.elements.length-1?d=[v(l,t+1)]:d=_.Iterable.map(_.Iterable.from(l.children),h=>v(h,0)),t===0&&l.element.incompressible?{element:l.element.elements[t],children:d,incompressible:!0,collapsible:l.collapsible,collapsed:l.collapsed}:{element:l.element.elements[t],children:d,collapsible:l.collapsible,collapsed:l.collapsed}}function i(l){return v(l,0)}e.decompress=i;function C(l,t,d){return l.element===t?Object.assign(Object.assign({},l),{children:d}):Object.assign(Object.assign({},l),{children:_.Iterable.map(_.Iterable.from(l.children),h=>C(h,t,d))})}const s=l=>({getId(t){return t.elements.map(d=>l.getId(d).toString()).join("\0")}});class o{constructor(t,d,h={}){this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new L.ObjectTreeModel(t,d,h),this.enabled=typeof h.compressionEnabled=="undefined"?!0:h.compressionEnabled,this.identityProvider=h.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(t,d=_.Iterable.empty(),h){const p=h.diffIdentityProvider&&s(h.diffIdentityProvider);if(t===null){const T=_.Iterable.map(d,this.enabled?m:S);this._setChildren(null,T,{diffIdentityProvider:p,diffDepth:Infinity});return}const w=this.nodes.get(t);if(!w)throw new Error("Unknown compressed tree node");const b=this.model.getNode(w),g=this.model.getParentNodeLocation(w),f=this.model.getNode(g),y=i(b),I=C(y,t,d),N=(this.enabled?m:S)(I),D=f.children.map(T=>T===b?N:T);this._setChildren(f.element,D,{diffIdentityProvider:p,diffDepth:b.depth-f.depth})}setCompressionEnabled(t){if(t===this.enabled)return;this.enabled=t;const h=this.model.getNode().children,p=_.Iterable.map(h,i),w=_.Iterable.map(p,t?m:S);this._setChildren(null,w,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}_setChildren(t,d,h){const p=new Set,w=g=>{for(const f of g.element.elements)p.add(f),this.nodes.set(f,g.element)},b=g=>{for(const f of g.element.elements)p.has(f)||this.nodes.delete(f)};this.model.setChildren(t,d,Object.assign(Object.assign({},h),{onDidCreateNode:w,onDidDeleteNode:b}))}has(t){return this.nodes.has(t)}getListIndex(t){const d=this.getCompressedNode(t);return this.model.getListIndex(d)}getListRenderCount(t){const d=this.getCompressedNode(t);return this.model.getListRenderCount(d)}getNode(t){if(typeof t=="undefined")return this.model.getNode();const d=this.getCompressedNode(t);return this.model.getNode(d)}getNodeLocation(t){const d=this.model.getNodeLocation(t);return d===null?null:d.elements[d.elements.length-1]}getParentNodeLocation(t){const d=this.getCompressedNode(t),h=this.model.getParentNodeLocation(d);return h===null?null:h.elements[h.elements.length-1]}isCollapsible(t){const d=this.getCompressedNode(t);return this.model.isCollapsible(d)}setCollapsible(t,d){const h=this.getCompressedNode(t);return this.model.setCollapsible(h,d)}isCollapsed(t){const d=this.getCompressedNode(t);return this.model.isCollapsed(d)}setCollapsed(t,d,h){const p=this.getCompressedNode(t);return this.model.setCollapsed(p,d,h)}expandTo(t){const d=this.getCompressedNode(t);this.model.expandTo(d)}rerender(t){const d=this.getCompressedNode(t);this.model.rerender(d)}refilter(){this.model.refilter()}getCompressedNode(t){if(t===null)return null;const d=this.nodes.get(t);if(!d)throw new M.TreeError(this.user,`Tree element not found: ${t}`);return d}}e.CompressedObjectTreeModel=o;const a=l=>l[l.length-1];e.DefaultElementMapper=a;class c{constructor(t,d){this.unwrapper=t,this.node=d}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(t=>new c(this.unwrapper,t))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function u(l,t){return{splice(d,h,p){t.splice(d,h,p.map(w=>l.map(w)))},updateElementHeight(d,h){t.updateElementHeight(d,h)}}}function r(l,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId(d){return t.identityProvider.getId(l(d))}},sorter:t.sorter&&{compare(d,h){return t.sorter.compare(d.elements[0],h.elements[0])}},filter:t.filter&&{filter(d,h){return t.filter.filter(l(d),h)}}})}class n{constructor(t,d,h={}){this.rootRef=null,this.elementMapper=h.elementMapper||e.DefaultElementMapper;const p=w=>this.elementMapper(w.elements);this.nodeMapper=new M.WeakMapper(w=>new c(p,w)),this.model=new o(t,u(this.nodeMapper,d),r(p,h))}get onDidSplice(){return k.Event.map(this.model.onDidSplice,({insertedNodes:t,deletedNodes:d})=>({insertedNodes:t.map(h=>this.nodeMapper.map(h)),deletedNodes:d.map(h=>this.nodeMapper.map(h))}))}get onDidChangeCollapseState(){return k.Event.map(this.model.onDidChangeCollapseState,({node:t,deep:d})=>({node:this.nodeMapper.map(t),deep:d}))}get onDidChangeRenderNodeCount(){return k.Event.map(this.model.onDidChangeRenderNodeCount,t=>this.nodeMapper.map(t))}setChildren(t,d=_.Iterable.empty(),h={}){this.model.setChildren(t,d,h)}setCompressionEnabled(t){this.model.setCompressionEnabled(t)}has(t){return this.model.has(t)}getListIndex(t){return this.model.getListIndex(t)}getListRenderCount(t){return this.model.getListRenderCount(t)}getNode(t){return this.nodeMapper.map(this.model.getNode(t))}getNodeLocation(t){return t.element}getParentNodeLocation(t){return this.model.getParentNodeLocation(t)}isCollapsible(t){return this.model.isCollapsible(t)}setCollapsible(t,d){return this.model.setCollapsible(t,d)}isCollapsed(t){return this.model.isCollapsed(t)}setCollapsed(t,d,h){return this.model.setCollapsed(t,d,h)}expandTo(t){return this.model.expandTo(t)}rerender(t){return this.model.rerender(t)}refilter(){return this.model.refilter()}getCompressedTreeNode(t=null){return this.model.getNode(t)}}e.CompressibleObjectTreeModel=n}),define(ie[294],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function k(S,m){if(S&&S[0]!==""){const v=M(S,m,"-"),i=M(S,m,"_");return v&&!i?L(S,m,"-"):!v&&i?L(S,m,"_"):S[0].toUpperCase()===S[0]?m.toUpperCase():S[0].toLowerCase()===S[0]?m.toLowerCase():_.containsUppercaseCharacter(S[0][0])&&m.length>0?m[0].toUpperCase()+m.substr(1):S[0][0].toUpperCase()!==S[0][0]&&m.length>0?m[0].toLowerCase()+m.substr(1):m}else return m}e.buildReplaceStringWithCasePreserved=k;function M(S,m,v){return S[0].indexOf(v)!==-1&&m.indexOf(v)!==-1&&S[0].split(v).length===m.split(v).length}function L(S,m,v){const i=m.split(v),C=S[0].split(v);let s="";return i.forEach((o,a)=>{s+=k([C[a]],o)+v}),s.slice(0,-1)}}),define(ie[73],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(M){M[M.Ignore=0]="Ignore",M[M.Info=1]="Info",M[M.Warning=2]="Warning",M[M.Error=3]="Error"})(k||(k={})),function(M){const L="error",S="warning",m="warn",v="info",i="ignore";function C(o){return o?_.equalsIgnoreCase(L,o)?M.Error:_.equalsIgnoreCase(S,o)||_.equalsIgnoreCase(m,o)?M.Warning:_.equalsIgnoreCase(v,o)?M.Info:M.Ignore:M.Ignore}M.fromValue=C;function s(o){switch(o){case M.Error:return L;case M.Warning:return S;case M.Info:return v;default:return i}}M.toString=s}(k||(k={})),e.default=k}),define(ie[20],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function _(t){return Array.isArray(t)}e.isArray=_;function k(t){return typeof t=="string"}e.isString=k;function M(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}e.isObject=M;function L(t){return typeof t=="number"&&!isNaN(t)}e.isNumber=L;function S(t){return t===!0||t===!1}e.isBoolean=S;function m(t){return typeof t=="undefined"}e.isUndefined=m;function v(t){return m(t)||t===null}e.isUndefinedOrNull=v;function i(t,d){if(!t)throw new Error(d?`Unexpected type, expected '${d}'`:"Unexpected type")}e.assertType=i;function C(t){if(v(t))throw new Error("Assertion Failed: argument is undefined or null");return t}e.assertIsDefined=C;function s(t){return typeof t=="function"}e.isFunction=s;function o(t,d){const h=Math.min(t.length,d.length);for(let p=0;p<h;p++)a(t[p],d[p])}e.validateConstraints=o;function a(t,d){if(k(d)){if(typeof t!==d)throw new Error(`argument does not match constraint: typeof ${d}`)}else if(s(d)){try{if(t instanceof d)return}catch(h){}if(!v(t)&&t.constructor===d||d.length===1&&d.call(void 0,t)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=a;function c(t){let d=[],h=Object.getPrototypeOf(t);for(;Object.prototype!==h;)d=d.concat(Object.getOwnPropertyNames(h)),h=Object.getPrototypeOf(h);return d}e.getAllPropertyNames=c;function u(t){const d=[];for(const h of c(t))typeof t[h]=="function"&&d.push(h);return d}e.getAllMethodNames=u;function r(t,d){const h=w=>function(){const b=Array.prototype.slice.call(arguments,0);return d(w,b)};let p={};for(const w of t)p[w]=h(w);return p}e.createProxyObject=r;function n(t){return t===null?void 0:t}e.withNullAsUndefined=n;function l(t){throw new Error("Unreachable")}e.assertNever=l}),define(ie[42],ne([0,1,20]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function k(s){if(!s||typeof s!="object"||s instanceof RegExp)return s;const o=Array.isArray(s)?[]:{};return Object.keys(s).forEach(a=>{s[a]&&typeof s[a]=="object"?o[a]=k(s[a]):o[a]=s[a]}),o}e.deepClone=k;function M(s){if(!s||typeof s!="object")return s;const o=[s];for(;o.length>0;){const a=o.shift();Object.freeze(a);for(const c in a)if(L.call(a,c)){const u=a[c];typeof u=="object"&&!Object.isFrozen(u)&&o.push(u)}}return s}e.deepFreeze=M;const L=Object.prototype.hasOwnProperty;function S(s,o){return m(s,o,new Set)}e.cloneAndChange=S;function m(s,o,a){if(_.isUndefinedOrNull(s))return s;const c=o(s);if(typeof c!="undefined")return c;if(_.isArray(s)){const u=[];for(const r of s)u.push(m(r,o,a));return u}if(_.isObject(s)){if(a.has(s))throw new Error("Cannot clone recursive data-structure");a.add(s);const u={};for(let r in s)L.call(s,r)&&(u[r]=m(s[r],o,a));return a.delete(s),u}return s}function v(s,o,a=!0){return _.isObject(s)?(_.isObject(o)&&Object.keys(o).forEach(c=>{c in s?a&&(_.isObject(s[c])&&_.isObject(o[c])?v(s[c],o[c],a):s[c]=o[c]):s[c]=o[c]}),s):o}e.mixin=v;function i(s,o){if(s===o)return!0;if(s==null||o===null||o===void 0||typeof s!=typeof o||typeof s!="object"||Array.isArray(s)!==Array.isArray(o))return!1;let a,c;if(Array.isArray(s)){if(s.length!==o.length)return!1;for(a=0;a<s.length;a++)if(!i(s[a],o[a]))return!1}else{const u=[];for(c in s)u.push(c);u.sort();const r=[];for(c in o)r.push(c);if(r.sort(),!i(u,r))return!1;for(a=0;a<u.length;a++)if(!i(s[u[a]],o[u[a]]))return!1}return!0}e.equals=i;function C(s,o,a){const c=o(s);return typeof c=="undefined"?a:c}e.getOrDefault=C}),define(ie[129],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function _(M){return M<0?0:M>255?255:M|0}e.toUint8=_;function k(M){return M<0?0:M>4294967295?4294967295:M|0}e.toUint32=k}),define(ie[24],ne([0,1,17,72]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const M=/^\w[\w\d+.-]*$/,L=/^\//,S=/^\/\//;function m(b,g){if(!b.scheme&&g)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${b.authority}", path: "${b.path}", query: "${b.query}", fragment: "${b.fragment}"}`);if(b.scheme&&!M.test(b.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(b.path){if(b.authority){if(!L.test(b.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(b.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function v(b,g){return!b&&!g?"file":b}function i(b,g){switch(b){case"https":case"http":case"file":g?g[0]!==s&&(g=s+g):g=s;break}return g}const C="",s="/",o=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class a{constructor(g,f,y,I,N,D=!1){typeof g=="object"?(this.scheme=g.scheme||C,this.authority=g.authority||C,this.path=g.path||C,this.query=g.query||C,this.fragment=g.fragment||C):(this.scheme=v(g,D),this.authority=f||C,this.path=i(this.scheme,y||C),this.query=I||C,this.fragment=N||C,m(this,D))}static isUri(g){return g instanceof a?!0:g?typeof g.authority=="string"&&typeof g.fragment=="string"&&typeof g.path=="string"&&typeof g.query=="string"&&typeof g.scheme=="string"&&typeof g.fsPath=="string"&&typeof g.with=="function"&&typeof g.toString=="function":!1}get fsPath(){return t(this,!1)}with(g){if(!g)return this;let{scheme:f,authority:y,path:I,query:N,fragment:D}=g;return f===void 0?f=this.scheme:f===null&&(f=C),y===void 0?y=this.authority:y===null&&(y=C),I===void 0?I=this.path:I===null&&(I=C),N===void 0?N=this.query:N===null&&(N=C),D===void 0?D=this.fragment:D===null&&(D=C),f===this.scheme&&y===this.authority&&I===this.path&&N===this.query&&D===this.fragment?this:new u(f,y,I,N,D)}static parse(g,f=!1){const y=o.exec(g);return y?new u(y[2]||C,w(y[4]||C),w(y[5]||C),w(y[7]||C),w(y[9]||C),f):new u(C,C,C,C,C)}static file(g){let f=C;if(_.isWindows&&(g=g.replace(/\\/g,s)),g[0]===s&&g[1]===s){const y=g.indexOf(s,2);y===-1?(f=g.substring(2),g=s):(f=g.substring(2,y),g=g.substring(y)||s)}return new u("file",f,g,C,C)}static from(g){const f=new u(g.scheme,g.authority,g.path,g.query,g.fragment);return m(f,!0),f}static joinPath(g,...f){if(!g.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let y;return _.isWindows&&g.scheme==="file"?y=a.file(k.win32.join(t(g,!0),...f)).path:y=k.posix.join(g.path,...f),g.with({path:y})}toString(g=!1){return d(this,g)}toJSON(){return this}static revive(g){if(g){if(g instanceof a)return g;{const f=new u(g);return f._formatted=g.external,f._fsPath=g._sep===c?g.fsPath:null,f}}else return g}}e.URI=a;const c=_.isWindows?1:void 0;class u extends a{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=t(this,!1)),this._fsPath}toString(g=!1){return g?d(this,!0):(this._formatted||(this._formatted=d(this,!1)),this._formatted)}toJSON(){const g={$mid:1};return this._fsPath&&(g.fsPath=this._fsPath,g._sep=c),this._formatted&&(g.external=this._formatted),this.path&&(g.path=this.path),this.scheme&&(g.scheme=this.scheme),this.authority&&(g.authority=this.authority),this.query&&(g.query=this.query),this.fragment&&(g.fragment=this.fragment),g}}const r={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function n(b,g){let f,y=-1;for(let I=0;I<b.length;I++){const N=b.charCodeAt(I);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||g&&N===47)y!==-1&&(f+=encodeURIComponent(b.substring(y,I)),y=-1),f!==void 0&&(f+=b.charAt(I));else{f===void 0&&(f=b.substr(0,I));const D=r[N];D!==void 0?(y!==-1&&(f+=encodeURIComponent(b.substring(y,I)),y=-1),f+=D):y===-1&&(y=I)}}return y!==-1&&(f+=encodeURIComponent(b.substring(y))),f!==void 0?f:b}function l(b){let g;for(let f=0;f<b.length;f++){const y=b.charCodeAt(f);y===35||y===63?(g===void 0&&(g=b.substr(0,f)),g+=r[y]):g!==void 0&&(g+=b[f])}return g!==void 0?g:b}function t(b,g){let f;return b.authority&&b.path.length>1&&b.scheme==="file"?f=`//${b.authority}${b.path}`:b.path.charCodeAt(0)===47&&(b.path.charCodeAt(1)>=65&&b.path.charCodeAt(1)<=90||b.path.charCodeAt(1)>=97&&b.path.charCodeAt(1)<=122)&&b.path.charCodeAt(2)===58?g?f=b.path.substr(1):f=b.path[1].toLowerCase()+b.path.substr(2):f=b.path,_.isWindows&&(f=f.replace(/\//g,"\\")),f}e.uriToFsPath=t;function d(b,g){const f=g?l:n;let y="",{scheme:I,authority:N,path:D,query:T,fragment:P}=b;if(I&&(y+=I,y+=":"),(N||I==="file")&&(y+=s,y+=s),N){let R=N.indexOf("@");if(R!==-1){const O=N.substr(0,R);N=N.substr(R+1),R=O.indexOf(":"),R===-1?y+=f(O,!1):(y+=f(O.substr(0,R),!1),y+=":",y+=f(O.substr(R+1),!1)),y+="@"}N=N.toLowerCase(),R=N.indexOf(":"),R===-1?y+=f(N,!1):(y+=f(N.substr(0,R),!1),y+=N.substr(R))}if(D){if(D.length>=3&&D.charCodeAt(0)===47&&D.charCodeAt(2)===58){const R=D.charCodeAt(1);R>=65&&R<=90&&(D=`/${String.fromCharCode(R+32)}:${D.substr(3)}`)}else if(D.length>=2&&D.charCodeAt(1)===58){const R=D.charCodeAt(0);R>=65&&R<=90&&(D=`${String.fromCharCode(R+32)}:${D.substr(2)}`)}y+=f(D,!0)}return T&&(y+="?",y+=f(T,!1)),P&&(y+="#",y+=g?P:n(P,!1)),y}function h(b){try{return decodeURIComponent(b)}catch(g){return b.length>3?b.substr(0,3)+h(b.substr(3)):b}}const p=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(b){return b.match(p)?b.replace(p,g=>h(g)):b}}),define(ie[50],ne([0,1,24,8]),function($,e,_,k){"use strict";var M,L;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class S{constructor(){this._value="",this._pos=0}reset(r){return this._value=r,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(r){const n=r.charCodeAt(0),l=this._value.charCodeAt(this._pos);return n-l}value(){return this._value[this._pos]}}e.StringIterator=S;class m{constructor(r=!0){this._caseSensitive=r}reset(r){return this._value=r,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(r)this._from++;else break;else r=!1;return this}cmp(r){return this._caseSensitive?k.compareSubstring(r,this._value,0,r.length,this._from,this._to):k.compareSubstringIgnoreCase(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=m;class v{constructor(r=!0,n=!0){this._splitOnBackslash=r,this._caseSensitive=n}reset(r){return this._value=r.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++){const n=this._value.charCodeAt(this._to);if(n===47||this._splitOnBackslash&&n===92)if(r)this._from++;else break;else r=!1}return this}cmp(r){return this._caseSensitive?k.compareSubstring(r,this._value,0,r.length,this._from,this._to):k.compareSubstringIgnoreCase(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=v;class i{constructor(r){this._ignorePathCasing=r,this._states=[],this._stateIdx=0}reset(r){return this._value=r,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new v(!1,!this._ignorePathCasing(r)),this._pathIterator.reset(r.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(r){if(this._states[this._stateIdx]===1)return k.compareIgnoreCase(r,this._value.scheme);if(this._states[this._stateIdx]===2)return k.compareIgnoreCase(r,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(r);if(this._states[this._stateIdx]===4)return k.compare(r,this._value.query);if(this._states[this._stateIdx]===5)return k.compare(r,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=i;class C{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class s{constructor(r){this._iter=r}static forUris(r=()=>!1){return new s(new i(r))}static forStrings(){return new s(new S)}static forConfigKeys(){return new s(new m)}clear(){this._root=void 0}set(r,n){const l=this._iter.reset(r);let t;for(this._root||(this._root=new C,this._root.segment=l.value()),t=this._root;;){const h=l.cmp(t.segment);if(h>0)t.left||(t.left=new C,t.left.segment=l.value()),t=t.left;else if(h<0)t.right||(t.right=new C,t.right.segment=l.value()),t=t.right;else if(l.hasNext())l.next(),t.mid||(t.mid=new C,t.mid.segment=l.value()),t=t.mid;else break}const d=t.value;return t.value=n,t.key=r,d}get(r){var n;return(n=this._getNode(r))===null||n===void 0?void 0:n.value}_getNode(r){const n=this._iter.reset(r);let l=this._root;for(;l;){const t=n.cmp(l.segment);if(t>0)l=l.left;else if(t<0)l=l.right;else if(n.hasNext())n.next(),l=l.mid;else break}return l}has(r){const n=this._getNode(r);return!((n==null?void 0:n.value)===void 0&&(n==null?void 0:n.mid)===void 0)}delete(r){return this._delete(r,!1)}deleteSuperstr(r){return this._delete(r,!0)}_delete(r,n){const l=this._iter.reset(r),t=[];let d=this._root;for(;d;){const h=l.cmp(d.segment);if(h>0)t.push([1,d]),d=d.left;else if(h<0)t.push([-1,d]),d=d.right;else if(l.hasNext())l.next(),t.push([0,d]),d=d.mid;else{for(n?(d.left=void 0,d.mid=void 0,d.right=void 0):d.value=void 0;t.length>0&&d.isEmpty();){let[p,w]=t.pop();switch(p){case 1:w.left=void 0;break;case 0:w.mid=void 0;break;case-1:w.right=void 0;break}d=w}break}}}findSubstr(r){const n=this._iter.reset(r);let l=this._root,t;for(;l;){const d=n.cmp(l.segment);if(d>0)l=l.left;else if(d<0)l=l.right;else if(n.hasNext())n.next(),t=l.value||t,l=l.mid;else break}return l&&l.value||t}findSuperstr(r){const n=this._iter.reset(r);let l=this._root;for(;l;){const t=n.cmp(l.segment);if(t>0)l=l.left;else if(t<0)l=l.right;else if(n.hasNext())n.next(),l=l.mid;else return l.mid?this._entries(l.mid):void 0}}forEach(r){for(const[n,l]of this)r(l,n)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(r){if(!r)return;const n=[r];for(;n.length>0;){const l=n.pop();l&&(l.value&&(yield[l.key,l.value]),l.left&&n.push(l.left),l.mid&&n.push(l.mid),l.right&&n.push(l.right))}}}e.TernarySearchTree=s;class o{constructor(r,n){this[M]="ResourceMap",r instanceof o?(this.map=new Map(r.map),this.toKey=n??o.defaultToKey):(this.map=new Map,this.toKey=r??o.defaultToKey)}set(r,n){return this.map.set(this.toKey(r),n),this}get(r){return this.map.get(this.toKey(r))}has(r){return this.map.has(this.toKey(r))}get size(){return this.map.size}clear(){this.map.clear()}delete(r){return this.map.delete(this.toKey(r))}forEach(r,n){typeof n!="undefined"&&(r=r.bind(n));for(let[l,t]of this.map)r(t,_.URI.parse(l),this)}values(){return this.map.values()}*keys(){for(let r of this.map.keys())yield _.URI.parse(r)}*entries(){for(let r of this.map.entries())yield[_.URI.parse(r[0]),r[1]]}*[(M=Symbol.toStringTag,Symbol.iterator)](){for(let r of this.map)yield[_.URI.parse(r[0]),r[1]]}}e.ResourceMap=o,o.defaultToKey=u=>u.toString();class a{constructor(){this[L]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}has(r){return this._map.has(r)}get(r,n=0){const l=this._map.get(r);if(!!l)return n!==0&&this.touch(l,n),l.value}set(r,n,l=0){let t=this._map.get(r);if(t)t.value=n,l!==0&&this.touch(t,l);else{switch(t={key:r,value:n,next:void 0,previous:void 0},l){case 0:this.addItemLast(t);break;case 1:this.addItemFirst(t);break;case 2:this.addItemLast(t);break;default:this.addItemLast(t);break}this._map.set(r,t),this._size++}return this}delete(r){return!!this.remove(r)}remove(r){const n=this._map.get(r);if(!!n)return this._map.delete(r),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const r=this._head;return this._map.delete(r.key),this.removeItem(r),this._size--,r.value}forEach(r,n){const l=this._state;let t=this._head;for(;t;){if(n?r.bind(n)(t.value,t.key,this):r(t.value,t.key,this),this._state!==l)throw new Error("LinkedMap got modified during iteration.");t=t.next}}keys(){const r=this,n=this._state;let l=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(l){const d={value:l.key,done:!1};return l=l.next,d}else return{value:void 0,done:!0}}};return t}values(){const r=this,n=this._state;let l=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(l){const d={value:l.value,done:!1};return l=l.next,d}else return{value:void 0,done:!0}}};return t}entries(){const r=this,n=this._state;let l=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(l){const d={value:[l.key,l.value],done:!1};return l=l.next,d}else return{value:void 0,done:!0}}};return t}[(L=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(r){if(r>=this.size)return;if(r===0){this.clear();return}let n=this._head,l=this.size;for(;n&&l>r;)this._map.delete(n.key),n=n.next,l--;this._head=n,this._size=l,n&&(n.previous=void 0),this._state++}addItemFirst(r){if(!this._head&&!this._tail)this._tail=r;else if(this._head)r.next=this._head,this._head.previous=r;else throw new Error("Invalid list");this._head=r,this._state++}addItemLast(r){if(!this._head&&!this._tail)this._head=r;else if(this._tail)r.previous=this._tail,this._tail.next=r;else throw new Error("Invalid list");this._tail=r,this._state++}removeItem(r){if(r===this._head&&r===this._tail)this._head=void 0,this._tail=void 0;else if(r===this._head){if(!r.next)throw new Error("Invalid list");r.next.previous=void 0,this._head=r.next}else if(r===this._tail){if(!r.previous)throw new Error("Invalid list");r.previous.next=void 0,this._tail=r.previous}else{const n=r.next,l=r.previous;if(!n||!l)throw new Error("Invalid list");n.previous=l,l.next=n}r.next=void 0,r.previous=void 0,this._state++}touch(r,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(r===this._head)return;const l=r.next,t=r.previous;r===this._tail?(t.next=void 0,this._tail=t):(l.previous=t,t.next=l),r.previous=void 0,r.next=this._head,this._head.previous=r,this._head=r,this._state++}else if(n===2){if(r===this._tail)return;const l=r.next,t=r.previous;r===this._head?(l.previous=void 0,this._head=l):(l.previous=t,t.next=l),r.next=void 0,r.previous=this._tail,this._tail.next=r,this._tail=r,this._state++}}}toJSON(){const r=[];return this.forEach((n,l)=>{r.push([l,n])}),r}fromJSON(r){this.clear();for(const[n,l]of r)this.set(n,l)}}e.LinkedMap=a;class c extends a{constructor(r,n=1){super();this._limit=r,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(r){this._limit=r,this.checkTrim()}get(r,n=2){return super.get(r,n)}peek(r){return super.get(r,0)}set(r,n){return super.set(r,n,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=c}),define(ie[66],ne([0,1,50,8]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.or=void 0;function M(...J){return function(le,oe){for(let he=0,K=J.length;he<K;he++){const re=J[he](le,oe);if(re)return re}return null}}e.or=M,e.matchesPrefix=L.bind(void 0,!0);function L(J,le,oe){if(!oe||oe.length<le.length)return null;let he;return J?he=k.startsWithIgnoreCase(oe,le):he=oe.indexOf(le)===0,he?le.length>0?[{start:0,end:le.length}]:[]:null}function S(J,le){const oe=le.toLowerCase().indexOf(J.toLowerCase());return oe===-1?null:[{start:oe,end:oe+J.length}]}e.matchesContiguousSubString=S;function m(J,le){return v(J.toLowerCase(),le.toLowerCase(),0,0)}e.matchesSubString=m;function v(J,le,oe,he){if(oe===J.length)return[];if(he===le.length)return null;if(J[oe]===le[he]){let K=null;return(K=v(J,le,oe+1,he+1))?n({start:he,end:he+1},K):null}return v(J,le,oe,he+1)}function i(J){return 97<=J&&J<=122}function C(J){return 65<=J&&J<=90}e.isUpper=C;function s(J){return 48<=J&&J<=57}function o(J){return J===32||J===9||J===10||J===13}const a=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(J=>a.add(J.charCodeAt(0)));function c(J){return o(J)||a.has(J)}function u(J,le){return J===le||c(J)&&c(le)}function r(J){return i(J)||C(J)||s(J)}function n(J,le){return le.length===0?le=[J]:J.end===le[0].start?le[0].start=J.start:le.unshift(J),le}function l(J,le){for(let oe=le;oe<J.length;oe++){const he=J.charCodeAt(oe);if(C(he)||s(he)||oe>0&&!r(J.charCodeAt(oe-1)))return oe}return J.length}function t(J,le,oe,he){if(oe===J.length)return[];if(he===le.length)return null;if(J[oe]!==le[he].toLowerCase())return null;{let K=null,re=he+1;for(K=t(J,le,oe+1,he+1);!K&&(re=l(le,re))<le.length;)K=t(J,le,oe+1,re),re++;return K===null?null:n({start:he,end:he+1},K)}}function d(J){let le=0,oe=0,he=0,K=0,re=0;for(let ve=0;ve<J.length;ve++)re=J.charCodeAt(ve),C(re)&&le++,i(re)&&oe++,r(re)&&he++,s(re)&&K++;const Y=le/J.length,se=oe/J.length,ge=he/J.length,pe=K/J.length;return{upperPercent:Y,lowerPercent:se,alphaPercent:ge,numericPercent:pe}}function h(J){const{upperPercent:le,lowerPercent:oe}=J;return oe===0&&le>.6}function p(J){const{upperPercent:le,lowerPercent:oe,alphaPercent:he,numericPercent:K}=J;return oe>.2&&le<.8&&he>.6&&K<.2}function w(J){let le=0,oe=0,he=0,K=0;for(let re=0;re<J.length;re++)he=J.charCodeAt(re),C(he)&&le++,i(he)&&oe++,o(he)&&K++;return(le===0||oe===0)&&K===0?J.length<=30:le<=5}function b(J,le){if(!le||(le=le.trim(),le.length===0)||!w(J)||le.length>60)return null;const oe=d(le);if(!p(oe)){if(!h(oe))return null;le=le.toLowerCase()}let he=null,K=0;for(J=J.toLowerCase();K<le.length&&(he=t(J,le,0,K))===null;)K=l(le,K+1);return he}e.matchesCamelCase=b;function g(J,le,oe=!1){if(!le||le.length===0)return null;let he=null,K=0;for(J=J.toLowerCase(),le=le.toLowerCase();K<le.length&&(he=f(J,le,0,K,oe))===null;)K=y(le,K+1);return he}e.matchesWords=g;function f(J,le,oe,he,K){if(oe===J.length)return[];if(he===le.length)return null;if(u(J.charCodeAt(oe),le.charCodeAt(he))){let re=null,Y=he+1;if(re=f(J,le,oe+1,he+1,K),!K)for(;!re&&(Y=y(le,Y))<le.length;)re=f(J,le,oe+1,Y,K),Y++;return re===null?null:n({start:he,end:he+1},re)}else return null}function y(J,le){for(let oe=le;oe<J.length;oe++)if(c(J.charCodeAt(oe))||oe>0&&c(J.charCodeAt(oe-1)))return oe;return J.length}const I=M(e.matchesPrefix,b,S),N=M(e.matchesPrefix,b,m),D=new _.LRUCache(1e4);function T(J,le,oe=!1){if(typeof J!="string"||typeof le!="string")return null;let he=D.get(J);he||(he=new RegExp(k.convertSimple2RegExpPattern(J),"i"),D.set(J,he));const K=he.exec(le);return K?[{start:K.index,end:K.index+K[0].length}]:oe?N(J,le):I(J,le)}e.matchesFuzzy=T;function P(J,le,oe,he,K,re){const Y=Math.min(13,J.length);for(;oe<Y;oe++){const se=H(J,le,oe,he,K,re,!1);if(se)return se}return[0,re]}e.anyScore=P;function R(J){if(typeof J=="undefined")return[];const le=[],oe=J[1];for(let he=J.length-1;he>1;he--){const K=J[he]+oe,re=le[le.length-1];re&&re.end===K?re.end=K+1:le.push({start:K,end:K+1})}return le}e.createMatches=R;const O=128;function A(){const J=[],le=[];for(let oe=0;oe<=O;oe++)le[oe]=0;for(let oe=0;oe<=O;oe++)J.push(le.slice(0));return J}function F(J){const le=[];for(let oe=0;oe<=J;oe++)le[oe]=0;return le}const E=F(2*O),W=F(2*O),V=A(),U=A(),q=A(),j=!1;function te(J,le,oe,he,K){function re(se,ge,pe=" "){for(;se.length<ge;)se=pe+se;return se}let Y=` |   |${he.split("").map(se=>re(se,3)).join("|")}
`;for(let se=0;se<=oe;se++)se===0?Y+=" |":Y+=`${le[se-1]}|`,Y+=J[se].slice(0,K+1).map(ge=>re(ge.toString(),3)).join("|")+`
`;return Y}function ae(J,le,oe,he){J=J.substr(le),oe=oe.substr(he),console.log(te(U,J,J.length,oe,oe.length)),console.log(te(q,J,J.length,oe,oe.length)),console.log(te(V,J,J.length,oe,oe.length))}function de(J,le){if(le<0||le>=J.length)return!1;const oe=J.codePointAt(le);switch(oe){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!k.isEmojiImprecise(oe)}}function ue(J,le){if(le<0||le>=J.length)return!1;switch(J.charCodeAt(le)){case 32:case 9:return!0;default:return!1}}function X(J,le,oe){return le[J]!==oe[J]}function B(J,le,oe,he,K,re,Y=!1){for(;le<oe&&K<re;)J[le]===he[K]&&(Y&&(E[le]=K),le+=1),K+=1;return le===oe}e.isPatternInWord=B;var Z;(function(J){J.Default=[-100,0];function le(oe){return!oe||oe.length===2&&oe[0]===-100&&oe[1]===0}J.isDefault=le})(Z=e.FuzzyScore||(e.FuzzyScore={}));function H(J,le,oe,he,K,re,Y){const se=J.length>O?O:J.length,ge=he.length>O?O:he.length;if(oe>=se||re>=ge||se-oe>ge-re||!B(le,oe,se,K,re,ge,!0))return;z(se,ge,oe,re,le,K);let pe=1,ve=1,Le=oe,Ee=re;const Te=[!1];for(pe=1,Le=oe;Le<se;pe++,Le++){const ye=E[Le],me=W[Le],ce=Le+1<se?W[Le+1]:ge;for(ve=ye-re+1,Ee=ye;Ee<ce;ve++,Ee++){let fe=Number.MIN_SAFE_INTEGER,Ce=!1;Ee<=me&&(fe=ee(J,le,Le,oe,he,K,Ee,ge,re,V[pe-1][ve-1]===0,Te));let be=0;fe!==Number.MAX_SAFE_INTEGER&&(Ce=!0,be=fe+U[pe-1][ve-1]);const ke=Ee>ye,Ne=ke?U[pe][ve-1]+(V[pe][ve-1]>0?-5:0):0,Re=Ee>ye+1&&V[pe][ve-1]>0,Pe=Re?U[pe][ve-2]+(V[pe][ve-2]>0?-5:0):0;if(Re&&(!ke||Pe>=Ne)&&(!Ce||Pe>=be))U[pe][ve]=Pe,q[pe][ve]=3,V[pe][ve]=0;else if(ke&&(!Ce||Ne>=be))U[pe][ve]=Ne,q[pe][ve]=2,V[pe][ve]=0;else if(Ce)U[pe][ve]=be,q[pe][ve]=1,V[pe][ve]=V[pe-1][ve-1]+1;else throw new Error("not possible")}}if(j&&ae(J,oe,he,re),!Te[0]&&!Y)return;pe--,ve--;const De=[U[pe][ve],re];let Ae=0,we=0;for(;pe>=1;){let ye=ve;do{const me=q[pe][ye];if(me===3)ye=ye-2;else if(me===2)ye=ye-1;else break}while(ye>=1);Ae>1&&le[oe+pe-1]===K[re+ve-1]&&!X(ye+re-1,he,K)&&Ae+1>V[pe][ye]&&(ye=ve),ye===ve?Ae++:Ae=1,we||(we=ye),pe--,ve=ye-1,De.push(ve)}ge===se&&(De[0]+=2);const Se=we-se;return De[0]-=Se,De}e.fuzzyScore=H;function z(J,le,oe,he,K,re){let Y=J-1,se=le-1;for(;Y>=oe&&se>=he;)K[Y]===re[se]&&(W[Y]=se,Y--),se--}function ee(J,le,oe,he,K,re,Y,se,ge,pe,ve){if(le[oe]!==re[Y])return Number.MIN_SAFE_INTEGER;let Le=1,Ee=!1;return Y===oe-he?Le=J[oe]===K[Y]?7:5:X(Y,K,re)&&(Y===0||!X(Y-1,K,re))?(Le=J[oe]===K[Y]?7:5,Ee=!0):de(re,Y)&&(Y===0||!de(re,Y-1))?Le=5:(de(re,Y-1)||ue(re,Y-1))&&(Le=5,Ee=!0),Le>1&&oe===he&&(ve[0]=!0),Ee||(Ee=X(Y,K,re)||de(re,Y-1)||ue(re,Y-1)),oe===he?Y>ge&&(Le-=Ee?3:5):pe?Le+=Ee?2:0:Le+=Ee?0:1,Y+1===se&&(Le-=Ee?3:5),Le}function x(J,le,oe,he,K,re,Y){return G(J,le,oe,he,K,re,!0,Y)}e.fuzzyScoreGracefulAggressive=x;function G(J,le,oe,he,K,re,Y,se){let ge=H(J,le,oe,he,K,re,se);if(ge&&!Y)return ge;if(J.length>=3){const pe=Math.min(7,J.length-1);for(let ve=oe+1;ve<pe;ve++){const Le=Q(J,ve);if(Le){const Ee=H(Le,Le.toLowerCase(),oe,he,K,re,se);Ee&&(Ee[0]-=3,(!ge||Ee[0]>ge[0])&&(ge=Ee))}}}return ge}function Q(J,le){if(le+1>=J.length)return;const oe=J[le],he=J[le+1];if(oe!==he)return J.slice(0,le)+he+oe+J.slice(le+2)}}),define(ie[295],ne([0,1,66,72,17,8]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function m(r,n,l=0,t=0){const d=n;return d.values&&d.values.length>1?v(r,d.values,l,t):i(r,n,l,t)}e.scoreFuzzy2=m;function v(r,n,l,t){let d=0;const h=[];for(const p of n){const[w,b]=i(r,p,l,t);if(typeof w!="number")return S;d+=w,h.push(...b)}return[d,C(h)]}function i(r,n,l,t){const d=_.fuzzyScore(n.original,n.originalLowercase,l,r,r.toLowerCase(),t,!0);return d?[d[0],_.createMatches(d)]:S}function C(r){const n=r.sort((d,h)=>d.start-h.start),l=[];let t;for(const d of n)!t||!s(t,d)?(t=d,l.push(d)):(t.start=Math.min(t.start,d.start),t.end=Math.max(t.end,d.end));return l}function s(r,n){return!(r.end<n.start||n.end<r.start)}const o=" ";function a(r){typeof r!="string"&&(r="");const n=r.toLowerCase(),{pathNormalized:l,normalized:t,normalizedLowercase:d}=c(r),h=l.indexOf(k.sep)>=0;let p;const w=r.split(o);if(w.length>1)for(const b of w){const{pathNormalized:g,normalized:f,normalizedLowercase:y}=c(b);f&&(p||(p=[]),p.push({original:b,originalLowercase:b.toLowerCase(),pathNormalized:g,normalized:f,normalizedLowercase:y}))}return{original:r,originalLowercase:n,pathNormalized:l,normalized:t,normalizedLowercase:d,values:p,containsPathSeparator:h}}e.prepareQuery=a;function c(r){let n;M.isWindows?n=r.replace(/\//g,k.sep):n=r.replace(/\\/g,k.sep);const l=L.stripWildcards(n).replace(/\s/g,"");return{pathNormalized:n,normalized:l,normalizedLowercase:l.toLowerCase()}}function u(r){return Array.isArray(r)?a(r.map(n=>n.original).join(o)):a(r.original)}e.pieceToQuery=u}),define(ie[201],ne([0,1,8,157,72,50,15]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=void 0;const m="**",v="/",i="[/\\\\]",C="[^/\\\\]",s=/\//g;function o(E){switch(E){case 0:return"";case 1:return`${C}*?`;default:return`(?:${i}|${C}+${i}|${i}${C}+)*?`}}function a(E,W){if(!E)return[];const V=[];let U=!1,q=!1,j="";for(const te of E){switch(te){case W:if(!U&&!q){V.push(j),j="";continue}break;case"{":U=!0;break;case"}":U=!1;break;case"[":q=!0;break;case"]":q=!1;break}j+=te}return j&&V.push(j),V}e.splitGlobAware=a;function c(E){if(!E)return"";let W="";const V=a(E,v);if(V.every(U=>U===m))W=".*";else{let U=!1;V.forEach((q,j)=>{if(q===m){U||(W+=o(2),U=!0);return}let te=!1,ae="",de=!1,ue="";for(const X of q){if(X!=="}"&&te){ae+=X;continue}if(de&&(X!=="]"||!ue)){let B;X==="-"?B=X:(X==="^"||X==="!")&&!ue?B="^":X===v?B="":B=_.escapeRegExpCharacters(X),ue+=B;continue}switch(X){case"{":te=!0;continue;case"[":de=!0;continue;case"}":W+=`(?:${a(ae,",").map(H=>c(H)).join("|")})`,te=!1,ae="";break;case"]":W+="["+ue+"]",de=!1,ue="";break;case"?":W+=C;continue;case"*":W+=o(1);continue;default:W+=_.escapeRegExpCharacters(X)}}j<V.length-1&&(V[j+1]!==m||j+2<V.length)&&(W+=i),U=!1})}return W}const u=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,l=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,t=/^\*\*((\/[\w\.-]+)+)\/?$/,d=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new L.LRUCache(1e4),p=function(){return!1},w=function(){return null};function b(E,W){if(!E)return w;let V;typeof E!="string"?V=E.pattern:V=E,V=V.trim();const U=`${V}_${!!W.trimForExclusions}`;let q=h.get(U);if(q)return g(q,E);let j;if(u.test(V)){const te=V.substr(4);q=function(ae,de){return typeof ae=="string"&&ae.endsWith(te)?V:null}}else(j=r.exec(f(V,W)))?q=y(j[1],V):(W.trimForExclusions?l:n).test(V)?q=I(V,W):(j=t.exec(f(V,W)))?q=N(j[1].substr(1),V,!0):(j=d.exec(f(V,W)))?q=N(j[1],V,!1):q=D(V);return h.set(U,q),g(q,E)}function g(E,W){return typeof W=="string"?E:function(V,U){return k.isEqualOrParent(V,W.base)?E(M.relative(W.base,V),U):null}}function f(E,W){return W.trimForExclusions&&E.endsWith("/**")?E.substr(0,E.length-2):E}function y(E,W){const V=`/${E}`,U=`\\${E}`,q=function(te,ae){return typeof te!="string"?null:ae?ae===E?W:null:te===E||te.endsWith(V)||te.endsWith(U)?W:null},j=[E];return q.basenames=j,q.patterns=[W],q.allBasenames=j,q}function I(E,W){const V=F(E.slice(1,-1).split(",").map(ae=>b(ae,W)).filter(ae=>ae!==w),E),U=V.length;if(!U)return w;if(U===1)return V[0];const q=function(ae,de){for(let ue=0,X=V.length;ue<X;ue++)if(V[ue](ae,de))return E;return null},j=V.find(ae=>!!ae.allBasenames);j&&(q.allBasenames=j.allBasenames);const te=V.reduce((ae,de)=>de.allPaths?ae.concat(de.allPaths):ae,[]);return te.length&&(q.allPaths=te),q}function N(E,W,V){const U=M.sep===M.posix.sep,q=U?E:E.replace(s,M.sep),j=M.sep+q,te=M.posix.sep+E,ae=V?function(de,ue){return typeof de=="string"&&(de===q||de.endsWith(j)||!U&&(de===E||de.endsWith(te)))?W:null}:function(de,ue){return typeof de=="string"&&(de===q||!U&&de===E)?W:null};return ae.allPaths=[(V?"*/":"./")+E],ae}function D(E){try{const W=new RegExp(`^${c(E)}$`);return function(V){return W.lastIndex=0,typeof V=="string"&&W.test(V)?E:null}}catch(W){return w}}function T(E,W,V){return!E||typeof W!="string"?!1:P(E)(W,void 0,V)}e.match=T;function P(E,W={}){if(!E)return p;if(typeof E=="string"||R(E)){const V=b(E,W);if(V===w)return p;const U=function(q,j){return!!V(q,j)};return V.allBasenames&&(U.allBasenames=V.allBasenames),V.allPaths&&(U.allPaths=V.allPaths),U}return O(E,W)}e.parse=P;function R(E){const W=E;return W&&typeof W.base=="string"&&typeof W.pattern=="string"}e.isRelativePattern=R;function O(E,W){const V=F(Object.getOwnPropertyNames(E).map(ae=>A(ae,E[ae],W)).filter(ae=>ae!==w)),U=V.length;if(!U)return w;if(!V.some(ae=>!!ae.requiresSiblings)){if(U===1)return V[0];const ae=function(X,B){for(let Z=0,H=V.length;Z<H;Z++){const z=V[Z](X,B);if(z)return z}return null},de=V.find(X=>!!X.allBasenames);de&&(ae.allBasenames=de.allBasenames);const ue=V.reduce((X,B)=>B.allPaths?X.concat(B.allPaths):X,[]);return ue.length&&(ae.allPaths=ue),ae}const q=function(ae,de,ue){let X;for(let B=0,Z=V.length;B<Z;B++){const H=V[B];H.requiresSiblings&&ue&&(de||(de=M.basename(ae)),X||(X=de.substr(0,de.length-M.extname(ae).length)));const z=H(ae,de,X,ue);if(z)return z}return null},j=V.find(ae=>!!ae.allBasenames);j&&(q.allBasenames=j.allBasenames);const te=V.reduce((ae,de)=>de.allPaths?ae.concat(de.allPaths):ae,[]);return te.length&&(q.allPaths=te),q}function A(E,W,V){if(W===!1)return w;const U=b(E,V);if(U===w)return w;if(typeof W=="boolean")return U;if(W){const q=W.when;if(typeof q=="string"){const j=(te,ae,de,ue)=>{if(!ue||!U(te,ae))return null;const X=q.replace("$(basename)",de),B=ue(X);return S.isThenable(B)?B.then(Z=>Z?E:null):B?E:null};return j.requiresSiblings=!0,j}}return U}function F(E,W){const V=E.filter(ae=>!!ae.basenames);if(V.length<2)return E;const U=V.reduce((ae,de)=>{const ue=de.basenames;return ue?ae.concat(ue):ae},[]);let q;if(W){q=[];for(let ae=0,de=U.length;ae<de;ae++)q.push(W)}else q=V.reduce((ae,de)=>{const ue=de.patterns;return ue?ae.concat(ue):ae},[]);const j=function(ae,de){if(typeof ae!="string")return null;if(!de){let X;for(X=ae.length;X>0;X--){const B=ae.charCodeAt(X-1);if(B===47||B===92)break}de=ae.substr(X)}const ue=U.indexOf(de);return ue!==-1?q[ue]:null};j.basenames=U,j.patterns=q,j.allBasenames=U;const te=E.filter(ae=>!ae.basenames);return te.push(j),te}}),define(ie[103],ne([0,1,27,66,8]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const L=new RegExp(`\\$\\(${_.CSSIcon.iconNameExpression}(?:${_.CSSIcon.iconModifierExpression})?\\)`,"g"),S=new RegExp(`(\\\\)?${L.source}`,"g");function m(u){return u.replace(S,(r,n)=>n?r:`\\${r}`)}e.escapeIcons=m;const v=new RegExp(`\\\\${L.source}`,"g");function i(u){return u.replace(v,r=>`\\${r}`)}e.markdownEscapeEscapedIcons=i;const C=new RegExp(`(\\s)?(\\\\)?${L.source}(\\s)?`,"g");function s(u){return u.indexOf(e.iconStartMarker)===-1?u:u.replace(C,(r,n,l,t)=>l?r:n||t||"")}e.stripIcons=s;function o(u){const r=u.indexOf(e.iconStartMarker);return r===-1?{text:u}:a(u,r)}e.parseLabelWithIcons=o;function a(u,r){const n=[];let l="";function t(y){if(y){l+=y;for(const I of y)n.push(p)}}let d=-1,h="",p=0,w,b,g=r;const f=u.length;for(t(u.substr(0,r));g<f;)w=u[g],b=u[g+1],w===e.iconStartMarker[0]&&b===e.iconStartMarker[1]?(d=g,t(h),h=e.iconStartMarker,g++):w===")"&&d!==-1?(p+=g-d+1,d=-1,h=""):d!==-1?/^[a-z0-9\-]$/i.test(w)?h+=w:(t(h),d=-1,h=""):t(w),g++;return t(h),{text:l,iconOffsets:n}}function c(u,r,n=!1){const{text:l,iconOffsets:t}=r;if(!t||t.length===0)return k.matchesFuzzy(u,l,n);const d=M.ltrim(l," "),h=l.length-d.length,p=k.matchesFuzzy(u,d,n);if(p)for(const w of p){const b=t[w.start+h]+h;w.start+=b,w.end+=b}return p}e.matchesFuzzyIconAware=c}),define(ie[81],ne([0,1,103,12]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class M{constructor(s="",o=!1){var a,c;if(this.value=s,typeof this.value!="string")throw k.illegalArgument("value");typeof o=="boolean"?(this.isTrusted=o,this.supportThemeIcons=!1):(this.isTrusted=(a=o.isTrusted)!==null&&a!==void 0?a:void 0,this.supportThemeIcons=(c=o.supportThemeIcons)!==null&&c!==void 0?c:!1)}appendText(s,o=0){return this.value+=m(this.supportThemeIcons?_.escapeIcons(s):s).replace(/([ \t]+)/g,(a,c)=>"&nbsp;".repeat(c.length)).replace(/^>/gm,"\\>").replace(/\n/g,o===1?`\\
`:`

`),this}appendMarkdown(s){return this.value+=s,this}appendCodeblock(s,o){return this.value+="\n```",this.value+=s,this.value+=`
`,this.value+=o,this.value+="\n```\n",this}}e.MarkdownString=M;function L(C){return S(C)?!C.value:Array.isArray(C)?C.every(L):!0}e.isEmptyMarkdownString=L;function S(C){return C instanceof M?!0:C&&typeof C=="object"?typeof C.value=="string"&&(typeof C.isTrusted=="boolean"||C.isTrusted===void 0)&&(typeof C.supportThemeIcons=="boolean"||C.supportThemeIcons===void 0):!1}e.isMarkdownString=S;function m(C){return C.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=m;function v(C){return C&&C.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=v;function i(C){const s=[],o=C.split("|").map(c=>c.trim());C=o[0];const a=o[1];if(a){const c=/height=(\d+)/.exec(a),u=/width=(\d+)/.exec(a),r=c?c[1]:"",n=u?u[1]:"",l=isFinite(parseInt(n)),t=isFinite(parseInt(r));l&&s.push(`width="${n}"`),t&&s.push(`height="${r}"`)}return{href:C,dimensions:s}}e.parseHrefAndDimensions=i}),define(ie[202],ne([0,1,102,24]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function M(S){let m=JSON.parse(S);return m=L(m),m}e.parse=M;function L(S,m=0){if(!S||m>200)return S;if(typeof S=="object"){switch(S.$mid){case 1:return k.URI.revive(S);case 2:return new RegExp(S.source,S.flags)}if(S instanceof _.VSBuffer||S instanceof Uint8Array)return S;if(Array.isArray(S))for(let v=0;v<S.length;++v)S[v]=L(S[v],m+1);else for(const v in S)Object.hasOwnProperty.call(S,v)&&(S[v]=L(S[v],m+1))}return S}e.revive=L}),define(ie[46],ne([0,1,24,17]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var M;(function(m){m.inMemory="inmemory",m.vscode="vscode",m.internal="private",m.walkThrough="walkThrough",m.walkThroughSnippet="walkThroughSnippet",m.http="http",m.https="https",m.file="file",m.mailto="mailto",m.untitled="untitled",m.data="data",m.command="command",m.vscodeRemote="vscode-remote",m.vscodeRemoteResource="vscode-remote-resource",m.userData="vscode-userdata",m.vscodeCustomEditor="vscode-custom-editor",m.vscodeNotebook="vscode-notebook",m.vscodeNotebookCell="vscode-notebook-cell",m.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",m.vscodeNotebookCellOutput="vscode-notebook-cell-output",m.vscodeInteractive="vscode-interactive",m.vscodeInteractiveInput="vscode-interactive-input",m.vscodeSettings="vscode-settings",m.vscodeWorkspaceTrust="vscode-workspace-trust",m.vscodeTerminal="vscode-terminal",m.webviewPanel="webview-panel",m.vscodeWebview="vscode-webview",m.extension="extension",m.vscodeFileResource="vscode-file",m.tmp="tmp"})(M=e.Schemas||(e.Schemas={}));class L{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(v){this._preferredWebSchema=v}rewrite(v){if(this._delegate)return this._delegate(v);const i=v.authority;let C=this._hosts[i];C&&C.indexOf(":")!==-1&&(C=`[${C}]`);const s=this._ports[i],o=this._connectionTokens[i];let a=`path=${encodeURIComponent(v.path)}`;return typeof o=="string"&&(a+=`&tkn=${encodeURIComponent(o)}`),_.URI.from({scheme:k.isWeb?this._preferredWebSchema:M.vscodeRemoteResource,authority:`${C}:${s}`,path:"/vscode-remote-resource",query:a})}}e.RemoteAuthorities=new L;class S{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(v,i,C){const s=this.toUri(v,i);if(s.scheme===M.vscodeRemote)return e.RemoteAuthorities.rewrite(s);let o=!1;return k.isNative&&(C||k.isPreferringBrowserCodeLoad)&&s.scheme===M.file&&(o=!0),s.scheme===M.file&&typeof k.globals.importScripts=="function"&&k.globals.origin==="vscode-file://vscode-app"&&(o=!0),o?s.with({scheme:M.vscodeFileResource,authority:s.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):s}toUri(v,i){return _.URI.isUri(v)?v:_.URI.parse(i.toUrl(v))}}e.FileAccess=new S}),define(ie[7],ne([0,1,38,54,55,15,12,6,2,17,46,156]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMatchMediaChangeListener=e.ModifierKeyEmitter=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function o(ce){for(;ce.firstChild;)ce.firstChild.remove()}e.clearNode=o;function a(ce){var fe;return(fe=ce==null?void 0:ce.isConnected)!==null&&fe!==void 0?fe:!1}e.isInDOM=a;class c{constructor(fe,Ce,be,ke){this._node=fe,this._type=Ce,this._handler=be,this._options=ke||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function u(ce,fe,Ce,be){return new c(ce,fe,Ce,be)}e.addDisposableListener=u;function r(ce){return function(fe){return ce(new M.StandardMouseEvent(fe))}}function n(ce){return function(fe){return ce(new k.StandardKeyboardEvent(fe))}}let l=function(fe,Ce,be,ke){let Ne=be;return Ce==="click"||Ce==="mousedown"?Ne=r(be):(Ce==="keydown"||Ce==="keypress"||Ce==="keyup")&&(Ne=n(be)),u(fe,Ce,Ne,ke)};e.addStandardDisposableListener=l;let t=function(fe,Ce,be){let ke=r(Ce);return d(fe,ke,be)};e.addStandardDisposableGenericMouseDownListner=t;function d(ce,fe,Ce){return u(ce,i.isIOS&&s.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,fe,Ce)}e.addDisposableGenericMouseDownListner=d;function h(ce,fe,Ce){return u(ce,i.isIOS&&s.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,fe,Ce)}e.addDisposableGenericMouseUpListner=h;function p(ce,fe){return u(ce,"mouseout",Ce=>{let be=Ce.relatedTarget;for(;be&&be!==ce;)be=be.parentNode;be!==ce&&fe(Ce)})}e.addDisposableNonBubblingMouseOutListener=p;function w(ce,fe){return u(ce,"pointerout",Ce=>{let be=Ce.relatedTarget;for(;be&&be!==ce;)be=be.parentNode;be!==ce&&fe(Ce)})}e.addDisposableNonBubblingPointerOutListener=w;let b=null;function g(ce){if(!b){const fe=Ce=>setTimeout(()=>Ce(new Date().getTime()),0);b=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||fe}return b.call(self,ce)}class f{constructor(fe,Ce=0){this._runner=fe,this.priority=Ce,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(fe){S.onUnexpectedError(fe)}}static sort(fe,Ce){return Ce.priority-fe.priority}}(function(){let ce=[],fe=null,Ce=!1,be=!1,ke=()=>{for(Ce=!1,fe=ce,ce=[],be=!0;fe.length>0;)fe.sort(f.sort),fe.shift().execute();be=!1};e.scheduleAtNextAnimationFrame=(Ne,Re=0)=>{let Pe=new f(Ne,Re);return ce.push(Pe),Ce||(Ce=!0,g(ke)),Pe},e.runAtThisOrScheduleAtNextAnimationFrame=(Ne,Re)=>{if(be){let Pe=new f(Ne,Re);return fe.push(Pe),Pe}else return e.scheduleAtNextAnimationFrame(Ne,Re)}})();const y=8,I=function(ce,fe){return fe};class N extends v.Disposable{constructor(fe,Ce,be,ke=I,Ne=y){super();let Re=null,Pe=0,Fe=this._register(new L.TimeoutTimer),Oe=()=>{Pe=new Date().getTime(),be(Re),Re=null};this._register(u(fe,Ce,xe=>{Re=ke(Re,xe);let Be=new Date().getTime()-Pe;Be>=Ne?(Fe.cancel(),Oe()):Fe.setIfNotSet(Oe,Ne-Be)}))}}function D(ce,fe,Ce,be,ke){return new N(ce,fe,Ce,be,ke)}e.addDisposableThrottledListener=D;function T(ce){return document.defaultView.getComputedStyle(ce,null)}e.getComputedStyle=T;function P(ce){if(ce!==document.body)return new O(ce.clientWidth,ce.clientHeight);if(i.isIOS&&window.visualViewport)return new O(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new O(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new O(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new O(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=P;class R{static convertToPixels(fe,Ce){return parseFloat(Ce)||0}static getDimension(fe,Ce,be){let ke=T(fe),Ne="0";return ke&&(ke.getPropertyValue?Ne=ke.getPropertyValue(Ce):Ne=ke.getAttribute(be)),R.convertToPixels(fe,Ne)}static getBorderLeftWidth(fe){return R.getDimension(fe,"border-left-width","borderLeftWidth")}static getBorderRightWidth(fe){return R.getDimension(fe,"border-right-width","borderRightWidth")}static getBorderTopWidth(fe){return R.getDimension(fe,"border-top-width","borderTopWidth")}static getBorderBottomWidth(fe){return R.getDimension(fe,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(fe){return R.getDimension(fe,"padding-left","paddingLeft")}static getPaddingRight(fe){return R.getDimension(fe,"padding-right","paddingRight")}static getPaddingTop(fe){return R.getDimension(fe,"padding-top","paddingTop")}static getPaddingBottom(fe){return R.getDimension(fe,"padding-bottom","paddingBottom")}static getMarginLeft(fe){return R.getDimension(fe,"margin-left","marginLeft")}static getMarginTop(fe){return R.getDimension(fe,"margin-top","marginTop")}static getMarginRight(fe){return R.getDimension(fe,"margin-right","marginRight")}static getMarginBottom(fe){return R.getDimension(fe,"margin-bottom","marginBottom")}}class O{constructor(fe,Ce){this.width=fe,this.height=Ce}with(fe=this.width,Ce=this.height){return fe!==this.width||Ce!==this.height?new O(fe,Ce):this}static is(fe){return typeof fe=="object"&&typeof fe.height=="number"&&typeof fe.width=="number"}static lift(fe){return fe instanceof O?fe:new O(fe.width,fe.height)}static equals(fe,Ce){return fe===Ce?!0:!fe||!Ce?!1:fe.width===Ce.width&&fe.height===Ce.height}}e.Dimension=O;function A(ce){let fe=ce.offsetParent,Ce=ce.offsetTop,be=ce.offsetLeft;for(;(ce=ce.parentNode)!==null&&ce!==document.body&&ce!==document.documentElement;){Ce-=ce.scrollTop;const ke=de(ce)?null:T(ce);ke&&(be-=ke.direction!=="rtl"?ce.scrollLeft:-ce.scrollLeft),ce===fe&&(be+=R.getBorderLeftWidth(ce),Ce+=R.getBorderTopWidth(ce),Ce+=ce.offsetTop,be+=ce.offsetLeft,fe=ce.offsetParent)}return{left:be,top:Ce}}e.getTopLeftOffset=A;function F(ce,fe,Ce){typeof fe=="number"&&(ce.style.width=`${fe}px`),typeof Ce=="number"&&(ce.style.height=`${Ce}px`)}e.size=F;function E(ce){let fe=ce.getBoundingClientRect();return{left:fe.left+e.StandardWindow.scrollX,top:fe.top+e.StandardWindow.scrollY,width:fe.width,height:fe.height}}e.getDomNodePagePosition=E,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function W(ce){let fe=R.getMarginLeft(ce)+R.getMarginRight(ce);return ce.offsetWidth+fe}e.getTotalWidth=W;function V(ce){let fe=R.getBorderLeftWidth(ce)+R.getBorderRightWidth(ce),Ce=R.getPaddingLeft(ce)+R.getPaddingRight(ce);return ce.offsetWidth-fe-Ce}e.getContentWidth=V;function U(ce){let fe=R.getBorderTopWidth(ce)+R.getBorderBottomWidth(ce),Ce=R.getPaddingTop(ce)+R.getPaddingBottom(ce);return ce.offsetHeight-fe-Ce}e.getContentHeight=U;function q(ce){let fe=R.getMarginTop(ce)+R.getMarginBottom(ce);return ce.offsetHeight+fe}e.getTotalHeight=q;function j(ce,fe){for(;ce;){if(ce===fe)return!0;ce=ce.parentNode}return!1}e.isAncestor=j;function te(ce,fe,Ce){for(;ce&&ce.nodeType===ce.ELEMENT_NODE;){if(ce.classList.contains(fe))return ce;if(Ce){if(typeof Ce=="string"){if(ce.classList.contains(Ce))return null}else if(ce===Ce)return null}ce=ce.parentNode}return null}e.findParentWithClass=te;function ae(ce,fe,Ce){return!!te(ce,fe,Ce)}e.hasParentWithClass=ae;function de(ce){return ce&&!!ce.host&&!!ce.mode}e.isShadowRoot=de;function ue(ce){return!!X(ce)}e.isInShadowDOM=ue;function X(ce){for(;ce.parentNode;){if(ce===document.body)return null;ce=ce.parentNode}return de(ce)?ce:null}e.getShadowRoot=X;function B(){let ce=document.activeElement;for(;ce==null?void 0:ce.shadowRoot;)ce=ce.shadowRoot.activeElement;return ce}e.getActiveElement=B;function Z(ce=document.getElementsByTagName("head")[0]){let fe=document.createElement("style");return fe.type="text/css",fe.media="screen",ce.appendChild(fe),fe}e.createStyleSheet=Z;let H=null;function z(){return H||(H=Z()),H}function ee(ce){var fe,Ce;return((fe=ce==null?void 0:ce.sheet)===null||fe===void 0?void 0:fe.rules)?ce.sheet.rules:((Ce=ce==null?void 0:ce.sheet)===null||Ce===void 0?void 0:Ce.cssRules)?ce.sheet.cssRules:[]}function x(ce,fe,Ce=z()){!Ce||!fe||Ce.sheet.insertRule(ce+"{"+fe+"}",0)}e.createCSSRule=x;function G(ce,fe=z()){if(!fe)return;let Ce=ee(fe),be=[];for(let ke=0;ke<Ce.length;ke++)Ce[ke].selectorText.indexOf(ce)!==-1&&be.push(ke);for(let ke=be.length-1;ke>=0;ke--)fe.sheet.deleteRule(be[ke])}e.removeCSSRulesContainingSelector=G;function Q(ce){return typeof HTMLElement=="object"?ce instanceof HTMLElement:ce&&typeof ce=="object"&&ce.nodeType===1&&typeof ce.nodeName=="string"}e.isHTMLElement=Q,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:_.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:_.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:_.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(ce,fe){ce.preventDefault?ce.preventDefault():ce.returnValue=!1,fe&&(ce.stopPropagation?ce.stopPropagation():ce.cancelBubble=!0)}};function J(ce){let fe=[];for(let Ce=0;ce&&ce.nodeType===ce.ELEMENT_NODE;Ce++)fe[Ce]=ce.scrollTop,ce=ce.parentNode;return fe}e.saveParentsScrollTop=J;function le(ce,fe){for(let Ce=0;ce&&ce.nodeType===ce.ELEMENT_NODE;Ce++)ce.scrollTop!==fe[Ce]&&(ce.scrollTop=fe[Ce]),ce=ce.parentNode}e.restoreParentsScrollTop=le;class oe extends v.Disposable{constructor(fe){super();this._onDidFocus=this._register(new m.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new m.Emitter),this.onDidBlur=this._onDidBlur.event;let Ce=j(document.activeElement,fe),be=!1;const ke=()=>{be=!1,Ce||(Ce=!0,this._onDidFocus.fire())},Ne=()=>{Ce&&(be=!0,window.setTimeout(()=>{be&&(be=!1,Ce=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{j(document.activeElement,fe)!==Ce&&(Ce?Ne():ke())},this._register(u(fe,e.EventType.FOCUS,ke,!0)),this._register(u(fe,e.EventType.BLUR,Ne,!0))}}function he(ce){return new oe(ce)}e.trackFocus=he;function K(ce,...fe){if(ce.append(...fe),fe.length===1&&typeof fe[0]!="string")return fe[0]}e.append=K;function re(ce,...fe){ce.innerText="",K(ce,...fe)}e.reset=re;const Y=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var se;(function(ce){ce.HTML="http://www.w3.org/1999/xhtml",ce.SVG="http://www.w3.org/2000/svg"})(se=e.Namespace||(e.Namespace={}));function ge(ce,fe,Ce,...be){let ke=Y.exec(fe);if(!ke)throw new Error("Bad use of emmet");Ce=Object.assign({},Ce||{});let Ne=ke[1]||"div",Re;return ce!==se.HTML?Re=document.createElementNS(ce,Ne):Re=document.createElement(Ne),ke[3]&&(Re.id=ke[3]),ke[4]&&(Re.className=ke[4].replace(/\./g," ").trim()),Object.keys(Ce).forEach(Pe=>{const Fe=Ce[Pe];typeof Fe!="undefined"&&(/^on\w+$/.test(Pe)?Re[Pe]=Fe:Pe==="selected"?Fe&&Re.setAttribute(Pe,"true"):Re.setAttribute(Pe,Fe))}),Re.append(...be),Re}function pe(ce,fe,...Ce){return ge(se.HTML,ce,fe,...Ce)}e.$=pe,pe.SVG=function(ce,fe,...Ce){return ge(se.SVG,ce,fe,...Ce)};function ve(...ce){for(let fe of ce)fe.style.display="",fe.removeAttribute("aria-hidden")}e.show=ve;function Le(...ce){for(let fe of ce)fe.style.display="none",fe.setAttribute("aria-hidden","true")}e.hide=Le;function Ee(ce){return Array.prototype.slice.call(document.getElementsByTagName(ce),0)}e.getElementsByTagName=Ee;function Te(ce){const fe=window.devicePixelRatio*ce;return Math.max(1,Math.floor(fe))/window.devicePixelRatio}e.computeScreenAwareSize=Te;function De(ce){window.open(ce,"_blank","noopener")}e.windowOpenNoOpener=De;function Ae(ce){const fe=()=>{ce(),Ce=e.scheduleAtNextAnimationFrame(fe)};let Ce=e.scheduleAtNextAnimationFrame(fe);return v.toDisposable(()=>Ce.dispose())}e.animate=Ae,C.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function we(ce){return ce?`url('${C.FileAccess.asBrowserUri(ce).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=we;function Se(ce){return`'${ce.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Se;class ye extends m.Emitter{constructor(){super();this._subscriptions=new v.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(u(window,"keydown",fe=>{if(fe.defaultPrevented)return;const Ce=new k.StandardKeyboardEvent(fe);if(!(Ce.keyCode===6&&fe.repeat)){if(fe.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(fe.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(fe.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(fe.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Ce.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=fe.altKey,this._keyStatus.ctrlKey=fe.ctrlKey,this._keyStatus.metaKey=fe.metaKey,this._keyStatus.shiftKey=fe.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=fe,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(u(window,"keyup",fe=>{fe.defaultPrevented||(!fe.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!fe.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!fe.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!fe.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=fe.altKey,this._keyStatus.ctrlKey=fe.ctrlKey,this._keyStatus.metaKey=fe.metaKey,this._keyStatus.shiftKey=fe.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=fe,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(u(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(u(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(u(document.body,"mousemove",fe=>{fe.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(u(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return ye.instance||(ye.instance=new ye),ye.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=ye;function me(ce,fe){const Ce=window.matchMedia(ce);typeof Ce.addEventListener=="function"?Ce.addEventListener("change",fe):Ce.addListener(fe)}e.addMatchMediaChangeListener=me}),define(ie[160],ne([0,1,7]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function k(s,o={}){const a=L(o);return a.textContent=s,a}e.renderText=k;function M(s,o={}){const a=L(o);return m(a,v(s,!!o.renderCodeSegements),o.actionHandler,o.renderCodeSegements),a}e.renderFormattedText=M;function L(s){const o=s.inline?"span":"div",a=document.createElement(o);return s.className&&(a.className=s.className),a}e.createElement=L;class S{constructor(o){this.source=o,this.index=0}eos(){return this.index>=this.source.length}next(){const o=this.peek();return this.advance(),o}peek(){return this.source[this.index]}advance(){this.index++}}function m(s,o,a,c){let u;if(o.type===2)u=document.createTextNode(o.content||"");else if(o.type===3)u=document.createElement("b");else if(o.type===4)u=document.createElement("i");else if(o.type===7&&c)u=document.createElement("code");else if(o.type===5&&a){const r=document.createElement("a");r.href="#",a.disposeables.add(_.addStandardDisposableListener(r,"click",n=>{a.callback(String(o.index),n)})),u=r}else o.type===8?u=document.createElement("br"):o.type===1&&(u=s);u&&s!==u&&s.appendChild(u),u&&Array.isArray(o.children)&&o.children.forEach(r=>{m(u,r,a,c)})}function v(s,o){const a={type:1,children:[]};let c=0,u=a;const r=[],n=new S(s);for(;!n.eos();){let l=n.next();const t=l==="\\"&&C(n.peek(),o)!==0;if(t&&(l=n.next()),!t&&i(l,o)&&l===n.peek()){n.advance(),u.type===2&&(u=r.pop());const d=C(l,o);if(u.type===d||u.type===5&&d===6)u=r.pop();else{const h={type:d,children:[]};d===5&&(h.index=c,c++),u.children.push(h),r.push(u),u=h}}else if(l===`
`)u.type===2&&(u=r.pop()),u.children.push({type:8});else if(u.type!==2){const d={type:2,content:l};u.children.push(d),r.push(u),u=d}else u.content+=l}return u.type===2&&(u=r.pop()),r.length,a}function i(s,o){return C(s,o)!==0}function C(s,o){switch(s){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return o?7:0;default:return 0}}}),define(ie[93],ne([0,1,7,196,55,2,17]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function m(i,C){let s=new M.StandardMouseEvent(C);return s.preventDefault(),{leftButton:s.leftButton,buttons:s.buttons,posx:s.posx,posy:s.posy}}e.standardMouseMoveMerger=m;class v{constructor(){this._hooks=new L.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(C,s){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const o=this._onStopCallback;this._onStopCallback=null,C&&o&&o(s)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(C,s,o,a,c){if(this.isMonitoring())return;this._mouseMoveEventMerger=o,this._mouseMoveCallback=a,this._onStopCallback=c;const u=k.IframeUtils.getSameOriginWindowChain(),r=S.isIOS?"pointermove":"mousemove",n="mouseup",l=u.map(d=>d.window.document),t=_.getShadowRoot(C);t&&l.unshift(t);for(const d of l)this._hooks.add(_.addDisposableThrottledListener(d,r,h=>{if(h.buttons!==s){this.stopMonitoring(!0);return}this._mouseMoveCallback(h)},(h,p)=>this._mouseMoveEventMerger(h,p))),this._hooks.add(_.addDisposableListener(d,n,h=>this.stopMonitoring(!0)));if(k.IframeUtils.hasDifferentOriginAncestor()){let d=u[u.length-1];this._hooks.add(_.addDisposableListener(d.window.document,"mouseout",h=>{new M.StandardMouseEvent(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(_.addDisposableListener(d.window.document,"mouseover",h=>{new M.StandardMouseEvent(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(_.addDisposableListener(d.window.document.body,"mouseleave",h=>{this.stopMonitoring(!0)}))}}}e.GlobalMouseMoveMonitor=v});var Me=this&&this.__decorate||function($,e,_,k){var M=arguments.length,L=M<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,_):k,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate($,e,_,k);else for(var m=$.length-1;m>=0;m--)(S=$[m])&&(L=(M<3?S(L):M>3?S(e,_,L):S(e,_))||L);return M>3&&L&&Object.defineProperty(e,_,L),L};define(ie[60],ne([0,1,19,2,7,89]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var S;(function(v){v.Tap="-monaco-gesturetap",v.Change="-monaco-gesturechange",v.Start="-monaco-gesturestart",v.End="-monaco-gesturesend",v.Contextmenu="-monaco-gesturecontextmenu"})(S=e.EventType||(e.EventType={}));class m extends k.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(M.addDisposableListener(document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),this._register(M.addDisposableListener(document,"touchend",i=>this.onTouchEnd(i))),this._register(M.addDisposableListener(document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))}static addTarget(i){return m.isTouchDevice()?(m.INSTANCE||(m.INSTANCE=new m),m.INSTANCE.targets.push(i),{dispose:()=>{m.INSTANCE.targets=m.INSTANCE.targets.filter(C=>C!==i)}}):k.Disposable.None}static ignoreTarget(i){return m.isTouchDevice()?(m.INSTANCE||(m.INSTANCE=new m),m.INSTANCE.ignoreTargets.push(i),{dispose:()=>{m.INSTANCE.ignoreTargets=m.INSTANCE.ignoreTargets.filter(C=>C!==i)}}):k.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(i){let C=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let s=0,o=i.targetTouches.length;s<o;s++){let a=i.targetTouches.item(s);this.activeTouches[a.identifier]={id:a.identifier,initialTarget:a.target,initialTimeStamp:C,initialPageX:a.pageX,initialPageY:a.pageY,rollingTimestamps:[C],rollingPageX:[a.pageX],rollingPageY:[a.pageY]};let c=this.newGestureEvent(S.Start,a.target);c.pageX=a.pageX,c.pageY=a.pageY,this.dispatchEvent(c)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}onTouchEnd(i){let C=Date.now(),s=Object.keys(this.activeTouches).length;for(let o=0,a=i.changedTouches.length;o<a;o++){let c=i.changedTouches.item(o);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("move of an UNKNOWN touch",c);continue}let u=this.activeTouches[c.identifier],r=Date.now()-u.initialTimeStamp;if(r<m.HOLD_DELAY&&Math.abs(u.initialPageX-_.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-_.tail(u.rollingPageY))<30){let n=this.newGestureEvent(S.Tap,u.initialTarget);n.pageX=_.tail(u.rollingPageX),n.pageY=_.tail(u.rollingPageY),this.dispatchEvent(n)}else if(r>=m.HOLD_DELAY&&Math.abs(u.initialPageX-_.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-_.tail(u.rollingPageY))<30){let n=this.newGestureEvent(S.Contextmenu,u.initialTarget);n.pageX=_.tail(u.rollingPageX),n.pageY=_.tail(u.rollingPageY),this.dispatchEvent(n)}else if(s===1){let n=_.tail(u.rollingPageX),l=_.tail(u.rollingPageY),t=_.tail(u.rollingTimestamps)-u.rollingTimestamps[0],d=n-u.rollingPageX[0],h=l-u.rollingPageY[0];const p=this.targets.filter(w=>u.initialTarget instanceof Node&&w.contains(u.initialTarget));this.inertia(p,C,Math.abs(d)/t,d>0?1:-1,n,Math.abs(h)/t,h>0?1:-1,l)}this.dispatchEvent(this.newGestureEvent(S.End,u.initialTarget)),delete this.activeTouches[c.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(i,C){let s=document.createEvent("CustomEvent");return s.initEvent(i,!1,!0),s.initialTarget=C,s.tapCount=0,s}dispatchEvent(i){if(i.type===S.Tap){const C=new Date().getTime();let s=0;C-this._lastSetTapCountTime>m.CLEAR_TAP_COUNT_TIME?s=1:s=2,this._lastSetTapCountTime=C,i.tapCount=s}else(i.type===S.Change||i.type===S.Contextmenu)&&(this._lastSetTapCountTime=0);for(let C=0;C<this.ignoreTargets.length;C++)if(i.initialTarget instanceof Node&&this.ignoreTargets[C].contains(i.initialTarget))return;this.targets.forEach(C=>{i.initialTarget instanceof Node&&C.contains(i.initialTarget)&&(C.dispatchEvent(i),this.dispatched=!0)})}inertia(i,C,s,o,a,c,u,r){this.handle=M.scheduleAtNextAnimationFrame(()=>{let n=Date.now(),l=n-C,t=0,d=0,h=!0;s+=m.SCROLL_FRICTION*l,c+=m.SCROLL_FRICTION*l,s>0&&(h=!1,t=o*s*l),c>0&&(h=!1,d=u*c*l);let p=this.newGestureEvent(S.Change);p.translationX=t,p.translationY=d,i.forEach(w=>w.dispatchEvent(p)),h||this.inertia(i,n,s,o,a+t,c,u,r+d)})}onTouchMove(i){let C=Date.now();for(let s=0,o=i.changedTouches.length;s<o;s++){let a=i.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("end of an UNKNOWN touch",a);continue}let c=this.activeTouches[a.identifier],u=this.newGestureEvent(S.Change,c.initialTarget);u.translationX=a.pageX-_.tail(c.rollingPageX),u.translationY=a.pageY-_.tail(c.rollingPageY),u.pageX=a.pageX,u.pageY=a.pageY,this.dispatchEvent(u),c.rollingPageX.length>3&&(c.rollingPageX.shift(),c.rollingPageY.shift(),c.rollingTimestamps.shift()),c.rollingPageX.push(a.pageX),c.rollingPageY.push(a.pageY),c.rollingTimestamps.push(C)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}}m.SCROLL_FRICTION=-.005,m.HOLD_DELAY=700,m.CLEAR_TAP_COUNT_TIME=400,Me([L.memoize],m,"isTouchDevice",null),e.Gesture=m}),define(ie[104],ne([0,1,7,27]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const M=new RegExp(`(\\\\)?\\$\\((${k.CSSIcon.iconNameExpression}(?:${k.CSSIcon.iconModifierExpression})?)\\)`,"g");function L(m){const v=new Array;let i,C=0,s=0;for(;(i=M.exec(m))!==null;){s=i.index||0,v.push(m.substring(C,s)),C=(i.index||0)+i[0].length;const[,o,a]=i;v.push(o?`$(${a})`:S({id:a}))}return C<m.length&&v.push(m.substring(C)),v}e.renderLabelWithIcons=L;function S(m){const v=_.$("span");return v.classList.add(...k.CSSIcon.asClassNameArray(m)),v}e.renderIcon=S}),define(ie[161],ne([0,1,42,7,104]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class L{constructor(m,v){this.supportIcons=v,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",m.appendChild(this.domNode)}get element(){return this.domNode}set(m,v=[],i="",C){m||(m=""),C&&(m=L.escapeNewLines(m,v)),!(this.didEverRender&&this.text===m&&this.title===i&&_.equals(this.highlights,v))&&(this.text=m,this.title=i,this.highlights=v,this.render())}render(){const m=[];let v=0;for(const i of this.highlights){if(i.end===i.start)continue;if(v<i.start){const o=this.text.substring(v,i.start);m.push(k.$("span",void 0,...this.supportIcons?M.renderLabelWithIcons(o):[o])),v=i.end}const C=this.text.substring(i.start,i.end),s=k.$("span.highlight",void 0,...this.supportIcons?M.renderLabelWithIcons(C):[C]);i.extraClasses&&s.classList.add(i.extraClasses),m.push(s),v=i.end}if(v<this.text.length){const i=this.text.substring(v);m.push(k.$("span",void 0,...this.supportIcons?M.renderLabelWithIcons(i):[i]))}k.reset(this.domNode,...m),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(m,v){let i=0,C=0;return m.replace(/\r\n|\r|\n/g,(s,o)=>{C=s===`\r
`?-1:0,o+=i;for(const a of v)a.end<=o||(a.start>=o&&(a.start+=C),a.end>=o&&(a.end+=C));return i+=C,"\u23CE"})}}e.HighlightedLabel=L}),define(ie[296],ne([0,1,7]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(L){try{L.parentElement&&L.parentElement.removeChild(L)}catch(S){}}class M{constructor(S){this.renderers=S,this.cache=new Map}alloc(S){let m=this.getTemplateCache(S).pop();if(!m){const v=_.$(".monaco-list-row"),C=this.getRenderer(S).renderTemplate(v);m={domNode:v,templateId:S,templateData:C}}return m}release(S){!S||this.releaseRow(S)}releaseRow(S){const{domNode:m,templateId:v}=S;m&&(m.classList.remove("scrolling"),k(m)),this.getTemplateCache(v).push(S)}getTemplateCache(S){let m=this.cache.get(S);return m||(m=[],this.cache.set(S,m)),m}dispose(){this.cache.forEach((S,m)=>{for(const v of S)this.getRenderer(m).disposeTemplate(v.templateData),v.templateData=null}),this.cache.clear()}getRenderer(S){const m=this.renderers.get(S);if(!m)throw new Error(`No renderer found for ${S}`);return m}}e.RowCache=M}),define(ie[51],ne([0,1,7,54,55,2,60]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class m extends L.Disposable{onclick(i,C){this._register(_.addDisposableListener(i,_.EventType.CLICK,s=>C(new M.StandardMouseEvent(s))))}onmousedown(i,C){this._register(_.addDisposableListener(i,_.EventType.MOUSE_DOWN,s=>C(new M.StandardMouseEvent(s))))}onmouseover(i,C){this._register(_.addDisposableListener(i,_.EventType.MOUSE_OVER,s=>C(new M.StandardMouseEvent(s))))}onnonbubblingmouseout(i,C){this._register(_.addDisposableNonBubblingMouseOutListener(i,s=>C(new M.StandardMouseEvent(s))))}onkeydown(i,C){this._register(_.addDisposableListener(i,_.EventType.KEY_DOWN,s=>C(new k.StandardKeyboardEvent(s))))}onkeyup(i,C){this._register(_.addDisposableListener(i,_.EventType.KEY_UP,s=>C(new k.StandardKeyboardEvent(s))))}oninput(i,C){this._register(_.addDisposableListener(i,_.EventType.INPUT,C))}onblur(i,C){this._register(_.addDisposableListener(i,_.EventType.BLUR,C))}onfocus(i,C){this._register(_.addDisposableListener(i,_.EventType.FOCUS,C))}ignoreGesture(i){S.Gesture.ignoreTarget(i)}}e.Widget=m}),define(ie[162],ne([0,1,93,51,15]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class L extends k.Widget{constructor(m){super();this._onActivate=m.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=m.bgWidth+"px",this.bgDomNode.style.height=m.bgHeight+"px",typeof m.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof m.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof m.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof m.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=m.className,this.domNode.classList.add(...m.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof m.top!="undefined"&&(this.domNode.style.top=m.top+"px"),typeof m.left!="undefined"&&(this.domNode.style.left=m.left+"px"),typeof m.bottom!="undefined"&&(this.domNode.style.bottom=m.bottom+"px"),typeof m.right!="undefined"&&(this.domNode.style.right=m.right+"px"),this._mouseMoveMonitor=this._register(new _.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,v=>this._arrowMouseDown(v)),this.onmousedown(this.domNode,v=>this._arrowMouseDown(v)),this._mousedownRepeatTimer=this._register(new M.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new M.TimeoutTimer)}_arrowMouseDown(m){const v=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(v,200),this._mouseMoveMonitor.startMonitoring(m.target,m.buttons,_.standardMouseMoveMerger,i=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),m.preventDefault()}}e.ScrollbarArrow=L}),define(ie[203],ne([0,1,7,30,93,162,291,51,17]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const i=140;class C extends m.Widget{constructor(o){super();this._lazyRender=o.lazyRender,this._host=o.host,this._scrollable=o.scrollable,this._scrollByPage=o.scrollByPage,this._scrollbarState=o.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(o.visibility,"visible scrollbar "+o.extraScrollbarClassName,"invisible scrollbar "+o.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new M.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=k.createFastDomNode(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,a=>this._domNodeMouseDown(a))}_createArrow(o){const a=this._register(new L.ScrollbarArrow(o));this.domNode.domNode.appendChild(a.bgDomNode),this.domNode.domNode.appendChild(a.domNode)}_createSlider(o,a,c,u){this.slider=k.createFastDomNode(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(o),this.slider.setLeft(a),typeof c=="number"&&this.slider.setWidth(c),typeof u=="number"&&this.slider.setHeight(u),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,r=>{r.leftButton&&(r.preventDefault(),this._sliderMouseDown(r,()=>{}))}),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(o){return this._scrollbarState.setVisibleSize(o)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(o){return this._scrollbarState.setScrollSize(o)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(o){return this._scrollbarState.setScrollPosition(o)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(o){o.target===this.domNode.domNode&&this._onMouseDown(o)}delegateMouseDown(o){const a=this.domNode.domNode.getClientRects()[0].top,c=a+this._scrollbarState.getSliderPosition(),u=a+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderMousePosition(o);c<=r&&r<=u?o.leftButton&&(o.preventDefault(),this._sliderMouseDown(o,()=>{})):this._onMouseDown(o)}_onMouseDown(o){let a,c;if(o.target===this.domNode.domNode&&typeof o.browserEvent.offsetX=="number"&&typeof o.browserEvent.offsetY=="number")a=o.browserEvent.offsetX,c=o.browserEvent.offsetY;else{const r=_.getDomNodePagePosition(this.domNode.domNode);a=o.posx-r.left,c=o.posy-r.top}const u=this._mouseDownRelativePosition(a,c);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(u):this._scrollbarState.getDesiredScrollPositionFromOffset(u)),o.leftButton&&(o.preventDefault(),this._sliderMouseDown(o,()=>{}))}_sliderMouseDown(o,a){const c=this._sliderMousePosition(o),u=this._sliderOrthogonalMousePosition(o),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(o.target,o.buttons,M.standardMouseMoveMerger,n=>{const l=this._sliderOrthogonalMousePosition(n),t=Math.abs(l-u);if(v.isWindows&&t>i){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const h=this._sliderMousePosition(n)-c;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),a()}),this._host.onDragStart()}_setDesiredScrollPositionNow(o){const a={};this.writeScrollPosition(a,o),this._scrollable.setScrollPositionNow(a)}updateScrollbarSize(o){this._updateScrollbarSize(o),this._scrollbarState.setScrollbarSize(o),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=C}),define(ie[297],ne([0,1,55,203,162,197,27]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;const m=S.registerCodicon("scrollbar-button-left",S.Codicon.triangleLeft),v=S.registerCodicon("scrollbar-button-right",S.Codicon.triangleRight);class i extends k.AbstractScrollbar{constructor(s,o,a){const c=s.getScrollDimensions(),u=s.getCurrentScrollPosition();super({lazyRender:o.lazyRender,host:a,scrollbarState:new L.ScrollbarState(o.horizontalHasArrows?o.arrowSize:0,o.horizontal===2?0:o.horizontalScrollbarSize,o.vertical===2?0:o.verticalScrollbarSize,c.width,c.scrollWidth,u.scrollLeft),visibility:o.horizontal,extraScrollbarClassName:"horizontal",scrollable:s,scrollByPage:o.scrollByPage});if(o.horizontalHasArrows){const r=(o.arrowSize-M.ARROW_IMG_SIZE)/2,n=(o.horizontalScrollbarSize-M.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:m,top:n,left:r,bottom:void 0,right:void 0,bgWidth:o.arrowSize,bgHeight:o.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new _.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:v,top:n,left:void 0,bottom:void 0,right:r,bgWidth:o.arrowSize,bgHeight:o.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new _.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((o.horizontalScrollbarSize-o.horizontalSliderSize)/2),0,void 0,o.horizontalSliderSize)}_updateSlider(s,o){this.slider.setWidth(s),this.slider.setLeft(o)}_renderDomNode(s,o){this.domNode.setWidth(s),this.domNode.setHeight(o),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(s){return this._shouldRender=this._onElementScrollSize(s.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(s.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(s.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(s,o){return s}_sliderMousePosition(s){return s.posx}_sliderOrthogonalMousePosition(s){return s.posy}_updateScrollbarSize(s){this.slider.setHeight(s)}writeScrollPosition(s,o){s.scrollLeft=o}updateOptions(s){this.updateScrollbarSize(s.horizontal===2?0:s.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(s.vertical===2?0:s.verticalScrollbarSize),this._visibilityController.setVisibility(s.horizontal),this._scrollByPage=s.scrollByPage}}e.HorizontalScrollbar=i}),define(ie[298],ne([0,1,55,203,162,197,27]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;const m=S.registerCodicon("scrollbar-button-up",S.Codicon.triangleUp),v=S.registerCodicon("scrollbar-button-down",S.Codicon.triangleDown);class i extends k.AbstractScrollbar{constructor(s,o,a){const c=s.getScrollDimensions(),u=s.getCurrentScrollPosition();super({lazyRender:o.lazyRender,host:a,scrollbarState:new L.ScrollbarState(o.verticalHasArrows?o.arrowSize:0,o.vertical===2?0:o.verticalScrollbarSize,0,c.height,c.scrollHeight,u.scrollTop),visibility:o.vertical,extraScrollbarClassName:"vertical",scrollable:s,scrollByPage:o.scrollByPage});if(o.verticalHasArrows){const r=(o.arrowSize-M.ARROW_IMG_SIZE)/2,n=(o.verticalScrollbarSize-M.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:m,top:r,left:n,bottom:void 0,right:void 0,bgWidth:o.verticalScrollbarSize,bgHeight:o.arrowSize,onActivate:()=>this._host.onMouseWheel(new _.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:v,top:void 0,left:n,bottom:r,right:void 0,bgWidth:o.verticalScrollbarSize,bgHeight:o.arrowSize,onActivate:()=>this._host.onMouseWheel(new _.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((o.verticalScrollbarSize-o.verticalSliderSize)/2),o.verticalSliderSize,void 0)}_updateSlider(s,o){this.slider.setHeight(s),this.slider.setTop(o)}_renderDomNode(s,o){this.domNode.setWidth(o),this.domNode.setHeight(s),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(s){return this._shouldRender=this._onElementScrollSize(s.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(s.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(s.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(s,o){return o}_sliderMousePosition(s){return s.posy}_sliderOrthogonalMousePosition(s){return s.posx}_updateScrollbarSize(s){this.slider.setWidth(s)}writeScrollPosition(s,o){s.scrollTop=o}updateOptions(s){this.updateScrollbarSize(s.vertical===2?0:s.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(s.vertical),this._scrollByPage=s.scrollByPage}}e.VerticalScrollbar=i}),define(ie[43],ne([0,1,157,72,24,8,46]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.resolvePath=e.normalizePath=e.joinPath=e.dirname=e.basename=e.basenameOrAuthority=e.isEqual=e.extUri=e.ExtUri=e.originalFSPath=void 0;function m(C){return M.uriToFsPath(C,!0)}e.originalFSPath=m;class v{constructor(s){this._ignorePathCasing=s}compare(s,o,a=!1){return s===o?0:L.compare(this.getComparisonKey(s,a),this.getComparisonKey(o,a))}isEqual(s,o,a=!1){return s===o?!0:!s||!o?!1:this.getComparisonKey(s,a)===this.getComparisonKey(o,a)}getComparisonKey(s,o=!1){return s.with({path:this._ignorePathCasing(s)?s.path.toLowerCase():void 0,fragment:o?null:void 0}).toString()}joinPath(s,...o){return M.URI.joinPath(s,...o)}basenameOrAuthority(s){return e.basename(s)||s.authority}basename(s){return k.posix.basename(s.path)}dirname(s){if(s.path.length===0)return s;let o;return s.scheme===S.Schemas.file?o=M.URI.file(k.dirname(m(s))).path:(o=k.posix.dirname(s.path),s.authority&&o.length&&o.charCodeAt(0)!==47&&(console.error(`dirname("${s.toString})) resulted in a relative path`),o="/")),s.with({path:o})}normalizePath(s){if(!s.path.length)return s;let o;return s.scheme===S.Schemas.file?o=M.URI.file(k.normalize(m(s))).path:o=k.posix.normalize(s.path),s.with({path:o})}resolvePath(s,o){if(s.scheme===S.Schemas.file){const a=M.URI.file(k.resolve(m(s),o));return s.with({authority:a.authority,path:a.path})}return o=_.toPosixPath(o),s.with({path:k.posix.resolve(s.path,o)})}}e.ExtUri=v,e.extUri=new v(()=>!1),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri);var i;(function(C){C.META_DATA_LABEL="label",C.META_DATA_DESCRIPTION="description",C.META_DATA_SIZE="size",C.META_DATA_MIME="mime";function s(o){const a=new Map;o.path.substring(o.path.indexOf(";")+1,o.path.lastIndexOf(";")).split(";").forEach(r=>{const[n,l]=r.split(":");n&&l&&a.set(n,l)});const u=o.path.substring(0,o.path.indexOf(";"));return u&&a.set(C.META_DATA_MIME,u),a}C.parseMetaData=s})(i=e.DataUri||(e.DataUri={}))}),define(ie[299],ne([0,1,7,160,12,81,125,700,701,202,42,8,24,46,103,43,55,104,6,91]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;const h=(d=window.trustedTypes)===null||d===void 0?void 0:d.createPolicy("insane",{createHTML(g,f){return v.insane(g,f)}});function p(g,f={},y={}){var I;const N=k.createElement(f),D=function(E){let W;try{W=i.parse(decodeURIComponent(E))}catch(V){}return W?(W=C.cloneAndChange(W,V=>{if(g.uris&&g.uris[V])return o.URI.revive(g.uris[V])}),encodeURIComponent(JSON.stringify(W))):E},T=function(E,W){const V=g.uris&&g.uris[E];if(!V)return E;let U=o.URI.revive(V);return o.URI.parse(E).toString()===U.toString()?E:W?a.FileAccess.asBrowserUri(U).toString(!0):(U.query&&(U=U.with({query:D(U.query)})),U.toString())};let P;const R=new Promise(E=>P=E),O=new m.Renderer;if(O.image=(E,W,V)=>{let U=[],q=[];if(E){({href:E,dimensions:U}=L.parseHrefAndDimensions(E)),E=T(E,!0);try{const j=o.URI.parse(E);f.baseUrl&&j.scheme===a.Schemas.file&&(E=u.resolvePath(f.baseUrl,E).toString())}catch(j){}q.push(`src="${E}"`)}return V&&q.push(`alt="${V}"`),W&&q.push(`title="${W}"`),U.length&&(q=q.concat(U)),"<img "+q.join(" ")+">"},O.link=(E,W,V)=>(E===V&&(V=L.removeMarkdownEscapes(V)),E=T(E,!1),f.baseUrl&&(/^\w[\w\d+.-]*:/.test(E)||(E=u.resolvePath(f.baseUrl,E).toString())),W=L.removeMarkdownEscapes(W),E=L.removeMarkdownEscapes(E),!E||E.match(/^data:|javascript:/i)||E.match(/^command:/i)&&!g.isTrusted||E.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?V:(E=E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${E}" title="${W||E}">${V}</a>`)),O.paragraph=E=>(g.supportThemeIcons&&(E=n.renderLabelWithIcons(E).map(V=>typeof V=="string"?V:V.outerHTML).join("")),`<p>${E}</p>`),f.codeBlockRenderer&&(O.code=(E,W)=>{const V=f.codeBlockRenderer(W,E),U=S.defaultGenerator.nextId(),q=Promise.all([V,R]).then(j=>{const te=N.querySelector(`div[data-code="${U}"]`);te&&_.reset(te,j[0])}).catch(j=>{});return f.asyncRenderCallback&&q.then(f.asyncRenderCallback),`<div class="code" data-code="${U}">${s.escape(E)}</div>`}),f.actionHandler){const E=f.actionHandler.disposeables.add(new t.DomEmitter(N,"click")),W=f.actionHandler.disposeables.add(new t.DomEmitter(N,"auxclick"));f.actionHandler.disposeables.add(l.Event.any(E.event,W.event)(V=>{const U=new r.StandardMouseEvent(V);if(!U.leftButton&&!U.middleButton)return;let q=U.target;if(!(q.tagName!=="A"&&(q=q.parentElement,!q||q.tagName!=="A")))try{const j=q.dataset.href;j&&f.actionHandler.callback(j,U)}catch(j){M.onUnexpectedError(j)}finally{U.preventDefault()}}))}y.sanitizer=E=>(g.isTrusted?E.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?E:"",y.sanitize=!0,y.silent=!0,y.renderer=O;let A=(I=g.value)!==null&&I!==void 0?I:"";A.length>1e5&&(A=`${A.substr(0,1e5)}\u2026`),g.supportThemeIcons&&(A=c.markdownEscapeEscapedIcons(A));const F=m.parse(A,y);if(N.innerHTML=w(g,F),P(),f.asyncRenderCallback)for(const E of N.getElementsByTagName("img")){const W=_.addDisposableListener(E,"load",()=>{W.dispose(),f.asyncRenderCallback()})}return N}e.renderMarkdown=p;function w(g,f){var y;const I=b(g);return(y=h==null?void 0:h.createHTML(f,I))!==null&&y!==void 0?y:v.insane(f,I)}function b(g){const f=[a.Schemas.http,a.Schemas.https,a.Schemas.mailto,a.Schemas.data,a.Schemas.file,a.Schemas.vscodeRemote,a.Schemas.vscodeRemoteResource];return g.isTrusted&&f.push(a.Schemas.command),{allowedSchemes:f,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter(y){return y.tag==="span"&&g.isTrusted?y.attrs.style&&Object.keys(y.attrs).length===1?!!y.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):y.attrs.class?!!y.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/):!1:!0}}}}),define(ie[163],ne([0,1,24,46,17,43,157]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function m(i){if(!i)return;typeof i=="string"&&(i=_.URI.file(i));const C=L.basename(i)||(i.scheme===k.Schemas.file?i.fsPath:i.path);return M.isWindows&&S.isRootOrDriveLetter(C)?v(C):C}e.getBaseLabel=m;function v(i){return S.hasDriveLetter(i)?i.charAt(0).toUpperCase()+i.slice(1):i}e.normalizeDriveLetter=v}),define(ie[105],ne([0,1,72,8,201,46,43]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessMimeTypes=e.registerTextMime=e.Mimes=void 0;var m;(function(r){r.text="text/plain",r.binary="application/octet-stream",r.unknown="application/unknown",r.markdown="text/markdown"})(m=e.Mimes||(e.Mimes={}));let v=[],i=[],C=[];function s(r,n=!1){const l=o(r);v.push(l),l.userConfigured?C.push(l):i.push(l),n&&!l.userConfigured&&v.forEach(t=>{t.mime===l.mime||t.userConfigured||(l.extension&&t.extension===l.extension&&console.warn(`Overwriting extension <<${l.extension}>> to now point to mime <<${l.mime}>>`),l.filename&&t.filename===l.filename&&console.warn(`Overwriting filename <<${l.filename}>> to now point to mime <<${l.mime}>>`),l.filepattern&&t.filepattern===l.filepattern&&console.warn(`Overwriting filepattern <<${l.filepattern}>> to now point to mime <<${l.mime}>>`),l.firstline&&t.firstline===l.firstline&&console.warn(`Overwriting firstline <<${l.firstline}>> to now point to mime <<${l.mime}>>`))})}e.registerTextMime=s;function o(r){return{id:r.id,mime:r.mime,filename:r.filename,extension:r.extension,filepattern:r.filepattern,firstline:r.firstline,userConfigured:r.userConfigured,filenameLowercase:r.filename?r.filename.toLowerCase():void 0,extensionLowercase:r.extension?r.extension.toLowerCase():void 0,filepatternLowercase:r.filepattern?r.filepattern.toLowerCase():void 0,filepatternOnPath:r.filepattern?r.filepattern.indexOf(_.posix.sep)>=0:!1}}function a(r,n){let l;if(r)switch(r.scheme){case L.Schemas.file:l=r.fsPath;break;case L.Schemas.data:l=S.DataUri.parseMetaData(r).get(S.DataUri.META_DATA_LABEL);break;default:l=r.path}if(!l)return[m.unknown];l=l.toLowerCase();const t=_.basename(l),d=c(l,t,C);if(d)return[d,m.text];const h=c(l,t,i);if(h)return[h,m.text];if(n){const p=u(n);if(p)return[p,m.text]}return[m.unknown]}e.guessMimeTypes=a;function c(r,n,l){let t=null,d=null,h=null;for(let p=l.length-1;p>=0;p--){const w=l[p];if(n===w.filenameLowercase){t=w;break}if(w.filepattern&&(!d||w.filepattern.length>d.filepattern.length)){const b=w.filepatternOnPath?r:n;M.match(w.filepatternLowercase,b)&&(d=w)}w.extension&&(!h||w.extension.length>h.extension.length)&&n.endsWith(w.extensionLowercase)&&(h=w)}return t?t.mime:d?d.mime:h?h.mime:null}function u(r){if(k.startsWithUTF8BOM(r)&&(r=r.substr(1)),r.length>0)for(let n=v.length-1;n>=0;n--){const l=v[n];if(!l.firstline)continue;const t=r.match(l.firstline);if(t&&t.length>0)return l.mime}return null}}),define(ie[164],ne([0,1,105]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:_.Mimes.text,TERMINALS:"Terminals"};class k{constructor(L){this.data=L}update(){}getData(){return this.data}}e.DragAndDropData=k,e.StaticDND={CurrentDragAndDropData:void 0}}),define(ie[300],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const _=new Uint8Array(16),k=[];for(let S=0;S<256;S++)k.push(S.toString(16).padStart(2,"0"));let M;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?M=crypto.getRandomValues.bind(crypto):M=function(S){for(let m=0;m<S.length;m++)S[m]=Math.floor(Math.random()*256);return S};function L(){M(_),_[6]=_[6]&15|64,_[8]=_[8]&63|128;let S=0,m="";return m+=k[_[S++]],m+=k[_[S++]],m+=k[_[S++]],m+=k[_[S++]],m+="-",m+=k[_[S++]],m+=k[_[S++]],m+="-",m+=k[_[S++]],m+=k[_[S++]],m+="-",m+=k[_[S++]],m+=k[_[S++]],m+="-",m+=k[_[S++]],m+=k[_[S++]],m+=k[_[S++]],m+=k[_[S++]],m+=k[_[S++]],m+=k[_[S++]],m}e.generateUuid=L}),define(ie[204],ne([0,1,12,2,17,20]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const S="$initialize";let m=!1;function v(a){!M.isWeb||(m||(m=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(a.message))}e.logOnceWebWorkerWarning=v;class i{constructor(c){this._workerId=-1,this._handler=c,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(c){this._workerId=c}sendMessage(c,u){let r=String(++this._lastSentReq);return new Promise((n,l)=>{this._pendingReplies[r]={resolve:n,reject:l},this._send({vsWorker:this._workerId,req:r,method:c,args:u})})}handleMessage(c){!c||!c.vsWorker||this._workerId!==-1&&c.vsWorker!==this._workerId||this._handleMessage(c)}_handleMessage(c){if(c.seq){let l=c;if(!this._pendingReplies[l.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[l.seq];if(delete this._pendingReplies[l.seq],l.err){let d=l.err;l.err.$isError&&(d=new Error,d.name=l.err.name,d.message=l.err.message,d.stack=l.err.stack),t.reject(d);return}t.resolve(l.res);return}let u=c,r=u.req;this._handler.handleMessage(u.method,u.args).then(l=>{this._send({vsWorker:this._workerId,seq:r,res:l,err:void 0})},l=>{l.detail instanceof Error&&(l.detail=_.transformErrorForSerialization(l.detail)),this._send({vsWorker:this._workerId,seq:r,res:void 0,err:_.transformErrorForSerialization(l)})})}_send(c){let u=[];if(c.req){const r=c;for(let n=0;n<r.args.length;n++)r.args[n]instanceof ArrayBuffer&&u.push(r.args[n])}else{const r=c;r.res instanceof ArrayBuffer&&u.push(r.res)}this._handler.sendMessage(c,u)}}class C extends k.Disposable{constructor(c,u,r){super();let n=null;this._worker=this._register(c.create("vs/base/common/worker/simpleWorker",h=>{this._protocol.handleMessage(h)},h=>{n&&n(h)})),this._protocol=new i({sendMessage:(h,p)=>{this._worker.postMessage(h,p)},handleMessage:(h,p)=>{if(typeof r[h]!="function")return Promise.reject(new Error("Missing method "+h+" on main thread host."));try{return Promise.resolve(r[h].apply(r,p))}catch(w){return Promise.reject(w)}}}),this._protocol.setWorkerId(this._worker.getId());let l=null;typeof self.require!="undefined"&&typeof self.require.getConfig=="function"?l=self.require.getConfig():typeof self.requirejs!="undefined"&&(l=self.requirejs.s.contexts._.config);const t=L.getAllMethodNames(r);this._onModuleLoaded=this._protocol.sendMessage(S,[this._worker.getId(),JSON.parse(JSON.stringify(l)),u,t]);const d=(h,p)=>this._request(h,p);this._lazyProxy=new Promise((h,p)=>{n=p,this._onModuleLoaded.then(w=>{h(L.createProxyObject(w,d))},w=>{p(w),this._onError("Worker failed to load "+u,w)})})}getProxyObject(){return this._lazyProxy}_request(c,u){return new Promise((r,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(c,u).then(r,n)},n)})}_onError(c,u){console.error(c),console.info(u)}}e.SimpleWorkerClient=C;class s{constructor(c,u){this._requestHandlerFactory=u,this._requestHandler=null,this._protocol=new i({sendMessage:(r,n)=>{c(r,n)},handleMessage:(r,n)=>this._handleMessage(r,n)})}onmessage(c){this._protocol.handleMessage(c)}_handleMessage(c,u){if(c===S)return this.initialize(u[0],u[1],u[2],u[3]);if(!this._requestHandler||typeof this._requestHandler[c]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._requestHandler[c].apply(this._requestHandler,u))}catch(r){return Promise.reject(r)}}initialize(c,u,r,n){this._protocol.setWorkerId(c);const l=(d,h)=>this._protocol.sendMessage(d,h),t=L.createProxyObject(n,l);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(t),Promise.resolve(L.getAllMethodNames(this._requestHandler))):(u&&(typeof u.baseUrl!="undefined"&&delete u.baseUrl,typeof u.paths!="undefined"&&typeof u.paths.vs!="undefined"&&delete u.paths.vs,typeof u.trustedTypesPolicy!==void 0&&delete u.trustedTypesPolicy,u.catchError=!0,self.require.config(u)),new Promise((d,h)=>{self.require([r],p=>{if(this._requestHandler=p.create(t),!this._requestHandler){h(new Error("No RequestHandler!"));return}d(L.getAllMethodNames(this._requestHandler))},h)}))}}e.SimpleWorkerServer=s;function o(a){return new s(a,null)}e.create=o}),define(ie[205],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var _;(function(M){M[M.Blur=1]="Blur",M[M.Gesture=2]="Gesture",M[M.Other=3]="Other"})(_=e.QuickInputHideReason||(e.QuickInputHideReason={}));var k;(function(M){M[M.NONE=0]="NONE",M[M.FIRST=1]="FIRST",M[M.SECOND=2]="SECOND",M[M.LAST=3]="LAST"})(k=e.ItemActivation||(e.ItemActivation={}))}),define(ie[301],ne([0,1,2,6,15,20]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=void 0;var S;(function(i){i[i.None=0]="None",i[i.Initialized=1]="Initialized",i[i.Closed=2]="Closed"})(S||(S={}));class m extends _.Disposable{constructor(C,s=Object.create(null)){super();this.database=C,this.options=s,this._onDidChangeStorage=this._register(new k.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=S.None,this.cache=new Map,this.flushDelayer=new M.ThrottledDelayer(m.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(C=>this.onDidChangeItemsExternal(C)))}onDidChangeItemsExternal(C){var s,o;(s=C.changed)===null||s===void 0||s.forEach((a,c)=>this.accept(c,a)),(o=C.deleted)===null||o===void 0||o.forEach(a=>this.accept(a,void 0))}accept(C,s){if(this.state===S.Closed)return;let o=!1;L.isUndefinedOrNull(s)?o=this.cache.delete(C):this.cache.get(C)!==s&&(this.cache.set(C,s),o=!0),o&&this._onDidChangeStorage.fire(C)}get(C,s){const o=this.cache.get(C);return L.isUndefinedOrNull(o)?s:o}getBoolean(C,s){const o=this.get(C);return L.isUndefinedOrNull(o)?s:o==="true"}getNumber(C,s){const o=this.get(C);return L.isUndefinedOrNull(o)?s:parseInt(o,10)}set(C,s){return Ie(this,void 0,void 0,function*(){if(this.state===S.Closed)return;if(L.isUndefinedOrNull(s))return this.delete(C);const o=String(s);if(this.cache.get(C)!==o)return this.cache.set(C,o),this.pendingInserts.set(C,o),this.pendingDeletes.delete(C),this._onDidChangeStorage.fire(C),this.flushDelayer.trigger(()=>this.flushPending())})}delete(C){return Ie(this,void 0,void 0,function*(){if(!(this.state===S.Closed||!this.cache.delete(C)))return this.pendingDeletes.has(C)||this.pendingDeletes.add(C),this.pendingInserts.delete(C),this._onDidChangeStorage.fire(C),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Ie(this,void 0,void 0,function*(){if(!this.hasPending)return;const C={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(C).finally(()=>{var s;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(s=this.whenFlushedCallbacks.pop())===null||s===void 0||s()})})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=m,m.DEFAULT_FLUSH_DELAY=100;class v{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}updateItems(C){return Ie(this,void 0,void 0,function*(){C.insert&&C.insert.forEach((s,o)=>this.items.set(o,s)),C.delete&&C.delete.forEach(s=>this.items.delete(s))})}}e.InMemoryStorageDatabase=v}),define(ie[302],ne([0,1,17,204]),function($,e,_,k){"use strict";var M;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const L=(M=window.trustedTypes)===null||M===void 0?void 0:M.createPolicy("defaultWorkerFactory",{createScriptURL:s=>s});function S(s,o){if(_.globals.MonacoEnvironment){if(typeof _.globals.MonacoEnvironment.getWorker=="function")return _.globals.MonacoEnvironment.getWorker(s,o);if(typeof _.globals.MonacoEnvironment.getWorkerUrl=="function"){const a=_.globals.MonacoEnvironment.getWorkerUrl(s,o);return new Worker(L?L.createScriptURL(a):a,{name:o})}}if(typeof $=="function"){const a=$.toUrl("./"+s),c=m(a,o);return new Worker(L?L.createScriptURL(c):c,{name:o})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function m(s,o){if(/^((http:)|(https:)|(file:))/.test(s)&&s.substring(0,self.origin.length)!==self.origin){const a="vs/base/worker/defaultWorkerFactory.js",c=$.toUrl(a).slice(0,-a.length),u=`/*${o}*/self.MonacoEnvironment={baseUrl: '${c}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${s}') ?? '${s}');/*${o}*/`,r=new Blob([u],{type:"application/javascript"});return URL.createObjectURL(r)}return s+"#"+o}e.getWorkerBootstrapUrl=m;function v(s){return typeof s.then=="function"}class i{constructor(o,a,c,u,r){this.id=a;const n=S("workerMain.js",c);v(n)?this.worker=n:this.worker=Promise.resolve(n),this.postMessage(o,[]),this.worker.then(l=>{l.onmessage=function(t){u(t.data)},l.onmessageerror=r,typeof l.addEventListener=="function"&&l.addEventListener("error",r)})}getId(){return this.id}postMessage(o,a){this.worker&&this.worker.then(c=>c.postMessage(o,a))}dispose(){this.worker&&this.worker.then(o=>o.terminate()),this.worker=null}}class C{constructor(o){this._label=o,this._webWorkerFailedBeforeError=!1}create(o,a,c){let u=++C.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new i(o,u,this._label||"anonymous"+u,a,r=>{k.logOnceWebWorkerWarning(r),this._webWorkerFailedBeforeError=r,c(r)})}}e.DefaultWorkerFactory=C,C.LAST_WORKER_ID=0}),define(ie[206],ne([10]),{}),define(ie[303],ne([10]),{}),define(ie[44],ne([0,1,17,7,303]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const M=2e4;let L,S,m,v,i;function C(c){L=document.createElement("div"),L.className="monaco-aria-container";const u=()=>{const n=document.createElement("div");return n.className="monaco-alert",n.setAttribute("role","alert"),n.setAttribute("aria-atomic","true"),L.appendChild(n),n};S=u(),m=u();const r=()=>{const n=document.createElement("div");return n.className="monaco-status",n.setAttribute("role","complementary"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),L.appendChild(n),n};v=r(),i=r(),c.appendChild(L)}e.setARIAContainer=C;function s(c){!L||(S.textContent!==c?(k.clearNode(m),a(S,c)):(k.clearNode(S),a(m,c)))}e.alert=s;function o(c){!L||(_.isMacintosh?s(c):v.textContent!==c?(k.clearNode(i),a(v,c)):(k.clearNode(v),a(i,c)))}e.status=o;function a(c,u){k.clearNode(c),u.length>M&&(u=u.substr(0,M)),c.textContent=u,c.style.visibility="hidden",c.style.visibility="visible"}}),define(ie[304],ne([10]),{}),define(ie[305],ne([0,1,54,29,42,6,2,60,104,7,304]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const C={buttonBackground:k.Color.fromHex("#0E639C"),buttonHoverBackground:k.Color.fromHex("#006BB3"),buttonForeground:k.Color.white};class s extends S.Disposable{constructor(a,c){super();this._onDidClick=this._register(new L.Emitter),this.options=c||Object.create(null),M.mixin(this.options,C,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),a.appendChild(this._element),this._register(m.Gesture.addTarget(this._element)),[i.EventType.CLICK,m.EventType.Tap].forEach(u=>{this._register(i.addDisposableListener(this._element,u,r=>{if(!this.enabled){i.EventHelper.stop(r);return}this._onDidClick.fire(r)}))}),this._register(i.addDisposableListener(this._element,i.EventType.KEY_DOWN,u=>{const r=new _.StandardKeyboardEvent(u);let n=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(u),n=!0):r.equals(9)&&(this._element.blur(),n=!0),n&&i.EventHelper.stop(r,!0)})),this._register(i.addDisposableListener(this._element,i.EventType.MOUSE_OVER,u=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(i.addDisposableListener(this._element,i.EventType.MOUSE_OUT,u=>{this.applyStyles()})),this.focusTracker=this._register(i.trackFocus(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let a;this.options.secondary?a=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:a=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,a&&(this._element.style.backgroundColor=a)}style(a){this.buttonForeground=a.buttonForeground,this.buttonBackground=a.buttonBackground,this.buttonHoverBackground=a.buttonHoverBackground,this.buttonSecondaryForeground=a.buttonSecondaryForeground,this.buttonSecondaryBackground=a.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=a.buttonSecondaryHoverBackground,this.buttonBorder=a.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let a,c;this.options.secondary?(c=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",a=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(c=this.buttonForeground?this.buttonForeground.toString():"",a=this.buttonBackground?this.buttonBackground.toString():"");const u=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=c,this._element.style.backgroundColor=a,this._element.style.borderWidth=u?"1px":"",this._element.style.borderStyle=u?"solid":"",this._element.style.borderColor=u}}get element(){return this._element}set label(a){this._element.classList.add("monaco-text-button"),this.options.supportIcons?i.reset(this._element,...v.renderLabelWithIcons(a)):this._element.textContent=a,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=a)}set enabled(a){a?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=s}),define(ie[306],ne([10]),{}),define(ie[165],ne([0,1,51,29,6,27,306]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const S={inputActiveOptionBorder:k.Color.fromHex("#007ACC00"),inputActiveOptionForeground:k.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:k.Color.fromHex("#0E639C50")};class m extends _.Widget{constructor(i){super();this._onChange=this._register(new M.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new M.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},S),i),this._checked=this._opts.isChecked;const C=["monaco-custom-checkbox"];this._opts.icon&&C.push(...L.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&C.push(...this._opts.actionClassName.split(" ")),this._checked&&C.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...C),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,s=>{this.checked=!this._checked,this._onChange.fire(!1),s.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,s=>{if(s.keyCode===10||s.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),s.preventDefault();return}this._onKeyDown.fire(s)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(i){this._checked=i,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(i){i.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=i.inputActiveOptionBorder),i.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=i.inputActiveOptionForeground),i.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=i.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=m}),define(ie[307],ne([10]),{}),define(ie[308],ne([10]),{}),define(ie[130],ne([0,1,27,307,308]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function k(M){let L=M.definition;for(;L instanceof _.Codicon;)L=L.definition;return`.codicon-${M.id}:before { content: '${L.fontCharacter}'; }`}e.formatRule=k}),define(ie[309],ne([10]),{}),define(ie[207],ne([0,1,7,17,2,126,156,309]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var m;(function(s){s[s.AVOID=0]="AVOID",s[s.ALIGN=1]="ALIGN"})(m=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function v(s,o,a){const c=a.mode===m.ALIGN?a.offset:a.offset+a.size,u=a.mode===m.ALIGN?a.offset+a.size:a.offset;return a.position===0?o<=s-c?c:o<=u?u-o:Math.max(s-o,0):o<=u?u-o:o<=s-c?c:0}e.layout=v;class i extends M.Disposable{constructor(o,a){super();this.container=null,this.delegate=null,this.toDisposeOnClean=M.Disposable.None,this.toDisposeOnSetContainer=M.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=_.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,_.hide(this.view),this.setContainer(o,a),this._register(M.toDisposable(()=>this.setContainer(null,1)))}setContainer(o,a){var c;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(c=this.shadowRootHostElement)===null||c===void 0||c.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),o){if(this.container=o,this.useFixedPosition=a!==1,this.useShadowDOM=a===3,this.useShadowDOM){this.shadowRootHostElement=_.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=C,this.shadowRoot.appendChild(r),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(_.$("slot"))}else this.container.appendChild(this.view);const u=new M.DisposableStore;i.BUBBLE_UP_EVENTS.forEach(r=>{u.add(_.addStandardDisposableListener(this.container,r,n=>{this.onDOMEvent(n,!1)}))}),i.BUBBLE_DOWN_EVENTS.forEach(r=>{u.add(_.addStandardDisposableListener(this.container,r,n=>{this.onDOMEvent(n,!0)},!0))}),this.toDisposeOnSetContainer=u}}show(o){this.isVisible()&&this.hide(),_.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",_.show(this.view),this.toDisposeOnClean=o.render(this.view)||M.Disposable.None,this.delegate=o,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(k.isIOS&&S.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let o=this.delegate.getAnchor(),a;if(_.isHTMLElement(o)){let p=_.getDomNodePagePosition(o);a={top:p.top,left:p.left,width:p.width,height:p.height}}else a={top:o.y,left:o.x,width:o.width||1,height:o.height||2};const c=_.getTotalWidth(this.view),u=_.getTotalHeight(this.view),r=this.delegate.anchorPosition||0,n=this.delegate.anchorAlignment||0,l=this.delegate.anchorAxisAlignment||0;let t,d;if(l===0){const p={offset:a.top-window.pageYOffset,size:a.height,position:r===0?0:1},w={offset:a.left,size:a.width,position:n===0?0:1,mode:m.ALIGN};t=v(window.innerHeight,u,p)+window.pageYOffset,L.Range.intersects({start:t,end:t+u},{start:p.offset,end:p.offset+p.size})&&(w.mode=m.AVOID),d=v(window.innerWidth,c,w)}else{const p={offset:a.left,size:a.width,position:n===0?0:1},w={offset:a.top,size:a.height,position:r===0?0:1,mode:m.ALIGN};d=v(window.innerWidth,c,p),L.Range.intersects({start:d,end:d+c},{start:p.offset,end:p.offset+p.size})&&(w.mode=m.AVOID),t=v(window.innerHeight,u,w)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(r===0?"bottom":"top"),this.view.classList.add(n===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=_.getDomNodePagePosition(this.container);this.view.style.top=`${t-(this.useFixedPosition?_.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${d-(this.useFixedPosition?_.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}hide(o){const a=this.delegate;this.delegate=null,(a==null?void 0:a.onHide)&&a.onHide(o),this.toDisposeOnClean.dispose(),_.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(o,a){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(o,document.activeElement):a&&!_.isAncestor(o.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=i,i.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],i.BUBBLE_DOWN_EVENTS=["click"];let C=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ie[310],ne([10]),{}),define(ie[208],ne([0,1,7,8,29,42,310]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const S={badgeBackground:M.Color.fromHex("#4D4D4D"),badgeForeground:M.Color.fromHex("#FFFFFF")};class m{constructor(i,C){this.count=0,this.options=C||Object.create(null),L.mixin(this.options,S,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=_.append(i,_.$(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(i){this.count=i,this.render()}setTitleFormat(i){this.titleFormat=i,this.render()}render(){this.element.textContent=k.format(this.countFormat,this.count),this.element.title=k.format(this.titleFormat,this.count),this.applyStyles()}style(i){this.badgeBackground=i.badgeBackground,this.badgeForeground=i.badgeForeground,this.badgeBorder=i.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const i=this.badgeBackground?this.badgeBackground.toString():"",C=this.badgeForeground?this.badgeForeground.toString():"",s=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=i,this.element.style.color=C,this.element.style.borderWidth=s?"1px":"",this.element.style.borderStyle=s?"solid":"",this.element.style.borderColor=s}}}e.CountBadge=m}),define(ie[209],ne([10]),{}),define(ie[210],ne([10]),{}),define(ie[311],ne([10]),{}),define(ie[312],ne([10]),{}),define(ie[313],ne([10]),{}),define(ie[314],ne([10]),{}),define(ie[211],ne([10]),{}),define(ie[315],ne([10]),{}),define(ie[131],ne([0,1,315]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ie[316],ne([10]),{}),define(ie[317],ne([0,1,2,29,42,7,15,316]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const m="done",v="active",i="infinite",C="discrete",s={progressBarBackground:k.Color.fromHex("#0E70C0")};class o extends _.Disposable{constructor(c,u){super();this.options=u||Object.create(null),M.mixin(this.options,s,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new S.RunOnceScheduler(()=>L.show(this.element),0)),this.create(c)}create(c){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),c.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(v,i,C),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(c){return this.element.classList.add(m),this.element.classList.contains(i)?(this.bit.style.opacity="0",c?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",c?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(C,m),this.element.classList.add(v,i),this}getContainer(){return this.element}style(c){this.progressBarBackground=c.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const c=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=c}}}e.ProgressBar=o}),define(ie[318],ne([10]),{}),define(ie[106],ne([0,1,2,17,60,6,7,91,15,89,318]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let C=!1;var s;(function(d){d.North="north",d.South="south",d.East="east",d.West="west"})(s=e.OrthogonalEdge||(e.OrthogonalEdge={}));let o=4;const a=new L.Emitter;let c=300;const u=new L.Emitter;class r{constructor(){this.disposables=new _.DisposableStore}get onPointerMove(){return this.disposables.add(new m.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new m.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Me([i.memoize],r.prototype,"onPointerMove",null),Me([i.memoize],r.prototype,"onPointerUp",null);class n{constructor(h){this.el=h,this.disposables=new _.DisposableStore}get onPointerMove(){return this.disposables.add(new m.DomEmitter(this.el,M.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new m.DomEmitter(this.el,M.EventType.End)).event}dispose(){this.disposables.dispose()}}Me([i.memoize],n.prototype,"onPointerMove",null),Me([i.memoize],n.prototype,"onPointerUp",null);class l{constructor(h){this.factory=h}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Me([i.memoize],l.prototype,"onPointerMove",null),Me([i.memoize],l.prototype,"onPointerUp",null);class t extends _.Disposable{constructor(h,p,w){super();this.hoverDelay=c,this.hoverDelayer=this._register(new v.Delayer(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new L.Emitter),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new L.Emitter),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new L.Emitter),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new L.Emitter),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new _.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new _.DisposableStore),this.orthogonalEndSashDisposables=this._register(new _.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new _.DisposableStore),this.el=S.append(h,S.$(".monaco-sash")),w.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${w.orthogonalEdge}`),k.isMacintosh&&this.el.classList.add("mac");const b=this._register(new m.DomEmitter(this.el,"mousedown")).event;this._register(b(T=>this.onPointerStart(T,new r),this));const g=this._register(new m.DomEmitter(this.el,"dblclick")).event;this._register(g(this.onPointerDoublePress,this));const f=this._register(new m.DomEmitter(this.el,"mouseenter")).event;this._register(f(()=>t.onMouseEnter(this)));const y=this._register(new m.DomEmitter(this.el,"mouseleave")).event;this._register(y(()=>t.onMouseLeave(this))),this._register(M.Gesture.addTarget(this.el));const I=L.Event.map(this._register(new m.DomEmitter(this.el,M.EventType.Start)).event,T=>{var P;return Object.assign(Object.assign({},T),{target:(P=T.initialTarget)!==null&&P!==void 0?P:null})});this._register(I(T=>this.onPointerStart(T,new n(this.el)),this));const N=this._register(new m.DomEmitter(this.el,M.EventType.Tap)).event,D=L.Event.map(L.Event.filter(L.Event.debounce(N,(T,P)=>{var R;return{event:P,count:((R=T==null?void 0:T.count)!==null&&R!==void 0?R:0)+1}},250),({count:T})=>T===2),({event:T})=>{var P;return Object.assign(Object.assign({},T),{target:(P=T.initialTarget)!==null&&P!==void 0?P:null})});this._register(D(this.onPointerDoublePress,this)),typeof w.size=="number"?(this.size=w.size,w.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=o,this._register(a.event(T=>{this.size=T,this.layout()}))),this._register(u.event(T=>this.hoverDelay=T)),this.hidden=!1,this.layoutProvider=p,this.orthogonalStartSash=w.orthogonalStartSash,this.orthogonalEndSash=w.orthogonalEndSash,this.orientation=w.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",C),this.layout()}get state(){return this._state}set state(h){this._state!==h&&(this.el.classList.toggle("disabled",h===0),this.el.classList.toggle("minimum",h===1),this.el.classList.toggle("maximum",h===2),this._state=h,this._onDidEnablementChange.fire(h))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),h){const p=w=>{this.orthogonalStartDragHandleDisposables.clear(),w!==0&&(this._orthogonalStartDragHandle=S.append(this.el,S.$(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(_.toDisposable(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new m.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>t.onMouseEnter(h),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new m.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>t.onMouseLeave(h),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(h.onDidEnablementChange(p,this)),p(h.state)}this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),h){const p=w=>{this.orthogonalEndDragHandleDisposables.clear(),w!==0&&(this._orthogonalEndDragHandle=S.append(this.el,S.$(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(_.toDisposable(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new m.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>t.onMouseEnter(h),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new m.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>t.onMouseLeave(h),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(h.onDidEnablementChange(p,this)),p(h.state)}this._orthogonalEndSash=h}onPointerStart(h,p){S.EventHelper.stop(h);let w=!1;if(!h.__orthogonalSashEvent){const O=this.getOrthogonalSash(h);O&&(w=!0,h.__orthogonalSashEvent=!0,O.onPointerStart(h,new l(p)))}if(this.linkedSash&&!h.__linkedSashEvent&&(h.__linkedSashEvent=!0,this.linkedSash.onPointerStart(h,new l(p))),!this.state)return;const b=[...S.getElementsByTagName("iframe"),...S.getElementsByTagName("webview")];for(const O of b)O.style.pointerEvents="none";const g=h.pageX,f=h.pageY,y=h.altKey,I={startX:g,currentX:g,startY:f,currentY:f,altKey:y};this.el.classList.add("active"),this._onDidStart.fire(I);const N=S.createStyleSheet(this.el),D=()=>{let O="";w?O="all-scroll":this.orientation===1?this.state===1?O="s-resize":this.state===2?O="n-resize":O=k.isMacintosh?"row-resize":"ns-resize":this.state===1?O="e-resize":this.state===2?O="w-resize":O=k.isMacintosh?"col-resize":"ew-resize",N.textContent=`* { cursor: ${O} !important; }`},T=new _.DisposableStore;D(),w||this.onDidEnablementChange(D,null,T);const P=O=>{S.EventHelper.stop(O,!1);const A={startX:g,currentX:O.pageX,startY:f,currentY:O.pageY,altKey:y};this._onDidChange.fire(A)},R=O=>{S.EventHelper.stop(O,!1),this.el.removeChild(N),this.el.classList.remove("active"),this._onDidEnd.fire(),T.dispose();for(const A of b)A.style.pointerEvents="auto"};p.onPointerMove(P,null,T),p.onPointerUp(R,null,T),T.add(p)}onPointerDoublePress(h){const p=this.getOrthogonalSash(h);p&&p._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(h,p=!1){h.el.classList.contains("active")?(h.hoverDelayer.cancel(),h.el.classList.add("hover")):h.hoverDelayer.trigger(()=>h.el.classList.add("hover"),h.hoverDelay).then(void 0,()=>{}),!p&&h.linkedSash&&t.onMouseEnter(h.linkedSash,!0)}static onMouseLeave(h,p=!1){h.hoverDelayer.cancel(),h.el.classList.remove("hover"),!p&&h.linkedSash&&t.onMouseLeave(h.linkedSash,!0)}clearSashHoverState(){t.onMouseLeave(this)}layout(){if(this.orientation===0){const h=this.layoutProvider;this.el.style.left=h.getVerticalSashLeft(this)-this.size/2+"px",h.getVerticalSashTop&&(this.el.style.top=h.getVerticalSashTop(this)+"px"),h.getVerticalSashHeight&&(this.el.style.height=h.getVerticalSashHeight(this)+"px")}else{const h=this.layoutProvider;this.el.style.top=h.getHorizontalSashTop(this)-this.size/2+"px",h.getHorizontalSashLeft&&(this.el.style.left=h.getHorizontalSashLeft(this)+"px"),h.getHorizontalSashWidth&&(this.el.style.width=h.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(h){if(!(!h.target||!(h.target instanceof HTMLElement))&&h.target.classList.contains("orthogonal-drag-handle"))return h.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=t}),define(ie[319],ne([10]),{}),define(ie[61],ne([0,1,7,30,55,297,298,51,15,6,2,17,127,38,319]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const c=500,u=50,r=!0;class n{constructor(g,f,y){this.timestamp=g,this.deltaX=f,this.deltaY=y,this.score=0}}class l{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let g=1,f=0,y=1,I=this._rear;do{const N=I===this._front?g:Math.pow(2,-y);if(g-=N,f+=this._memory[I].score*N,I===this._front)break;I=(this._capacity+I-1)%this._capacity,y++}while(!0);return f<=.5}accept(g,f,y){const I=new n(g,f,y);I.score=this._computeScore(I),this._front===-1&&this._rear===-1?(this._memory[0]=I,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=I)}_computeScore(g){if(Math.abs(g.deltaX)>0&&Math.abs(g.deltaY)>0)return 1;let f=.5;const y=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(g.deltaX)||!this._isAlmostInt(g.deltaY))&&(f+=.25),Math.min(Math.max(f,0),1)}_isAlmostInt(g){return Math.abs(Math.round(g)-g)<.01}}e.MouseWheelClassifier=l,l.INSTANCE=new l;class t extends m.Widget{constructor(g,f,y){super();this._onScroll=this._register(new i.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new i.Emitter),g.style.overflow="hidden",this._options=w(f),this._scrollable=y,this._register(this._scrollable.onScroll(N=>{this._onWillScroll.fire(N),this._onDidScroll(N),this._onScroll.fire(N)}));const I={onMouseWheel:N=>this._onMouseWheel(N),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new S.VerticalScrollbar(this._scrollable,this._options,I)),this._horizontalScrollbar=this._register(new L.HorizontalScrollbar(this._scrollable,this._options,I)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(g),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=k.createFastDomNode(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=k.createFastDomNode(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=k.createFastDomNode(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,N=>this._onMouseOver(N)),this.onnonbubblingmouseout(this._listenOnDomNode,N=>this._onMouseOut(N)),this._hideTimeout=this._register(new v.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=C.dispose(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(g){this._verticalScrollbar.delegateMouseDown(g)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(g){this._scrollable.setScrollDimensions(g,!1)}updateClassName(g){this._options.className=g,s.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(g){typeof g.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=g.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof g.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=g.mouseWheelScrollSensitivity),typeof g.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=g.fastScrollSensitivity),typeof g.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=g.scrollPredominantAxis),typeof g.horizontal!="undefined"&&(this._options.horizontal=g.horizontal),typeof g.vertical!="undefined"&&(this._options.vertical=g.vertical),typeof g.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=g.horizontalScrollbarSize),typeof g.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=g.verticalScrollbarSize),typeof g.scrollByPage!="undefined"&&(this._options.scrollByPage=g.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(g){if(this._mouseWheelToDispose.length>0!==g&&(this._mouseWheelToDispose=C.dispose(this._mouseWheelToDispose),g)){const y=I=>{this._onMouseWheel(new M.StandardWheelEvent(I))};this._mouseWheelToDispose.push(_.addDisposableListener(this._listenOnDomNode,_.EventType.MOUSE_WHEEL,y,{passive:!1}))}}_onMouseWheel(g){const f=l.INSTANCE;if(r){const N=window.devicePixelRatio/a.getZoomFactor();s.isWindows||s.isLinux?f.accept(Date.now(),g.deltaX/N,g.deltaY/N):f.accept(Date.now(),g.deltaX,g.deltaY)}let y=!1;if(g.deltaY||g.deltaX){let N=g.deltaY*this._options.mouseWheelScrollSensitivity,D=g.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(N)>=Math.abs(D)?D=0:N=0),this._options.flipAxes&&([N,D]=[D,N]);const T=!s.isMacintosh&&g.browserEvent&&g.browserEvent.shiftKey;(this._options.scrollYToX||T)&&!D&&(D=N,N=0),g.browserEvent&&g.browserEvent.altKey&&(D=D*this._options.fastScrollSensitivity,N=N*this._options.fastScrollSensitivity);const P=this._scrollable.getFutureScrollPosition();let R={};if(N){const O=P.scrollTop-u*N;this._verticalScrollbar.writeScrollPosition(R,O)}if(D){const O=P.scrollLeft-u*D;this._horizontalScrollbar.writeScrollPosition(R,O)}R=this._scrollable.validateScrollPosition(R),(P.scrollLeft!==R.scrollLeft||P.scrollTop!==R.scrollTop)&&(r&&this._options.mouseWheelSmoothScroll&&f.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(R):this._scrollable.setScrollPositionNow(R),y=!0)}let I=y;!I&&this._options.alwaysConsumeMouseWheel&&(I=!0),!I&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(I=!0),I&&(g.preventDefault(),g.stopPropagation())}_onDidScroll(g){this._shouldRender=this._horizontalScrollbar.onDidScroll(g)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(g)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const g=this._scrollable.getCurrentScrollPosition(),f=g.scrollTop>0,y=g.scrollLeft>0,I=y?" left":"",N=f?" top":"",D=y||f?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${I}`),this._topShadowDomNode.setClassName(`shadow${N}`),this._topLeftShadowDomNode.setClassName(`shadow${D}${N}${I}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(g){this._mouseIsOver=!1,this._hide()}_onMouseOver(g){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),c)}}e.AbstractScrollableElement=t;class d extends t{constructor(g,f){f=f||{},f.mouseWheelSmoothScroll=!1;const y=new o.Scrollable(0,I=>_.scheduleAtNextAnimationFrame(I));super(g,f,y);this._register(y)}setScrollPosition(g){this._scrollable.setScrollPositionNow(g)}}e.ScrollableElement=d;class h extends t{constructor(g,f,y){super(g,f,y)}setScrollPosition(g){g.reuseAnimation?this._scrollable.setScrollPositionSmooth(g,g.reuseAnimation):this._scrollable.setScrollPositionNow(g)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class p extends d{constructor(g,f){super(g,f);this._element=g,this.onScroll(y=>{y.scrollTopChanged&&(this._element.scrollTop=y.scrollTop),y.scrollLeftChanged&&(this._element.scrollLeft=y.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=p;function w(b){const g={lazyRender:typeof b.lazyRender!="undefined"?b.lazyRender:!1,className:typeof b.className!="undefined"?b.className:"",useShadows:typeof b.useShadows!="undefined"?b.useShadows:!0,handleMouseWheel:typeof b.handleMouseWheel!="undefined"?b.handleMouseWheel:!0,flipAxes:typeof b.flipAxes!="undefined"?b.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof b.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?b.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof b.alwaysConsumeMouseWheel!="undefined"?b.alwaysConsumeMouseWheel:!1,scrollYToX:typeof b.scrollYToX!="undefined"?b.scrollYToX:!1,mouseWheelScrollSensitivity:typeof b.mouseWheelScrollSensitivity!="undefined"?b.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof b.fastScrollSensitivity!="undefined"?b.fastScrollSensitivity:5,scrollPredominantAxis:typeof b.scrollPredominantAxis!="undefined"?b.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof b.mouseWheelSmoothScroll!="undefined"?b.mouseWheelSmoothScroll:!0,arrowSize:typeof b.arrowSize!="undefined"?b.arrowSize:11,listenOnDomNode:typeof b.listenOnDomNode!="undefined"?b.listenOnDomNode:null,horizontal:typeof b.horizontal!="undefined"?b.horizontal:1,horizontalScrollbarSize:typeof b.horizontalScrollbarSize!="undefined"?b.horizontalScrollbarSize:10,horizontalSliderSize:typeof b.horizontalSliderSize!="undefined"?b.horizontalSliderSize:0,horizontalHasArrows:typeof b.horizontalHasArrows!="undefined"?b.horizontalHasArrows:!1,vertical:typeof b.vertical!="undefined"?b.vertical:1,verticalScrollbarSize:typeof b.verticalScrollbarSize!="undefined"?b.verticalScrollbarSize:10,verticalHasArrows:typeof b.verticalHasArrows!="undefined"?b.verticalHasArrows:!1,verticalSliderSize:typeof b.verticalSliderSize!="undefined"?b.verticalSliderSize:0,scrollByPage:typeof b.scrollByPage!="undefined"?b.scrollByPage:!1};return g.horizontalSliderSize=typeof b.horizontalSliderSize!="undefined"?b.horizontalSliderSize:g.horizontalScrollbarSize,g.verticalSliderSize=typeof b.verticalSliderSize!="undefined"?b.verticalSliderSize:g.verticalScrollbarSize,s.isMacintosh&&(g.className+=" mac"),g}}),define(ie[320],ne([0,1,7,2,61,311]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const L=_.$;class S extends k.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new M.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=S;class m extends k.Disposable{constructor(i,C,s){super();this.actionContainer=_.append(i,L("div.action-container")),this.action=_.append(this.actionContainer,L("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),C.iconClass&&_.append(this.action,L(`span.icon.${C.iconClass}`));const o=_.append(this.action,L("span"));o.textContent=s?`${C.label} (${s})`:C.label,this._register(_.addDisposableListener(this.actionContainer,_.EventType.CLICK,a=>{a.stopPropagation(),a.preventDefault(),C.run(this.actionContainer)})),this.setEnabled(!0)}static render(i,C,s){return new m(i,C,s)}setEnabled(i){i?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=m}),define(ie[166],ne([0,1,42,2,60,6,61,127,290,296,89,126,19,164,15,38,7,91]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const l={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(g){return[g]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class t{constructor(f){this.elements=f}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=t;class d{constructor(f){this.elements=f}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=d;class h{constructor(){this.types=[],this.files=[]}update(f){if(f.types&&this.types.splice(0,this.types.length,...f.types),f.files){this.files.splice(0,this.files.length);for(let y=0;y<f.files.length;y++){const I=f.files.item(y);I&&(I.size||I.type)&&this.files.push(I)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=h;function p(g,f){return Array.isArray(g)&&Array.isArray(f)?o.equals(g,f):g===f}class w{constructor(f){(f==null?void 0:f.getSetSize)?this.getSetSize=f.getSetSize.bind(f):this.getSetSize=(y,I,N)=>N,(f==null?void 0:f.getPosInSet)?this.getPosInSet=f.getPosInSet.bind(f):this.getPosInSet=(y,I)=>I+1,(f==null?void 0:f.getRole)?this.getRole=f.getRole.bind(f):this.getRole=y=>"listitem",(f==null?void 0:f.isChecked)?this.isChecked=f.isChecked.bind(f):this.isChecked=y=>{}}}class b{constructor(f,y,I,N=l){if(this.virtualDelegate=y,this.domId=`list_id_${++b.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new c.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=k.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=k.Disposable.None,this.onDragLeaveTimeout=k.Disposable.None,this.disposables=new k.DisposableStore,this._onDidChangeContentHeight=new L.Emitter,this._horizontalScrolling=!1,N.horizontalScrolling&&N.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new v.RangeMap;for(const T of I)this.renderers.set(T.templateId,T);this.cache=this.disposables.add(new i.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof N.mouseSupport=="boolean"?N.mouseSupport:!0),this._horizontalScrolling=_.getOrDefault(N,T=>T.horizontalScrolling,l.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof N.additionalScrollHeight=="undefined"?0:N.additionalScrollHeight,this.accessibilityProvider=new w(N.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",_.getOrDefault(N,T=>T.transformOptimization,l.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(M.Gesture.addTarget(this.rowsContainer)),this.scrollable=new m.Scrollable(_.getOrDefault(N,T=>T.smoothScrolling,!1)?125:0,T=>r.scheduleAtNextAnimationFrame(T)),this.scrollableElement=this.disposables.add(new S.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:_.getOrDefault(N,T=>T.alwaysConsumeMouseWheel,l.alwaysConsumeMouseWheel),horizontal:1,vertical:_.getOrDefault(N,T=>T.verticalScrollMode,l.verticalScrollMode),useShadows:_.getOrDefault(N,T=>T.useShadows,l.useShadows)},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),f.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(r.addDisposableListener(this.rowsContainer,M.EventType.Change,T=>this.onTouchChange(T))),this.disposables.add(r.addDisposableListener(this.scrollableElement.getDomNode(),"scroll",T=>T.target.scrollTop=0)),this.disposables.add(r.addDisposableListener(this.domNode,"dragover",T=>this.onDragOver(this.toDragEvent(T)))),this.disposables.add(r.addDisposableListener(this.domNode,"drop",T=>this.onDrop(this.toDragEvent(T)))),this.disposables.add(r.addDisposableListener(this.domNode,"dragleave",T=>this.onDragLeave(this.toDragEvent(T)))),this.disposables.add(r.addDisposableListener(this.domNode,"dragend",T=>this.onDragEnd(T))),this.setRowLineHeight=_.getOrDefault(N,T=>T.setRowLineHeight,l.setRowLineHeight),this.setRowHeight=_.getOrDefault(N,T=>T.setRowHeight,l.setRowHeight),this.supportDynamicHeights=_.getOrDefault(N,T=>T.supportDynamicHeights,l.supportDynamicHeights),this.dnd=_.getOrDefault(N,T=>T.dnd,l.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(f){if(f!==this._horizontalScrolling){if(f&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=f,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const y of this.items)this.measureItemWidth(y);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:r.getContentWidth(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(f){f.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=f.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),f.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(f.smoothScrolling?125:0),f.horizontalScrolling!==void 0&&(this.horizontalScrolling=f.horizontalScrolling)}splice(f,y,I=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(f,y,I)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(f,y,I=[]){const N=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),D={start:f,end:f+y},T=s.Range.intersect(N,D),P=new Map;for(let X=T.start;X<T.end;X++){const B=this.items[X];if(B.dragStartDisposable.dispose(),B.row){let Z=P.get(B.templateId);Z||(Z=[],P.set(B.templateId,Z));const H=this.renderers.get(B.templateId);H&&H.disposeElement&&H.disposeElement(B.element,X,B.row.templateData,B.size),Z.push(B.row)}B.row=null}const R={start:f+y,end:this.items.length},O=s.Range.intersect(R,N),A=s.Range.relativeComplement(R,N),F=I.map(X=>({id:String(this.itemId++),element:X,templateId:this.virtualDelegate.getTemplateId(X),size:this.virtualDelegate.getHeight(X),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(X),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:k.Disposable.None}));let E;f===0&&y>=this.items.length?(this.rangeMap=new v.RangeMap,this.rangeMap.splice(0,0,F),E=this.items,this.items=F):(this.rangeMap.splice(f,y,F),E=this.items.splice(f,y,...F));const W=I.length-y,V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),U=v.shift(O,W),q=s.Range.intersect(V,U);for(let X=q.start;X<q.end;X++)this.updateItemInDOM(this.items[X],X);const j=s.Range.relativeComplement(U,V);for(const X of j)for(let B=X.start;B<X.end;B++)this.removeItemFromDOM(B);const te=A.map(X=>v.shift(X,W)),de=[{start:f,end:f+I.length},...te].map(X=>s.Range.intersect(V,X)),ue=this.getNextToLastElement(de);for(const X of de)for(let B=X.start;B<X.end;B++){const Z=this.items[B],H=P.get(Z.templateId),z=H==null?void 0:H.pop();this.insertItemInDOM(B,ue,z)}for(const X of P.values())for(const B of X)this.cache.release(B);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),E.map(X=>X.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=r.scheduleAtNextAnimationFrame(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let f=0;for(const y of this.items)typeof y.width!="undefined"&&(f=Math.max(f,y.width));this.scrollWidth=f,this.scrollableElement.setScrollDimensions({scrollWidth:f===0?0:f+10})}rerender(){if(!!this.supportDynamicHeights){for(const f of this.items)f.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(f){return this.items[f].element}domElement(f){const y=this.items[f].row;return y&&y.domNode}elementHeight(f){return this.items[f].size}elementTop(f){return this.rangeMap.positionAt(f)}indexAt(f){return this.rangeMap.indexAt(f)}indexAfter(f){return this.rangeMap.indexAfter(f)}layout(f,y){let I={height:typeof f=="number"?f:r.getContentHeight(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,I.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(I),typeof y!="undefined"&&(this.renderWidth=y,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof y=="number"?y:r.getContentWidth(this.domNode)})}render(f,y,I,N,D,T=!1){const P=this.getRenderRange(y,I),R=s.Range.relativeComplement(P,f),O=s.Range.relativeComplement(f,P),A=this.getNextToLastElement(R);if(T){const F=s.Range.intersect(f,P);for(let E=F.start;E<F.end;E++)this.updateItemInDOM(this.items[E],E)}for(const F of R)for(let E=F.start;E<F.end;E++)this.insertItemInDOM(E,A);for(const F of O)for(let E=F.start;E<F.end;E++)this.removeItemFromDOM(E);N!==void 0&&(this.rowsContainer.style.left=`-${N}px`),this.rowsContainer.style.top=`-${y}px`,this.horizontalScrolling&&D!==void 0&&(this.rowsContainer.style.width=`${Math.max(D,this.renderWidth)}px`),this.lastRenderTop=y,this.lastRenderHeight=I}insertItemInDOM(f,y,I){const N=this.items[f];N.row||(N.row=I??this.cache.alloc(N.templateId));const D=this.accessibilityProvider.getRole(N.element)||"listitem";N.row.domNode.setAttribute("role",D);const T=this.accessibilityProvider.isChecked(N.element);typeof T!="undefined"&&N.row.domNode.setAttribute("aria-checked",String(!!T)),N.row.domNode.parentElement||(y?this.rowsContainer.insertBefore(N.row.domNode,y):this.rowsContainer.appendChild(N.row.domNode)),this.updateItemInDOM(N,f);const P=this.renderers.get(N.templateId);if(!P)throw new Error(`No renderer found for template id ${N.templateId}`);P&&P.renderElement(N.element,f,N.row.templateData,N.size);const R=this.dnd.getDragURI(N.element);N.dragStartDisposable.dispose(),N.row.domNode.draggable=!!R,R&&(N.dragStartDisposable=r.addDisposableListener(N.row.domNode,"dragstart",O=>this.onDragStart(N.element,R,O))),this.horizontalScrolling&&(this.measureItemWidth(N),this.eventuallyUpdateScrollWidth())}measureItemWidth(f){if(!f.row||!f.row.domNode)return;f.row.domNode.style.width=u.isFirefox?"-moz-fit-content":"fit-content",f.width=r.getContentWidth(f.row.domNode);const y=window.getComputedStyle(f.row.domNode);y.paddingLeft&&(f.width+=parseFloat(y.paddingLeft)),y.paddingRight&&(f.width+=parseFloat(y.paddingRight)),f.row.domNode.style.width=""}updateItemInDOM(f,y){f.row.domNode.style.top=`${this.elementTop(y)}px`,this.setRowHeight&&(f.row.domNode.style.height=`${f.size}px`),this.setRowLineHeight&&(f.row.domNode.style.lineHeight=`${f.size}px`),f.row.domNode.setAttribute("data-index",`${y}`),f.row.domNode.setAttribute("data-last-element",y===this.length-1?"true":"false"),f.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(f.element,y,this.length))),f.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(f.element,y))),f.row.domNode.setAttribute("id",this.getElementDomId(y)),f.row.domNode.classList.toggle("drop-target",f.dropTarget)}removeItemFromDOM(f){const y=this.items[f];if(y.dragStartDisposable.dispose(),y.row){const I=this.renderers.get(y.templateId);I&&I.disposeElement&&I.disposeElement(y.element,f,y.row.templateData,y.size),this.cache.release(y.row),y.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(f,y){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:f,reuseAnimation:y})}get scrollTop(){return this.getScrollTop()}set scrollTop(f){this.setScrollTop(f)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"click")).event,f=>this.toMouseEvent(f))}get onMouseDblClick(){return L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"dblclick")).event,f=>this.toMouseEvent(f))}get onMouseMiddleClick(){return L.Event.filter(L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"auxclick")).event,f=>this.toMouseEvent(f)),f=>f.browserEvent.button===1)}get onMouseDown(){return L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"mousedown")).event,f=>this.toMouseEvent(f))}get onContextMenu(){return L.Event.any(L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"contextmenu")).event,f=>this.toMouseEvent(f)),L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,M.EventType.Contextmenu)).event,f=>this.toGestureEvent(f)))}get onTouchStart(){return L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"touchstart")).event,f=>this.toTouchEvent(f))}get onTap(){return L.Event.map(this.disposables.add(new n.DomEmitter(this.rowsContainer,M.EventType.Tap)).event,f=>this.toGestureEvent(f))}toMouseEvent(f){const y=this.getItemIndexFromEventTarget(f.target||null),I=typeof y=="undefined"?void 0:this.items[y],N=I&&I.element;return{browserEvent:f,index:y,element:N}}toTouchEvent(f){const y=this.getItemIndexFromEventTarget(f.target||null),I=typeof y=="undefined"?void 0:this.items[y],N=I&&I.element;return{browserEvent:f,index:y,element:N}}toGestureEvent(f){const y=this.getItemIndexFromEventTarget(f.initialTarget||null),I=typeof y=="undefined"?void 0:this.items[y],N=I&&I.element;return{browserEvent:f,index:y,element:N}}toDragEvent(f){const y=this.getItemIndexFromEventTarget(f.target||null),I=typeof y=="undefined"?void 0:this.items[y],N=I&&I.element;return{browserEvent:f,index:y,element:N}}onScroll(f){try{const y=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(y,f.scrollTop,f.height,f.scrollLeft,f.scrollWidth),this.supportDynamicHeights&&this._rerender(f.scrollTop,f.height,f.inSmoothScrolling)}catch(y){throw console.error("Got bad scroll event:",f),y}}onTouchChange(f){f.preventDefault(),f.stopPropagation(),this.scrollTop-=f.translationY}onDragStart(f,y,I){if(!I.dataTransfer)return;const N=this.dnd.getDragElements(f);if(I.dataTransfer.effectAllowed="copyMove",I.dataTransfer.setData(a.DataTransfers.TEXT,y),I.dataTransfer.setDragImage){let D;this.dnd.getDragLabel&&(D=this.dnd.getDragLabel(N,I)),typeof D=="undefined"&&(D=String(N.length));const T=r.$(".monaco-drag-image");T.textContent=D,document.body.appendChild(T),I.dataTransfer.setDragImage(T,-10,-10),setTimeout(()=>document.body.removeChild(T),0)}this.currentDragData=new t(N),a.StaticDND.CurrentDragAndDropData=new d(N),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,I)}onDragOver(f){if(f.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),a.StaticDND.CurrentDragAndDropData&&a.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(f.browserEvent),!f.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(a.StaticDND.CurrentDragAndDropData)this.currentDragData=a.StaticDND.CurrentDragAndDropData;else{if(!f.browserEvent.dataTransfer.types)return!1;this.currentDragData=new h}const y=this.dnd.onDragOver(this.currentDragData,f.element,f.index,f.browserEvent);if(this.canDrop=typeof y=="boolean"?y:y.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;f.browserEvent.dataTransfer.dropEffect=typeof y!="boolean"&&y.effect===0?"copy":"move";let I;if(typeof y!="boolean"&&y.feedback?I=y.feedback:typeof f.index=="undefined"?I=[-1]:I=[f.index],I=o.distinct(I).filter(N=>N>=-1&&N<this.length).sort((N,D)=>N-D),I=I[0]===-1?[-1]:I,p(this.currentDragFeedback,I))return!0;if(this.currentDragFeedback=I,this.currentDragFeedbackDisposable.dispose(),I[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=k.toDisposable(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const N of I){const D=this.items[N];D.dropTarget=!0,D.row&&D.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=k.toDisposable(()=>{for(const N of I){const D=this.items[N];D.dropTarget=!1,D.row&&D.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(f){var y,I;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=c.disposableTimeout(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((I=(y=this.dnd).onDragLeave)===null||I===void 0||I.call(y,this.currentDragData,f.element,f.index,f.browserEvent))}onDrop(f){if(!this.canDrop)return;const y=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,a.StaticDND.CurrentDragAndDropData=void 0,!(!y||!f.browserEvent.dataTransfer)&&(f.browserEvent.preventDefault(),y.update(f.browserEvent.dataTransfer),this.dnd.drop(y,f.element,f.index,f.browserEvent))}onDragEnd(f){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,a.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(f)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=k.Disposable.None}setupDragAndDropScrollTopAnimation(f){if(!this.dragOverAnimationDisposable){const y=r.getTopLeftOffset(this.domNode).top;this.dragOverAnimationDisposable=r.animate(this.animateDragAndDropScrollTop.bind(this,y))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=c.disposableTimeout(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=f.pageY}animateDragAndDropScrollTop(f){if(this.dragOverMouseY===void 0)return;const y=this.dragOverMouseY-f,I=this.renderHeight-35;y<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(y-35))):y>I&&(this.scrollTop+=Math.min(14,Math.floor(.3*(y-I))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(f){const y=this.scrollableElement.getDomNode();let I=f;for(;I instanceof HTMLElement&&I!==this.rowsContainer&&y.contains(I);){const N=I.getAttribute("data-index");if(N){const D=Number(N);if(!isNaN(D))return D}I=I.parentElement}}getRenderRange(f,y){return{start:this.rangeMap.indexAt(f),end:this.rangeMap.indexAfter(f+y-1)}}_rerender(f,y,I){const N=this.getRenderRange(f,y);let D,T;f===this.elementTop(N.start)?(D=N.start,T=0):N.end-N.start>1&&(D=N.start+1,T=this.elementTop(D)-f);let P=0;for(;;){const R=this.getRenderRange(f,y);let O=!1;for(let A=R.start;A<R.end;A++){const F=this.probeDynamicHeight(A);F!==0&&this.rangeMap.splice(A,1,[this.items[A]]),P+=F,O=O||F!==0}if(!O){P!==0&&this.eventuallyUpdateScrollDimensions();const A=s.Range.relativeComplement(N,R);for(const E of A)for(let W=E.start;W<E.end;W++)this.items[W].row&&this.removeItemFromDOM(W);const F=s.Range.relativeComplement(R,N);for(const E of F)for(let W=E.start;W<E.end;W++){const V=W+1,U=V<this.items.length?this.items[V].row:null,q=U?U.domNode:null;this.insertItemInDOM(W,q)}for(let E=R.start;E<R.end;E++)this.items[E].row&&this.updateItemInDOM(this.items[E],E);if(typeof D=="number"){const E=this.scrollable.getFutureScrollPosition().scrollTop-f,W=this.elementTop(D)-T+E;this.setScrollTop(W,I)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(f){const y=this.items[f];if(!y.hasDynamicHeight||y.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(y.element))return 0;const I=y.size;if(!this.setRowHeight&&y.row){let T=y.row.domNode.offsetHeight;return y.size=T,y.lastDynamicHeightWidth=this.renderWidth,T-I}const N=this.cache.alloc(y.templateId);N.domNode.style.height="",this.rowsContainer.appendChild(N.domNode);const D=this.renderers.get(y.templateId);return D&&(D.renderElement(y.element,f,N.templateData,void 0),D.disposeElement&&D.disposeElement(y.element,f,N.templateData,void 0)),y.size=N.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(y.element,y.size),y.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(N.domNode),this.cache.release(N),y.size-I}getNextToLastElement(f){const y=f[f.length-1];if(!y)return null;const I=this.items[y.end];return!I||!I.row?null:I.row.domNode}getElementDomId(f){return`${this.domId}_${f}`}dispose(){if(this.items){for(const f of this.items)if(f.row){const y=this.renderers.get(f.row.templateId);y&&(y.disposeElement&&y.disposeElement(f.element,-1,f.row.templateData,void 0),y.disposeTemplate(f.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),k.dispose(this.disposables)}}b.InstanceCount=0,Me([C.memoize],b.prototype,"onMouseClick",null),Me([C.memoize],b.prototype,"onMouseDblClick",null),Me([C.memoize],b.prototype,"onMouseMiddleClick",null),Me([C.memoize],b.prototype,"onMouseDown",null),Me([C.memoize],b.prototype,"onContextMenu",null),Me([C.memoize],b.prototype,"onTouchStart",null),Me([C.memoize],b.prototype,"onTap",null),e.ListView=b}),define(ie[107],ne([0,1,2,20,19,89,17,60,54,6,91,284,166,29,42,285,101,66,44,7,15,211]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class h{constructor(B){this.trait=B,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(B){return B}renderElement(B,Z,H){const z=this.renderedElements.findIndex(ee=>ee.templateData===H);if(z>=0){const ee=this.renderedElements[z];this.trait.unrender(H),ee.index=Z}else{const ee={index:Z,templateData:H};this.renderedElements.push(ee)}this.trait.renderIndex(Z,H)}splice(B,Z,H){const z=[];for(const ee of this.renderedElements)ee.index<B?z.push(ee):ee.index>=B+Z&&z.push({index:ee.index+H-Z,templateData:ee.templateData});this.renderedElements=z}renderIndexes(B){for(const{index:Z,templateData:H}of this.renderedElements)B.indexOf(Z)>-1&&this.trait.renderIndex(Z,H)}disposeTemplate(B){const Z=this.renderedElements.findIndex(H=>H.templateData===B);Z<0||this.renderedElements.splice(Z,1)}}class p{constructor(B){this._trait=B,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new h(this)}splice(B,Z,H){var z;Z=Math.max(0,Math.min(Z,this.length-B));const ee=H.length-Z,x=B+Z,G=[...this.sortedIndexes.filter(J=>J<B),...H.map((J,le)=>J?le+B:-1).filter(J=>J!==-1),...this.sortedIndexes.filter(J=>J>=x).map(J=>J+ee)],Q=this.length+ee;if(this.sortedIndexes.length>0&&G.length===0&&Q>0){const J=(z=this.sortedIndexes.find(le=>le>=B))!==null&&z!==void 0?z:Q-1;G.push(Math.min(J,Q-1))}this.renderer.splice(B,Z,H.length),this._set(G,G),this.length=Q}renderIndex(B,Z){Z.classList.toggle(this._trait,this.contains(B))}unrender(B){B.classList.remove(this._trait)}set(B,Z){return this._set(B,[...B].sort(j),Z)}_set(B,Z,H){const z=this.indexes,ee=this.sortedIndexes;this.indexes=B,this.sortedIndexes=Z;const x=U(ee,B);return this.renderer.renderIndexes(x),this._onChange.fire({indexes:B,browserEvent:H}),z}get(){return this.indexes}contains(B){return M.binarySearch(this.sortedIndexes,B,j)>=0}dispose(){_.dispose(this._onChange)}}Me([L.memoize],p.prototype,"renderer",null);class w extends p{constructor(B){super("selected");this.setAriaSelected=B}renderIndex(B,Z){super.renderIndex(B,Z),this.setAriaSelected&&(this.contains(B)?Z.setAttribute("aria-selected","true"):Z.setAttribute("aria-selected","false"))}}class b{constructor(B,Z,H){this.trait=B,this.view=Z,this.identityProvider=H}splice(B,Z,H){if(!this.identityProvider)return this.trait.splice(B,Z,H.map(()=>!1));const z=this.trait.get().map(x=>this.identityProvider.getId(this.view.element(x)).toString()),ee=H.map(x=>z.indexOf(this.identityProvider.getId(x).toString())>-1);this.trait.splice(B,Z,ee)}}function g(X){return X.tagName==="INPUT"||X.tagName==="TEXTAREA"}e.isInputElement=g;function f(X){return X.classList.contains("monaco-editor")?!0:X.classList.contains("monaco-list")||!X.parentElement?!1:f(X.parentElement)}e.isMonacoEditor=f;class y{constructor(B,Z,H){this.list=B,this.view=Z,this.disposables=new _.DisposableStore,this.multipleSelectionDisposables=new _.DisposableStore,this.onKeyDown.filter(z=>z.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===9).on(this.onEscape,this,this.disposables),H.multipleSelectionSupport&&this.onKeyDown.filter(z=>(S.isMacintosh?z.metaKey:z.ctrlKey)&&z.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return i.Event.chain(this.disposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event).filter(B=>!g(B.target)).map(B=>new v.StandardKeyboardEvent(B))}updateOptions(B){B.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),B.multipleSelectionSupport&&this.onKeyDown.filter(Z=>(S.isMacintosh?Z.metaKey:Z.ctrlKey)&&Z.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(B){B.preventDefault(),B.stopPropagation(),this.list.setSelection(this.list.getFocus(),B.browserEvent)}onUpArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusPrevious(1,!1,B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusNext(1,!1,B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusPreviousPage(B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusNextPage(B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(B){B.preventDefault(),B.stopPropagation(),this.list.setSelection(M.range(this.list.length),B.browserEvent),this.view.domNode.focus()}onEscape(B){this.list.getSelection().length&&(B.preventDefault(),B.stopPropagation(),this.list.setSelection([],B.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Me([L.memoize],y.prototype,"onKeyDown",null);var I;(function(X){X[X.Idle=0]="Idle",X[X.Typing=1]="Typing"})(I||(I={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(X){return X.ctrlKey||X.metaKey||X.altKey?!1:X.keyCode>=31&&X.keyCode<=56||X.keyCode>=21&&X.keyCode<=30||X.keyCode>=93&&X.keyCode<=102||X.keyCode>=80&&X.keyCode<=90}};class N{constructor(B,Z,H,z){this.list=B,this.view=Z,this.keyboardNavigationLabelProvider=H,this.delegate=z,this.enabled=!1,this.state=I.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new _.DisposableStore,this.disposables=new _.DisposableStore,this.updateOptions(B.options)}updateOptions(B){(typeof B.enableKeyboardNavigation=="undefined"?!0:!!B.enableKeyboardNavigation)?this.enable():this.disable(),typeof B.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=B.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const B=i.Event.chain(this.enabledDisposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event).filter(z=>!g(z.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(z=>new v.StandardKeyboardEvent(z)).filter(z=>this.delegate.mightProducePrintableCharacter(z)).forEach(z=>{z.stopPropagation(),z.preventDefault()}).map(z=>z.browserEvent.key).event,Z=i.Event.debounce(B,()=>null,800);i.Event.reduce(i.Event.any(B,Z),(z,ee)=>ee===null?null:(z||"")+ee)(this.onInput,this,this.enabledDisposables),Z(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var B;const Z=this.list.getFocus();if(Z.length>0&&Z[0]===this.previouslyFocused){const H=(B=this.list.options.accessibilityProvider)===null||B===void 0?void 0:B.getAriaLabel(this.list.element(Z[0]));H&&l.alert(H)}this.previouslyFocused=-1}onInput(B){if(!B){this.state=I.Idle,this.triggered=!1;return}const Z=this.list.getFocus(),H=Z.length>0?Z[0]:0,z=this.state===I.Idle?1:0;this.state=I.Typing;for(let ee=0;ee<this.list.length;ee++){const x=(H+ee+z)%this.list.length,G=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(x)),Q=G&&G.toString();if(typeof Q=="undefined"||n.matchesPrefix(B,Q)){this.previouslyFocused=H,this.list.setFocus([x]),this.list.reveal(x);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class D{constructor(B,Z){this.list=B,this.view=Z,this.disposables=new _.DisposableStore,i.Event.chain(this.disposables.add(new C.DomEmitter(Z.domNode,"keydown")).event).filter(z=>!g(z.target)).map(z=>new v.StandardKeyboardEvent(z)).filter(z=>z.keyCode===2&&!z.ctrlKey&&!z.metaKey&&!z.shiftKey&&!z.altKey).on(this.onTab,this,this.disposables)}onTab(B){if(B.target!==this.view.domNode)return;const Z=this.list.getFocus();if(Z.length===0)return;const H=this.view.domElement(Z[0]);if(!H)return;const z=H.querySelector("[tabIndex]");if(!z||!(z instanceof HTMLElement)||z.tabIndex===-1)return;const ee=window.getComputedStyle(z);ee.visibility==="hidden"||ee.display==="none"||(B.preventDefault(),B.stopPropagation(),z.focus())}dispose(){this.disposables.dispose()}}function T(X){return S.isMacintosh?X.browserEvent.metaKey:X.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=T;function P(X){return X.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=P;function R(X){return X instanceof MouseEvent&&X.button===2}const O={isSelectionSingleChangeEvent:T,isSelectionRangeChangeEvent:P};class A{constructor(B){this.list=B,this.disposables=new _.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,B.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||O),this.mouseSupport=typeof B.options.mouseSupport=="undefined"||!!B.options.mouseSupport,this.mouseSupport&&(B.onMouseDown(this.onMouseDown,this,this.disposables),B.onContextMenu(this.onContextMenu,this,this.disposables),B.onMouseDblClick(this.onDoubleClick,this,this.disposables),B.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(m.Gesture.addTarget(B.getHTMLElement()))),i.Event.any(B.onMouseClick,B.onMouseMiddleClick,B.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(B){B.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,B.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||O))}isSelectionSingleChangeEvent(B){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(B):!1}isSelectionRangeChangeEvent(B){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(B):!1}isSelectionChangeEvent(B){return this.isSelectionSingleChangeEvent(B)||this.isSelectionRangeChangeEvent(B)}onMouseDown(B){f(B.browserEvent.target)||document.activeElement!==B.browserEvent.target&&this.list.domFocus()}onContextMenu(B){if(f(B.browserEvent.target))return;const Z=typeof B.index=="undefined"?[]:[B.index];this.list.setFocus(Z,B.browserEvent)}onViewPointer(B){if(!this.mouseSupport||g(B.browserEvent.target)||f(B.browserEvent.target))return;const Z=B.index;if(typeof Z=="undefined"){this.list.setFocus([],B.browserEvent),this.list.setSelection([],B.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(B))return this.changeSelection(B);if(this.isSelectionChangeEvent(B))return this.changeSelection(B);this.list.setFocus([Z],B.browserEvent),this.list.setAnchor(Z),R(B.browserEvent)||this.list.setSelection([Z],B.browserEvent),this._onPointer.fire(B)}onDoubleClick(B){if(g(B.browserEvent.target)||f(B.browserEvent.target)||this.isSelectionChangeEvent(B))return;const Z=this.list.getFocus();this.list.setSelection(Z,B.browserEvent)}changeSelection(B){const Z=B.index;let H=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(B)){if(typeof H=="undefined"){const le=this.list.getFocus()[0];H=le??Z,this.list.setAnchor(H)}const z=Math.min(H,Z),ee=Math.max(H,Z),x=M.range(z,ee+1),G=this.list.getSelection(),Q=V(U(G,[H]),H);if(Q.length===0)return;const J=U(x,q(G,Q));this.list.setSelection(J,B.browserEvent),this.list.setFocus([Z],B.browserEvent)}else if(this.isSelectionSingleChangeEvent(B)){const z=this.list.getSelection(),ee=z.filter(x=>x!==Z);this.list.setFocus([Z]),this.list.setAnchor(Z),z.length===ee.length?this.list.setSelection([...ee,Z],B.browserEvent):this.list.setSelection(ee,B.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=A;class F{constructor(B,Z){this.styleElement=B,this.selectorSuffix=Z}style(B){const Z=this.selectorSuffix&&`.${this.selectorSuffix}`,H=[];B.listBackground&&(B.listBackground.isOpaque()?H.push(`.monaco-list${Z} .monaco-list-rows { background: ${B.listBackground}; }`):S.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),B.listFocusBackground&&(H.push(`.monaco-list${Z}:focus .monaco-list-row.focused { background-color: ${B.listFocusBackground}; }`),H.push(`.monaco-list${Z}:focus .monaco-list-row.focused:hover { background-color: ${B.listFocusBackground}; }`)),B.listFocusForeground&&H.push(`.monaco-list${Z}:focus .monaco-list-row.focused { color: ${B.listFocusForeground}; }`),B.listActiveSelectionBackground&&(H.push(`.monaco-list${Z}:focus .monaco-list-row.selected { background-color: ${B.listActiveSelectionBackground}; }`),H.push(`.monaco-list${Z}:focus .monaco-list-row.selected:hover { background-color: ${B.listActiveSelectionBackground}; }`)),B.listActiveSelectionForeground&&H.push(`.monaco-list${Z}:focus .monaco-list-row.selected { color: ${B.listActiveSelectionForeground}; }`),B.listActiveSelectionIconForeground&&H.push(`.monaco-list${Z}:focus .monaco-list-row.selected .codicon { color: ${B.listActiveSelectionIconForeground}; }`),B.listFocusAndSelectionBackground&&H.push(`
				.monaco-drag-image,
				.monaco-list${Z}:focus .monaco-list-row.selected.focused { background-color: ${B.listFocusAndSelectionBackground}; }
			`),B.listFocusAndSelectionForeground&&H.push(`
				.monaco-drag-image,
				.monaco-list${Z}:focus .monaco-list-row.selected.focused { color: ${B.listFocusAndSelectionForeground}; }
			`),B.listInactiveFocusForeground&&(H.push(`.monaco-list${Z} .monaco-list-row.focused { color:  ${B.listInactiveFocusForeground}; }`),H.push(`.monaco-list${Z} .monaco-list-row.focused:hover { color:  ${B.listInactiveFocusForeground}; }`)),B.listInactiveSelectionIconForeground&&H.push(`.monaco-list${Z} .monaco-list-row.focused .codicon { color:  ${B.listInactiveSelectionIconForeground}; }`),B.listInactiveFocusBackground&&(H.push(`.monaco-list${Z} .monaco-list-row.focused { background-color:  ${B.listInactiveFocusBackground}; }`),H.push(`.monaco-list${Z} .monaco-list-row.focused:hover { background-color:  ${B.listInactiveFocusBackground}; }`)),B.listInactiveSelectionBackground&&(H.push(`.monaco-list${Z} .monaco-list-row.selected { background-color:  ${B.listInactiveSelectionBackground}; }`),H.push(`.monaco-list${Z} .monaco-list-row.selected:hover { background-color:  ${B.listInactiveSelectionBackground}; }`)),B.listInactiveSelectionForeground&&H.push(`.monaco-list${Z} .monaco-list-row.selected { color: ${B.listInactiveSelectionForeground}; }`),B.listHoverBackground&&H.push(`.monaco-list${Z}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${B.listHoverBackground}; }`),B.listHoverForeground&&H.push(`.monaco-list${Z} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${B.listHoverForeground}; }`),B.listSelectionOutline&&H.push(`.monaco-list${Z} .monaco-list-row.selected { outline: 1px dotted ${B.listSelectionOutline}; outline-offset: -1px; }`),B.listFocusOutline&&H.push(`
				.monaco-drag-image,
				.monaco-list${Z}:focus .monaco-list-row.focused { outline: 1px solid ${B.listFocusOutline}; outline-offset: -1px; }
			`),B.listInactiveFocusOutline&&H.push(`.monaco-list${Z} .monaco-list-row.focused { outline: 1px dotted ${B.listInactiveFocusOutline}; outline-offset: -1px; }`),B.listHoverOutline&&H.push(`.monaco-list${Z} .monaco-list-row:hover { outline: 1px dashed ${B.listHoverOutline}; outline-offset: -1px; }`),B.listDropBackground&&H.push(`
				.monaco-list${Z}.drop-target,
				.monaco-list${Z} .monaco-list-rows.drop-target,
				.monaco-list${Z} .monaco-list-row.drop-target { background-color: ${B.listDropBackground} !important; color: inherit !important; }
			`),B.listFilterWidgetBackground&&H.push(`.monaco-list-type-filter { background-color: ${B.listFilterWidgetBackground} }`),B.listFilterWidgetOutline&&H.push(`.monaco-list-type-filter { border: 1px solid ${B.listFilterWidgetOutline}; }`),B.listFilterWidgetNoMatchesOutline&&H.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${B.listFilterWidgetNoMatchesOutline}; }`),B.listMatchesShadow&&H.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${B.listMatchesShadow}; }`),B.tableColumnsBorder&&H.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${B.tableColumnsBorder};
			}`),this.styleElement.textContent=H.join(`
`)}}e.DefaultStyleController=F;const E={listFocusBackground:a.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:a.Color.fromHex("#0E639C"),listActiveSelectionForeground:a.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:a.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:a.Color.fromHex("#094771"),listFocusAndSelectionForeground:a.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:a.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:a.Color.fromHex("#FFFFFF"),listHoverBackground:a.Color.fromHex("#2A2D2E"),listDropBackground:a.Color.fromHex("#383B3D"),treeIndentGuidesStroke:a.Color.fromHex("#a9a9a9"),tableColumnsBorder:a.Color.fromHex("#cccccc").transparent(.2)},W={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function V(X,B){const Z=X.indexOf(B);if(Z===-1)return[];const H=[];let z=Z-1;for(;z>=0&&X[z]===B-(Z-z);)H.push(X[z--]);for(H.reverse(),z=Z;z<X.length&&X[z]===B+(z-Z);)H.push(X[z++]);return H}function U(X,B){const Z=[];let H=0,z=0;for(;H<X.length||z<B.length;)if(H>=X.length)Z.push(B[z++]);else if(z>=B.length)Z.push(X[H++]);else if(X[H]===B[z]){Z.push(X[H]),H++,z++;continue}else X[H]<B[z]?Z.push(X[H++]):Z.push(B[z++]);return Z}function q(X,B){const Z=[];let H=0,z=0;for(;H<X.length||z<B.length;)if(H>=X.length)Z.push(B[z++]);else if(z>=B.length)Z.push(X[H++]);else if(X[H]===B[z]){H++,z++;continue}else X[H]<B[z]?Z.push(X[H++]):z++;return Z}const j=(X,B)=>X-B;class te{constructor(B,Z){this._templateId=B,this.renderers=Z}get templateId(){return this._templateId}renderTemplate(B){return this.renderers.map(Z=>Z.renderTemplate(B))}renderElement(B,Z,H,z){let ee=0;for(const x of this.renderers)x.renderElement(B,Z,H[ee++],z)}disposeElement(B,Z,H,z){let ee=0;for(const x of this.renderers)x.disposeElement&&x.disposeElement(B,Z,H[ee],z),ee+=1}disposeTemplate(B){let Z=0;for(const H of this.renderers)H.disposeTemplate(B[Z++])}}class ae{constructor(B){this.accessibilityProvider=B,this.templateId="a18n"}renderTemplate(B){return B}renderElement(B,Z,H){const z=this.accessibilityProvider.getAriaLabel(B);z?H.setAttribute("aria-label",z):H.removeAttribute("aria-label");const ee=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(B);typeof ee=="number"?H.setAttribute("aria-level",`${ee}`):H.removeAttribute("aria-level")}disposeTemplate(B){}}class de{constructor(B,Z){this.list=B,this.dnd=Z}getDragElements(B){const Z=this.list.getSelectedElements();return Z.indexOf(B)>-1?Z:[B]}getDragURI(B){return this.dnd.getDragURI(B)}getDragLabel(B,Z){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(B,Z)}onDragStart(B,Z){this.dnd.onDragStart&&this.dnd.onDragStart(B,Z)}onDragOver(B,Z,H,z){return this.dnd.onDragOver(B,Z,H,z)}onDragLeave(B,Z,H,z){var ee,x;(x=(ee=this.dnd).onDragLeave)===null||x===void 0||x.call(ee,B,Z,H,z)}onDragEnd(B){this.dnd.onDragEnd&&this.dnd.onDragEnd(B)}drop(B,Z,H,z){this.dnd.drop(B,Z,H,z)}}class ue{constructor(B,Z,H,z,ee=W){var x;this.user=B,this._options=ee,this.focus=new p("focused"),this.anchor=new p("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new _.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const G=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(x=this._options.accessibilityProvider)===null||x===void 0?void 0:x.getWidgetRole():"list";this.selection=new w(G!=="listbox"),c.mixin(ee,E,!1);const Q=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ee.accessibilityProvider,this.accessibilityProvider&&(Q.push(new ae(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),z=z.map(le=>new te(le.templateId,[...Q,le]));const J=Object.assign(Object.assign({},ee),{dnd:ee.dnd&&new de(this,ee.dnd)});if(this.view=new o.ListView(Z,H,z,J),this.view.domNode.setAttribute("role",G),ee.styleController)this.styleController=ee.styleController(this.view.domId);else{const le=t.createStyleSheet(this.view.domNode);this.styleController=new F(le,this.view.domId)}if(this.spliceable=new u.CombinedSpliceable([new b(this.focus,this.view,ee.identityProvider),new b(this.selection,this.view,ee.identityProvider),new b(this.anchor,this.view,ee.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new D(this,this.view)),(typeof ee.keyboardSupport!="boolean"||ee.keyboardSupport)&&(this.keyboardController=new y(this,this.view,ee),this.disposables.add(this.keyboardController)),ee.keyboardNavigationLabelProvider){const le=ee.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new N(this,this.view,ee.keyboardNavigationLabelProvider,le),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(ee),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),B=>this.toListEvent(B))}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),B=>this.toListEvent(B))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let B=!1;const Z=i.Event.chain(this.disposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event).map(ee=>new v.StandardKeyboardEvent(ee)).filter(ee=>B=ee.keyCode===58||ee.shiftKey&&ee.keyCode===68).map(C.stopEvent).filter(()=>!1).event,H=i.Event.chain(this.disposables.add(new C.DomEmitter(this.view.domNode,"keyup")).event).forEach(()=>B=!1).map(ee=>new v.StandardKeyboardEvent(ee)).filter(ee=>ee.keyCode===58||ee.shiftKey&&ee.keyCode===68).map(C.stopEvent).map(({browserEvent:ee})=>{const x=this.getFocus(),G=x.length?x[0]:void 0,Q=typeof G!="undefined"?this.view.element(G):void 0,J=typeof G!="undefined"?this.view.domElement(G):this.view.domNode;return{index:G,element:Q,anchor:J,browserEvent:ee}}).event,z=i.Event.chain(this.view.onContextMenu).filter(ee=>!B).map(({element:ee,index:x,browserEvent:G})=>({element:ee,index:x,anchor:{x:G.pageX+1,y:G.pageY},browserEvent:G})).event;return i.Event.any(Z,H,z)}get onKeyDown(){return this.disposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return i.Event.signal(this.disposables.add(new C.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(B){return new A(this)}updateOptions(B={}){var Z;this._options=Object.assign(Object.assign({},this._options),B),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(B),(Z=this.keyboardController)===null||Z===void 0||Z.updateOptions(B),this.view.updateOptions(B)}get options(){return this._options}splice(B,Z,H=[]){if(B<0||B>this.view.length)throw new s.ListError(this.user,`Invalid start index: ${B}`);if(Z<0)throw new s.ListError(this.user,`Invalid delete count: ${Z}`);Z===0&&H.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(B,Z,H))}rerender(){this.view.rerender()}element(B){return this.view.element(B)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(B){this.view.setScrollTop(B)}get ariaLabel(){return this._ariaLabel}set ariaLabel(B){this._ariaLabel=B,this.view.domNode.setAttribute("aria-label",B)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(B,Z){this.view.layout(B,Z)}setSelection(B,Z){for(const H of B)if(H<0||H>=this.length)throw new s.ListError(this.user,`Invalid index ${H}`);this.selection.set(B,Z)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(B=>this.view.element(B))}setAnchor(B){if(typeof B=="undefined"){this.anchor.set([]);return}if(B<0||B>=this.length)throw new s.ListError(this.user,`Invalid index ${B}`);this.anchor.set([B])}getAnchor(){return M.firstOrDefault(this.anchor.get(),void 0)}getAnchorElement(){const B=this.getAnchor();return typeof B=="undefined"?void 0:this.element(B)}setFocus(B,Z){for(const H of B)if(H<0||H>=this.length)throw new s.ListError(this.user,`Invalid index ${H}`);this.focus.set(B,Z)}focusNext(B=1,Z=!1,H,z){if(this.length===0)return;const ee=this.focus.get(),x=this.findNextIndex(ee.length>0?ee[0]+B:0,Z,z);x>-1&&this.setFocus([x],H)}focusPrevious(B=1,Z=!1,H,z){if(this.length===0)return;const ee=this.focus.get(),x=this.findPreviousIndex(ee.length>0?ee[0]-B:0,Z,z);x>-1&&this.setFocus([x],H)}focusNextPage(B,Z){return Ie(this,void 0,void 0,function*(){let H=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);H=H===0?0:H-1;const z=this.view.element(H),ee=this.getFocusedElements()[0];if(ee!==z){const x=this.findPreviousIndex(H,!1,Z);x>-1&&ee!==this.view.element(x)?this.setFocus([x],B):this.setFocus([H],B)}else{const x=this.view.getScrollTop();this.view.setScrollTop(x+this.view.renderHeight-this.view.elementHeight(H)),this.view.getScrollTop()!==x&&(this.setFocus([]),yield d.timeout(0),yield this.focusNextPage(B,Z))}})}focusPreviousPage(B,Z){return Ie(this,void 0,void 0,function*(){let H;const z=this.view.getScrollTop();z===0?H=this.view.indexAt(z):H=this.view.indexAfter(z-1);const ee=this.view.element(H),x=this.getFocusedElements()[0];if(x!==ee){const G=this.findNextIndex(H,!1,Z);G>-1&&x!==this.view.element(G)?this.setFocus([G],B):this.setFocus([H],B)}else{const G=z;this.view.setScrollTop(z-this.view.renderHeight),this.view.getScrollTop()!==G&&(this.setFocus([]),yield d.timeout(0),yield this.focusPreviousPage(B,Z))}})}focusLast(B,Z){if(this.length===0)return;const H=this.findPreviousIndex(this.length-1,!1,Z);H>-1&&this.setFocus([H],B)}focusFirst(B,Z){this.focusNth(0,B,Z)}focusNth(B,Z,H){if(this.length===0)return;const z=this.findNextIndex(B,!1,H);z>-1&&this.setFocus([z],Z)}findNextIndex(B,Z=!1,H){for(let z=0;z<this.length;z++){if(B>=this.length&&!Z)return-1;if(B=B%this.length,!H||H(this.element(B)))return B;B++}return-1}findPreviousIndex(B,Z=!1,H){for(let z=0;z<this.length;z++){if(B<0&&!Z)return-1;if(B=(this.length+B%this.length)%this.length,!H||H(this.element(B)))return B;B--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(B=>this.view.element(B))}reveal(B,Z){if(B<0||B>=this.length)throw new s.ListError(this.user,`Invalid index ${B}`);const H=this.view.getScrollTop(),z=this.view.elementTop(B),ee=this.view.elementHeight(B);if(k.isNumber(Z)){const x=ee-this.view.renderHeight;this.view.setScrollTop(x*r.clamp(Z,0,1)+z)}else{const x=z+ee,G=H+this.view.renderHeight;z<H&&x>=G||(z<H||x>=G&&ee>=this.view.renderHeight?this.view.setScrollTop(z):x>=G&&this.view.setScrollTop(x-this.view.renderHeight))}}getRelativeTop(B){if(B<0||B>=this.length)throw new s.ListError(this.user,`Invalid index ${B}`);const Z=this.view.getScrollTop(),H=this.view.elementTop(B),z=this.view.elementHeight(B);if(H<Z||H+z>Z+this.view.renderHeight)return null;const ee=z-this.view.renderHeight;return Math.abs((Z-H)/ee)}getHTMLElement(){return this.view.domNode}style(B){this.styleController.style(B)}toListEvent({indexes:B,browserEvent:Z}){return{indexes:B,elements:B.map(H=>this.view.element(H)),browserEvent:Z}}_onFocusChange(){const B=this.focus.get();this.view.domNode.classList.toggle("element-focused",B.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var B;const Z=this.focus.get();if(Z.length>0){let H;((B=this.accessibilityProvider)===null||B===void 0?void 0:B.getActiveDescendantId)&&(H=this.accessibilityProvider.getActiveDescendantId(this.view.element(Z[0]))),this.view.domNode.setAttribute("aria-activedescendant",H||this.view.getElementDomId(Z[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const B=this.selection.get();this.view.domNode.classList.toggle("selection-none",B.length===0),this.view.domNode.classList.toggle("selection-single",B.length===1),this.view.domNode.classList.toggle("selection-multiple",B.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Me([L.memoize],ue.prototype,"onDidChangeFocus",null),Me([L.memoize],ue.prototype,"onDidChangeSelection",null),Me([L.memoize],ue.prototype,"onContextMenu",null),Me([L.memoize],ue.prototype,"onKeyDown",null),Me([L.memoize],ue.prototype,"onDidFocus",null),e.List=ue}),define(ie[321],ne([0,1,2,19,107,6,23,211]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class m{constructor(o,a){this.renderer=o,this.modelProvider=a}get templateId(){return this.renderer.templateId}renderTemplate(o){return{data:this.renderer.renderTemplate(o),disposable:_.Disposable.None}}renderElement(o,a,c,u){if(c.disposable&&c.disposable.dispose(),!c.data)return;const r=this.modelProvider();if(r.isResolved(o))return this.renderer.renderElement(r.get(o),o,c.data,u);const n=new S.CancellationTokenSource,l=r.resolve(o,n.token);c.disposable={dispose:()=>n.cancel()},this.renderer.renderPlaceholder(o,c.data),l.then(t=>this.renderer.renderElement(t,o,c.data,u))}disposeTemplate(o){o.disposable&&(o.disposable.dispose(),o.disposable=void 0),o.data&&(this.renderer.disposeTemplate(o.data),o.data=void 0)}}class v{constructor(o,a){this.modelProvider=o,this.accessibilityProvider=a}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(o){const a=this.modelProvider();return a.isResolved(o)?this.accessibilityProvider.getAriaLabel(a.get(o)):null}}function i(s,o){return Object.assign(Object.assign({},o),{accessibilityProvider:o.accessibilityProvider&&new v(s,o.accessibilityProvider)})}class C{constructor(o,a,c,u,r={}){const n=()=>this.model,l=u.map(t=>new m(t,n));this.list=new M.List(o,a,c,l,i(n,r))}updateOptions(o){this.list.updateOptions(o)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return L.Event.map(this.list.onMouseDblClick,({element:o,index:a,browserEvent:c})=>({element:o===void 0?void 0:this._model.get(o),index:a,browserEvent:c}))}get onPointer(){return L.Event.map(this.list.onPointer,({element:o,index:a,browserEvent:c})=>({element:o===void 0?void 0:this._model.get(o),index:a,browserEvent:c}))}get onDidChangeSelection(){return L.Event.map(this.list.onDidChangeSelection,({elements:o,indexes:a,browserEvent:c})=>({elements:o.map(u=>this._model.get(u)),indexes:a,browserEvent:c}))}get model(){return this._model}set model(o){this._model=o,this.list.splice(0,this.list.length,k.range(o.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(o=>this.model.get(o))}style(o){this.list.style(o)}dispose(){this.list.dispose()}}e.PagedList=C}),define(ie[322],ne([10]),{}),define(ie[212],ne([0,1,2,6,20,101,19,106,29,7,61,127,322]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const o={separatorBorder:v.Color.transparent};class a{constructor(d,h,p,w){this.container=d,this.view=h,this.disposable=w,this._cachedVisibleSize=void 0,typeof p=="number"?(this._size=p,this._cachedVisibleSize=void 0,d.classList.add("visible")):(this._size=0,this._cachedVisibleSize=p.cachedVisibleSize)}set size(d){this._size=d}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(d,h){d!==this.visible&&(d?(this.size=L.clamp(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof h=="number"?h:this.size,this.size=0),this.container.classList.toggle("visible",d),this.view.setVisible&&this.view.setVisible(d))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(d){this.container.style.pointerEvents=d?"":"none"}layout(d,h){this.layoutContainer(d),this.view.layout(this.size,d,h)}dispose(){return this.disposable.dispose(),this.view}}class c extends a{layoutContainer(d){this.container.style.top=`${d}px`,this.container.style.height=`${this.size}px`}}class u extends a{layoutContainer(d){this.container.style.left=`${d}px`,this.container.style.width=`${this.size}px`}}var r;(function(t){t[t.Idle=0]="Idle",t[t.Busy=1]="Busy"})(r||(r={}));var n;(function(t){t.Distribute={type:"distribute"};function d(p){return{type:"split",index:p}}t.Split=d;function h(p){return{type:"invisible",cachedVisibleSize:p}}t.Invisible=h})(n=e.Sizing||(e.Sizing={}));class l extends _.Disposable{constructor(d,h={}){var p,w;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=r.Idle,this._onDidSashChange=this._register(new k.Emitter),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new k.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=M.isUndefined(h.orientation)?0:h.orientation,this.inverseAltBehavior=!!h.inverseAltBehavior,this.proportionalLayout=M.isUndefined(h.proportionalLayout)?!0:!!h.proportionalLayout,this.getSashOrthogonalSize=h.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),d.appendChild(this.el),this.sashContainer=i.append(this.el,i.$(".sash-container")),this.viewContainer=i.$(".split-view-container"),this.scrollable=new s.Scrollable(125,i.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new C.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(p=h.scrollbarVisibility)!==null&&p!==void 0?p:1:2,horizontal:this.orientation===1?(w=h.scrollbarVisibility)!==null&&w!==void 0?w:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(b=>{this.viewContainer.scrollTop=b.scrollTop,this.viewContainer.scrollLeft=b.scrollLeft})),i.append(this.el,this.scrollableElement.getDomNode()),this.style(h.styles||o),h.descriptor&&(this.size=h.descriptor.size,h.descriptor.views.forEach((b,g)=>{const f=M.isUndefined(b.visible)||b.visible?b.size:{type:"invisible",cachedVisibleSize:b.size},y=b.view;this.doAddView(y,f,g,!0)}),this.contentSize=this.viewItems.reduce((b,g)=>b+g.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(d){for(const h of this.sashItems)h.sash.orthogonalStartSash=d;this._orthogonalStartSash=d}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(d){for(const h of this.sashItems)h.sash.orthogonalEndSash=d;this._orthogonalEndSash=d}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(d){this._startSnappingEnabled!==d&&(this._startSnappingEnabled=d,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(d){this._endSnappingEnabled!==d&&(this._endSnappingEnabled=d,this.updateSashEnablement())}style(d){d.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",d.separatorBorder.toString()))}addView(d,h,p=this.viewItems.length,w){this.doAddView(d,h,p,w)}layout(d,h){const p=Math.max(this.size,this.contentSize);if(this.size=d,this.layoutContext=h,this.proportions)for(let w=0;w<this.viewItems.length;w++){const b=this.viewItems[w];b.size=L.clamp(Math.round(this.proportions[w]*d),b.minimumSize,b.maximumSize)}else{const w=S.range(this.viewItems.length),b=w.filter(f=>this.viewItems[f].priority===1),g=w.filter(f=>this.viewItems[f].priority===2);this.resize(this.viewItems.length-1,d-p,void 0,b,g)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(d=>d.size/this.contentSize))}onSashStart({sash:d,start:h,alt:p}){for(const f of this.viewItems)f.enabled=!1;const w=this.sashItems.findIndex(f=>f.sash===d),b=_.combinedDisposable(i.addDisposableListener(document.body,"keydown",f=>g(this.sashDragState.current,f.altKey)),i.addDisposableListener(document.body,"keyup",()=>g(this.sashDragState.current,!1))),g=(f,y)=>{const I=this.viewItems.map(R=>R.size);let N=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(y=!y),y)if(w===this.sashItems.length-1){const O=this.viewItems[w];N=(O.minimumSize-O.size)/2,D=(O.maximumSize-O.size)/2}else{const O=this.viewItems[w+1];N=(O.size-O.maximumSize)/2,D=(O.size-O.minimumSize)/2}let T,P;if(!y){const R=S.range(w,-1),O=S.range(w+1,this.viewItems.length),A=R.reduce((te,ae)=>te+(this.viewItems[ae].minimumSize-I[ae]),0),F=R.reduce((te,ae)=>te+(this.viewItems[ae].viewMaximumSize-I[ae]),0),E=O.length===0?Number.POSITIVE_INFINITY:O.reduce((te,ae)=>te+(I[ae]-this.viewItems[ae].minimumSize),0),W=O.length===0?Number.NEGATIVE_INFINITY:O.reduce((te,ae)=>te+(I[ae]-this.viewItems[ae].viewMaximumSize),0),V=Math.max(A,W),U=Math.min(E,F),q=this.findFirstSnapIndex(R),j=this.findFirstSnapIndex(O);if(typeof q=="number"){const te=this.viewItems[q],ae=Math.floor(te.viewMinimumSize/2);T={index:q,limitDelta:te.visible?V-ae:V+ae,size:te.size}}if(typeof j=="number"){const te=this.viewItems[j],ae=Math.floor(te.viewMinimumSize/2);P={index:j,limitDelta:te.visible?U+ae:U-ae,size:te.size}}}this.sashDragState={start:f,current:f,index:w,sizes:I,minDelta:N,maxDelta:D,alt:y,snapBefore:T,snapAfter:P,disposable:b}};g(h,p)}onSashChange({current:d}){const{index:h,start:p,sizes:w,alt:b,minDelta:g,maxDelta:f,snapBefore:y,snapAfter:I}=this.sashDragState;this.sashDragState.current=d;const N=d-p,D=this.resize(h,N,w,void 0,void 0,g,f,y,I);if(b){const T=h===this.sashItems.length-1,P=this.viewItems.map(W=>W.size),R=T?h:h+1,O=this.viewItems[R],A=O.size-O.maximumSize,F=O.size-O.minimumSize,E=T?h-1:h+1;this.resize(E,-D,P,void 0,void 0,A,F)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(d){this._onDidSashChange.fire(d),this.sashDragState.disposable.dispose(),this.saveProportions();for(const h of this.viewItems)h.enabled=!0}onViewChange(d,h){const p=this.viewItems.indexOf(d);p<0||p>=this.viewItems.length||(h=typeof h=="number"?h:d.size,h=L.clamp(h,d.minimumSize,d.maximumSize),this.inverseAltBehavior&&p>0?(this.resize(p-1,Math.floor((d.size-h)/2)),this.distributeEmptySpace(),this.layoutViews()):(d.size=h,this.relayout([p],void 0)))}resizeView(d,h){if(this.state!==r.Idle)throw new Error("Cant modify splitview");if(this.state=r.Busy,d<0||d>=this.viewItems.length)return;const p=S.range(this.viewItems.length).filter(f=>f!==d),w=[...p.filter(f=>this.viewItems[f].priority===1),d],b=p.filter(f=>this.viewItems[f].priority===2),g=this.viewItems[d];h=Math.round(h),h=L.clamp(h,g.minimumSize,Math.min(g.maximumSize,this.size)),g.size=h,this.relayout(w,b),this.state=r.Idle}distributeViewSizes(){const d=[];let h=0;for(const f of this.viewItems)f.maximumSize-f.minimumSize>0&&(d.push(f),h+=f.size);const p=Math.floor(h/d.length);for(const f of d)f.size=L.clamp(p,f.minimumSize,f.maximumSize);const w=S.range(this.viewItems.length),b=w.filter(f=>this.viewItems[f].priority===1),g=w.filter(f=>this.viewItems[f].priority===2);this.relayout(b,g)}getViewSize(d){return d<0||d>=this.viewItems.length?-1:this.viewItems[d].size}doAddView(d,h,p=this.viewItems.length,w){if(this.state!==r.Idle)throw new Error("Cant modify splitview");this.state=r.Busy;const b=i.$(".split-view-view");p===this.viewItems.length?this.viewContainer.appendChild(b):this.viewContainer.insertBefore(b,this.viewContainer.children.item(p));const g=d.onDidChange(T=>this.onViewChange(N,T)),f=_.toDisposable(()=>this.viewContainer.removeChild(b)),y=_.combinedDisposable(g,f);let I;typeof h=="number"?I=h:h.type==="split"?I=this.getViewSize(h.index)/2:h.type==="invisible"?I={cachedVisibleSize:h.cachedVisibleSize}:I=d.minimumSize;const N=this.orientation===0?new c(b,d,I,y):new u(b,d,I,y);if(this.viewItems.splice(p,0,N),this.viewItems.length>1){let T={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const P=this.orientation===0?new m.Sash(this.sashContainer,{getHorizontalSashTop:te=>this.getSashPosition(te),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},T),{orientation:1})):new m.Sash(this.sashContainer,{getVerticalSashLeft:te=>this.getSashPosition(te),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},T),{orientation:0})),R=this.orientation===0?te=>({sash:P,start:te.startY,current:te.currentY,alt:te.altKey}):te=>({sash:P,start:te.startX,current:te.currentX,alt:te.altKey}),A=k.Event.map(P.onDidStart,R)(this.onSashStart,this),E=k.Event.map(P.onDidChange,R)(this.onSashChange,this),V=k.Event.map(P.onDidEnd,()=>this.sashItems.findIndex(te=>te.sash===P))(this.onSashEnd,this),U=P.onDidReset(()=>{const te=this.sashItems.findIndex(B=>B.sash===P),ae=S.range(te,-1),de=S.range(te+1,this.viewItems.length),ue=this.findFirstSnapIndex(ae),X=this.findFirstSnapIndex(de);typeof ue=="number"&&!this.viewItems[ue].visible||typeof X=="number"&&!this.viewItems[X].visible||this._onDidSashReset.fire(te)}),q=_.combinedDisposable(A,E,V,U,P),j={sash:P,disposable:q};this.sashItems.splice(p-1,0,j)}b.appendChild(d.element);let D;typeof h!="number"&&h.type==="split"&&(D=[h.index]),w||this.relayout([p],D),this.state=r.Idle,!w&&typeof h!="number"&&h.type==="distribute"&&this.distributeViewSizes()}relayout(d,h){const p=this.viewItems.reduce((w,b)=>w+b.size,0);this.resize(this.viewItems.length-1,this.size-p,void 0,d,h),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(d,h,p=this.viewItems.map(N=>N.size),w,b,g=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,y,I){if(d<0||d>=this.viewItems.length)return 0;const N=S.range(d,-1),D=S.range(d+1,this.viewItems.length);if(b)for(const j of b)S.pushToStart(N,j),S.pushToStart(D,j);if(w)for(const j of w)S.pushToEnd(N,j),S.pushToEnd(D,j);const T=N.map(j=>this.viewItems[j]),P=N.map(j=>p[j]),R=D.map(j=>this.viewItems[j]),O=D.map(j=>p[j]),A=N.reduce((j,te)=>j+(this.viewItems[te].minimumSize-p[te]),0),F=N.reduce((j,te)=>j+(this.viewItems[te].maximumSize-p[te]),0),E=D.length===0?Number.POSITIVE_INFINITY:D.reduce((j,te)=>j+(p[te]-this.viewItems[te].minimumSize),0),W=D.length===0?Number.NEGATIVE_INFINITY:D.reduce((j,te)=>j+(p[te]-this.viewItems[te].maximumSize),0),V=Math.max(A,W,g),U=Math.min(E,F,f);let q=!1;if(y){const j=this.viewItems[y.index],te=h>=y.limitDelta;q=te!==j.visible,j.setVisible(te,y.size)}if(!q&&I){const j=this.viewItems[I.index],te=h<I.limitDelta;q=te!==j.visible,j.setVisible(te,I.size)}if(q)return this.resize(d,h,p,w,b,g,f);h=L.clamp(h,V,U);for(let j=0,te=h;j<T.length;j++){const ae=T[j],de=L.clamp(P[j]+te,ae.minimumSize,ae.maximumSize);te-=de-P[j],ae.size=de}for(let j=0,te=h;j<R.length;j++){const ae=R[j],de=L.clamp(O[j]-te,ae.minimumSize,ae.maximumSize);te+=de-O[j],ae.size=de}return h}distributeEmptySpace(d){const h=this.viewItems.reduce((f,y)=>f+y.size,0);let p=this.size-h;const w=S.range(this.viewItems.length-1,-1),b=w.filter(f=>this.viewItems[f].priority===1),g=w.filter(f=>this.viewItems[f].priority===2);for(const f of g)S.pushToStart(w,f);for(const f of b)S.pushToEnd(w,f);typeof d=="number"&&S.pushToEnd(w,d);for(let f=0;p!==0&&f<w.length;f++){const y=this.viewItems[w[f]],I=L.clamp(y.size+p,y.minimumSize,y.maximumSize);p-=I-y.size,y.size=I}}layoutViews(){this.contentSize=this.viewItems.reduce((h,p)=>h+p.size,0);let d=0;for(const h of this.viewItems)h.layout(d,this.layoutContext),d+=h.size;this.sashItems.forEach(h=>h.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let d=!1;const h=this.viewItems.map(y=>d=y.size-y.minimumSize>0||d);d=!1;const p=this.viewItems.map(y=>d=y.maximumSize-y.size>0||d),w=[...this.viewItems].reverse();d=!1;const b=w.map(y=>d=y.size-y.minimumSize>0||d).reverse();d=!1;const g=w.map(y=>d=y.maximumSize-y.size>0||d).reverse();let f=0;for(let y=0;y<this.sashItems.length;y++){const{sash:I}=this.sashItems[y];f+=this.viewItems[y].size;const D=!(h[y]&&g[y+1]),T=!(p[y]&&b[y+1]);if(D&&T){const P=S.range(y,-1),R=S.range(y+1,this.viewItems.length),O=this.findFirstSnapIndex(P),A=this.findFirstSnapIndex(R),F=typeof O=="number"&&!this.viewItems[O].visible,E=typeof A=="number"&&!this.viewItems[A].visible;F&&b[y]&&(f>0||this.startSnappingEnabled)?I.state=1:E&&h[y]&&(f<this.contentSize||this.endSnappingEnabled)?I.state=2:I.state=0}else D&&!T?I.state=1:!D&&T?I.state=2:I.state=3}}getSashPosition(d){let h=0;for(let p=0;p<this.sashItems.length;p++)if(h+=this.viewItems[p].size,this.sashItems[p].sash===d)return h;return 0}findFirstSnapIndex(d){for(const h of d){const p=this.viewItems[h];if(!!p.visible&&p.snap)return h}for(const h of d){const p=this.viewItems[h];if(p.visible&&p.maximumSize-p.minimumSize>0)return;if(!p.visible&&p.snap)return h}}dispose(){super.dispose(),this.viewItems.forEach(d=>d.dispose()),this.viewItems=[],this.sashItems.forEach(d=>d.disposable.dispose()),this.sashItems=[]}}e.SplitView=l}),define(ie[323],ne([10]),{}),define(ie[324],ne([0,1,107,7,212,6,323]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class S{constructor(s,o,a){this.columns=s,this.getColumnSize=a,this.templateId=S.TemplateId,this.renderedTemplates=new Set;const c=new Map(o.map(u=>[u.templateId,u]));this.renderers=[];for(const u of s){const r=c.get(u.templateId);if(!r)throw new Error(`Table cell renderer for template id ${u.templateId} not found.`);this.renderers.push(r)}}renderTemplate(s){const o=k.append(s,k.$(".monaco-table-tr")),a=[],c=[];for(let r=0;r<this.columns.length;r++){const n=this.renderers[r],l=k.append(o,k.$(".monaco-table-td",{"data-col-index":r}));l.style.width=`${this.getColumnSize(r)}px`,a.push(l),c.push(n.renderTemplate(l))}const u={container:s,cellContainers:a,cellTemplateData:c};return this.renderedTemplates.add(u),u}renderElement(s,o,a,c){for(let u=0;u<this.columns.length;u++){const n=this.columns[u].project(s);this.renderers[u].renderElement(n,o,a.cellTemplateData[u],c)}}disposeElement(s,o,a,c){for(let u=0;u<this.columns.length;u++){const r=this.renderers[u];if(r.disposeElement){const l=this.columns[u].project(s);r.disposeElement(l,o,a.cellTemplateData[u],c)}}}disposeTemplate(s){for(let o=0;o<this.columns.length;o++)this.renderers[o].disposeTemplate(s.cellTemplateData[o]);k.clearNode(s.container),this.renderedTemplates.delete(s)}layoutColumn(s,o){for(const{cellContainers:a}of this.renderedTemplates)a[s].style.width=`${o}px`}}S.TemplateId="row";function m(C){return{getHeight(s){return C.getHeight(s)},getTemplateId(){return S.TemplateId}}}class v{constructor(s,o){this.column=s,this.index=o,this._onDidLayout=new L.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=k.$(".monaco-table-th",{"data-col-index":o,title:s.tooltip},s.label)}get minimumSize(){var s;return(s=this.column.minimumWidth)!==null&&s!==void 0?s:120}get maximumSize(){var s;return(s=this.column.maximumWidth)!==null&&s!==void 0?s:Number.POSITIVE_INFINITY}get onDidChange(){var s;return(s=this.column.onDidChangeWidthConstraints)!==null&&s!==void 0?s:L.Event.None}layout(s){this._onDidLayout.fire([this.index,s])}}class i{constructor(s,o,a,c,u,r){this.virtualDelegate=a,this.domId=`table_id_${++i.InstanceCount}`,this.cachedHeight=0,this.domNode=k.append(o,k.$(`.monaco-table.${this.domId}`));const n=c.map((d,h)=>new v(d,h)),l={size:n.reduce((d,h)=>d+h.column.weight,0),views:n.map(d=>({size:d.column.weight,view:d}))};this.splitview=new M.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l}),this.splitview.el.style.height=`${a.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${a.headerRowHeight}px`;const t=new S(c,u,d=>this.splitview.getViewSize(d));this.list=new _.List(s,this.domNode,m(a),[t],r),this.columnLayoutDisposable=L.Event.any(...n.map(d=>d.onDidLayout))(([d,h])=>t.layoutColumn(d,h)),this.styleElement=k.createStyleSheet(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(s){this.list.updateOptions(s)}splice(s,o,a=[]){this.list.splice(s,o,a)}getHTMLElement(){return this.domNode}style(s){const o=[];o.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=o.join(`
`),this.list.style(s)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}e.Table=i,i.InstanceCount=0}),define(ie[325],ne([10]),{}),define(ie[132],ne([10]),{}),define(ie[213],ne([0,1,7,125,132]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const M={},L=new k.IdGenerator("quick-input-button-icon-");function S(m){if(!m)return;let v;const i=m.dark.toString();return M[i]?v=M[i]:(v=L.nextId(),_.createCSSRule(`.${v}`,`background-image: ${_.asCSSUrl(m.light||m.dark)}`),_.createCSSRule(`.vs-dark .${v}, .hc-black .${v}`,`background-image: ${_.asCSSUrl(m.dark)}`),M[i]=v),v}e.getIconClass=S}),define(ie[326],ne([10]),{}),define(ie[327],ne([10]),{}),define(ie[328],ne([10]),{}),define(ie[329],ne([10]),{}),define(ie[330],ne([10]),{}),define(ie[331],ne([10]),{}),define(ie[332],ne([10]),{}),define(ie[333],ne([10]),{}),define(ie[334],ne([10]),{}),define(ie[335],ne([10]),{}),define(ie[336],ne([10]),{}),define(ie[337],ne([10]),{}),define(ie[338],ne([10]),{}),define(ie[339],ne([10]),{}),define(ie[340],ne([10]),{}),define(ie[341],ne([10]),{}),define(ie[342],ne([10]),{}),define(ie[343],ne([10]),{}),define(ie[344],ne([10]),{}),define(ie[345],ne([10]),{}),define(ie[346],ne([10]),{}),define(ie[347],ne([10]),{}),define(ie[348],ne([10]),{}),define(ie[349],ne([10]),{}),define(ie[350],ne([10]),{}),define(ie[351],ne([10]),{}),define(ie[352],ne([10]),{}),define(ie[353],ne([10]),{}),define(ie[354],ne([10]),{}),define(ie[355],ne([10]),{}),define(ie[356],ne([10]),{}),define(ie[357],ne([10]),{}),define(ie[358],ne([10]),{}),define(ie[359],ne([10]),{}),define(ie[360],ne([10]),{}),define(ie[361],ne([10]),{}),define(ie[362],ne([10]),{}),define(ie[363],ne([10]),{}),define(ie[364],ne([10]),{}),define(ie[365],ne([10]),{}),define(ie[366],ne([10]),{}),define(ie[367],ne([10]),{}),define(ie[368],ne([10]),{}),define(ie[369],ne([10]),{}),define(ie[370],ne([10]),{}),define(ie[371],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class _{constructor(S,m){this.chr=S,this.type=m,this.width=0}fulfill(S){this.width=S}}e.CharWidthRequest=_;class k{constructor(S,m){this._bareFontInfo=S,this._requests=m,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const S=document.createElement("div");S.style.position="absolute",S.style.top="-50000px",S.style.width="50000px";const m=document.createElement("div");m.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),m.style.fontWeight=this._bareFontInfo.fontWeight,m.style.fontSize=this._bareFontInfo.fontSize+"px",m.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,m.style.lineHeight=this._bareFontInfo.lineHeight+"px",m.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(m);const v=document.createElement("div");v.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),v.style.fontWeight="bold",v.style.fontSize=this._bareFontInfo.fontSize+"px",v.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,v.style.lineHeight=this._bareFontInfo.lineHeight+"px",v.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(v);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.style.fontStyle="italic",S.appendChild(i);const C=[];for(const s of this._requests){let o;s.type===0&&(o=m),s.type===2&&(o=v),s.type===1&&(o=i),o.appendChild(document.createElement("br"));const a=document.createElement("span");k._render(a,s),o.appendChild(a),C.push(a)}this._container=S,this._testElements=C}static _render(S,m){if(m.chr===" "){let v="\xA0";for(let i=0;i<8;i++)v+=v;S.innerText=v}else{let v=m.chr;for(let i=0;i<8;i++)v+=v;S.textContent=v}}_readFromDomElements(){for(let S=0,m=this._requests.length;S<m;S++){const v=this._requests[S],i=this._testElements[S];v.fulfill(i.offsetWidth/256)}}}function M(L,S){new k(L,S).read()}e.readCharWidths=M}),define(ie[214],ne([0,1,2]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class k extends _.Disposable{constructor(L,S,m){super();this.referenceDomElement=L,this.changeCallback=m,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,S)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(L=>{L&&L[0]&&L[0].contentRect?this.observe({width:L[0].contentRect.width,height:L[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(L){this.measureReferenceDomElement(!0,L)}measureReferenceDomElement(L,S){let m=0,v=0;S?(m=S.width,v=S.height):this.referenceDomElement&&(m=this.referenceDomElement.clientWidth,v=this.referenceDomElement.clientHeight),m=Math.max(5,m),v=Math.max(5,v),(this.width!==m||this.height!==v)&&(this.width=m,this.height=v,L&&this.changeCallback())}}e.ElementSizeObserver=k}),define(ie[167],ne([0,1,7,93,55,2]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createEditorPagePosition=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class S{constructor(u,r){this.x=u,this.y=r,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new m(this.x-_.StandardWindow.scrollX,this.y-_.StandardWindow.scrollY)}}e.PageCoordinates=S;class m{constructor(u,r){this.clientX=u,this.clientY=r,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new S(this.clientX+_.StandardWindow.scrollX,this.clientY+_.StandardWindow.scrollY)}}e.ClientCoordinates=m;class v{constructor(u,r,n,l){this.x=u,this.y=r,this.width=n,this.height=l,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=v;function i(c){const u=_.getDomNodePagePosition(c);return new v(u.left,u.top,u.width,u.height)}e.createEditorPagePosition=i;class C extends M.StandardMouseEvent{constructor(u,r){super(u);this._editorMouseEventBrand=void 0,this.pos=new S(this.posx,this.posy),this.editorPos=i(r)}}e.EditorMouseEvent=C;class s{constructor(u){this._editorViewDomNode=u}_create(u){return new C(u,this._editorViewDomNode)}onContextMenu(u,r){return _.addDisposableListener(u,"contextmenu",n=>{r(this._create(n))})}onMouseUp(u,r){return _.addDisposableListener(u,"mouseup",n=>{r(this._create(n))})}onMouseDown(u,r){return _.addDisposableListener(u,"mousedown",n=>{r(this._create(n))})}onMouseLeave(u,r){return _.addDisposableNonBubblingMouseOutListener(u,n=>{r(this._create(n))})}onMouseMoveThrottled(u,r,n,l){const t=(d,h)=>n(d,this._create(h));return _.addDisposableThrottledListener(u,"mousemove",r,t,l)}}e.EditorMouseEventFactory=s;class o{constructor(u){this._editorViewDomNode=u}_create(u){return new C(u,this._editorViewDomNode)}onPointerUp(u,r){return _.addDisposableListener(u,"pointerup",n=>{r(this._create(n))})}onPointerDown(u,r){return _.addDisposableListener(u,"pointerdown",n=>{r(this._create(n))})}onPointerLeave(u,r){return _.addDisposableNonBubblingPointerOutListener(u,n=>{r(this._create(n))})}onPointerMoveThrottled(u,r,n,l){const t=(d,h)=>n(d,this._create(h));return _.addDisposableThrottledListener(u,"pointermove",r,t,l)}}e.EditorPointerEventFactory=o;class a extends L.Disposable{constructor(u){super();this._editorViewDomNode=u,this._globalMouseMoveMonitor=this._register(new k.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(u,r,n,l,t){this._keydownListener=_.addStandardDisposableListener(document,"keydown",h=>{h.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,h.browserEvent)},!0);const d=(h,p)=>n(h,new C(p,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(u,r,d,l,h=>{this._keydownListener.dispose(),t(h)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorMouseMoveMonitor=a}),define(ie[372],ne([0,1,6,2]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCodeEditorService=void 0;class M extends k.Disposable{constructor(){super();this._onCodeEditorAdd=this._register(new _.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new _.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new _.Emitter),this._onDiffEditorRemove=this._register(new _.Emitter),this._onDecorationTypeRegistered=this._register(new _.Emitter),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(S){this._codeEditors[S.getId()]=S,this._onCodeEditorAdd.fire(S)}removeCodeEditor(S){delete this._codeEditors[S.getId()]&&this._onCodeEditorRemove.fire(S)}listCodeEditors(){return Object.keys(this._codeEditors).map(S=>this._codeEditors[S])}addDiffEditor(S){this._diffEditors[S.getId()]=S,this._onDiffEditorAdd.fire(S)}removeDiffEditor(S){delete this._diffEditors[S.getId()]&&this._onDiffEditorRemove.fire(S)}listDiffEditors(){return Object.keys(this._diffEditors).map(S=>this._diffEditors[S])}getFocusedCodeEditor(){let S=null;const m=this.listCodeEditors();for(const v of m){if(v.hasTextFocus())return v;v.hasWidgetFocus()&&(S=v)}return S}setModelProperty(S,m,v){const i=S.toString();let C;this._modelProperties.has(i)?C=this._modelProperties.get(i):(C=new Map,this._modelProperties.set(i,C)),C.set(m,v)}getModelProperty(S,m){const v=S.toString();if(this._modelProperties.has(v))return this._modelProperties.get(v).get(m)}}e.AbstractCodeEditorService=M}),define(ie[215],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let M=32;M<=126;M++)k.push(M);return k.push(65533),k})();const _=(k,M)=>(k-=32,k<0||k>96?M<=2?(k+96)%96:96-1:k);e.getCharIndex=_}),define(ie[373],ne([0,1,215,129]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class M{constructor(S,m){this.scale=m,this._minimapCharRendererBrand=void 0,this.charDataNormal=M.soften(S,12/15),this.charDataLight=M.soften(S,50/60)}static soften(S,m){let v=new Uint8ClampedArray(S.length);for(let i=0,C=S.length;i<C;i++)v[i]=k.toUint8(S[i]*m);return v}renderChar(S,m,v,i,C,s,o,a,c){const u=1*this.scale,r=2*this.scale,n=c?1:r;if(m+u>S.width||v+n>S.height){console.warn("bad render request outside image data");return}const l=a?this.charDataLight:this.charDataNormal,t=_.getCharIndex(i,o),d=S.width*4,h=s.r,p=s.g,w=s.b,b=C.r-h,g=C.g-p,f=C.b-w,y=S.data;let I=t*u*r,N=v*d+m*4;for(let D=0;D<n;D++){let T=N;for(let P=0;P<u;P++){const R=l[I++]/255;y[T++]=h+b*R,y[T++]=p+g*R,y[T++]=w+f*R,T++}N+=d}}blockRenderChar(S,m,v,i,C,s,o){const a=1*this.scale,c=2*this.scale,u=o?1:c;if(m+a>S.width||v+u>S.height){console.warn("bad render request outside image data");return}const r=S.width*4,n=.5,l=C.r,t=C.g,d=C.b,h=i.r-l,p=i.g-t,w=i.b-d,b=l+h*n,g=t+p*n,f=d+w*n,y=S.data;let I=v*r+m*4;for(let N=0;N<u;N++){let D=I;for(let T=0;T<a;T++)y[D++]=b,y[D++]=g,y[D++]=f,D++;I+=r}}}e.MinimapCharRenderer=M}),define(ie[374],ne([0,1,90]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},M=L=>{const S=new Uint8ClampedArray(L.length/2);for(let m=0;m<L.length;m+=2)S[m>>1]=k[L[m]]<<4|k[L[m+1]]&15;return S};e.prebakedMiniMaps={1:_.once(()=>M("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:_.once(()=>M("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ie[375],ne([0,1,373,215,374,129]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(v,i){if(this.lastCreated&&v===this.lastCreated.scale&&i===this.lastFontFamily)return this.lastCreated;let C;return M.prebakedMiniMaps[v]?C=new _.MinimapCharRenderer(M.prebakedMiniMaps[v](),v):C=S.createFromSampleData(S.createSampleData(i).data,v),this.lastFontFamily=i,this.lastCreated=C,C}static createSampleData(v){const i=document.createElement("canvas"),C=i.getContext("2d");i.style.height=`${16}px`,i.height=16,i.width=96*10,i.style.width=96*10+"px",C.fillStyle="#ffffff",C.font=`bold ${16}px ${v}`,C.textBaseline="middle";let s=0;for(const o of k.allCharCodes)C.fillText(String.fromCharCode(o),s,16/2),s+=10;return C.getImageData(0,0,96*10,16)}static createFromSampleData(v,i){const C=16*10*4*96;if(v.length!==C)throw new Error("Unexpected source in MinimapCharRenderer");let s=S._downsample(v,i);return new _.MinimapCharRenderer(s,i)}static _downsampleChar(v,i,C,s,o){const a=1*o,c=2*o;let u=s,r=0;for(let n=0;n<c;n++){const l=n/c*16,t=(n+1)/c*16;for(let d=0;d<a;d++){const h=d/a*10,p=(d+1)/a*10;let w=0,b=0;for(let f=l;f<t;f++){const y=i+Math.floor(f)*3840,I=1-(f-Math.floor(f));for(let N=h;N<p;N++){const D=1-(N-Math.floor(N)),T=y+Math.floor(N)*4,P=D*I;b+=P,w+=v[T]*v[T+3]/255*P}}const g=w/b;r=Math.max(r,g),C[u++]=L.toUint8(g)}}return r}static _downsample(v,i){const C=2*i*1*i,s=C*96,o=new Uint8ClampedArray(s);let a=0,c=0,u=0;for(let r=0;r<96;r++)u=Math.max(u,this._downsampleChar(v,c,o,a,i)),a+=C,c+=10*4;if(u>0){const r=255/u;for(let n=0;n<s;n++)o[n]*=r}return o}}e.MinimapCharRendererFactory=S}),define(ie[133],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new _.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ie[168],ne([0,1,17,133]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const M=_.isMacintosh?1.5:1.35,L=8;class S{constructor(i){this._bareFontInfoBrand=void 0,this.zoomLevel=i.zoomLevel,this.pixelRatio=i.pixelRatio,this.fontFamily=String(i.fontFamily),this.fontWeight=String(i.fontWeight),this.fontSize=i.fontSize,this.fontFeatureSettings=i.fontFeatureSettings,this.lineHeight=i.lineHeight|0,this.letterSpacing=i.letterSpacing}static createFromValidatedSettings(i,C,s,o){const a=i.get(39),c=i.get(43),u=i.get(42),r=i.get(41),n=i.get(56),l=i.get(53);return S._create(a,c,u,r,n,l,C,s,o)}static _create(i,C,s,o,a,c,u,r,n){a===0?a=M*s:a<L&&(a=a*s),a=Math.round(a),a<L&&(a=L);const l=1+(n?0:k.EditorZoom.getZoomLevel()*.1);return s*=l,a*=l,new S({zoomLevel:u,pixelRatio:r,fontFamily:i,fontWeight:C,fontSize:s,fontFeatureSettings:o,lineHeight:a,letterSpacing:c})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}e.BareFontInfo=S,e.SERIALIZED_FONT_INFO_VERSION=1;class m extends S{constructor(i,C){super(i);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=C,this.isMonospace=i.isMonospace,this.typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=i.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.maxDigitWidth=i.maxDigitWidth}equals(i){return this.fontFamily===i.fontFamily&&this.fontWeight===i.fontWeight&&this.fontSize===i.fontSize&&this.fontFeatureSettings===i.fontFeatureSettings&&this.lineHeight===i.lineHeight&&this.letterSpacing===i.letterSpacing&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===i.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.maxDigitWidth===i.maxDigitWidth}}e.FontInfo=m}),define(ie[94],ne([0,1,129]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(S){let m=_.toUint8(S);this._defaultValue=m,this._asciiMap=k._createAsciiMap(m),this._map=new Map}static _createAsciiMap(S){let m=new Uint8Array(256);for(let v=0;v<256;v++)m[v]=S;return m}set(S,m){let v=_.toUint8(m);S>=0&&S<256?this._asciiMap[S]=v:this._map.set(S,v)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}}e.CharacterClassifier=k;class M{constructor(){this._actual=new k(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}}e.CharacterSet=M}),define(ie[108],ne([0,1,94]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class k extends _.CharacterClassifier{constructor(S){super(0);for(let m=0,v=S.length;m<v;m++)this.set(S.charCodeAt(m),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=k;function M(L){let S={};return m=>(S.hasOwnProperty(m)||(S[m]=L(m)),S[m])}e.getMapForWordSeparators=M(L=>new k(L))}),define(ie[13],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class _{constructor(M,L){this.lineNumber=M,this.column=L}with(M=this.lineNumber,L=this.column){return M===this.lineNumber&&L===this.column?this:new _(M,L)}delta(M=0,L=0){return this.with(this.lineNumber+M,this.column+L)}equals(M){return _.equals(this,M)}static equals(M,L){return!M&&!L?!0:!!M&&!!L&&M.lineNumber===L.lineNumber&&M.column===L.column}isBefore(M){return _.isBefore(this,M)}static isBefore(M,L){return M.lineNumber<L.lineNumber?!0:L.lineNumber<M.lineNumber?!1:M.column<L.column}isBeforeOrEqual(M){return _.isBeforeOrEqual(this,M)}static isBeforeOrEqual(M,L){return M.lineNumber<L.lineNumber?!0:L.lineNumber<M.lineNumber?!1:M.column<=L.column}static compare(M,L){let S=M.lineNumber|0,m=L.lineNumber|0;if(S===m){let v=M.column|0,i=L.column|0;return v-i}return S-m}clone(){return new _(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(M){return new _(M.lineNumber,M.column)}static isIPosition(M){return M&&typeof M.lineNumber=="number"&&typeof M.column=="number"}}e.Position=_}),define(ie[3],ne([0,1,13]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(L,S,m,v){L>m||L===m&&S>v?(this.startLineNumber=m,this.startColumn=v,this.endLineNumber=L,this.endColumn=S):(this.startLineNumber=L,this.startColumn=S,this.endLineNumber=m,this.endColumn=v)}isEmpty(){return k.isEmpty(this)}static isEmpty(L){return L.startLineNumber===L.endLineNumber&&L.startColumn===L.endColumn}containsPosition(L){return k.containsPosition(this,L)}static containsPosition(L,S){return!(S.lineNumber<L.startLineNumber||S.lineNumber>L.endLineNumber||S.lineNumber===L.startLineNumber&&S.column<L.startColumn||S.lineNumber===L.endLineNumber&&S.column>L.endColumn)}containsRange(L){return k.containsRange(this,L)}static containsRange(L,S){return!(S.startLineNumber<L.startLineNumber||S.endLineNumber<L.startLineNumber||S.startLineNumber>L.endLineNumber||S.endLineNumber>L.endLineNumber||S.startLineNumber===L.startLineNumber&&S.startColumn<L.startColumn||S.endLineNumber===L.endLineNumber&&S.endColumn>L.endColumn)}strictContainsRange(L){return k.strictContainsRange(this,L)}static strictContainsRange(L,S){return!(S.startLineNumber<L.startLineNumber||S.endLineNumber<L.startLineNumber||S.startLineNumber>L.endLineNumber||S.endLineNumber>L.endLineNumber||S.startLineNumber===L.startLineNumber&&S.startColumn<=L.startColumn||S.endLineNumber===L.endLineNumber&&S.endColumn>=L.endColumn)}plusRange(L){return k.plusRange(this,L)}static plusRange(L,S){let m,v,i,C;return S.startLineNumber<L.startLineNumber?(m=S.startLineNumber,v=S.startColumn):S.startLineNumber===L.startLineNumber?(m=S.startLineNumber,v=Math.min(S.startColumn,L.startColumn)):(m=L.startLineNumber,v=L.startColumn),S.endLineNumber>L.endLineNumber?(i=S.endLineNumber,C=S.endColumn):S.endLineNumber===L.endLineNumber?(i=S.endLineNumber,C=Math.max(S.endColumn,L.endColumn)):(i=L.endLineNumber,C=L.endColumn),new k(m,v,i,C)}intersectRanges(L){return k.intersectRanges(this,L)}static intersectRanges(L,S){let m=L.startLineNumber,v=L.startColumn,i=L.endLineNumber,C=L.endColumn,s=S.startLineNumber,o=S.startColumn,a=S.endLineNumber,c=S.endColumn;return m<s?(m=s,v=o):m===s&&(v=Math.max(v,o)),i>a?(i=a,C=c):i===a&&(C=Math.min(C,c)),m>i||m===i&&v>C?null:new k(m,v,i,C)}equalsRange(L){return k.equalsRange(this,L)}static equalsRange(L,S){return!!L&&!!S&&L.startLineNumber===S.startLineNumber&&L.startColumn===S.startColumn&&L.endLineNumber===S.endLineNumber&&L.endColumn===S.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(L){return new _.Position(L.endLineNumber,L.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(L){return new _.Position(L.startLineNumber,L.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(L,S){return new k(this.startLineNumber,this.startColumn,L,S)}setStartPosition(L,S){return new k(L,S,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(L){return new k(L.startLineNumber,L.startColumn,L.startLineNumber,L.startColumn)}static fromPositions(L,S=L){return new k(L.lineNumber,L.column,S.lineNumber,S.column)}static lift(L){return L?new k(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):null}static isIRange(L){return L&&typeof L.startLineNumber=="number"&&typeof L.startColumn=="number"&&typeof L.endLineNumber=="number"&&typeof L.endColumn=="number"}static areIntersectingOrTouching(L,S){return!(L.endLineNumber<S.startLineNumber||L.endLineNumber===S.startLineNumber&&L.endColumn<S.startColumn||S.endLineNumber<L.startLineNumber||S.endLineNumber===L.startLineNumber&&S.endColumn<L.startColumn)}static areIntersecting(L,S){return!(L.endLineNumber<S.startLineNumber||L.endLineNumber===S.startLineNumber&&L.endColumn<=S.startColumn||S.endLineNumber<L.startLineNumber||S.endLineNumber===L.startLineNumber&&S.endColumn<=L.startColumn)}static compareRangesUsingStarts(L,S){if(L&&S){const i=L.startLineNumber|0,C=S.startLineNumber|0;if(i===C){const s=L.startColumn|0,o=S.startColumn|0;if(s===o){const a=L.endLineNumber|0,c=S.endLineNumber|0;if(a===c){const u=L.endColumn|0,r=S.endColumn|0;return u-r}return a-c}return s-o}return i-C}return(L?1:0)-(S?1:0)}static compareRangesUsingEnds(L,S){return L.endLineNumber===S.endLineNumber?L.endColumn===S.endColumn?L.startLineNumber===S.startLineNumber?L.startColumn-S.startColumn:L.startLineNumber-S.startLineNumber:L.endColumn-S.endColumn:L.endLineNumber-S.endLineNumber}static spansMultipleLines(L){return L.endLineNumber>L.startLineNumber}}e.Range=k}),define(ie[216],ne([0,1,8,13,3]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class L{constructor(v,i,C,s,o){this.value=v,this.selectionStart=i,this.selectionEnd=C,this.selectionStartPosition=s,this.selectionEndPosition=o}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(v){return new L(v.getValue(),v.getSelectionStart(),v.getSelectionEnd(),null,null)}collapseSelection(){return new L(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(v,i,C){e._debugComposition&&console.log("writeToTextArea "+v+": "+this.toString()),i.setValue(v,this.value),C&&i.setSelectionRange(v,this.selectionStart,this.selectionEnd)}deduceEditorPosition(v){if(v<=this.selectionStart){const s=this.value.substring(v,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,s,-1)}if(v>=this.selectionEnd){const s=this.value.substring(this.selectionEnd,v);return this._finishDeduceEditorPosition(this.selectionEndPosition,s,1)}const i=this.value.substring(this.selectionStart,v);if(i.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,i,1);const C=this.value.substring(v,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,C,-1)}_finishDeduceEditorPosition(v,i,C){let s=0,o=-1;for(;(o=i.indexOf(`
`,o+1))!==-1;)s++;return[v,C*i.length,s]}static selectedText(v){return new L(v,0,v.length,null,null)}static deduceInput(v,i,C){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+v.toString()),console.log("CURRENT STATE: "+i.toString()));let s=v.value,o=v.selectionStart,a=v.selectionEnd,c=i.value,u=i.selectionStart,r=i.selectionEnd;const n=s.substring(a),l=c.substring(r),t=_.commonSuffixLength(n,l);c=c.substring(0,c.length-t),s=s.substring(0,s.length-t);const d=s.substring(0,o),h=c.substring(0,u),p=_.commonPrefixLength(d,h);if(c=c.substring(p),s=s.substring(p),u-=p,o-=p,r-=p,a-=p,e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+s+">, selectionStart: "+o+", selectionEnd: "+a),console.log("AFTER DIFFING CURRENT STATE: <"+c+">, selectionStart: "+u+", selectionEnd: "+r)),C&&u===r&&s.length>0){let b=null;if(u===c.length?c.startsWith(s)&&(b=c.substring(s.length)):c.endsWith(s)&&(b=c.substring(0,c.length-s.length)),b!==null&&b.length>0&&(/\uFE0F/.test(b)||_.containsEmoji(b)))return{text:b,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(u===r){if(s===c&&o===0&&a===s.length&&u===c.length&&c.indexOf(`
`)===-1&&_.containsFullWidthCharacter(c))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const b=d.length-p;return e._debugComposition&&console.log("REMOVE PREVIOUS: "+(d.length-p)+" chars"),{text:c,replacePrevCharCnt:b,replaceNextCharCnt:0,positionDelta:0}}const w=a-o;return{text:c,replacePrevCharCnt:w,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(v,i){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+v.toString()),console.log("CURRENT STATE: "+i.toString())),v.value===i.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:i.selectionEnd-v.selectionEnd};const C=Math.min(_.commonPrefixLength(v.value,i.value),v.selectionEnd),s=Math.min(_.commonSuffixLength(v.value,i.value),v.value.length-v.selectionEnd),o=v.value.substring(C,v.value.length-s),a=i.value.substring(C,i.value.length-s),c=v.selectionStart-C,u=v.selectionEnd-C,r=i.selectionStart-C,n=i.selectionEnd-C;return e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+o+">, selectionStart: "+c+", selectionEnd: "+u),console.log("AFTER DIFFING CURRENT STATE: <"+a+">, selectionStart: "+r+", selectionEnd: "+n)),{text:a,replacePrevCharCnt:u,replaceNextCharCnt:o.length-u,positionDelta:n-a.length}}}e.TextAreaState=L,L.EMPTY=new L("",0,0,null,null);class S{static _getPageOfLine(v,i){return Math.floor((v-1)/i)}static _getRangeForPage(v,i){const C=v*i,s=C+1,o=C+i;return new M.Range(s,1,o+1,1)}static fromEditorSelection(v,i,C,s,o){const a=S._getPageOfLine(C.startLineNumber,s),c=S._getRangeForPage(a,s),u=S._getPageOfLine(C.endLineNumber,s),r=S._getRangeForPage(u,s),n=c.intersectRanges(new M.Range(1,1,C.startLineNumber,C.startColumn));let l=i.getValueInRange(n,1);const t=i.getLineCount(),d=i.getLineMaxColumn(t),h=r.intersectRanges(new M.Range(C.endLineNumber,C.endColumn,t,d));let p=i.getValueInRange(h,1),w;if(a===u||a+1===u)w=i.getValueInRange(C,1);else{const b=c.intersectRanges(C),g=r.intersectRanges(C);w=i.getValueInRange(b,1)+String.fromCharCode(8230)+i.getValueInRange(g,1)}if(o){const b=500;l.length>b&&(l=l.substring(l.length-b,l.length)),p.length>b&&(p=p.substring(0,b)),w.length>2*b&&(w=w.substring(0,b)+String.fromCharCode(8230)+w.substring(w.length-b,w.length))}return new L(l+w+p,l.length,l.length+w.length,new k.Position(C.startLineNumber,C.startColumn),new k.Position(C.endLineNumber,C.endColumn))}}e.PagedScreenReaderStrategy=S}),define(ie[217],ne([0,1,198,6,2,42,3]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const m={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class v extends M.Disposable{constructor(C,s={}){super();this._onDidUpdate=this._register(new k.Emitter),this._editor=C,this._options=L.mixin(s,m,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(o=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(o=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(C){this.ranges=[],C&&C.forEach(s=>{!this._options.ignoreCharChanges&&s.charChanges?s.charChanges.forEach(o=>{this.ranges.push({rhs:!0,range:new S.Range(o.modifiedStartLineNumber,o.modifiedStartColumn,o.modifiedEndLineNumber,o.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new S.Range(s.modifiedStartLineNumber,1,s.modifiedStartLineNumber,1)})}),this.ranges.sort((s,o)=>s.range.getStartPosition().isBeforeOrEqual(o.range.getStartPosition())?-1:o.range.getStartPosition().isBeforeOrEqual(s.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(C){let s=!1,o=this._editor.getPosition();if(!o){this.nextIdx=0;return}for(let a=0,c=this.ranges.length;a<c&&!s;a++){let u=this.ranges[a].range;o.isBeforeOrEqual(u.getStartPosition())&&(this.nextIdx=a+(C?0:-1),s=!0)}s||(this.nextIdx=C?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(C,s){if(_.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(C):C?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let o=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let a=o.range.getStartPosition();this._editor.setPosition(a),this._editor.revealPositionInCenter(a,s)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(C=0){this._move(!0,C)}previous(C=0){this._move(!1,C)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=v}),define(ie[56],ne([0,1,3]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(L,S){return{range:new _.Range(L.lineNumber,L.column,L.lineNumber,L.column),text:S,forceMoveMarkers:!0}}static delete(L){return{range:L,text:null}}static replace(L,S){return{range:L,text:S}}static replaceMove(L,S){return{range:L,text:S,forceMoveMarkers:!0}}}e.EditOperation=k}),define(ie[376],ne([0,1,8,56,3]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class L{constructor(v,i){this._selection=v,this._cursors=i,this._selectionId=null}getEditOperations(v,i){let C=S(v,this._cursors);for(let s=0,o=C.length;s<o;s++){let a=C[s];i.addEditOperation(a.range,a.text)}this._selectionId=i.trackSelection(this._selection)}computeCursorState(v,i){return i.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=L;function S(m,v){v.sort((a,c)=>a.lineNumber===c.lineNumber?a.column-c.column:a.lineNumber-c.lineNumber);for(let a=v.length-2;a>=0;a--)v[a].lineNumber===v[a+1].lineNumber&&v.splice(a,1);let i=[],C=0,s=0,o=v.length;for(let a=1,c=m.getLineCount();a<=c;a++){let u=m.getLineContent(a),r=u.length+1,n=0;if(s<o&&v[s].lineNumber===a&&(n=v[s].column,s++,n===r)||u.length===0)continue;let l=_.lastNonWhitespaceIndex(u),t=0;if(l===-1)t=1;else if(l!==u.length-1)t=l+2;else continue;t=Math.max(n,t),i[C++]=k.EditOperation.delete(new M.Range(a,t,a,r))}return i}e.trimTrailingWhitespace=S}),define(ie[218],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class _{constructor(M,L,S,m){this._rgba8Brand=void 0,this.r=_._clamp(M),this.g=_._clamp(L),this.b=_._clamp(S),this.a=_._clamp(m)}equals(M){return this.r===M.r&&this.g===M.g&&this.b===M.b&&this.a===M.a}static _clamp(M){return M<0?0:M>255?255:M|0}}e.RGBA8=_,_.Empty=new _(0,0,0,0)}),define(ie[21],ne([0,1,13,3]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class M extends k.Range{constructor(S,m,v,i){super(S,m,v,i);this.selectionStartLineNumber=S,this.selectionStartColumn=m,this.positionLineNumber=v,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return M.selectionsEqual(this,S)}static selectionsEqual(S,m){return S.selectionStartLineNumber===m.selectionStartLineNumber&&S.selectionStartColumn===m.selectionStartColumn&&S.positionLineNumber===m.positionLineNumber&&S.positionColumn===m.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,m){return this.getDirection()===0?new M(this.startLineNumber,this.startColumn,S,m):new M(S,m,this.startLineNumber,this.startColumn)}getPosition(){return new _.Position(this.positionLineNumber,this.positionColumn)}setStartPosition(S,m){return this.getDirection()===0?new M(S,m,this.endLineNumber,this.endColumn):new M(this.endLineNumber,this.endColumn,S,m)}static fromPositions(S,m=S){return new M(S.lineNumber,S.column,m.lineNumber,m.column)}static liftSelection(S){return new M(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,m){if(S&&!m||!S&&m)return!1;if(!S&&!m)return!0;if(S.length!==m.length)return!1;for(let v=0,i=S.length;v<i;v++)if(!this.selectionsEqual(S[v],m[v]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,m,v,i,C){return C===0?new M(S,m,v,i):new M(v,i,S,m)}}e.Selection=M}),define(ie[169],ne([0,1,38,7,15,6,2,105,17,8,216,13,21]),function($,e,_,k,M,L,S,m,v,i,C,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var a;(function(l){l.Tap="-monaco-textarea-synthetic-tap"})(a=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class c{constructor(){this._lastState=null}set(t,d){this._lastState={lastCopiedValue:t,data:d}}get(t){return this._lastState&&this._lastState.lastCopiedValue===t?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=c,c.INSTANCE=new c;class u extends S.Disposable{constructor(t,d){super();this.textArea=d,this._onFocus=this._register(new L.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new L.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new L.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new L.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new L.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new L.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new L.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new L.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new L.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new L.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=t,this._textArea=this._register(new n(d)),this._asyncTriggerCut=this._register(new M.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new M.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=C.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let h=null;this._register(k.addStandardDisposableListener(d.domNode,"keydown",g=>{(g.keyCode===109||this._isDoingComposition&&g.keyCode===1)&&g.stopPropagation(),g.equals(9)&&g.preventDefault(),h=g,this._onKeyDown.fire(g)})),this._register(k.addStandardDisposableListener(d.domNode,"keyup",g=>{this._onKeyUp.fire(g)})),this._register(k.addDisposableListener(d.domNode,"compositionstart",g=>{if(C._debugComposition&&console.log("[compositionstart]",g),!this._isDoingComposition){if(this._isDoingComposition=!0,v.isMacintosh&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===g.data&&(h&&h.equals(109)&&(h.code==="ArrowRight"||h.code==="ArrowLeft")||_.isFirefox)){C._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",g),this._textAreaState=new C.TextAreaState(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new s.Position(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(_.isAndroid){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",C.TextAreaState.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const p=g=>{const f=this._textAreaState,y=C.TextAreaState.readFromTextArea(this._textArea);return[y,C.TextAreaState.deduceInput(f,y,g)]},w=()=>{const g=this._textAreaState,f=C.TextAreaState.readFromTextArea(this._textArea);return[f,C.TextAreaState.deduceAndroidCompositionInput(g,f)]},b=g=>{const f=this._textAreaState,y=C.TextAreaState.selectedText(g),I={text:y.value,replacePrevCharCnt:f.selectionEnd-f.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[y,I]};this._register(k.addDisposableListener(d.domNode,"compositionupdate",g=>{if(C._debugComposition&&console.log("[compositionupdate]",g),_.isAndroid){const[I,N]=w();this._textAreaState=I,this._onType.fire(N),this._onCompositionUpdate.fire(g);return}const[f,y]=b(g.data||"");this._textAreaState=f,this._onType.fire(y),this._onCompositionUpdate.fire(g)})),this._register(k.addDisposableListener(d.domNode,"compositionend",g=>{if(C._debugComposition&&console.log("[compositionend]",g),!this._isDoingComposition)return;if(this._isDoingComposition=!1,_.isAndroid){const[I,N]=w();this._textAreaState=I,this._onType.fire(N),this._onCompositionEnd.fire();return}const[f,y]=b(g.data||"");this._textAreaState=f,this._onType.fire(y),(_.isChrome||_.isFirefox)&&(this._textAreaState=C.TextAreaState.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(k.addDisposableListener(d.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[g,f]=p(v.isMacintosh);f.replacePrevCharCnt===0&&f.text.length===1&&i.isHighSurrogate(f.text.charCodeAt(0))||(this._textAreaState=g,this._nextCommand===0?(f.text!==""||f.replacePrevCharCnt!==0)&&this._onType.fire(f):((f.text!==""||f.replacePrevCharCnt!==0)&&this._firePaste(f.text,null),this._nextCommand=0))})),this._register(k.addDisposableListener(d.domNode,"cut",g=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(g),this._asyncTriggerCut.schedule()})),this._register(k.addDisposableListener(d.domNode,"copy",g=>{this._ensureClipboardGetsEditorSelection(g)})),this._register(k.addDisposableListener(d.domNode,"paste",g=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),r.canUseTextData(g)){const[f,y]=r.getTextData(g);f!==""&&this._firePaste(f,y)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",C.TextAreaState.EMPTY),this._nextCommand=1})),this._register(k.addDisposableListener(d.domNode,"focus",()=>{const g=this._hasFocus;this._setHasFocus(!0),_.isSafari&&!g&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(k.addDisposableListener(d.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(k.addDisposableListener(d.domNode,a.Tap,()=>{_.isAndroid&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let t=0;return k.addDisposableListener(document,"selectionchange",d=>{if(!this._hasFocus||this._isDoingComposition||!_.isChrome)return;const h=Date.now(),p=h-t;if(t=h,p<5)return;const w=h-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),w<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const b=this._textArea.getValue();if(this._textAreaState.value!==b)return;const g=this._textArea.getSelectionStart(),f=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===g&&this._textAreaState.selectionEnd===f)return;const y=this._textAreaState.deduceEditorPosition(g),I=this._host.deduceModelPosition(y[0],y[1],y[2]),N=this._textAreaState.deduceEditorPosition(f),D=this._host.deduceModelPosition(N[0],N[1],N[2]),T=new o.Selection(I.lineNumber,I.column,D.lineNumber,D.column);this._onSelectionChangeRequest.fire(T)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const t=k.getShadowRoot(this.textArea.domNode);t?this._setHasFocus(t.activeElement===this.textArea.domNode):k.isInDOM(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(t){this._hasFocus!==t&&(this._hasFocus=t,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(t,d){this._hasFocus||(d=d.collapseSelection()),d.writeToTextArea(t,this._textArea,this._hasFocus),this._textAreaState=d}writeScreenReaderContent(t){this._isDoingComposition||this._setAndWriteTextAreaState(t,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(t){const d=this._host.getDataToCopy(r.canUseTextData(t)),h={version:1,isFromEmptySelection:d.isFromEmptySelection,multicursorText:d.multicursorText,mode:d.mode};if(c.INSTANCE.set(_.isFirefox?d.text.replace(/\r\n/g,`
`):d.text,h),!r.canUseTextData(t)){this._setAndWriteTextAreaState("copy or cut",C.TextAreaState.selectedText(d.text));return}r.setTextData(t,d.text,d.html,h)}_firePaste(t,d){d||(d=c.INSTANCE.get(t)),this._onPaste.fire({text:t,metadata:d})}}e.TextAreaInput=u;class r{static canUseTextData(t){return!!(t.clipboardData||window.clipboardData)}static getTextData(t){if(t.clipboardData){t.preventDefault();const d=t.clipboardData.getData(m.Mimes.text);let h=null;const p=t.clipboardData.getData("vscode-editor-data");if(typeof p=="string")try{h=JSON.parse(p),h.version!==1&&(h=null)}catch(w){}return[d,h]}if(window.clipboardData)return t.preventDefault(),[window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(t,d,h,p){if(t.clipboardData){t.clipboardData.setData(m.Mimes.text,d),typeof h=="string"&&t.clipboardData.setData("text/html",h),t.clipboardData.setData("vscode-editor-data",JSON.stringify(p)),t.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",d),t.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class n extends S.Disposable{constructor(t){super();this._actual=t,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(t){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(t,d){const h=this._actual.domNode;h.value!==d&&(this.setIgnoreSelectionChangeTime("setValue"),h.value=d)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(t,d,h){const p=this._actual.domNode;let w=null;const b=k.getShadowRoot(p);b?w=b.activeElement:w=document.activeElement;const g=w===p,f=p.selectionStart,y=p.selectionEnd;if(g&&f===d&&y===h){_.isFirefox&&window.parent!==window&&p.focus();return}if(g){this.setIgnoreSelectionChangeTime("setSelectionRange"),p.setSelectionRange(d,h),_.isFirefox&&window.parent!==window&&p.focus();return}try{const I=k.saveParentsScrollTop(p);this.setIgnoreSelectionChangeTime("setSelectionRange"),p.focus(),p.setSelectionRange(d,h),k.restoreParentsScrollTop(p,I)}catch(I){}}}}),define(ie[95],ne([0,1,21]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(i,C,s=!1){this._range=i,this._text=C,this.insertsAutoWhitespace=s}getEditOperations(i,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,C){let o=C.getInverseEditOperations()[0].range;return new _.Selection(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn)}}e.ReplaceCommand=k;class M{constructor(i,C){this._range=i,this._text=C}getEditOperations(i,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,C){const o=C.getInverseEditOperations()[0].range;return new _.Selection(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn)}}e.ReplaceCommandThatSelectsText=M;class L{constructor(i,C,s=!1){this._range=i,this._text=C,this.insertsAutoWhitespace=s}getEditOperations(i,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,C){let o=C.getInverseEditOperations()[0].range;return new _.Selection(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn)}}e.ReplaceCommandWithoutChangingPosition=L;class S{constructor(i,C,s,o,a=!1){this._range=i,this._text=C,this._columnDeltaOffset=o,this._lineNumberDeltaOffset=s,this.insertsAutoWhitespace=a}getEditOperations(i,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,C){let o=C.getInverseEditOperations()[0].range;return new _.Selection(o.endLineNumber+this._lineNumberDeltaOffset,o.endColumn+this._columnDeltaOffset,o.endLineNumber+this._lineNumberDeltaOffset,o.endColumn+this._columnDeltaOffset)}}e.ReplaceCommandWithOffsetCursorState=S;class m{constructor(i,C,s,o=!1){this._range=i,this._text=C,this._initialSelection=s,this._forceMoveMarkers=o,this._selectionId=null}getEditOperations(i,C){C.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=C.trackSelection(this._initialSelection)}computeCursorState(i,C){return C.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=m}),define(ie[377],ne([0,1,3,21]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class M{constructor(S,m,v){this._range=S,this._charBeforeSelection=m,this._charAfterSelection=v}getEditOperations(S,m){m.addTrackedEditOperation(new _.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),m.addTrackedEditOperation(new _.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(S,m){let v=m.getInverseEditOperations(),i=v[0].range,C=v[1].range;return new k.Selection(i.endLineNumber,i.endColumn,C.endLineNumber,C.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=M}),define(ie[82],ne([0,1,8,17,102]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let L;function S(){return L||(L=new TextDecoder("UTF-16LE")),L}let m;function v(){return m||(m=new TextDecoder("UTF-16BE")),m}let i;function C(){return i||(i=k.isLittleEndian()?S():v()),i}e.getPlatformTextDecoder=C,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=u=>new a(u),e.decodeUTF16LE=s):(e.createStringBuilder=u=>new c,e.decodeUTF16LE=o);function s(u,r,n){const l=new Uint16Array(u.buffer,r,n);return n>0&&(l[0]===65279||l[0]===65534)?o(u,r,n):S().decode(l)}function o(u,r,n){let l=[],t=0;for(let d=0;d<n;d++){const h=M.readUInt16LE(u,r);r+=2,l[t++]=String.fromCharCode(h)}return l.join("")}class a{constructor(r){this._capacity=r|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const r=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return C().decode(r)}_flushBuffer(){const r=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[r]:this._completedStrings[this._completedStrings.length]=r}write1(r){const n=this._capacity-this._bufferLength;n<=1&&(n===0||_.isHighSurrogate(r))&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCII(r){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCIIString(r){const n=r.length;if(this._bufferLength+n>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=r;return}for(let l=0;l<n;l++)this._buffer[this._bufferLength++]=r.charCodeAt(l)}}class c{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCII(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCIIString(r){this._pieces[this._piecesLen++]=r}}}),define(ie[170],ne([0,1,30,82]),function($,e,_,k){"use strict";var M;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class L{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,C){this._lines=C,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const C=i-this._rendLineNumberStart;if(C<0||C>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[C]}onLinesDeleted(i,C){if(this.getCount()===0)return null;const s=this.getStartLineNumber(),o=this.getEndLineNumber();if(C<s){const r=C-i+1;return this._rendLineNumberStart-=r,null}if(i>o)return null;let a=0,c=0;for(let r=s;r<=o;r++){const n=r-this._rendLineNumberStart;i<=r&&r<=C&&(c===0?(a=n,c=1):c++)}if(i<s){let r=0;C<s?r=C-i+1:r=s-i,this._rendLineNumberStart-=r}return this._lines.splice(a,c)}onLinesChanged(i,C){if(this.getCount()===0)return!1;const s=this.getStartLineNumber(),o=this.getEndLineNumber();let a=!1;for(let c=i;c<=C;c++)c>=s&&c<=o&&(this._lines[c-this._rendLineNumberStart].onContentChanged(),a=!0);return a}onLinesInserted(i,C){if(this.getCount()===0)return null;const s=C-i+1,o=this.getStartLineNumber(),a=this.getEndLineNumber();if(i<=o)return this._rendLineNumberStart+=s,null;if(i>a)return null;if(s+i>a)return this._lines.splice(i-this._rendLineNumberStart,a-i+1);const c=[];for(let t=0;t<s;t++)c[t]=this._createLine();const u=i-this._rendLineNumberStart,r=this._lines.slice(0,u),n=this._lines.slice(u,this._lines.length-s),l=this._lines.slice(this._lines.length-s,this._lines.length);return this._lines=r.concat(c).concat(n),l}onTokensChanged(i){if(this.getCount()===0)return!1;const C=this.getStartLineNumber(),s=this.getEndLineNumber();let o=!1;for(let a=0,c=i.length;a<c;a++){const u=i[a];if(u.toLineNumber<C||u.fromLineNumber>s)continue;const r=Math.max(C,u.fromLineNumber),n=Math.min(s,u.toLineNumber);for(let l=r;l<=n;l++){const t=l-this._rendLineNumberStart;this._lines[t].onTokensChanged(),o=!0}}return o}}e.RenderedLinesCollection=L;class S{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new L(()=>this._host.createVisibleLine())}_createDomNode(){const i=_.createFastDomNode(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(128)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.toLineNumber)}onLinesDeleted(i){const C=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(C)for(let s=0,o=C.length;s<o;s++){const a=C[s].getDomNode();a&&this.domNode.domNode.removeChild(a)}return!0}onLinesInserted(i){const C=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(C)for(let s=0,o=C.length;s<o;s++){const a=C[s].getDomNode();a&&this.domNode.domNode.removeChild(a)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const C=this._linesCollection._get(),s=new m(this.domNode.domNode,this._host,i),o={rendLineNumberStart:C.rendLineNumberStart,lines:C.lines,linesLength:C.lines.length},a=s.render(o,i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(a.rendLineNumberStart,a.lines)}}e.VisibleLinesCollection=S;class m{constructor(i,C,s){this.domNode=i,this.host=C,this.viewportData=s}render(i,C,s,o){const a={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(a.rendLineNumberStart+a.linesLength-1<C||s<a.rendLineNumberStart){a.rendLineNumberStart=C,a.linesLength=s-C+1,a.lines=[];for(let c=C;c<=s;c++)a.lines[c-C]=this.host.createVisibleLine();return this._finishRendering(a,!0,o),a}if(this._renderUntouchedLines(a,Math.max(C-a.rendLineNumberStart,0),Math.min(s-a.rendLineNumberStart,a.linesLength-1),o,C),a.rendLineNumberStart>C){const c=C,u=Math.min(s,a.rendLineNumberStart-1);c<=u&&(this._insertLinesBefore(a,c,u,o,C),a.linesLength+=u-c+1)}else if(a.rendLineNumberStart<C){const c=Math.min(a.linesLength,C-a.rendLineNumberStart);c>0&&(this._removeLinesBefore(a,c),a.linesLength-=c)}if(a.rendLineNumberStart=C,a.rendLineNumberStart+a.linesLength-1<s){const c=a.rendLineNumberStart+a.linesLength,u=s;c<=u&&(this._insertLinesAfter(a,c,u,o,C),a.linesLength+=u-c+1)}else if(a.rendLineNumberStart+a.linesLength-1>s){const c=Math.max(0,s-a.rendLineNumberStart+1),r=a.linesLength-1-c+1;r>0&&(this._removeLinesAfter(a,r),a.linesLength-=r)}return this._finishRendering(a,!1,o),a}_renderUntouchedLines(i,C,s,o,a){const c=i.rendLineNumberStart,u=i.lines;for(let r=C;r<=s;r++){const n=c+r;u[r].layoutLine(n,o[n-a])}}_insertLinesBefore(i,C,s,o,a){const c=[];let u=0;for(let r=C;r<=s;r++)c[u++]=this.host.createVisibleLine();i.lines=c.concat(i.lines)}_removeLinesBefore(i,C){for(let s=0;s<C;s++){const o=i.lines[s].getDomNode();o&&this.domNode.removeChild(o)}i.lines.splice(0,C)}_insertLinesAfter(i,C,s,o,a){const c=[];let u=0;for(let r=C;r<=s;r++)c[u++]=this.host.createVisibleLine();i.lines=i.lines.concat(c)}_removeLinesAfter(i,C){const s=i.linesLength-C;for(let o=0;o<C;o++){const a=i.lines[s+o].getDomNode();a&&this.domNode.removeChild(a)}i.lines.splice(s,C)}_finishRenderingNewLines(i,C,s,o){m._ttPolicy&&(s=m._ttPolicy.createHTML(s));const a=this.domNode.lastChild;C||!a?this.domNode.innerHTML=s:a.insertAdjacentHTML("afterend",s);let c=this.domNode.lastChild;for(let u=i.linesLength-1;u>=0;u--){const r=i.lines[u];o[u]&&(r.setDomNode(c),c=c.previousSibling)}}_finishRenderingInvalidLines(i,C,s){const o=document.createElement("div");m._ttPolicy&&(C=m._ttPolicy.createHTML(C)),o.innerHTML=C;for(let a=0;a<i.linesLength;a++){const c=i.lines[a];if(s[a]){const u=o.firstChild,r=c.getDomNode();r.parentNode.replaceChild(u,r),c.setDomNode(u)}}}_finishRendering(i,C,s){const o=m._sb,a=i.linesLength,c=i.lines,u=i.rendLineNumberStart,r=[];{o.reset();let n=!1;for(let l=0;l<a;l++){const t=c[l];r[l]=!1,!(t.getDomNode()||!t.renderLine(l+u,s[l],this.viewportData,o))&&(r[l]=!0,n=!0)}n&&this._finishRenderingNewLines(i,C,o.build(),r)}{o.reset();let n=!1;const l=[];for(let t=0;t<a;t++){const d=c[t];l[t]=!1,!(r[t]||!d.renderLine(t+u,s[t],this.viewportData,o))&&(l[t]=!0,n=!0)}n&&this._finishRenderingInvalidLines(i,o.build(),l)}}}m._ttPolicy=(M=window.trustedTypes)===null||M===void 0?void 0:M.createPolicy("editorViewLayer",{createHTML:v=>v}),m._sb=k.createStringBuilder(1e5)}),define(ie[134],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationResult2=e.TokenizationResult=e.Token=void 0;class _{constructor(S,m,v){this._tokenBrand=void 0,this.offset=S|0,this.type=m,this.language=v}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=_;class k{constructor(S,m){this._tokenizationResultBrand=void 0,this.tokens=S,this.endState=m}}e.TokenizationResult=k;class M{constructor(S,m){this._tokenizationResult2Brand=void 0,this.tokens=S,this.endState=m}}e.TokenizationResult2=M}),define(ie[378],ne([0,1,128,8]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const M=3;function L(u,r,n,l){return new _.LcsDiff(u,r,n).ComputeDiff(l)}class S{constructor(r){const n=[],l=[];for(let t=0,d=r.length;t<d;t++)n[t]=o(r[t],1),l[t]=a(r[t],1);this.lines=r,this._startColumns=n,this._endColumns=l}getElements(){const r=[];for(let n=0,l=this.lines.length;n<l;n++)r[n]=this.lines[n].substring(this._startColumns[n]-1,this._endColumns[n]-1);return r}getStrictElement(r){return this.lines[r]}getStartLineNumber(r){return r+1}getEndLineNumber(r){return r+1}createCharSequence(r,n,l){const t=[],d=[],h=[];let p=0;for(let w=n;w<=l;w++){const b=this.lines[w],g=r?this._startColumns[w]:1,f=r?this._endColumns[w]:b.length+1;for(let y=g;y<f;y++)t[p]=b.charCodeAt(y-1),d[p]=w+1,h[p]=y,p++}return new m(t,d,h)}}class m{constructor(r,n,l){this._charCodes=r,this._lineNumbers=n,this._columns=l}getElements(){return this._charCodes}getStartLineNumber(r){return this._lineNumbers[r]}getStartColumn(r){return this._columns[r]}getEndLineNumber(r){return this._lineNumbers[r]}getEndColumn(r){return this._columns[r]+1}}class v{constructor(r,n,l,t,d,h,p,w){this.originalStartLineNumber=r,this.originalStartColumn=n,this.originalEndLineNumber=l,this.originalEndColumn=t,this.modifiedStartLineNumber=d,this.modifiedStartColumn=h,this.modifiedEndLineNumber=p,this.modifiedEndColumn=w}static createFromDiffChange(r,n,l){let t,d,h,p,w,b,g,f;return r.originalLength===0?(t=0,d=0,h=0,p=0):(t=n.getStartLineNumber(r.originalStart),d=n.getStartColumn(r.originalStart),h=n.getEndLineNumber(r.originalStart+r.originalLength-1),p=n.getEndColumn(r.originalStart+r.originalLength-1)),r.modifiedLength===0?(w=0,b=0,g=0,f=0):(w=l.getStartLineNumber(r.modifiedStart),b=l.getStartColumn(r.modifiedStart),g=l.getEndLineNumber(r.modifiedStart+r.modifiedLength-1),f=l.getEndColumn(r.modifiedStart+r.modifiedLength-1)),new v(t,d,h,p,w,b,g,f)}}function i(u){if(u.length<=1)return u;const r=[u[0]];let n=r[0];for(let l=1,t=u.length;l<t;l++){const d=u[l],h=d.originalStart-(n.originalStart+n.originalLength),p=d.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(h,p)<M?(n.originalLength=d.originalStart+d.originalLength-n.originalStart,n.modifiedLength=d.modifiedStart+d.modifiedLength-n.modifiedStart):(r.push(d),n=d)}return r}class C{constructor(r,n,l,t,d){this.originalStartLineNumber=r,this.originalEndLineNumber=n,this.modifiedStartLineNumber=l,this.modifiedEndLineNumber=t,this.charChanges=d}static createFromDiffResult(r,n,l,t,d,h,p){let w,b,g,f,y;if(n.originalLength===0?(w=l.getStartLineNumber(n.originalStart)-1,b=0):(w=l.getStartLineNumber(n.originalStart),b=l.getEndLineNumber(n.originalStart+n.originalLength-1)),n.modifiedLength===0?(g=t.getStartLineNumber(n.modifiedStart)-1,f=0):(g=t.getStartLineNumber(n.modifiedStart),f=t.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),h&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&d()){const I=l.createCharSequence(r,n.originalStart,n.originalStart+n.originalLength-1),N=t.createCharSequence(r,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);let D=L(I,N,d,!0).changes;p&&(D=i(D)),y=[];for(let T=0,P=D.length;T<P;T++)y.push(v.createFromDiffChange(D[T],I,N))}return new C(w,b,g,f,y)}}class s{constructor(r,n,l){this.shouldComputeCharChanges=l.shouldComputeCharChanges,this.shouldPostProcessCharChanges=l.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=l.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=l.shouldMakePrettyDiff,this.originalLines=r,this.modifiedLines=n,this.original=new S(r),this.modified=new S(n),this.continueLineDiff=c(l.maxComputationTime),this.continueCharDiff=c(l.maxComputationTime===0?0:Math.min(l.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const r=L(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),n=r.changes,l=r.quitEarly;if(this.shouldIgnoreTrimWhitespace){const p=[];for(let w=0,b=n.length;w<b;w++)p.push(C.createFromDiffResult(this.shouldIgnoreTrimWhitespace,n[w],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:l,changes:p}}const t=[];let d=0,h=0;for(let p=-1,w=n.length;p<w;p++){const b=p+1<w?n[p+1]:null,g=b?b.originalStart:this.originalLines.length,f=b?b.modifiedStart:this.modifiedLines.length;for(;d<g&&h<f;){const y=this.originalLines[d],I=this.modifiedLines[h];if(y!==I){{let N=o(y,1),D=o(I,1);for(;N>1&&D>1;){const T=y.charCodeAt(N-2),P=I.charCodeAt(D-2);if(T!==P)break;N--,D--}(N>1||D>1)&&this._pushTrimWhitespaceCharChange(t,d+1,1,N,h+1,1,D)}{let N=a(y,1),D=a(I,1);const T=y.length+1,P=I.length+1;for(;N<T&&D<P;){const R=y.charCodeAt(N-1),O=y.charCodeAt(D-1);if(R!==O)break;N++,D++}(N<T||D<P)&&this._pushTrimWhitespaceCharChange(t,d+1,N,T,h+1,D,P)}}d++,h++}b&&(t.push(C.createFromDiffResult(this.shouldIgnoreTrimWhitespace,b,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),d+=b.originalLength,h+=b.modifiedLength)}return{quitEarly:l,changes:t}}_pushTrimWhitespaceCharChange(r,n,l,t,d,h,p){if(this._mergeTrimWhitespaceCharChange(r,n,l,t,d,h,p))return;let w;this.shouldComputeCharChanges&&(w=[new v(n,l,n,t,d,h,d,p)]),r.push(new C(n,n,d,d,w))}_mergeTrimWhitespaceCharChange(r,n,l,t,d,h,p){const w=r.length;if(w===0)return!1;const b=r[w-1];return b.originalEndLineNumber===0||b.modifiedEndLineNumber===0?!1:b.originalEndLineNumber+1===n&&b.modifiedEndLineNumber+1===d?(b.originalEndLineNumber=n,b.modifiedEndLineNumber=d,this.shouldComputeCharChanges&&b.charChanges&&b.charChanges.push(new v(n,l,n,t,d,h,d,p)),!0):!1}}e.DiffComputer=s;function o(u,r){const n=k.firstNonWhitespaceIndex(u);return n===-1?r:n+1}function a(u,r){const n=k.lastNonWhitespaceIndex(u);return n===-1?r:n+2}function c(u){if(u===0)return()=>!0;const r=Date.now();return()=>Date.now()-r<u}}),define(ie[219],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class _{constructor(M,L,S,m,v,i){this.id=M,this.label=L,this.alias=S,this._precondition=m,this._run=v,this._contextKeyService=i}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=_}),define(ie[109],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=e.isThemeColor=void 0;function _(k){return k&&typeof k.id=="string"}e.isThemeColor=_,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ie[110],ne([0,1,109]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function k(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===_.EditorType.ICodeEditor:!1}e.isCodeEditor=k;function M(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===_.EditorType.IDiffEditor:!1}e.isDiffEditor=M;function L(S){return k(S)?S:M(S)?S.getModifiedEditor():null}e.getCodeEditor=L}),define(ie[52],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var _;(function(v){v[v.Left=1]="Left",v[v.Center=2]="Center",v[v.Right=4]="Right",v[v.Full=7]="Full"})(_=e.OverviewRulerLane||(e.OverviewRulerLane={}));var k;(function(v){v[v.Inline=1]="Inline",v[v.Gutter=2]="Gutter"})(k=e.MinimapPosition||(e.MinimapPosition={}));class M{constructor(i){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,i.tabSize|0),this.indentSize=i.tabSize|0,this.insertSpaces=Boolean(i.insertSpaces),this.defaultEOL=i.defaultEOL|0,this.trimAutoWhitespace=Boolean(i.trimAutoWhitespace)}equals(i){return this.tabSize===i.tabSize&&this.indentSize===i.indentSize&&this.insertSpaces===i.insertSpaces&&this.defaultEOL===i.defaultEOL&&this.trimAutoWhitespace===i.trimAutoWhitespace}createChangeEvent(i){return{tabSize:this.tabSize!==i.tabSize,indentSize:this.indentSize!==i.indentSize,insertSpaces:this.insertSpaces!==i.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==i.trimAutoWhitespace}}}e.TextModelResolvedOptions=M;class L{constructor(i,C){this._findMatchBrand=void 0,this.range=i,this.matches=C}}e.FindMatch=L;class S{constructor(i,C,s,o,a,c){this.identifier=i,this.range=C,this.text=s,this.forceMoveMarkers=o,this.isAutoWhitespaceEdit=a,this._isTracked=c}}e.ValidAnnotatedEditOperation=S;class m{constructor(i,C,s){this.reverseEdits=i,this.changes=C,this.trimAutoWhitespaceLineNumbers=s}}e.ApplyEditsResult=m}),define(ie[379],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class _{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(L,S,m,v,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let C;for(C=0;C<S&&C<v;C++){let n=L.charCodeAt(C),l=m.charCodeAt(C);if(n!==l)break}let s=0,o=0;for(let n=C;n<S;n++)L.charCodeAt(n)===32?s++:o++;let a=0,c=0;for(let n=C;n<v;n++)m.charCodeAt(n)===32?a++:c++;if(s>0&&o>0||a>0&&c>0)return;let u=Math.abs(o-c),r=Math.abs(s-a);if(u===0){i.spacesDiff=r,r>0&&0<=a-1&&a-1<L.length&&a<m.length&&m.charCodeAt(a)!==32&&L.charCodeAt(a-1)===32&&L.charCodeAt(L.length-1)===44&&(i.looksLikeAlignment=!0);return}if(r%u==0){i.spacesDiff=r/u;return}}function M(L,S,m){const v=Math.min(L.getLineCount(),1e4);let i=0,C=0,s="",o=0;const a=[2,4,6,8,3,5,7],c=8;let u=[0,0,0,0,0,0,0,0,0],r=new _;for(let t=1;t<=v;t++){let d=L.getLineLength(t),h=L.getLineContent(t);const p=d<=65536;let w=!1,b=0,g=0,f=0;for(let I=0,N=d;I<N;I++){let D=p?h.charCodeAt(I):L.getLineCharCode(t,I);if(D===9)f++;else if(D===32)g++;else{w=!0,b=I;break}}if(!w||(f>0?i++:g>1&&C++,k(s,o,h,b,r),r.looksLikeAlignment&&!(m&&S===r.spacesDiff)))continue;let y=r.spacesDiff;y<=c&&u[y]++,s=h,o=b}let n=m;i!==C&&(n=i<C);let l=S;if(n){let t=n?0:.1*v;a.forEach(d=>{let h=u[d];h>t&&(t=h,l=d)}),l===4&&u[4]>0&&u[2]>0&&u[2]>=u[4]/2&&(l=2)}return{insertSpaces:n,tabSize:l}}e.guessIndentation=M}),define(ie[380],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function _(O){return(O.metadata&1)>>>0}e.getNodeColor=_;function k(O,A){O.metadata=O.metadata&254|A<<0}function M(O){return(O.metadata&2)>>>1==1}function L(O,A){O.metadata=O.metadata&253|(A?1:0)<<1}function S(O){return(O.metadata&4)>>>2==1}function m(O,A){O.metadata=O.metadata&251|(A?1:0)<<2}function v(O){return(O.metadata&24)>>>3}function i(O,A){O.metadata=O.metadata&231|A<<3}function C(O){return(O.metadata&32)>>>5==1}function s(O,A){O.metadata=O.metadata&223|(A?1:0)<<5}class o{constructor(A,F,E){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=F,this.end=E,this.delta=0,this.maxEnd=E,this.id=A,this.ownerId=0,this.options=null,m(this,!1),i(this,1),s(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=E,this.range=null,L(this,!1)}reset(A,F,E,W){this.start=F,this.end=E,this.maxEnd=E,this.cachedVersionId=A,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=E,this.range=W}setOptions(A){this.options=A;let F=this.options.className;m(this,F==="squiggly-error"||F==="squiggly-warning"||F==="squiggly-info"),i(this,this.options.stickiness),s(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(A,F,E){this.cachedVersionId!==E&&(this.range=null),this.cachedVersionId=E,this.cachedAbsoluteStart=A,this.cachedAbsoluteEnd=F}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=o,e.SENTINEL=new o(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class a{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(A,F,E,W,V){return this.root===e.SENTINEL?[]:p(this,A,F,E,W,V)}search(A,F,E){return this.root===e.SENTINEL?[]:h(this,A,F,E)}collectNodesFromOwner(A){return t(this,A)}collectNodesPostOrder(){return d(this)}insert(A){w(this,A),this._normalizeDeltaIfNecessary()}delete(A){g(this,A),this._normalizeDeltaIfNecessary()}resolveNode(A,F){const E=A;let W=0;for(;A!==this.root;)A===A.parent.right&&(W+=A.parent.delta),A=A.parent;const V=E.start+W,U=E.end+W;E.setCachedOffsets(V,U,F)}acceptReplace(A,F,E,W){const V=n(this,A,A+F);for(let U=0,q=V.length;U<q;U++){const j=V[U];g(this,j)}this._normalizeDeltaIfNecessary(),l(this,A,A+F,E),this._normalizeDeltaIfNecessary();for(let U=0,q=V.length;U<q;U++){const j=V[U];j.start=j.cachedAbsoluteStart,j.end=j.cachedAbsoluteEnd,r(j,A,A+F,E,W),j.maxEnd=j.end,w(this,j)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,c(this))}}e.IntervalTree=a;function c(O){let A=O.root,F=0;for(;A!==e.SENTINEL;){if(A.left!==e.SENTINEL&&!M(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!M(A.right)){F+=A.delta,A=A.right;continue}A.start=F+A.start,A.end=F+A.end,A.delta=0,T(A),L(A,!0),L(A.left,!1),L(A.right,!1),A===A.parent.right&&(F-=A.parent.delta),A=A.parent}L(O.root,!1)}function u(O,A,F,E){return O<F?!0:O>F||E===1?!1:E===2?!0:A}function r(O,A,F,E,W){const V=v(O),U=V===0||V===2,q=V===1||V===2,j=F-A,te=E,ae=Math.min(j,te),de=O.start;let ue=!1;const X=O.end;let B=!1;A<=de&&X<=F&&C(O)&&(O.start=A,ue=!0,O.end=A,B=!0);{const H=W?1:j>0?2:0;!ue&&u(de,U,A,H)&&(ue=!0),!B&&u(X,q,A,H)&&(B=!0)}if(ae>0&&!W){const H=j>te?2:0;!ue&&u(de,U,A+ae,H)&&(ue=!0),!B&&u(X,q,A+ae,H)&&(B=!0)}{const H=W?1:0;!ue&&u(de,U,F,H)&&(O.start=A+te,ue=!0),!B&&u(X,q,F,H)&&(O.end=A+te,B=!0)}const Z=te-j;ue||(O.start=Math.max(0,de+Z)),B||(O.end=Math.max(0,X+Z)),O.start>O.end&&(O.end=O.start)}e.nodeAcceptEdit=r;function n(O,A,F){let E=O.root,W=0,V=0,U=0,q=0,j=[],te=0;for(;E!==e.SENTINEL;){if(M(E)){L(E.left,!1),L(E.right,!1),E===E.parent.right&&(W-=E.parent.delta),E=E.parent;continue}if(!M(E.left)){if(V=W+E.maxEnd,V<A){L(E,!0);continue}if(E.left!==e.SENTINEL){E=E.left;continue}}if(U=W+E.start,U>F){L(E,!0);continue}if(q=W+E.end,q>=A&&(E.setCachedOffsets(U,q,0),j[te++]=E),L(E,!0),E.right!==e.SENTINEL&&!M(E.right)){W+=E.delta,E=E.right;continue}}return L(O.root,!1),j}function l(O,A,F,E){let W=O.root,V=0,U=0,q=0;const j=E-(F-A);for(;W!==e.SENTINEL;){if(M(W)){L(W.left,!1),L(W.right,!1),W===W.parent.right&&(V-=W.parent.delta),T(W),W=W.parent;continue}if(!M(W.left)){if(U=V+W.maxEnd,U<A){L(W,!0);continue}if(W.left!==e.SENTINEL){W=W.left;continue}}if(q=V+W.start,q>F){W.start+=j,W.end+=j,W.delta+=j,(W.delta<-1073741824||W.delta>1073741824)&&(O.requestNormalizeDelta=!0),L(W,!0);continue}if(L(W,!0),W.right!==e.SENTINEL&&!M(W.right)){V+=W.delta,W=W.right;continue}}L(O.root,!1)}function t(O,A){let F=O.root,E=[],W=0;for(;F!==e.SENTINEL;){if(M(F)){L(F.left,!1),L(F.right,!1),F=F.parent;continue}if(F.left!==e.SENTINEL&&!M(F.left)){F=F.left;continue}if(F.ownerId===A&&(E[W++]=F),L(F,!0),F.right!==e.SENTINEL&&!M(F.right)){F=F.right;continue}}return L(O.root,!1),E}function d(O){let A=O.root,F=[],E=0;for(;A!==e.SENTINEL;){if(M(A)){L(A.left,!1),L(A.right,!1),A=A.parent;continue}if(A.left!==e.SENTINEL&&!M(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!M(A.right)){A=A.right;continue}F[E++]=A,L(A,!0)}return L(O.root,!1),F}function h(O,A,F,E){let W=O.root,V=0,U=0,q=0,j=[],te=0;for(;W!==e.SENTINEL;){if(M(W)){L(W.left,!1),L(W.right,!1),W===W.parent.right&&(V-=W.parent.delta),W=W.parent;continue}if(W.left!==e.SENTINEL&&!M(W.left)){W=W.left;continue}U=V+W.start,q=V+W.end,W.setCachedOffsets(U,q,E);let ae=!0;if(A&&W.ownerId&&W.ownerId!==A&&(ae=!1),F&&S(W)&&(ae=!1),ae&&(j[te++]=W),L(W,!0),W.right!==e.SENTINEL&&!M(W.right)){V+=W.delta,W=W.right;continue}}return L(O.root,!1),j}function p(O,A,F,E,W,V){let U=O.root,q=0,j=0,te=0,ae=0,de=[],ue=0;for(;U!==e.SENTINEL;){if(M(U)){L(U.left,!1),L(U.right,!1),U===U.parent.right&&(q-=U.parent.delta),U=U.parent;continue}if(!M(U.left)){if(j=q+U.maxEnd,j<A){L(U,!0);continue}if(U.left!==e.SENTINEL){U=U.left;continue}}if(te=q+U.start,te>F){L(U,!0);continue}if(ae=q+U.end,ae>=A){U.setCachedOffsets(te,ae,V);let X=!0;E&&U.ownerId&&U.ownerId!==E&&(X=!1),W&&S(U)&&(X=!1),X&&(de[ue++]=U)}if(L(U,!0),U.right!==e.SENTINEL&&!M(U.right)){q+=U.delta,U=U.right;continue}}return L(O.root,!1),de}function w(O,A){if(O.root===e.SENTINEL)return A.parent=e.SENTINEL,A.left=e.SENTINEL,A.right=e.SENTINEL,k(A,0),O.root=A,O.root;b(O,A),P(A.parent);let F=A;for(;F!==O.root&&_(F.parent)===1;)if(F.parent===F.parent.parent.left){const E=F.parent.parent.right;_(E)===1?(k(F.parent,0),k(E,0),k(F.parent.parent,1),F=F.parent.parent):(F===F.parent.right&&(F=F.parent,I(O,F)),k(F.parent,0),k(F.parent.parent,1),N(O,F.parent.parent))}else{const E=F.parent.parent.left;_(E)===1?(k(F.parent,0),k(E,0),k(F.parent.parent,1),F=F.parent.parent):(F===F.parent.left&&(F=F.parent,N(O,F)),k(F.parent,0),k(F.parent.parent,1),I(O,F.parent.parent))}return k(O.root,0),A}function b(O,A){let F=0,E=O.root;const W=A.start,V=A.end;for(;;)if(R(W,V,E.start+F,E.end+F)<0)if(E.left===e.SENTINEL){A.start-=F,A.end-=F,A.maxEnd-=F,E.left=A;break}else E=E.left;else if(E.right===e.SENTINEL){A.start-=F+E.delta,A.end-=F+E.delta,A.maxEnd-=F+E.delta,E.right=A;break}else F+=E.delta,E=E.right;A.parent=E,A.left=e.SENTINEL,A.right=e.SENTINEL,k(A,1)}function g(O,A){let F,E;if(A.left===e.SENTINEL?(F=A.right,E=A,F.delta+=A.delta,(F.delta<-1073741824||F.delta>1073741824)&&(O.requestNormalizeDelta=!0),F.start+=A.delta,F.end+=A.delta):A.right===e.SENTINEL?(F=A.left,E=A):(E=f(A.right),F=E.right,F.start+=E.delta,F.end+=E.delta,F.delta+=E.delta,(F.delta<-1073741824||F.delta>1073741824)&&(O.requestNormalizeDelta=!0),E.start+=A.delta,E.end+=A.delta,E.delta=A.delta,(E.delta<-1073741824||E.delta>1073741824)&&(O.requestNormalizeDelta=!0)),E===O.root){O.root=F,k(F,0),A.detach(),y(),T(F),O.root.parent=e.SENTINEL;return}let W=_(E)===1;if(E===E.parent.left?E.parent.left=F:E.parent.right=F,E===A?F.parent=E.parent:(E.parent===A?F.parent=E:F.parent=E.parent,E.left=A.left,E.right=A.right,E.parent=A.parent,k(E,_(A)),A===O.root?O.root=E:A===A.parent.left?A.parent.left=E:A.parent.right=E,E.left!==e.SENTINEL&&(E.left.parent=E),E.right!==e.SENTINEL&&(E.right.parent=E)),A.detach(),W){P(F.parent),E!==A&&(P(E),P(E.parent)),y();return}P(F),P(F.parent),E!==A&&(P(E),P(E.parent));let V;for(;F!==O.root&&_(F)===0;)F===F.parent.left?(V=F.parent.right,_(V)===1&&(k(V,0),k(F.parent,1),I(O,F.parent),V=F.parent.right),_(V.left)===0&&_(V.right)===0?(k(V,1),F=F.parent):(_(V.right)===0&&(k(V.left,0),k(V,1),N(O,V),V=F.parent.right),k(V,_(F.parent)),k(F.parent,0),k(V.right,0),I(O,F.parent),F=O.root)):(V=F.parent.left,_(V)===1&&(k(V,0),k(F.parent,1),N(O,F.parent),V=F.parent.left),_(V.left)===0&&_(V.right)===0?(k(V,1),F=F.parent):(_(V.left)===0&&(k(V.right,0),k(V,1),I(O,V),V=F.parent.left),k(V,_(F.parent)),k(F.parent,0),k(V.left,0),N(O,F.parent),F=O.root));k(F,0),y()}function f(O){for(;O.left!==e.SENTINEL;)O=O.left;return O}function y(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function I(O,A){const F=A.right;F.delta+=A.delta,(F.delta<-1073741824||F.delta>1073741824)&&(O.requestNormalizeDelta=!0),F.start+=A.delta,F.end+=A.delta,A.right=F.left,F.left!==e.SENTINEL&&(F.left.parent=A),F.parent=A.parent,A.parent===e.SENTINEL?O.root=F:A===A.parent.left?A.parent.left=F:A.parent.right=F,F.left=A,A.parent=F,T(A),T(F)}function N(O,A){const F=A.left;A.delta-=F.delta,(A.delta<-1073741824||A.delta>1073741824)&&(O.requestNormalizeDelta=!0),A.start-=F.delta,A.end-=F.delta,A.left=F.right,F.right!==e.SENTINEL&&(F.right.parent=A),F.parent=A.parent,A.parent===e.SENTINEL?O.root=F:A===A.parent.right?A.parent.right=F:A.parent.left=F,F.right=A,A.parent=F,T(A),T(F)}function D(O){let A=O.end;if(O.left!==e.SENTINEL){const F=O.left.maxEnd;F>A&&(A=F)}if(O.right!==e.SENTINEL){const F=O.right.maxEnd+O.delta;F>A&&(A=F)}return A}function T(O){O.maxEnd=D(O)}e.recomputeMaxEnd=T;function P(O){for(;O!==e.SENTINEL;){const A=D(O);if(O.maxEnd===A)return;O.maxEnd=A,O=O.parent}}function R(O,A,F,E){return O===F?A-E:O-F}e.intervalCompare=R}),define(ie[381],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class _{constructor(u,r){this.piece=u,this.color=r,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let u=this;for(;u.parent!==e.SENTINEL&&u.parent.left!==u;)u=u.parent;return u.parent===e.SENTINEL?e.SENTINEL:u.parent}prev(){if(this.left!==e.SENTINEL)return M(this.left);let u=this;for(;u.parent!==e.SENTINEL&&u.parent.right!==u;)u=u.parent;return u.parent===e.SENTINEL?e.SENTINEL:u.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=_,e.SENTINEL=new _(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(c){for(;c.left!==e.SENTINEL;)c=c.left;return c}e.leftest=k;function M(c){for(;c.right!==e.SENTINEL;)c=c.right;return c}e.righttest=M;function L(c){return c===e.SENTINEL?0:c.size_left+c.piece.length+L(c.right)}e.calculateSize=L;function S(c){return c===e.SENTINEL?0:c.lf_left+c.piece.lineFeedCnt+S(c.right)}e.calculateLF=S;function m(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=m;function v(c,u){let r=u.right;r.size_left+=u.size_left+(u.piece?u.piece.length:0),r.lf_left+=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),u.right=r.left,r.left!==e.SENTINEL&&(r.left.parent=u),r.parent=u.parent,u.parent===e.SENTINEL?c.root=r:u.parent.left===u?u.parent.left=r:u.parent.right=r,r.left=u,u.parent=r}e.leftRotate=v;function i(c,u){let r=u.left;u.left=r.right,r.right!==e.SENTINEL&&(r.right.parent=u),r.parent=u.parent,u.size_left-=r.size_left+(r.piece?r.piece.length:0),u.lf_left-=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),u.parent===e.SENTINEL?c.root=r:u===u.parent.right?u.parent.right=r:u.parent.left=r,r.right=u,u.parent=r}e.rightRotate=i;function C(c,u){let r,n;if(u.left===e.SENTINEL?(n=u,r=n.right):u.right===e.SENTINEL?(n=u,r=n.left):(n=k(u.right),r=n.right),n===c.root){c.root=r,r.color=0,u.detach(),m(),c.root.parent=e.SENTINEL;return}let l=n.color===1;if(n===n.parent.left?n.parent.left=r:n.parent.right=r,n===u?(r.parent=n.parent,a(c,r)):(n.parent===u?r.parent=n:r.parent=n.parent,a(c,r),n.left=u.left,n.right=u.right,n.parent=u.parent,n.color=u.color,u===c.root?c.root=n:u===u.parent.left?u.parent.left=n:u.parent.right=n,n.left!==e.SENTINEL&&(n.left.parent=n),n.right!==e.SENTINEL&&(n.right.parent=n),n.size_left=u.size_left,n.lf_left=u.lf_left,a(c,n)),u.detach(),r.parent.left===r){let d=L(r),h=S(r);if(d!==r.parent.size_left||h!==r.parent.lf_left){let p=d-r.parent.size_left,w=h-r.parent.lf_left;r.parent.size_left=d,r.parent.lf_left=h,o(c,r.parent,p,w)}}if(a(c,r.parent),l){m();return}let t;for(;r!==c.root&&r.color===0;)r===r.parent.left?(t=r.parent.right,t.color===1&&(t.color=0,r.parent.color=1,v(c,r.parent),t=r.parent.right),t.left.color===0&&t.right.color===0?(t.color=1,r=r.parent):(t.right.color===0&&(t.left.color=0,t.color=1,i(c,t),t=r.parent.right),t.color=r.parent.color,r.parent.color=0,t.right.color=0,v(c,r.parent),r=c.root)):(t=r.parent.left,t.color===1&&(t.color=0,r.parent.color=1,i(c,r.parent),t=r.parent.left),t.left.color===0&&t.right.color===0?(t.color=1,r=r.parent):(t.left.color===0&&(t.right.color=0,t.color=1,v(c,t),t=r.parent.left),t.color=r.parent.color,r.parent.color=0,t.left.color=0,i(c,r.parent),r=c.root));r.color=0,m()}e.rbDelete=C;function s(c,u){for(a(c,u);u!==c.root&&u.parent.color===1;)if(u.parent===u.parent.parent.left){const r=u.parent.parent.right;r.color===1?(u.parent.color=0,r.color=0,u.parent.parent.color=1,u=u.parent.parent):(u===u.parent.right&&(u=u.parent,v(c,u)),u.parent.color=0,u.parent.parent.color=1,i(c,u.parent.parent))}else{const r=u.parent.parent.left;r.color===1?(u.parent.color=0,r.color=0,u.parent.parent.color=1,u=u.parent.parent):(u===u.parent.left&&(u=u.parent,i(c,u)),u.parent.color=0,u.parent.parent.color=1,v(c,u.parent.parent))}c.root.color=0}e.fixInsert=s;function o(c,u,r,n){for(;u!==c.root&&u!==e.SENTINEL;)u.parent.left===u&&(u.parent.size_left+=r,u.parent.lf_left+=n),u=u.parent}e.updateTreeMetadata=o;function a(c,u){let r=0,n=0;if(u!==c.root){if(r===0){for(;u!==c.root&&u===u.parent.right;)u=u.parent;if(u===c.root)return;u=u.parent,r=L(u.left)-u.size_left,n=S(u.left)-u.lf_left,u.size_left+=r,u.lf_left+=n}for(;u!==c.root&&(r!==0||n!==0);)u.parent.left===u&&(u.parent.size_left+=r,u.parent.lf_left+=n),u=u.parent}}e.recomputeTreeMetadata=a}),define(ie[220],ne([0,1,102,82]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function M(v){return v.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class L{constructor(i,C,s,o){this.oldPosition=i,this.oldText=C,this.newPosition=s,this.newText=o}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${M(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${M(this.oldText)}")`:`(replace@${this.oldPosition} "${M(this.oldText)}" with "${M(this.newText)}")`}static _writeStringSize(i){return 4+2*i.length}static _writeString(i,C,s){const o=C.length;_.writeUInt32BE(i,o,s),s+=4;for(let a=0;a<o;a++)_.writeUInt16LE(i,C.charCodeAt(a),s),s+=2;return s}static _readString(i,C){const s=_.readUInt32BE(i,C);return C+=4,k.decodeUTF16LE(i,C,s)}writeSize(){return 4+4+L._writeStringSize(this.oldText)+L._writeStringSize(this.newText)}write(i,C){return _.writeUInt32BE(i,this.oldPosition,C),C+=4,_.writeUInt32BE(i,this.newPosition,C),C+=4,C=L._writeString(i,this.oldText,C),C=L._writeString(i,this.newText,C),C}static read(i,C,s){const o=_.readUInt32BE(i,C);C+=4;const a=_.readUInt32BE(i,C);C+=4;const c=L._readString(i,C);C+=L._writeStringSize(c);const u=L._readString(i,C);return C+=L._writeStringSize(u),s.push(new L(o,c,a,u)),C}}e.TextChange=L;function S(v,i){return v===null||v.length===0?i:new m(v,i).compress()}e.compressConsecutiveTextChanges=S;class m{constructor(i,C){this._prevEdits=i,this._currEdits=C,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let i=0,C=0,s=this._getPrev(i),o=this._getCurr(C);for(;i<this._prevLen||C<this._currLen;){if(s===null){this._acceptCurr(o),o=this._getCurr(++C);continue}if(o===null){this._acceptPrev(s),s=this._getPrev(++i);continue}if(o.oldEnd<=s.newPosition){this._acceptCurr(o),o=this._getCurr(++C);continue}if(s.newEnd<=o.oldPosition){this._acceptPrev(s),s=this._getPrev(++i);continue}if(o.oldPosition<s.newPosition){const[n,l]=m._splitCurr(o,s.newPosition-o.oldPosition);this._acceptCurr(n),o=l;continue}if(s.newPosition<o.oldPosition){const[n,l]=m._splitPrev(s,o.oldPosition-s.newPosition);this._acceptPrev(n),s=l;continue}let u,r;if(o.oldEnd===s.newEnd)u=s,r=o,s=this._getPrev(++i),o=this._getCurr(++C);else if(o.oldEnd<s.newEnd){const[n,l]=m._splitPrev(s,o.oldLength);u=n,r=o,s=l,o=this._getCurr(++C)}else{const[n,l]=m._splitCurr(o,s.newLength);u=s,r=n,s=this._getPrev(++i),o=l}this._result[this._resultLen++]=new L(u.oldPosition,u.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=u.newLength-u.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const a=m._merge(this._result);return m._removeNoOps(a)}_acceptCurr(i){this._result[this._resultLen++]=m._rebaseCurr(this._prevDeltaOffset,i),this._currDeltaOffset+=i.newLength-i.oldLength}_getCurr(i){return i<this._currLen?this._currEdits[i]:null}_acceptPrev(i){this._result[this._resultLen++]=m._rebasePrev(this._currDeltaOffset,i),this._prevDeltaOffset+=i.newLength-i.oldLength}_getPrev(i){return i<this._prevLen?this._prevEdits[i]:null}static _rebaseCurr(i,C){return new L(C.oldPosition-i,C.oldText,C.newPosition,C.newText)}static _rebasePrev(i,C){return new L(C.oldPosition,C.oldText,C.newPosition+i,C.newText)}static _splitPrev(i,C){const s=i.newText.substr(0,C),o=i.newText.substr(C);return[new L(i.oldPosition,i.oldText,i.newPosition,s),new L(i.oldEnd,"",i.newPosition+C,o)]}static _splitCurr(i,C){const s=i.oldText.substr(0,C),o=i.oldText.substr(C);return[new L(i.oldPosition,s,i.newPosition,i.newText),new L(i.oldPosition+C,o,i.newEnd,"")]}static _merge(i){if(i.length===0)return i;let C=[],s=0,o=i[0];for(let a=1;a<i.length;a++){const c=i[a];o.oldEnd===c.oldPosition?o=new L(o.oldPosition,o.oldText+c.oldText,o.newPosition,o.newText+c.newText):(C[s++]=o,o=c)}return C[s++]=o,C}static _removeNoOps(i){if(i.length===0)return i;let C=[],s=0;for(let o=0;o<i.length;o++){const a=i[o];a.oldText!==a.newText&&(C[s++]=a)}return C}}}),define(ie[111],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class _{constructor(){this.changeType=1}}e.ModelRawFlush=_;class k{constructor(o,a,c,u,r){this.ownerId=o,this.lineNumber=a,this.column=c,this.order=u,this.text=r}static applyInjectedText(o,a){if(!a||a.length===0)return o;let c="",u=0;for(const r of a)c+=o.substring(u,r.column-1),u=r.column-1,c+=r.text;return c+=o.substring(u),c}static fromDecorations(o){const a=[];for(const c of o)c.options.before&&c.options.before.content.length>0&&a.push(new k(c.ownerId,c.range.startLineNumber,c.range.startColumn,0,c.options.before.content)),c.options.after&&c.options.after.content.length>0&&a.push(new k(c.ownerId,c.range.endLineNumber,c.range.endColumn,1,c.options.after.content));return a.sort((c,u)=>c.lineNumber===u.lineNumber?c.column===u.column?c.order-u.order:c.column-u.column:c.lineNumber-u.lineNumber),a}}e.LineInjectedText=k;class M{constructor(o,a,c){this.changeType=2,this.lineNumber=o,this.detail=a,this.injectedText=c}}e.ModelRawLineChanged=M;class L{constructor(o,a){this.changeType=3,this.fromLineNumber=o,this.toLineNumber=a}}e.ModelRawLinesDeleted=L;class S{constructor(o,a,c,u){this.changeType=4,this.injectedTexts=u,this.fromLineNumber=o,this.toLineNumber=a,this.detail=c}}e.ModelRawLinesInserted=S;class m{constructor(){this.changeType=5}}e.ModelRawEOLChanged=m;class v{constructor(o,a,c,u){this.changes=o,this.versionId=a,this.isUndoing=c,this.isRedoing=u,this.resultingSelection=null}containsEvent(o){for(let a=0,c=this.changes.length;a<c;a++)if(this.changes[a].changeType===o)return!0;return!1}static merge(o,a){const c=[].concat(o.changes).concat(a.changes),u=a.versionId,r=o.isUndoing||a.isUndoing,n=o.isRedoing||a.isRedoing;return new v(c,u,r,n)}}e.ModelRawContentChangedEvent=v;class i{constructor(o){this.changes=o}}e.ModelInjectedTextChangedEvent=i;class C{constructor(o,a){this.rawContentChangedEvent=o,this.contentChangedEvent=a}merge(o){const a=v.merge(this.rawContentChangedEvent,o.rawContentChangedEvent),c=C._mergeChangeEvents(this.contentChangedEvent,o.contentChangedEvent);return new C(a,c)}static _mergeChangeEvents(o,a){const c=[].concat(o.changes).concat(a.changes),u=a.eol,r=a.versionId,n=o.isUndoing||a.isUndoing,l=o.isRedoing||a.isRedoing,t=o.isFlush||a.isFlush;return{changes:c,eol:u,versionId:r,isUndoing:n,isRedoing:l,isFlush:t}}}e.InternalModelContentChangeEvent=C}),define(ie[171],ne([0,1,8,108,13,3,52]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const m=999;class v{constructor(t,d,h,p){this.searchString=t,this.isRegex=d,this.matchCase=h,this.wordSeparators=p}parseSearchRequest(){if(this.searchString==="")return null;let t;this.isRegex?t=i(this.searchString):t=this.searchString.indexOf(`
`)>=0;let d=null;try{d=_.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0,unicode:!0})}catch(p){return null}if(!d)return null;let h=!this.isRegex&&!t;return h&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(h=this.matchCase),new C(d,this.wordSeparators?k.getMapForWordSeparators(this.wordSeparators):null,h?this.searchString:null)}}e.SearchParams=v;function i(l){if(!l||l.length===0)return!1;for(let t=0,d=l.length;t<d;t++)if(l.charCodeAt(t)===92){if(t++,t>=d)break;const p=l.charCodeAt(t);if(p===110||p===114||p===87||p===119)return!0}return!1}e.isMultilineRegexSource=i;class C{constructor(t,d,h){this.regex=t,this.wordSeparators=d,this.simpleSearch=h}}e.SearchData=C;function s(l,t,d){if(!d)return new S.FindMatch(l,null);let h=[];for(let p=0,w=t.length;p<w;p++)h[p]=t[p];return new S.FindMatch(l,h)}e.createFindMatch=s;class o{constructor(t){let d=[],h=0;for(let p=0,w=t.length;p<w;p++)t.charCodeAt(p)===10&&(d[h++]=p);this._lineFeedsOffsets=d}findLineFeedCountBeforeOffset(t){const d=this._lineFeedsOffsets;let h=0,p=d.length-1;if(p===-1||t<=d[0])return 0;for(;h<p;){const w=h+((p-h)/2>>0);d[w]>=t?p=w-1:d[w+1]>=t?(h=w,p=w):h=w+1}return h+1}}class a{static findMatches(t,d,h,p,w){const b=d.parseSearchRequest();return b?b.regex.multiline?this._doFindMatchesMultiline(t,h,new n(b.wordSeparators,b.regex),p,w):this._doFindMatchesLineByLine(t,h,b,p,w):[]}static _getMultilineMatchRange(t,d,h,p,w,b){let g,f=0;p?(f=p.findLineFeedCountBeforeOffset(w),g=d+w+f):g=d+w;let y;if(p){let T=p.findLineFeedCountBeforeOffset(w+b.length)-f;y=g+b.length+T}else y=g+b.length;const I=t.getPositionAt(g),N=t.getPositionAt(y);return new L.Range(I.lineNumber,I.column,N.lineNumber,N.column)}static _doFindMatchesMultiline(t,d,h,p,w){const b=t.getOffsetAt(d.getStartPosition()),g=t.getValueInRange(d,1),f=t.getEOL()===`\r
`?new o(g):null,y=[];let I=0,N;for(h.reset(0);N=h.next(g);)if(y[I++]=s(this._getMultilineMatchRange(t,b,g,f,N.index,N[0]),N,p),I>=w)return y;return y}static _doFindMatchesLineByLine(t,d,h,p,w){const b=[];let g=0;if(d.startLineNumber===d.endLineNumber){const y=t.getLineContent(d.startLineNumber).substring(d.startColumn-1,d.endColumn-1);return g=this._findMatchesInLine(h,y,d.startLineNumber,d.startColumn-1,g,b,p,w),b}const f=t.getLineContent(d.startLineNumber).substring(d.startColumn-1);g=this._findMatchesInLine(h,f,d.startLineNumber,d.startColumn-1,g,b,p,w);for(let y=d.startLineNumber+1;y<d.endLineNumber&&g<w;y++)g=this._findMatchesInLine(h,t.getLineContent(y),y,0,g,b,p,w);if(g<w){const y=t.getLineContent(d.endLineNumber).substring(0,d.endColumn-1);g=this._findMatchesInLine(h,y,d.endLineNumber,0,g,b,p,w)}return b}static _findMatchesInLine(t,d,h,p,w,b,g,f){const y=t.wordSeparators;if(!g&&t.simpleSearch){const D=t.simpleSearch,T=D.length,P=d.length;let R=-T;for(;(R=d.indexOf(D,R+T))!==-1;)if((!y||r(y,d,P,R,T))&&(b[w++]=new S.FindMatch(new L.Range(h,R+1+p,h,R+1+T+p),null),w>=f))return w;return w}const I=new n(t.wordSeparators,t.regex);let N;I.reset(0);do if(N=I.next(d),N&&(b[w++]=s(new L.Range(h,N.index+1+p,h,N.index+1+N[0].length+p),N,g),w>=f))return w;while(N);return w}static findNextMatch(t,d,h,p){const w=d.parseSearchRequest();if(!w)return null;const b=new n(w.wordSeparators,w.regex);return w.regex.multiline?this._doFindNextMatchMultiline(t,h,b,p):this._doFindNextMatchLineByLine(t,h,b,p)}static _doFindNextMatchMultiline(t,d,h,p){const w=new M.Position(d.lineNumber,1),b=t.getOffsetAt(w),g=t.getLineCount(),f=t.getValueInRange(new L.Range(w.lineNumber,w.column,g,t.getLineMaxColumn(g)),1),y=t.getEOL()===`\r
`?new o(f):null;h.reset(d.column-1);let I=h.next(f);return I?s(this._getMultilineMatchRange(t,b,f,y,I.index,I[0]),I,p):d.lineNumber!==1||d.column!==1?this._doFindNextMatchMultiline(t,new M.Position(1,1),h,p):null}static _doFindNextMatchLineByLine(t,d,h,p){const w=t.getLineCount(),b=d.lineNumber,g=t.getLineContent(b),f=this._findFirstMatchInLine(h,g,b,d.column,p);if(f)return f;for(let y=1;y<=w;y++){const I=(b+y-1)%w,N=t.getLineContent(I+1),D=this._findFirstMatchInLine(h,N,I+1,1,p);if(D)return D}return null}static _findFirstMatchInLine(t,d,h,p,w){t.reset(p-1);const b=t.next(d);return b?s(new L.Range(h,b.index+1,h,b.index+1+b[0].length),b,w):null}static findPreviousMatch(t,d,h,p){const w=d.parseSearchRequest();if(!w)return null;const b=new n(w.wordSeparators,w.regex);return w.regex.multiline?this._doFindPreviousMatchMultiline(t,h,b,p):this._doFindPreviousMatchLineByLine(t,h,b,p)}static _doFindPreviousMatchMultiline(t,d,h,p){const w=this._doFindMatchesMultiline(t,new L.Range(1,1,d.lineNumber,d.column),h,p,10*m);if(w.length>0)return w[w.length-1];const b=t.getLineCount();return d.lineNumber!==b||d.column!==t.getLineMaxColumn(b)?this._doFindPreviousMatchMultiline(t,new M.Position(b,t.getLineMaxColumn(b)),h,p):null}static _doFindPreviousMatchLineByLine(t,d,h,p){const w=t.getLineCount(),b=d.lineNumber,g=t.getLineContent(b).substring(0,d.column-1),f=this._findLastMatchInLine(h,g,b,p);if(f)return f;for(let y=1;y<=w;y++){const I=(w+b-y-1)%w,N=t.getLineContent(I+1),D=this._findLastMatchInLine(h,N,I+1,p);if(D)return D}return null}static _findLastMatchInLine(t,d,h,p){let w=null,b;for(t.reset(0);b=t.next(d);)w=s(new L.Range(h,b.index+1,h,b.index+1+b[0].length),b,p);return w}}e.TextModelSearch=a;function c(l,t,d,h,p){if(h===0)return!0;const w=t.charCodeAt(h-1);if(l.get(w)!==0||w===13||w===10)return!0;if(p>0){const b=t.charCodeAt(h);if(l.get(b)!==0)return!0}return!1}function u(l,t,d,h,p){if(h+p===d)return!0;const w=t.charCodeAt(h+p);if(l.get(w)!==0||w===13||w===10)return!0;if(p>0){const b=t.charCodeAt(h+p-1);if(l.get(b)!==0)return!0}return!1}function r(l,t,d,h,p){return c(l,t,d,h,p)&&u(l,t,d,h,p)}e.isValidMatch=r;class n{constructor(t,d){this._wordSeparators=t,this._searchRegex=d,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(t){const d=t.length;let h;do{if(this._prevMatchStartIndex+this._prevMatchLength===d||(h=this._searchRegex.exec(t),!h))return null;const p=h.index,w=h[0].length;if(p===this._prevMatchStartIndex&&w===this._prevMatchLength){if(w===0){_.getNextCodePoint(t,d,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=p,this._prevMatchLength=w,!this._wordSeparators||r(this._wordSeparators,t,d,p,w))return h}while(h);return null}}e.Searcher=n}),define(ie[221],ne([0,1,13,3,52,381,171]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function m(r){let n;return r[r.length-1]<65536?n=new Uint16Array(r.length):n=new Uint32Array(r.length),n.set(r,0),n}e.createUintArray=m;class v{constructor(n,l,t,d,h){this.lineStarts=n,this.cr=l,this.lf=t,this.crlf=d,this.isBasicASCII=h}}e.LineStarts=v;function i(r,n=!0){let l=[0],t=1;for(let d=0,h=r.length;d<h;d++){const p=r.charCodeAt(d);p===13?d+1<h&&r.charCodeAt(d+1)===10?(l[t++]=d+2,d++):l[t++]=d+1:p===10&&(l[t++]=d+1)}return n?m(l):l}e.createLineStartsFast=i;function C(r,n){r.length=0,r[0]=0;let l=1,t=0,d=0,h=0,p=!0;for(let b=0,g=n.length;b<g;b++){const f=n.charCodeAt(b);f===13?b+1<g&&n.charCodeAt(b+1)===10?(h++,r[l++]=b+2,b++):(t++,r[l++]=b+1):f===10?(d++,r[l++]=b+1):p&&f!==9&&(f<32||f>126)&&(p=!1)}const w=new v(m(r),t,d,h,p);return r.length=0,w}e.createLineStarts=C;class s{constructor(n,l,t,d,h){this.bufferIndex=n,this.start=l,this.end=t,this.lineFeedCnt=d,this.length=h}}e.Piece=s;class o{constructor(n,l){this.buffer=n,this.lineStarts=l}}e.StringBuffer=o;class a{constructor(n,l){this._pieces=[],this._tree=n,this._BOM=l,this._index=0,n.root!==L.SENTINEL&&n.iterate(n.root,t=>(t!==L.SENTINEL&&this._pieces.push(t.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class c{constructor(n){this._limit=n,this._cache=[]}get(n){for(let l=this._cache.length-1;l>=0;l--){let t=this._cache[l];if(t.nodeStartOffset<=n&&t.nodeStartOffset+t.node.piece.length>=n)return t}return null}get2(n){for(let l=this._cache.length-1;l>=0;l--){let t=this._cache[l];if(t.nodeStartLineNumber&&t.nodeStartLineNumber<n&&t.nodeStartLineNumber+t.node.piece.lineFeedCnt>=n)return t}return null}set(n){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(n)}validate(n){let l=!1,t=this._cache;for(let d=0;d<t.length;d++){let h=t[d];if(h.node.parent===null||h.nodeStartOffset>=n){t[d]=null,l=!0;continue}}if(l){let d=[];for(const h of t)h!==null&&d.push(h);this._cache=d}}}class u{constructor(n,l,t){this.create(n,l,t)}create(n,l,t){this._buffers=[new o("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=L.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=l,this._EOLLength=l.length,this._EOLNormalized=t;let d=null;for(let h=0,p=n.length;h<p;h++)if(n[h].buffer.length>0){n[h].lineStarts||(n[h].lineStarts=i(n[h].buffer));let w=new s(h+1,{line:0,column:0},{line:n[h].lineStarts.length-1,column:n[h].buffer.length-n[h].lineStarts[n[h].lineStarts.length-1]},n[h].lineStarts.length-1,n[h].buffer.length);this._buffers.push(n[h]),d=this.rbInsertRight(d,w)}this._searchCache=new c(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(n){let l=e.AverageBufferSize,t=l-Math.floor(l/3),d=t*2,h="",p=0,w=[];if(this.iterate(this.root,b=>{let g=this.getNodeContent(b),f=g.length;if(p<=t||p+f<d)return h+=g,p+=f,!0;let y=h.replace(/\r\n|\r|\n/g,n);return w.push(new o(y,i(y))),h=g,p=f,!0}),p>0){let b=h.replace(/\r\n|\r|\n/g,n);w.push(new o(b,i(b)))}this.create(w,n,!0)}getEOL(){return this._EOL}setEOL(n){this._EOL=n,this._EOLLength=this._EOL.length,this.normalizeEOL(n)}createSnapshot(n){return new a(this,n)}getOffsetAt(n,l){let t=0,d=this.root;for(;d!==L.SENTINEL;)if(d.left!==L.SENTINEL&&d.lf_left+1>=n)d=d.left;else{if(d.lf_left+d.piece.lineFeedCnt+1>=n)return t+=d.size_left,t+=this.getAccumulatedValue(d,n-d.lf_left-2)+l-1;n-=d.lf_left+d.piece.lineFeedCnt,t+=d.size_left+d.piece.length,d=d.right}return t}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let l=this.root,t=0,d=n;for(;l!==L.SENTINEL;)if(l.size_left!==0&&l.size_left>=n)l=l.left;else if(l.size_left+l.piece.length>=n){let h=this.getIndexOf(l,n-l.size_left);if(t+=l.lf_left+h.index,h.index===0){let p=this.getOffsetAt(t+1,1),w=d-p;return new _.Position(t+1,w+1)}return new _.Position(t+1,h.remainder+1)}else if(n-=l.size_left+l.piece.length,t+=l.lf_left+l.piece.lineFeedCnt,l.right===L.SENTINEL){let h=this.getOffsetAt(t+1,1),p=d-n-h;return new _.Position(t+1,p+1)}else l=l.right;return new _.Position(1,1)}getValueInRange(n,l){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";let t=this.nodeAt2(n.startLineNumber,n.startColumn),d=this.nodeAt2(n.endLineNumber,n.endColumn),h=this.getValueInRange2(t,d);return l?l!==this._EOL||!this._EOLNormalized?h.replace(/\r\n|\r|\n/g,l):l===this.getEOL()&&this._EOLNormalized?h:h.replace(/\r\n|\r|\n/g,l):h}getValueInRange2(n,l){if(n.node===l.node){let w=n.node,b=this._buffers[w.piece.bufferIndex].buffer,g=this.offsetInBuffer(w.piece.bufferIndex,w.piece.start);return b.substring(g+n.remainder,g+l.remainder)}let t=n.node,d=this._buffers[t.piece.bufferIndex].buffer,h=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),p=d.substring(h+n.remainder,h+t.piece.length);for(t=t.next();t!==L.SENTINEL;){let w=this._buffers[t.piece.bufferIndex].buffer,b=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(t===l.node){p+=w.substring(b,b+l.remainder);break}else p+=w.substr(b,t.piece.length);t=t.next()}return p}getLinesContent(){let n=[],l=0,t="",d=!1;return this.iterate(this.root,h=>{if(h===L.SENTINEL)return!0;const p=h.piece;let w=p.length;if(w===0)return!0;const b=this._buffers[p.bufferIndex].buffer,g=this._buffers[p.bufferIndex].lineStarts,f=p.start.line,y=p.end.line;let I=g[f]+p.start.column;if(d&&(b.charCodeAt(I)===10&&(I++,w--),n[l++]=t,t="",d=!1,w===0))return!0;if(f===y)return!this._EOLNormalized&&b.charCodeAt(I+w-1)===13?(d=!0,t+=b.substr(I,w-1)):t+=b.substr(I,w),!0;t+=this._EOLNormalized?b.substring(I,Math.max(I,g[f+1]-this._EOLLength)):b.substring(I,g[f+1]).replace(/(\r\n|\r|\n)$/,""),n[l++]=t;for(let N=f+1;N<y;N++)t=this._EOLNormalized?b.substring(g[N],g[N+1]-this._EOLLength):b.substring(g[N],g[N+1]).replace(/(\r\n|\r|\n)$/,""),n[l++]=t;return!this._EOLNormalized&&b.charCodeAt(g[y]+p.end.column-1)===13?(d=!0,p.end.column===0?l--:t=b.substr(g[y],p.end.column-1)):t=b.substr(g[y],p.end.column),!0}),d&&(n[l++]=t,t=""),n[l++]=t,n}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(n){return this._lastVisitedLine.lineNumber===n?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=n,n===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(n):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(n,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(n){if(n.remainder===n.node.piece.length){let l=n.node.next();if(!l)return 0;let t=this._buffers[l.piece.bufferIndex],d=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);return t.buffer.charCodeAt(d)}else{let l=this._buffers[n.node.piece.bufferIndex],d=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return l.buffer.charCodeAt(d)}}getLineCharCode(n,l){let t=this.nodeAt2(n,l+1);return this._getCharCode(t)}getLineLength(n){if(n===this.getLineCount()){let l=this.getOffsetAt(n,1);return this.getLength()-l}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this._EOLLength}findMatchesInNode(n,l,t,d,h,p,w,b,g,f,y){let I=this._buffers[n.piece.bufferIndex],N=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),D=this.offsetInBuffer(n.piece.bufferIndex,h),T=this.offsetInBuffer(n.piece.bufferIndex,p),P,R={line:0,column:0},O,A;l._wordSeparators?(O=I.buffer.substring(D,T),A=F=>F+D,l.reset(0)):(O=I.buffer,A=F=>F,l.reset(D));do if(P=l.next(O),P){if(A(P.index)>=T)return f;this.positionInBuffer(n,A(P.index)-N,R);let F=this.getLineFeedCnt(n.piece.bufferIndex,h,R),E=R.line===h.line?R.column-h.column+d:R.column+1,W=E+P[0].length;if(y[f++]=S.createFindMatch(new k.Range(t+F,E,t+F,W),P,b),A(P.index)+P[0].length>=T||f>=g)return f}while(P);return f}findMatchesLineByLine(n,l,t,d){const h=[];let p=0;const w=new S.Searcher(l.wordSeparators,l.regex);let b=this.nodeAt2(n.startLineNumber,n.startColumn);if(b===null)return[];let g=this.nodeAt2(n.endLineNumber,n.endColumn);if(g===null)return[];let f=this.positionInBuffer(b.node,b.remainder),y=this.positionInBuffer(g.node,g.remainder);if(b.node===g.node)return this.findMatchesInNode(b.node,w,n.startLineNumber,n.startColumn,f,y,l,t,d,p,h),h;let I=n.startLineNumber,N=b.node;for(;N!==g.node;){let T=this.getLineFeedCnt(N.piece.bufferIndex,f,N.piece.end);if(T>=1){let R=this._buffers[N.piece.bufferIndex].lineStarts,O=this.offsetInBuffer(N.piece.bufferIndex,N.piece.start),A=R[f.line+T],F=I===n.startLineNumber?n.startColumn:1;if(p=this.findMatchesInNode(N,w,I,F,f,this.positionInBuffer(N,A-O),l,t,d,p,h),p>=d)return h;I+=T}let P=I===n.startLineNumber?n.startColumn-1:0;if(I===n.endLineNumber){const R=this.getLineContent(I).substring(P,n.endColumn-1);return p=this._findMatchesInLine(l,w,R,n.endLineNumber,P,p,h,t,d),h}if(p=this._findMatchesInLine(l,w,this.getLineContent(I).substr(P),I,P,p,h,t,d),p>=d)return h;I++,b=this.nodeAt2(I,1),N=b.node,f=this.positionInBuffer(b.node,b.remainder)}if(I===n.endLineNumber){let T=I===n.startLineNumber?n.startColumn-1:0;const P=this.getLineContent(I).substring(T,n.endColumn-1);return p=this._findMatchesInLine(l,w,P,n.endLineNumber,T,p,h,t,d),h}let D=I===n.startLineNumber?n.startColumn:1;return p=this.findMatchesInNode(g.node,w,I,D,f,y,l,t,d,p,h),h}_findMatchesInLine(n,l,t,d,h,p,w,b,g){const f=n.wordSeparators;if(!b&&n.simpleSearch){const I=n.simpleSearch,N=I.length,D=t.length;let T=-N;for(;(T=t.indexOf(I,T+N))!==-1;)if((!f||S.isValidMatch(f,t,D,T,N))&&(w[p++]=new M.FindMatch(new k.Range(d,T+1+h,d,T+1+N+h),null),p>=g))return p;return p}let y;l.reset(0);do if(y=l.next(t),y&&(w[p++]=S.createFindMatch(new k.Range(d,y.index+1+h,d,y.index+1+y[0].length+h),y,b),p>=g))return p;while(y);return p}insert(n,l,t=!1){if(this._EOLNormalized=this._EOLNormalized&&t,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==L.SENTINEL){let{node:d,remainder:h,nodeStartOffset:p}=this.nodeAt(n),w=d.piece,b=w.bufferIndex,g=this.positionInBuffer(d,h);if(d.piece.bufferIndex===0&&w.end.line===this._lastChangeBufferPos.line&&w.end.column===this._lastChangeBufferPos.column&&p+w.length===n&&l.length<e.AverageBufferSize){this.appendToNode(d,l),this.computeBufferMetadata();return}if(p===n)this.insertContentToNodeLeft(l,d),this._searchCache.validate(n);else if(p+d.piece.length>n){let f=[],y=new s(w.bufferIndex,g,w.end,this.getLineFeedCnt(w.bufferIndex,g,w.end),this.offsetInBuffer(b,w.end)-this.offsetInBuffer(b,g));if(this.shouldCheckCRLF()&&this.endWithCR(l)&&this.nodeCharCodeAt(d,h)===10){let T={line:y.start.line+1,column:0};y=new s(y.bufferIndex,T,y.end,this.getLineFeedCnt(y.bufferIndex,T,y.end),y.length-1),l+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(l))if(this.nodeCharCodeAt(d,h-1)===13){let T=this.positionInBuffer(d,h-1);this.deleteNodeTail(d,T),l="\r"+l,d.piece.length===0&&f.push(d)}else this.deleteNodeTail(d,g);else this.deleteNodeTail(d,g);let I=this.createNewPieces(l);y.length>0&&this.rbInsertRight(d,y);let N=d;for(let D=0;D<I.length;D++)N=this.rbInsertRight(N,I[D]);this.deleteNodes(f)}else this.insertContentToNodeRight(l,d)}else{let d=this.createNewPieces(l),h=this.rbInsertLeft(null,d[0]);for(let p=1;p<d.length;p++)h=this.rbInsertRight(h,d[p])}this.computeBufferMetadata()}delete(n,l){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",l<=0||this.root===L.SENTINEL)return;let t=this.nodeAt(n),d=this.nodeAt(n+l),h=t.node,p=d.node;if(h===p){let I=this.positionInBuffer(h,t.remainder),N=this.positionInBuffer(h,d.remainder);if(t.nodeStartOffset===n){if(l===h.piece.length){let D=h.next();L.rbDelete(this,h),this.validateCRLFWithPrevNode(D),this.computeBufferMetadata();return}this.deleteNodeHead(h,N),this._searchCache.validate(n),this.validateCRLFWithPrevNode(h),this.computeBufferMetadata();return}if(t.nodeStartOffset+h.piece.length===n+l){this.deleteNodeTail(h,I),this.validateCRLFWithNextNode(h),this.computeBufferMetadata();return}this.shrinkNode(h,I,N),this.computeBufferMetadata();return}let w=[],b=this.positionInBuffer(h,t.remainder);this.deleteNodeTail(h,b),this._searchCache.validate(n),h.piece.length===0&&w.push(h);let g=this.positionInBuffer(p,d.remainder);this.deleteNodeHead(p,g),p.piece.length===0&&w.push(p);let f=h.next();for(let I=f;I!==L.SENTINEL&&I!==p;I=I.next())w.push(I);let y=h.piece.length===0?h.prev():h;this.deleteNodes(w),this.validateCRLFWithNextNode(y),this.computeBufferMetadata()}insertContentToNodeLeft(n,l){let t=[];if(this.shouldCheckCRLF()&&this.endWithCR(n)&&this.startWithLF(l)){let p=l.piece,w={line:p.start.line+1,column:0},b=new s(p.bufferIndex,w,p.end,this.getLineFeedCnt(p.bufferIndex,w,p.end),p.length-1);l.piece=b,n+=`
`,L.updateTreeMetadata(this,l,-1,-1),l.piece.length===0&&t.push(l)}let d=this.createNewPieces(n),h=this.rbInsertLeft(l,d[d.length-1]);for(let p=d.length-2;p>=0;p--)h=this.rbInsertLeft(h,d[p]);this.validateCRLFWithPrevNode(h),this.deleteNodes(t)}insertContentToNodeRight(n,l){this.adjustCarriageReturnFromNext(n,l)&&(n+=`
`);let t=this.createNewPieces(n),d=this.rbInsertRight(l,t[0]),h=d;for(let p=1;p<t.length;p++)h=this.rbInsertRight(h,t[p]);this.validateCRLFWithPrevNode(d)}positionInBuffer(n,l,t){let d=n.piece,h=n.piece.bufferIndex,p=this._buffers[h].lineStarts,b=p[d.start.line]+d.start.column+l,g=d.start.line,f=d.end.line,y=0,I=0,N=0;for(;g<=f&&(y=g+(f-g)/2|0,N=p[y],y!==f);)if(I=p[y+1],b<N)f=y-1;else if(b>=I)g=y+1;else break;return t?(t.line=y,t.column=b-N,null):{line:y,column:b-N}}getLineFeedCnt(n,l,t){if(t.column===0)return t.line-l.line;let d=this._buffers[n].lineStarts;if(t.line===d.length-1)return t.line-l.line;let h=d[t.line+1],p=d[t.line]+t.column;if(h>p+1)return t.line-l.line;let w=p-1;return this._buffers[n].buffer.charCodeAt(w)===13?t.line-l.line+1:t.line-l.line}offsetInBuffer(n,l){return this._buffers[n].lineStarts[l.line]+l.column}deleteNodes(n){for(let l=0;l<n.length;l++)L.rbDelete(this,n[l])}createNewPieces(n){if(n.length>e.AverageBufferSize){let f=[];for(;n.length>e.AverageBufferSize;){const I=n.charCodeAt(e.AverageBufferSize-1);let N;I===13||I>=55296&&I<=56319?(N=n.substring(0,e.AverageBufferSize-1),n=n.substring(e.AverageBufferSize-1)):(N=n.substring(0,e.AverageBufferSize),n=n.substring(e.AverageBufferSize));let D=i(N);f.push(new s(this._buffers.length,{line:0,column:0},{line:D.length-1,column:N.length-D[D.length-1]},D.length-1,N.length)),this._buffers.push(new o(N,D))}let y=i(n);return f.push(new s(this._buffers.length,{line:0,column:0},{line:y.length-1,column:n.length-y[y.length-1]},y.length-1,n.length)),this._buffers.push(new o(n,y)),f}let l=this._buffers[0].buffer.length;const t=i(n,!1);let d=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===l&&l!==0&&this.startWithLF(n)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},d=this._lastChangeBufferPos;for(let f=0;f<t.length;f++)t[f]+=l+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+="_"+n,l+=1}else{if(l!==0)for(let f=0;f<t.length;f++)t[f]+=l;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+=n}const h=this._buffers[0].buffer.length;let p=this._buffers[0].lineStarts.length-1,w=h-this._buffers[0].lineStarts[p],b={line:p,column:w},g=new s(0,d,b,this.getLineFeedCnt(0,d,b),h-l);return this._lastChangeBufferPos=b,[g]}getLineRawContent(n,l=0){let t=this.root,d="",h=this._searchCache.get2(n);if(h){t=h.node;let p=this.getAccumulatedValue(t,n-h.nodeStartLineNumber-1),w=this._buffers[t.piece.bufferIndex].buffer,b=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(h.nodeStartLineNumber+t.piece.lineFeedCnt===n)d=w.substring(b+p,b+t.piece.length);else{let g=this.getAccumulatedValue(t,n-h.nodeStartLineNumber);return w.substring(b+p,b+g-l)}}else{let p=0;const w=n;for(;t!==L.SENTINEL;)if(t.left!==L.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let b=this.getAccumulatedValue(t,n-t.lf_left-2),g=this.getAccumulatedValue(t,n-t.lf_left-1),f=this._buffers[t.piece.bufferIndex].buffer,y=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return p+=t.size_left,this._searchCache.set({node:t,nodeStartOffset:p,nodeStartLineNumber:w-(n-1-t.lf_left)}),f.substring(y+b,y+g-l)}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let b=this.getAccumulatedValue(t,n-t.lf_left-2),g=this._buffers[t.piece.bufferIndex].buffer,f=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);d=g.substring(f+b,f+t.piece.length);break}else n-=t.lf_left+t.piece.lineFeedCnt,p+=t.size_left+t.piece.length,t=t.right}for(t=t.next();t!==L.SENTINEL;){let p=this._buffers[t.piece.bufferIndex].buffer;if(t.piece.lineFeedCnt>0){let w=this.getAccumulatedValue(t,0),b=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return d+=p.substring(b,b+w-l),d}else{let w=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);d+=p.substr(w,t.piece.length)}t=t.next()}return d}computeBufferMetadata(){let n=this.root,l=1,t=0;for(;n!==L.SENTINEL;)l+=n.lf_left+n.piece.lineFeedCnt,t+=n.size_left+n.piece.length,n=n.right;this._lineCnt=l,this._length=t,this._searchCache.validate(this._length)}getIndexOf(n,l){let t=n.piece,d=this.positionInBuffer(n,l),h=d.line-t.start.line;if(this.offsetInBuffer(t.bufferIndex,t.end)-this.offsetInBuffer(t.bufferIndex,t.start)===l){let p=this.getLineFeedCnt(n.piece.bufferIndex,t.start,d);if(p!==h)return{index:p,remainder:0}}return{index:h,remainder:d.column}}getAccumulatedValue(n,l){if(l<0)return 0;let t=n.piece,d=this._buffers[t.bufferIndex].lineStarts,h=t.start.line+l+1;return h>t.end.line?d[t.end.line]+t.end.column-d[t.start.line]-t.start.column:d[h]-d[t.start.line]-t.start.column}deleteNodeTail(n,l){const t=n.piece,d=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.end),p=l,w=this.offsetInBuffer(t.bufferIndex,p),b=this.getLineFeedCnt(t.bufferIndex,t.start,p),g=b-d,f=w-h,y=t.length+f;n.piece=new s(t.bufferIndex,t.start,p,b,y),L.updateTreeMetadata(this,n,f,g)}deleteNodeHead(n,l){const t=n.piece,d=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.start),p=l,w=this.getLineFeedCnt(t.bufferIndex,p,t.end),b=this.offsetInBuffer(t.bufferIndex,p),g=w-d,f=h-b,y=t.length+f;n.piece=new s(t.bufferIndex,p,t.end,w,y),L.updateTreeMetadata(this,n,f,g)}shrinkNode(n,l,t){const d=n.piece,h=d.start,p=d.end,w=d.length,b=d.lineFeedCnt,g=l,f=this.getLineFeedCnt(d.bufferIndex,d.start,g),y=this.offsetInBuffer(d.bufferIndex,l)-this.offsetInBuffer(d.bufferIndex,h);n.piece=new s(d.bufferIndex,d.start,g,f,y),L.updateTreeMetadata(this,n,y-w,f-b);let I=new s(d.bufferIndex,t,p,this.getLineFeedCnt(d.bufferIndex,t,p),this.offsetInBuffer(d.bufferIndex,p)-this.offsetInBuffer(d.bufferIndex,t)),N=this.rbInsertRight(n,I);this.validateCRLFWithPrevNode(N)}appendToNode(n,l){this.adjustCarriageReturnFromNext(l,n)&&(l+=`
`);const t=this.shouldCheckCRLF()&&this.startWithLF(l)&&this.endWithCR(n),d=this._buffers[0].buffer.length;this._buffers[0].buffer+=l;const h=i(l,!1);for(let N=0;N<h.length;N++)h[N]+=d;if(t){let N=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:d-N}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(h.slice(1));const p=this._buffers[0].lineStarts.length-1,w=this._buffers[0].buffer.length-this._buffers[0].lineStarts[p],b={line:p,column:w},g=n.piece.length+l.length,f=n.piece.lineFeedCnt,y=this.getLineFeedCnt(0,n.piece.start,b),I=y-f;n.piece=new s(n.piece.bufferIndex,n.piece.start,b,y,g),this._lastChangeBufferPos=b,L.updateTreeMetadata(this,n,l.length,I)}nodeAt(n){let l=this.root,t=this._searchCache.get(n);if(t)return{node:t.node,nodeStartOffset:t.nodeStartOffset,remainder:n-t.nodeStartOffset};let d=0;for(;l!==L.SENTINEL;)if(l.size_left>n)l=l.left;else if(l.size_left+l.piece.length>=n){d+=l.size_left;let h={node:l,remainder:n-l.size_left,nodeStartOffset:d};return this._searchCache.set(h),h}else n-=l.size_left+l.piece.length,d+=l.size_left+l.piece.length,l=l.right;return null}nodeAt2(n,l){let t=this.root,d=0;for(;t!==L.SENTINEL;)if(t.left!==L.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2),p=this.getAccumulatedValue(t,n-t.lf_left-1);return d+=t.size_left,{node:t,remainder:Math.min(h+l-1,p),nodeStartOffset:d}}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2);if(h+l-1<=t.piece.length)return{node:t,remainder:h+l-1,nodeStartOffset:d};l-=t.piece.length-h;break}else n-=t.lf_left+t.piece.lineFeedCnt,d+=t.size_left+t.piece.length,t=t.right;for(t=t.next();t!==L.SENTINEL;){if(t.piece.lineFeedCnt>0){let h=this.getAccumulatedValue(t,0),p=this.offsetOfNode(t);return{node:t,remainder:Math.min(l-1,h),nodeStartOffset:p}}else if(t.piece.length>=l-1){let h=this.offsetOfNode(t);return{node:t,remainder:l-1,nodeStartOffset:h}}else l-=t.piece.length;t=t.next()}return null}nodeCharCodeAt(n,l){if(n.piece.lineFeedCnt<1)return-1;let t=this._buffers[n.piece.bufferIndex],d=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start)+l;return t.buffer.charCodeAt(d)}offsetOfNode(n){if(!n)return 0;let l=n.size_left;for(;n!==this.root;)n.parent.right===n&&(l+=n.parent.size_left+n.parent.piece.length),n=n.parent;return l}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===L.SENTINEL||n.piece.lineFeedCnt===0)return!1;let l=n.piece,t=this._buffers[l.bufferIndex].lineStarts,d=l.start.line,h=t[d]+l.start.column;return d===t.length-1||t[d+1]>h+1?!1:this._buffers[l.bufferIndex].buffer.charCodeAt(h)===10}endWithCR(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===L.SENTINEL||n.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(n,n.piece.length-1)===13}validateCRLFWithPrevNode(n){if(this.shouldCheckCRLF()&&this.startWithLF(n)){let l=n.prev();this.endWithCR(l)&&this.fixCRLF(l,n)}}validateCRLFWithNextNode(n){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let l=n.next();this.startWithLF(l)&&this.fixCRLF(n,l)}}fixCRLF(n,l){let t=[],d=this._buffers[n.piece.bufferIndex].lineStarts,h;n.piece.end.column===0?h={line:n.piece.end.line-1,column:d[n.piece.end.line]-d[n.piece.end.line-1]-1}:h={line:n.piece.end.line,column:n.piece.end.column-1};const p=n.piece.length-1,w=n.piece.lineFeedCnt-1;n.piece=new s(n.piece.bufferIndex,n.piece.start,h,w,p),L.updateTreeMetadata(this,n,-1,-1),n.piece.length===0&&t.push(n);let b={line:l.piece.start.line+1,column:0};const g=l.piece.length-1,f=this.getLineFeedCnt(l.piece.bufferIndex,b,l.piece.end);l.piece=new s(l.piece.bufferIndex,b,l.piece.end,f,g),L.updateTreeMetadata(this,l,-1,-1),l.piece.length===0&&t.push(l);let y=this.createNewPieces(`\r
`);this.rbInsertRight(n,y[0]);for(let I=0;I<t.length;I++)L.rbDelete(this,t[I])}adjustCarriageReturnFromNext(n,l){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let t=l.next();if(this.startWithLF(t)){if(n+=`
`,t.piece.length===1)L.rbDelete(this,t);else{const d=t.piece,h={line:d.start.line+1,column:0},p=d.length-1,w=this.getLineFeedCnt(d.bufferIndex,h,d.end);t.piece=new s(d.bufferIndex,h,d.end,w,p),L.updateTreeMetadata(this,t,-1,-1)}return!0}}return!1}iterate(n,l){if(n===L.SENTINEL)return l(L.SENTINEL);let t=this.iterate(n.left,l);return t&&l(n)&&this.iterate(n.right,l)}getNodeContent(n){if(n===L.SENTINEL)return"";let l=this._buffers[n.piece.bufferIndex],t,d=n.piece,h=this.offsetInBuffer(d.bufferIndex,d.start),p=this.offsetInBuffer(d.bufferIndex,d.end);return t=l.buffer.substring(h,p),t}getPieceContent(n){let l=this._buffers[n.bufferIndex],t=this.offsetInBuffer(n.bufferIndex,n.start),d=this.offsetInBuffer(n.bufferIndex,n.end);return l.buffer.substring(t,d)}rbInsertRight(n,l){let t=new L.TreeNode(l,1);if(t.left=L.SENTINEL,t.right=L.SENTINEL,t.parent=L.SENTINEL,t.size_left=0,t.lf_left=0,this.root===L.SENTINEL)this.root=t,t.color=0;else if(n.right===L.SENTINEL)n.right=t,t.parent=n;else{let h=L.leftest(n.right);h.left=t,t.parent=h}return L.fixInsert(this,t),t}rbInsertLeft(n,l){let t=new L.TreeNode(l,1);if(t.left=L.SENTINEL,t.right=L.SENTINEL,t.parent=L.SENTINEL,t.size_left=0,t.lf_left=0,this.root===L.SENTINEL)this.root=t,t.color=0;else if(n.left===L.SENTINEL)n.left=t,t.parent=n;else{let d=L.righttest(n.left);d.right=t,t.parent=d}return L.fixInsert(this,t),t}}e.PieceTreeBase=u}),define(ie[135],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function _(m=""){let v="(-?\\d*\\.\\d\\w*)|([^";for(const i of e.USUAL_WORD_SEPARATORS)m.indexOf(i)>=0||(v+="\\"+i);return v+="\\s]+)",new RegExp(v,"g")}e.DEFAULT_WORD_REGEXP=_();function k(m){let v=e.DEFAULT_WORD_REGEXP;if(m&&m instanceof RegExp)if(m.global)v=m;else{let i="g";m.ignoreCase&&(i+="i"),m.multiline&&(i+="m"),m.unicode&&(i+="u"),v=new RegExp(m.source,i)}return v.lastIndex=0,v}e.ensureValidWordDefinition=k;const M={maxLen:1e3,windowSize:15,timeBudget:150};function L(m,v,i,C,s=M){if(i.length>s.maxLen){let r=m-s.maxLen/2;return r<0?r=0:C+=r,i=i.substring(r,m+s.maxLen/2),L(m,v,i,C,s)}const o=Date.now(),a=m-1-C;let c=-1,u=null;for(let r=1;!(Date.now()-o>=s.timeBudget);r++){const n=a-s.windowSize*r;v.lastIndex=Math.max(0,n);const l=S(v,i,a,c);if(!l&&u||(u=l,n<=0))break;c=n}if(u){let r={word:u[0],startColumn:C+1+u.index,endColumn:C+1+u.index+u[0].length};return v.lastIndex=0,r}return null}e.getWordAtText=L;function S(m,v,i,C){let s;for(;s=m.exec(v);){const o=s.index||0;if(o<=i&&m.lastIndex>=i)return s;if(C>0&&o>C)return null}return null}}),define(ie[382],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrankensteinMode=void 0;class _{constructor(M){this._languageIdentifier=M}getId(){return this._languageIdentifier.language}}e.FrankensteinMode=_}),define(ie[112],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var _;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(_=e.IndentAction||(e.IndentAction={}));class k{constructor(m){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=m.open,this.close=m.close,this._standardTokenMask=0,Array.isArray(m.notIn))for(let v=0,i=m.notIn.length;v<i;v++)switch(m.notIn[v]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(m){return(this._standardTokenMask&m)==0}}e.StandardAutoClosingPairConditional=k;class M{constructor(m){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const v of m)L(this.autoClosingPairsOpenByStart,v.open.charAt(0),v),L(this.autoClosingPairsOpenByEnd,v.open.charAt(v.open.length-1),v),L(this.autoClosingPairsCloseByStart,v.close.charAt(0),v),L(this.autoClosingPairsCloseByEnd,v.close.charAt(v.close.length-1),v),v.close.length===1&&v.open.length===1&&L(this.autoClosingPairsCloseSingleChar,v.close,v)}}e.AutoClosingPairs=M;function L(S,m,v){S.has(m)?S.get(m).push(v):S.set(m,[v])}}),define(ie[383],ne([0,1,201,72]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function M(L,S,m,v){if(Array.isArray(L)){let i=0;for(const C of L){const s=M(C,S,m,v);if(s===10)return s;s>i&&(i=s)}return i}else{if(typeof L=="string")return v?L==="*"?5:L===m?10:0:0;if(L){const{language:i,pattern:C,scheme:s,hasAccessToAllModels:o}=L;if(!v&&!o)return 0;let a=0;if(s)if(s===S.scheme)a=10;else if(s==="*")a=5;else return 0;if(i)if(i===m)a=10;else if(i==="*")a=Math.max(a,5);else return 0;if(C){let c;if(typeof C=="string"?c=C:c=Object.assign(Object.assign({},C),{base:k.normalize(C.base)}),c===S.fsPath||_.match(c,S.fsPath))a=10;else return 0}return a}else return 0}}e.score=M}),define(ie[384],ne([0,1,94]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class k{constructor(o,a,c){const u=new Uint8Array(o*a);for(let r=0,n=o*a;r<n;r++)u[r]=c;this._data=u,this.rows=o,this.cols=a}get(o,a){return this._data[o*this.cols+a]}set(o,a,c){this._data[o*this.cols+a]=c}}e.Uint8Matrix=k;class M{constructor(o){let a=0,c=0;for(let r=0,n=o.length;r<n;r++){let[l,t,d]=o[r];t>a&&(a=t),l>c&&(c=l),d>c&&(c=d)}a++,c++;let u=new k(c,a,0);for(let r=0,n=o.length;r<n;r++){let[l,t,d]=o[r];u.set(l,t,d)}this._states=u,this._maxCharCode=a}nextState(o,a){return a<0||a>=this._maxCharCode?0:this._states.get(o,a)}}e.StateMachine=M;let L=null;function S(){return L===null&&(L=new M([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),L}let m=null;function v(){if(m===null){m=new _.CharacterClassifier(0);const s=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let a=0;a<s.length;a++)m.set(s.charCodeAt(a),1);const o=".,;";for(let a=0;a<o.length;a++)m.set(o.charCodeAt(a),2)}return m}class i{static _createLink(o,a,c,u,r){let n=r-1;do{const l=a.charCodeAt(n);if(o.get(l)!==2)break;n--}while(n>u);if(u>0){const l=a.charCodeAt(u-1),t=a.charCodeAt(n);(l===40&&t===41||l===91&&t===93||l===123&&t===125)&&n--}return{range:{startLineNumber:c,startColumn:u+1,endLineNumber:c,endColumn:n+2},url:a.substring(u,n+1)}}static computeLinks(o,a=S()){const c=v();let u=[];for(let r=1,n=o.getLineCount();r<=n;r++){const l=o.getLineContent(r),t=l.length;let d=0,h=0,p=0,w=1,b=!1,g=!1,f=!1,y=!1;for(;d<t;){let I=!1;const N=l.charCodeAt(d);if(w===13){let D;switch(N){case 40:b=!0,D=0;break;case 41:D=b?0:1;break;case 91:f=!0,g=!0,D=0;break;case 93:f=!1,D=g?0:1;break;case 123:y=!0,D=0;break;case 125:D=y?0:1;break;case 39:D=p===34||p===96?0:1;break;case 34:D=p===39||p===96?0:1;break;case 96:D=p===39||p===34?0:1;break;case 42:D=p===42?1:0;break;case 124:D=p===124?1:0;break;case 32:D=f?0:1;break;default:D=c.get(N)}D===1&&(u.push(i._createLink(c,l,r,h,d)),I=!0)}else if(w===12){let D;N===91?(g=!0,D=0):D=c.get(N),D===1?I=!0:w=13}else w=a.nextState(w,N),w===0&&(I=!0);I&&(w=1,b=!1,g=!1,y=!1,h=d+1,p=N),d++}w===13&&u.push(i._createLink(c,l,r,h,t))}return u}}e.LinkComputer=i;function C(s){return!s||typeof s.getLineCount!="function"||typeof s.getLineContent!="function"?[]:i.computeLinks(s)}e.computeLinks=C}),define(ie[172],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function _(L,S){let m=L.getCount(),v=L.findTokenIndexAtOffset(S),i=L.getLanguageId(v),C=v;for(;C+1<m&&L.getLanguageId(C+1)===i;)C++;let s=v;for(;s>0&&L.getLanguageId(s-1)===i;)s--;return new k(L,i,s,C+1,L.getStartOffset(s),L.getEndOffset(C))}e.createScopedLineTokens=_;class k{constructor(S,m,v,i,C,s){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=m,this._firstTokenIndex=v,this._lastTokenIndex=i,this.firstCharOffset=C,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=k;function M(L){return(L&7)!=0}e.ignoreBracketsInToken=M}),define(ie[385],ne([0,1,112]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(L){if(L.autoClosingPairs?this._autoClosingPairs=L.autoClosingPairs.map(S=>new _.StandardAutoClosingPairConditional(S)):L.brackets?this._autoClosingPairs=L.brackets.map(S=>new _.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],L.__electricCharacterSupport&&L.__electricCharacterSupport.docComment){const S=L.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new _.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBefore=typeof L.autoCloseBefore=="string"?L.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=L.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(L,S,m){if(S.getTokenCount()===0)return!0;const v=S.findTokenIndexAtOffset(m-2),i=S.getStandardTokenType(v);return L.isOK(i)}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(ie[386],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function _(M){return M.global&&(M.lastIndex=0),!0}class k{constructor(L){this._indentationRules=L}shouldIncrease(L){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&_(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(L))}shouldDecrease(L){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&_(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(L))}shouldIndentNextLine(L){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&_(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(L))}shouldIgnore(L){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&_(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(L))}getIndentMetadata(L){let S=0;return this.shouldIncrease(L)&&(S+=1),this.shouldDecrease(L)&&(S+=2),this.shouldIndentNextLine(L)&&(S+=4),this.shouldIgnore(L)&&(S+=8),S}}e.IndentRulesSupport=k}),define(ie[387],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class _{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(M,L,S,m,v){if(M&&L){let i=this.doNavigateValueSet(L,v);if(i)return{range:M,value:i}}if(S&&m){let i=this.doNavigateValueSet(m,v);if(i)return{range:S,value:i}}return null}doNavigateValueSet(M,L){let S=this.numberReplace(M,L);return S!==null?S:this.textReplace(M,L)}numberReplace(M,L){let S=Math.pow(10,M.length-(M.lastIndexOf(".")+1)),m=Number(M),v=parseFloat(M);return!isNaN(m)&&!isNaN(v)&&m===v?m===0&&!L?null:(m=Math.floor(m*S),m+=L?S:-S,String(m/S)):null}textReplace(M,L){return this.valueSetsReplace(this._defaultValueSet,M,L)}valueSetsReplace(M,L,S){let m=null;for(let v=0,i=M.length;m===null&&v<i;v++)m=this.valueSetReplace(M[v],L,S);return m}valueSetReplace(M,L,S){let m=M.indexOf(L);return m>=0?(m+=S?1:-1,m<0?m=M.length-1:m%=M.length,M[m]):null}}e.BasicInplaceReplace=_,_.INSTANCE=new _}),define(ie[388],ne([0,1,12,8,112]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class L{constructor(m){m=m||{},m.brackets=m.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],m.brackets.forEach(v=>{const i=L._createOpenBracketRegExp(v[0]),C=L._createCloseBracketRegExp(v[1]);i&&C&&this._brackets.push({open:v[0],openRegExp:i,close:v[1],closeRegExp:C})}),this._regExpRules=m.onEnterRules||[]}onEnter(m,v,i,C){if(m>=3)for(let s=0,o=this._regExpRules.length;s<o;s++){let a=this._regExpRules[s];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:C},{reg:a.previousLineText,text:v}].every(u=>u.reg?(u.reg.lastIndex=0,u.reg.test(u.text)):!0))return a.action}if(m>=2&&i.length>0&&C.length>0)for(let s=0,o=this._brackets.length;s<o;s++){let a=this._brackets[s];if(a.openRegExp.test(i)&&a.closeRegExp.test(C))return{indentAction:M.IndentAction.IndentOutdent}}if(m>=2&&i.length>0){for(let s=0,o=this._brackets.length;s<o;s++)if(this._brackets[s].openRegExp.test(i))return{indentAction:M.IndentAction.Indent}}return null}static _createOpenBracketRegExp(m){let v=k.escapeRegExpCharacters(m);return/\B/.test(v.charAt(0))||(v="\\b"+v),v+="\\s*$",L._safeRegExp(v)}static _createCloseBracketRegExp(m){let v=k.escapeRegExpCharacters(m);return/\B/.test(v.charAt(v.length-1))||(v=v+"\\b"),v="^\\s*"+v,L._safeRegExp(v)}static _safeRegExp(m){try{return new RegExp(m)}catch(v){return _.onUnexpectedError(v),null}}}e.OnEnterSupport=L}),define(ie[173],ne([0,1,8,82,3]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class L{constructor(d,h,p,w,b,g){this._richEditBracketBrand=void 0,this.languageIdentifier=d,this.index=h,this.open=p,this.close=w,this.forwardRegex=b,this.reversedRegex=g,this._openSet=L._toSet(this.open),this._closeSet=L._toSet(this.close)}isOpen(d){return this._openSet.has(d)}isClose(d){return this._closeSet.has(d)}static _toSet(d){const h=new Set;for(const p of d)h.add(p);return h}}e.RichEditBracket=L;function S(t){const d=t.length;t=t.map(g=>[g[0].toLowerCase(),g[1].toLowerCase()]);const h=[];for(let g=0;g<d;g++)h[g]=g;const p=(g,f)=>{const[y,I]=g,[N,D]=f;return y===N||y===D||I===N||I===D},w=(g,f)=>{const y=Math.min(g,f),I=Math.max(g,f);for(let N=0;N<d;N++)h[N]===I&&(h[N]=y)};for(let g=0;g<d;g++){const f=t[g];for(let y=g+1;y<d;y++){const I=t[y];p(f,I)&&w(h[g],h[y])}}const b=[];for(let g=0;g<d;g++){let f=[],y=[];for(let I=0;I<d;I++)if(h[I]===g){const[N,D]=t[I];f.push(N),y.push(D)}f.length>0&&b.push({open:f,close:y})}return b}class m{constructor(d,h){this._richEditBracketsBrand=void 0;const p=S(h);this.brackets=p.map((w,b)=>new L(d,b,w.open,w.close,s(w.open,w.close,p,b),o(w.open,w.close,p,b))),this.forwardRegex=a(this.brackets),this.reversedRegex=c(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const w of this.brackets){for(const b of w.open)this.textIsBracket[b]=w,this.textIsOpenBracket[b]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,b.length);for(const b of w.close)this.textIsBracket[b]=w,this.textIsOpenBracket[b]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,b.length)}}}e.RichEditBrackets=m;function v(t,d,h,p){for(let w=0,b=d.length;w<b;w++){if(w===h)continue;const g=d[w];for(const f of g.open)f.indexOf(t)>=0&&p.push(f);for(const f of g.close)f.indexOf(t)>=0&&p.push(f)}}function i(t,d){return t.length-d.length}function C(t){if(t.length<=1)return t;const d=[],h=new Set;for(const p of t)h.has(p)||(d.push(p),h.add(p));return d}function s(t,d,h,p){let w=[];w=w.concat(t),w=w.concat(d);for(let b=0,g=w.length;b<g;b++)v(w[b],h,p,w);return w=C(w),w.sort(i),w.reverse(),r(w)}function o(t,d,h,p){let w=[];w=w.concat(t),w=w.concat(d);for(let b=0,g=w.length;b<g;b++)v(w[b],h,p,w);return w=C(w),w.sort(i),w.reverse(),r(w.map(n))}function a(t){let d=[];for(const h of t){for(const p of h.open)d.push(p);for(const p of h.close)d.push(p)}return d=C(d),r(d)}function c(t){let d=[];for(const h of t){for(const p of h.open)d.push(p);for(const p of h.close)d.push(p)}return d=C(d),r(d.map(n))}function u(t){const d=/^[\w ]+$/.test(t);return t=_.escapeRegExpCharacters(t),d?`\\b${t}\\b`:t}function r(t){let d=`(${t.map(u).join(")|(")})`;return _.createRegExp(d,!0)}const n=function(){function t(p){if(k.hasTextDecoder){const w=new Uint16Array(p.length);let b=0;for(let g=p.length-1;g>=0;g--)w[b++]=p.charCodeAt(g);return k.getPlatformTextDecoder().decode(w)}else{let w=[],b=0;for(let g=p.length-1;g>=0;g--)w[b++]=p.charAt(g);return w.join("")}}let d=null,h=null;return function(w){return d!==w&&(d=w,h=t(d)),h}}();class l{static _findPrevBracketInText(d,h,p,w){let b=p.match(d);if(!b)return null;let g=p.length-(b.index||0),f=b[0].length,y=w+g;return new M.Range(h,y-f+1,h,y+1)}static findPrevBracketInRange(d,h,p,w,b){const f=n(p).substring(p.length-b,p.length-w);return this._findPrevBracketInText(d,h,f,w)}static findNextBracketInText(d,h,p,w){let b=p.match(d);if(!b)return null;let g=b.index||0,f=b[0].length;if(f===0)return null;let y=w+g;return new M.Range(h,y+1,h,y+1+f)}static findNextBracketInRange(d,h,p,w,b){const g=p.substring(w,b);return this.findNextBracketInText(d,h,g,w)}}e.BracketsUtils=l}),define(ie[389],ne([0,1,172,173]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class M{constructor(S){this._richEditBrackets=S}getElectricCharacters(){let S=[];if(this._richEditBrackets)for(const m of this._richEditBrackets.brackets)for(const v of m.close){const i=v.charAt(v.length-1);S.push(i)}return S=S.filter((m,v,i)=>i.indexOf(m)===v),S}onElectricCharacter(S,m,v){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const i=m.findTokenIndexAtOffset(v-1);if(_.ignoreBracketsInToken(m.getStandardTokenType(i)))return null;const C=this._richEditBrackets.reversedRegex,s=m.getLineContent().substring(0,v-1)+S,o=k.BracketsUtils.findPrevBracketInRange(C,1,s,0,s.length);if(!o)return null;const a=s.substring(o.startColumn-1,o.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const u=m.getActualLineContentBefore(o.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:a}:null}}e.BracketElectricCharacterSupport=M}),define(ie[45],ne([0,1,6,2,8,135,112,172,385,389,386,388,173]),function($,e,_,k,M,L,S,m,v,i,C,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.RichEditSupport=void 0;class a{constructor(t,d){this._languageIdentifier=t,this._brackets=null,this._electricCharacter=null,this._conf=d,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new s.OnEnterSupport(this._conf):null,this.comments=a._handleComments(this._conf),this.characterPair=new v.CharacterPairSupport(this._conf),this.wordDefinition=this._conf.wordPattern||L.DEFAULT_WORD_REGEXP,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new C.IndentRulesSupport(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new o.RichEditBrackets(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new i.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(t,d,h,p){return this._onEnterSupport?this._onEnterSupport.onEnter(t,d,h,p):null}static _handleComments(t){let d=t.comments;if(!d)return null;let h={};if(d.lineComment&&(h.lineCommentToken=d.lineComment),d.blockComment){let[p,w]=d.blockComment;h.blockCommentStartToken=p,h.blockCommentEndToken=w}return h}}e.RichEditSupport=a;class c{constructor(t){this.languageIdentifier=t}}e.LanguageConfigurationChangeEvent=c;class u{constructor(t,d,h){this.configuration=t,this.priority=d,this.order=h}static cmp(t,d){return t.priority===d.priority?t.order-d.order:t.priority-d.priority}}class r{constructor(t){this.languageIdentifier=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(t,d){const h=new u(t,d,++this._order);return this._entries.push(h),this._resolved=null,k.toDisposable(()=>{for(let p=0;p<this._entries.length;p++)if(this._entries[p]===h){this._entries.splice(p,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const t=this._resolve();t&&(this._resolved=new a(this.languageIdentifier,t))}return this._resolved}_resolve(){if(this._entries.length===0)return null;this._entries.sort(u.cmp);const t={};for(const d of this._entries){const h=d.configuration;t.comments=h.comments||t.comments,t.brackets=h.brackets||t.brackets,t.wordPattern=h.wordPattern||t.wordPattern,t.indentationRules=h.indentationRules||t.indentationRules,t.onEnterRules=h.onEnterRules||t.onEnterRules,t.autoClosingPairs=h.autoClosingPairs||t.autoClosingPairs,t.surroundingPairs=h.surroundingPairs||t.surroundingPairs,t.autoCloseBefore=h.autoCloseBefore||t.autoCloseBefore,t.folding=h.folding||t.folding,t.__electricCharacterSupport=h.__electricCharacterSupport||t.__electricCharacterSupport}return t}}class n{constructor(){this._entries2=new Map,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event}register(t,d,h=0){let p=this._entries2.get(t.id);p||(p=new r(t),this._entries2.set(t.id,p));const w=p.register(d,h);return this._onDidChange.fire(new c(t)),k.toDisposable(()=>{w.dispose(),this._onDidChange.fire(new c(t))})}_getRichEditSupport(t){const d=this._entries2.get(t);return d?d.getRichEditSupport():null}getIndentationRules(t){const d=this._getRichEditSupport(t);return d&&d.indentationRules||null}_getElectricCharacterSupport(t){let d=this._getRichEditSupport(t);return d&&d.electricCharacter||null}getElectricCharacters(t){let d=this._getElectricCharacterSupport(t);return d?d.getElectricCharacters():[]}onElectricCharacter(t,d,h){let p=m.createScopedLineTokens(d,h-1),w=this._getElectricCharacterSupport(p.languageId);return w?w.onElectricCharacter(t,p,h-p.firstCharOffset):null}getComments(t){let d=this._getRichEditSupport(t);return d&&d.comments||null}_getCharacterPairSupport(t){let d=this._getRichEditSupport(t);return d&&d.characterPair||null}getAutoClosingPairs(t){const d=this._getCharacterPairSupport(t);return new S.AutoClosingPairs(d?d.getAutoClosingPairs():[])}getAutoCloseBeforeSet(t){let d=this._getCharacterPairSupport(t);return d?d.getAutoCloseBeforeSet():v.CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(t){let d=this._getCharacterPairSupport(t);return d?d.getSurroundingPairs():[]}shouldAutoClosePair(t,d,h){const p=m.createScopedLineTokens(d,h-1);return v.CharacterPairSupport.shouldAutoClosePair(t,p,h-p.firstCharOffset)}getWordDefinition(t){let d=this._getRichEditSupport(t);return d?L.ensureValidWordDefinition(d.wordDefinition||null):L.ensureValidWordDefinition(null)}getFoldingRules(t){let d=this._getRichEditSupport(t);return d?d.foldingRules:{}}getIndentRulesSupport(t){let d=this._getRichEditSupport(t);return d&&d.indentRulesSupport||null}getPrecedingValidLine(t,d,h){let p=t.getLanguageIdAtPosition(d,0);if(d>1){let w,b=-1;for(w=d-1;w>=1;w--){if(t.getLanguageIdAtPosition(w,0)!==p)return b;let g=t.getLineContent(w);if(h.shouldIgnore(g)||/^\s+$/.test(g)||g===""){b=w;continue}return w}}return-1}getInheritIndentForLine(t,d,h,p=!0){if(t<4)return null;const w=this.getIndentRulesSupport(d.getLanguageIdentifier().id);if(!w)return null;if(h<=1)return{indentation:"",action:null};const b=this.getPrecedingValidLine(d,h,w);if(b<0)return null;if(b<1)return{indentation:"",action:null};const g=d.getLineContent(b);if(w.shouldIncrease(g)||w.shouldIndentNextLine(g))return{indentation:M.getLeadingWhitespace(g),action:S.IndentAction.Indent,line:b};if(w.shouldDecrease(g))return{indentation:M.getLeadingWhitespace(g),action:null,line:b};{if(b===1)return{indentation:M.getLeadingWhitespace(d.getLineContent(b)),action:null,line:b};const f=b-1,y=w.getIndentMetadata(d.getLineContent(f));if(!(y&(1|2))&&y&4){let I=0;for(let N=f-1;N>0;N--)if(!w.shouldIndentNextLine(d.getLineContent(N))){I=N;break}return{indentation:M.getLeadingWhitespace(d.getLineContent(I+1)),action:null,line:I+1}}if(p)return{indentation:M.getLeadingWhitespace(d.getLineContent(b)),action:null,line:b};for(let I=b;I>0;I--){const N=d.getLineContent(I);if(w.shouldIncrease(N))return{indentation:M.getLeadingWhitespace(N),action:S.IndentAction.Indent,line:I};if(w.shouldIndentNextLine(N)){let D=0;for(let T=I-1;T>0;T--)if(!w.shouldIndentNextLine(d.getLineContent(I))){D=T;break}return{indentation:M.getLeadingWhitespace(d.getLineContent(D+1)),action:null,line:D+1}}else if(w.shouldDecrease(N))return{indentation:M.getLeadingWhitespace(N),action:null,line:I}}return{indentation:M.getLeadingWhitespace(d.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(t,d,h,p,w){if(t<4)return null;const b=this._getRichEditSupport(h);if(!b)return null;const g=this.getIndentRulesSupport(h);if(!g)return null;const f=this.getInheritIndentForLine(t,d,p),y=d.getLineContent(p);if(f){const I=f.line;if(I!==void 0){const N=b.onEnter(t,"",d.getLineContent(I),"");if(N){let D=M.getLeadingWhitespace(d.getLineContent(I));return N.removeText&&(D=D.substring(0,D.length-N.removeText)),N.indentAction===S.IndentAction.Indent||N.indentAction===S.IndentAction.IndentOutdent?D=w.shiftIndent(D):N.indentAction===S.IndentAction.Outdent&&(D=w.unshiftIndent(D)),g.shouldDecrease(y)&&(D=w.unshiftIndent(D)),N.appendText&&(D+=N.appendText),M.getLeadingWhitespace(D)}}return g.shouldDecrease(y)?f.action===S.IndentAction.Indent?f.indentation:w.unshiftIndent(f.indentation):f.action===S.IndentAction.Indent?w.shiftIndent(f.indentation):f.indentation}return null}getIndentForEnter(t,d,h,p){if(t<4)return null;d.forceTokenization(h.startLineNumber);const w=d.getLineTokens(h.startLineNumber),b=m.createScopedLineTokens(w,h.startColumn-1),g=b.getLineContent();let f=!1,y;b.firstCharOffset>0&&w.getLanguageId(0)!==b.languageId?(f=!0,y=g.substr(0,h.startColumn-1-b.firstCharOffset)):y=w.getLineContent().substring(0,h.startColumn-1);let I;h.isEmpty()?I=g.substr(h.startColumn-1-b.firstCharOffset):I=this.getScopedLineTokens(d,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-b.firstCharOffset);const N=this.getIndentRulesSupport(b.languageId);if(!N)return null;const D=y,T=M.getLeadingWhitespace(y),P={getLineTokens:F=>d.getLineTokens(F),getLanguageIdentifier:()=>d.getLanguageIdentifier(),getLanguageIdAtPosition:(F,E)=>d.getLanguageIdAtPosition(F,E),getLineContent:F=>F===h.startLineNumber?D:d.getLineContent(F)},R=M.getLeadingWhitespace(w.getLineContent()),O=this.getInheritIndentForLine(t,P,h.startLineNumber+1);if(!O){const F=f?R:T;return{beforeEnter:F,afterEnter:F}}let A=f?R:O.indentation;return O.action===S.IndentAction.Indent&&(A=p.shiftIndent(A)),N.shouldDecrease(I)&&(A=p.unshiftIndent(A)),{beforeEnter:f?R:T,afterEnter:A}}getIndentActionForType(t,d,h,p,w){if(t<4)return null;const b=this.getScopedLineTokens(d,h.startLineNumber,h.startColumn);if(b.firstCharOffset)return null;const g=this.getIndentRulesSupport(b.languageId);if(!g)return null;const f=b.getLineContent(),y=f.substr(0,h.startColumn-1-b.firstCharOffset);let I;if(h.isEmpty()?I=f.substr(h.startColumn-1-b.firstCharOffset):I=this.getScopedLineTokens(d,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-b.firstCharOffset),!g.shouldDecrease(y+I)&&g.shouldDecrease(y+p+I)){const N=this.getInheritIndentForLine(t,d,h.startLineNumber,!1);if(!N)return null;let D=N.indentation;return N.action!==S.IndentAction.Indent&&(D=w.unshiftIndent(D)),D}return null}getIndentMetadata(t,d){const h=this.getIndentRulesSupport(t.getLanguageIdentifier().id);return!h||d<1||d>t.getLineCount()?null:h.getIndentMetadata(t.getLineContent(d))}getEnterAction(t,d,h){const p=this.getScopedLineTokens(d,h.startLineNumber,h.startColumn),w=this._getRichEditSupport(p.languageId);if(!w)return null;const b=p.getLineContent(),g=b.substr(0,h.startColumn-1-p.firstCharOffset);let f;h.isEmpty()?f=b.substr(h.startColumn-1-p.firstCharOffset):f=this.getScopedLineTokens(d,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-p.firstCharOffset);let y="";if(h.startLineNumber>1&&p.firstCharOffset===0){const R=this.getScopedLineTokens(d,h.startLineNumber-1);R.languageId===p.languageId&&(y=R.getLineContent())}const I=w.onEnter(t,y,g,f);if(!I)return null;const N=I.indentAction;let D=I.appendText;const T=I.removeText||0;D?N===S.IndentAction.Indent&&(D="	"+D):N===S.IndentAction.Indent||N===S.IndentAction.IndentOutdent?D="	":D="";let P=this.getIndentationAtPosition(d,h.startLineNumber,h.startColumn);return T&&(P=P.substring(0,P.length-T)),{indentAction:N,appendText:D,removeText:T,indentation:P}}getIndentationAtPosition(t,d,h){const p=t.getLineContent(d);let w=M.getLeadingWhitespace(p);return w.length>h-1&&(w=w.substring(0,h-1)),w}getScopedLineTokens(t,d,h){t.forceTokenization(d);const p=t.getLineTokens(d),w=typeof h=="undefined"?t.getLineMaxColumn(d)-1:h-1;return m.createScopedLineTokens(p,w)}getBracketsSupport(t){const d=this._getRichEditSupport(t);return d&&d.brackets||null}}e.LanguageConfigurationRegistryImpl=n,e.LanguageConfigurationRegistry=new n}),define(ie[390],ne([0,1,29]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class k{constructor(r,n,l,t,d){this._parsedThemeRuleBrand=void 0,this.token=r,this.index=n,this.fontStyle=l,this.foreground=t,this.background=d}}e.ParsedTokenThemeRule=k;function M(u){if(!u||!Array.isArray(u))return[];let r=[],n=0;for(let l=0,t=u.length;l<t;l++){let d=u[l],h=-1;if(typeof d.fontStyle=="string"){h=0;let b=d.fontStyle.split(" ");for(let g=0,f=b.length;g<f;g++)switch(b[g]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break}}let p=null;typeof d.foreground=="string"&&(p=d.foreground);let w=null;typeof d.background=="string"&&(w=d.background),r[n++]=new k(d.token||"",l,h,p,w)}return r}e.parseTokenTheme=M;function L(u,r){u.sort((g,f)=>{let y=s(g.token,f.token);return y!==0?y:g.index-f.index});let n=0,l="000000",t="ffffff";for(;u.length>=1&&u[0].token==="";){let g=u.shift();g.fontStyle!==-1&&(n=g.fontStyle),g.foreground!==null&&(l=g.foreground),g.background!==null&&(t=g.background)}let d=new m;for(let g of r)d.getId(g);let h=d.getId(l),p=d.getId(t),w=new o(n,h,p),b=new a(w);for(let g=0,f=u.length;g<f;g++){let y=u[g];b.insert(y.token,y.fontStyle,d.getId(y.foreground),d.getId(y.background))}return new v(d,b)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class m{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(r){if(r===null)return 0;const n=r.match(S);if(!n)throw new Error("Illegal value for token color: "+r);r=n[1].toUpperCase();let l=this._color2id.get(r);return l||(l=++this._lastColorId,this._color2id.set(r,l),this._id2color[l]=_.Color.fromHex("#"+r),l)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=m;class v{constructor(r,n){this._colorMap=r,this._root=n,this._cache=new Map}static createFromRawTokenTheme(r,n){return this.createFromParsedTokenTheme(M(r),n)}static createFromParsedTokenTheme(r,n){return L(r,n)}getColorMap(){return this._colorMap.getColorMap()}_match(r){return this._root.match(r)}match(r,n){let l=this._cache.get(n);if(typeof l=="undefined"){let t=this._match(n),d=C(n);l=(t.metadata|d<<8)>>>0,this._cache.set(n,l)}return(l|r<<0)>>>0}}e.TokenTheme=v;const i=/\b(comment|string|regex|regexp)\b/;function C(u){let r=u.match(i);if(!r)return 0;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=C;function s(u,r){return u<r?-1:u>r?1:0}e.strcmp=s;class o{constructor(r,n,l){this._themeTrieElementRuleBrand=void 0,this._fontStyle=r,this._foreground=n,this._background=l,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new o(this._fontStyle,this._foreground,this._background)}acceptOverwrite(r,n,l){r!==-1&&(this._fontStyle=r),n!==0&&(this._foreground=n),l!==0&&(this._background=l),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=o;class a{constructor(r){this._themeTrieElementBrand=void 0,this._mainRule=r,this._children=new Map}match(r){if(r==="")return this._mainRule;let n=r.indexOf("."),l,t;n===-1?(l=r,t=""):(l=r.substring(0,n),t=r.substring(n+1));let d=this._children.get(l);return typeof d!="undefined"?d.match(t):this._mainRule}insert(r,n,l,t){if(r===""){this._mainRule.acceptOverwrite(n,l,t);return}let d=r.indexOf("."),h,p;d===-1?(h=r,p=""):(h=r.substring(0,d),p=r.substring(d+1));let w=this._children.get(h);typeof w=="undefined"&&(w=new a(this._mainRule.clone()),this._children.set(h,w)),w.insert(p,n,l,t)}}e.ThemeTrieElement=a;function c(u){let r=[];for(let n=1,l=u.length;n<l;n++){let t=u[n];r[n]=`.mtk${n} { color: ${t}; }`}return r.push(".mtki { font-style: italic; }"),r.push(".mtkb { font-weight: bold; }"),r.push(".mtku { text-decoration: underline; text-underline-position: under; }"),r.join(`
`)}e.generateTokensCSSForColorMap=c}),define(ie[391],ne([0,1,6,2]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class M{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(S){this._onDidChange.fire({changedLanguages:S,changedColorMap:!1})}register(S,m){return this._map.set(S,m),this.fire([S]),k.toDisposable(()=>{this._map.get(S)===m&&(this._map.delete(S),this.fire([S]))})}registerPromise(S,m){let v=null,i=!1;return this._promises.set(S,m.then(C=>{this._promises.delete(S),!(i||!C)&&(v=this.register(S,C))})),k.toDisposable(()=>{i=!0,v&&v.dispose()})}getPromise(S){const m=this.get(S);if(m)return Promise.resolve(m);const v=this._promises.get(S);return v?v.then(i=>this.get(S)):null}get(S){return this._map.get(S)||null}setColorMap(S){this._colorMap=S,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=M}),define(ie[392],ne([0,1,102,17]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function M(v){for(let i=0,C=v.length;i<C;i+=4){const s=v[i+0],o=v[i+1],a=v[i+2],c=v[i+3];v[i+0]=c,v[i+1]=a,v[i+2]=o,v[i+3]=s}}function L(v){const i=new Uint8Array(v.buffer,v.byteOffset,v.length*4);return k.isLittleEndian()||M(i),_.VSBuffer.wrap(i)}function S(v){const i=new Uint32Array(m(v));let C=0;if(i[C++]=v.id,v.type==="full")i[C++]=1,i[C++]=v.data.length,i.set(v.data,C),C+=v.data.length;else{i[C++]=2,i[C++]=v.deltas.length;for(const s of v.deltas)i[C++]=s.start,i[C++]=s.deleteCount,s.data?(i[C++]=s.data.length,i.set(s.data,C),C+=s.data.length):i[C++]=0}return L(i)}e.encodeSemanticTokensDto=S;function m(v){let i=0;if(i+=1+1,v.type==="full")i+=1+v.data.length;else{i+=1,i+=(1+1+1)*v.deltas.length;for(const C of v.deltas)C.data&&(i+=C.data.length)}return i}}),define(ie[174],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var _;(function(E){E[E.Unknown=0]="Unknown",E[E.Disabled=1]="Disabled",E[E.Enabled=2]="Enabled"})(_=e.AccessibilitySupport||(e.AccessibilitySupport={}));var k;(function(E){E[E.KeepWhitespace=1]="KeepWhitespace",E[E.InsertAsSnippet=4]="InsertAsSnippet"})(k=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var M;(function(E){E[E.Method=0]="Method",E[E.Function=1]="Function",E[E.Constructor=2]="Constructor",E[E.Field=3]="Field",E[E.Variable=4]="Variable",E[E.Class=5]="Class",E[E.Struct=6]="Struct",E[E.Interface=7]="Interface",E[E.Module=8]="Module",E[E.Property=9]="Property",E[E.Event=10]="Event",E[E.Operator=11]="Operator",E[E.Unit=12]="Unit",E[E.Value=13]="Value",E[E.Constant=14]="Constant",E[E.Enum=15]="Enum",E[E.EnumMember=16]="EnumMember",E[E.Keyword=17]="Keyword",E[E.Text=18]="Text",E[E.Color=19]="Color",E[E.File=20]="File",E[E.Reference=21]="Reference",E[E.Customcolor=22]="Customcolor",E[E.Folder=23]="Folder",E[E.TypeParameter=24]="TypeParameter",E[E.User=25]="User",E[E.Issue=26]="Issue",E[E.Snippet=27]="Snippet"})(M=e.CompletionItemKind||(e.CompletionItemKind={}));var L;(function(E){E[E.Deprecated=1]="Deprecated"})(L=e.CompletionItemTag||(e.CompletionItemTag={}));var S;(function(E){E[E.Invoke=0]="Invoke",E[E.TriggerCharacter=1]="TriggerCharacter",E[E.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(S=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var m;(function(E){E[E.EXACT=0]="EXACT",E[E.ABOVE=1]="ABOVE",E[E.BELOW=2]="BELOW"})(m=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var v;(function(E){E[E.NotSet=0]="NotSet",E[E.ContentFlush=1]="ContentFlush",E[E.RecoverFromMarkers=2]="RecoverFromMarkers",E[E.Explicit=3]="Explicit",E[E.Paste=4]="Paste",E[E.Undo=5]="Undo",E[E.Redo=6]="Redo"})(v=e.CursorChangeReason||(e.CursorChangeReason={}));var i;(function(E){E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(i=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var C;(function(E){E[E.Text=0]="Text",E[E.Read=1]="Read",E[E.Write=2]="Write"})(C=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var s;(function(E){E[E.None=0]="None",E[E.Keep=1]="Keep",E[E.Brackets=2]="Brackets",E[E.Advanced=3]="Advanced",E[E.Full=4]="Full"})(s=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var o;(function(E){E[E.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",E[E.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",E[E.accessibilitySupport=2]="accessibilitySupport",E[E.accessibilityPageSize=3]="accessibilityPageSize",E[E.ariaLabel=4]="ariaLabel",E[E.autoClosingBrackets=5]="autoClosingBrackets",E[E.autoClosingDelete=6]="autoClosingDelete",E[E.autoClosingOvertype=7]="autoClosingOvertype",E[E.autoClosingQuotes=8]="autoClosingQuotes",E[E.autoIndent=9]="autoIndent",E[E.automaticLayout=10]="automaticLayout",E[E.autoSurround=11]="autoSurround",E[E.codeLens=12]="codeLens",E[E.codeLensFontFamily=13]="codeLensFontFamily",E[E.codeLensFontSize=14]="codeLensFontSize",E[E.colorDecorators=15]="colorDecorators",E[E.columnSelection=16]="columnSelection",E[E.comments=17]="comments",E[E.contextmenu=18]="contextmenu",E[E.copyWithSyntaxHighlighting=19]="copyWithSyntaxHighlighting",E[E.cursorBlinking=20]="cursorBlinking",E[E.cursorSmoothCaretAnimation=21]="cursorSmoothCaretAnimation",E[E.cursorStyle=22]="cursorStyle",E[E.cursorSurroundingLines=23]="cursorSurroundingLines",E[E.cursorSurroundingLinesStyle=24]="cursorSurroundingLinesStyle",E[E.cursorWidth=25]="cursorWidth",E[E.disableLayerHinting=26]="disableLayerHinting",E[E.disableMonospaceOptimizations=27]="disableMonospaceOptimizations",E[E.domReadOnly=28]="domReadOnly",E[E.dragAndDrop=29]="dragAndDrop",E[E.emptySelectionClipboard=30]="emptySelectionClipboard",E[E.extraEditorClassName=31]="extraEditorClassName",E[E.fastScrollSensitivity=32]="fastScrollSensitivity",E[E.find=33]="find",E[E.fixedOverflowWidgets=34]="fixedOverflowWidgets",E[E.folding=35]="folding",E[E.foldingStrategy=36]="foldingStrategy",E[E.foldingHighlight=37]="foldingHighlight",E[E.unfoldOnClickAfterEndOfLine=38]="unfoldOnClickAfterEndOfLine",E[E.fontFamily=39]="fontFamily",E[E.fontInfo=40]="fontInfo",E[E.fontLigatures=41]="fontLigatures",E[E.fontSize=42]="fontSize",E[E.fontWeight=43]="fontWeight",E[E.formatOnPaste=44]="formatOnPaste",E[E.formatOnType=45]="formatOnType",E[E.glyphMargin=46]="glyphMargin",E[E.gotoLocation=47]="gotoLocation",E[E.hideCursorInOverviewRuler=48]="hideCursorInOverviewRuler",E[E.highlightActiveIndentGuide=49]="highlightActiveIndentGuide",E[E.hover=50]="hover",E[E.inDiffEditor=51]="inDiffEditor",E[E.inlineSuggest=52]="inlineSuggest",E[E.letterSpacing=53]="letterSpacing",E[E.lightbulb=54]="lightbulb",E[E.lineDecorationsWidth=55]="lineDecorationsWidth",E[E.lineHeight=56]="lineHeight",E[E.lineNumbers=57]="lineNumbers",E[E.lineNumbersMinChars=58]="lineNumbersMinChars",E[E.linkedEditing=59]="linkedEditing",E[E.links=60]="links",E[E.matchBrackets=61]="matchBrackets",E[E.minimap=62]="minimap",E[E.mouseStyle=63]="mouseStyle",E[E.mouseWheelScrollSensitivity=64]="mouseWheelScrollSensitivity",E[E.mouseWheelZoom=65]="mouseWheelZoom",E[E.multiCursorMergeOverlapping=66]="multiCursorMergeOverlapping",E[E.multiCursorModifier=67]="multiCursorModifier",E[E.multiCursorPaste=68]="multiCursorPaste",E[E.occurrencesHighlight=69]="occurrencesHighlight",E[E.overviewRulerBorder=70]="overviewRulerBorder",E[E.overviewRulerLanes=71]="overviewRulerLanes",E[E.padding=72]="padding",E[E.parameterHints=73]="parameterHints",E[E.peekWidgetDefaultFocus=74]="peekWidgetDefaultFocus",E[E.definitionLinkOpensInPeek=75]="definitionLinkOpensInPeek",E[E.quickSuggestions=76]="quickSuggestions",E[E.quickSuggestionsDelay=77]="quickSuggestionsDelay",E[E.readOnly=78]="readOnly",E[E.renameOnType=79]="renameOnType",E[E.renderControlCharacters=80]="renderControlCharacters",E[E.renderIndentGuides=81]="renderIndentGuides",E[E.renderFinalNewline=82]="renderFinalNewline",E[E.renderLineHighlight=83]="renderLineHighlight",E[E.renderLineHighlightOnlyWhenFocus=84]="renderLineHighlightOnlyWhenFocus",E[E.renderValidationDecorations=85]="renderValidationDecorations",E[E.renderWhitespace=86]="renderWhitespace",E[E.revealHorizontalRightPadding=87]="revealHorizontalRightPadding",E[E.roundedSelection=88]="roundedSelection",E[E.rulers=89]="rulers",E[E.scrollbar=90]="scrollbar",E[E.scrollBeyondLastColumn=91]="scrollBeyondLastColumn",E[E.scrollBeyondLastLine=92]="scrollBeyondLastLine",E[E.scrollPredominantAxis=93]="scrollPredominantAxis",E[E.selectionClipboard=94]="selectionClipboard",E[E.selectionHighlight=95]="selectionHighlight",E[E.selectOnLineNumbers=96]="selectOnLineNumbers",E[E.showFoldingControls=97]="showFoldingControls",E[E.showUnused=98]="showUnused",E[E.snippetSuggestions=99]="snippetSuggestions",E[E.smartSelect=100]="smartSelect",E[E.smoothScrolling=101]="smoothScrolling",E[E.stickyTabStops=102]="stickyTabStops",E[E.stopRenderingLineAfter=103]="stopRenderingLineAfter",E[E.suggest=104]="suggest",E[E.suggestFontSize=105]="suggestFontSize",E[E.suggestLineHeight=106]="suggestLineHeight",E[E.suggestOnTriggerCharacters=107]="suggestOnTriggerCharacters",E[E.suggestSelection=108]="suggestSelection",E[E.tabCompletion=109]="tabCompletion",E[E.tabIndex=110]="tabIndex",E[E.unusualLineTerminators=111]="unusualLineTerminators",E[E.useShadowDOM=112]="useShadowDOM",E[E.useTabStops=113]="useTabStops",E[E.wordSeparators=114]="wordSeparators",E[E.wordWrap=115]="wordWrap",E[E.wordWrapBreakAfterCharacters=116]="wordWrapBreakAfterCharacters",E[E.wordWrapBreakBeforeCharacters=117]="wordWrapBreakBeforeCharacters",E[E.wordWrapColumn=118]="wordWrapColumn",E[E.wordWrapOverride1=119]="wordWrapOverride1",E[E.wordWrapOverride2=120]="wordWrapOverride2",E[E.wrappingIndent=121]="wrappingIndent",E[E.wrappingStrategy=122]="wrappingStrategy",E[E.showDeprecated=123]="showDeprecated",E[E.inlayHints=124]="inlayHints",E[E.editorClassName=125]="editorClassName",E[E.pixelRatio=126]="pixelRatio",E[E.tabFocusMode=127]="tabFocusMode",E[E.layoutInfo=128]="layoutInfo",E[E.wrappingInfo=129]="wrappingInfo"})(o=e.EditorOption||(e.EditorOption={}));var a;(function(E){E[E.TextDefined=0]="TextDefined",E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(a=e.EndOfLinePreference||(e.EndOfLinePreference={}));var c;(function(E){E[E.LF=0]="LF",E[E.CRLF=1]="CRLF"})(c=e.EndOfLineSequence||(e.EndOfLineSequence={}));var u;(function(E){E[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent"})(u=e.IndentAction||(e.IndentAction={}));var r;(function(E){E[E.Other=0]="Other",E[E.Type=1]="Type",E[E.Parameter=2]="Parameter"})(r=e.InlayHintKind||(e.InlayHintKind={}));var n;(function(E){E[E.Automatic=0]="Automatic",E[E.Explicit=1]="Explicit"})(n=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var l;(function(E){E[E.DependsOnKbLayout=-1]="DependsOnKbLayout",E[E.Unknown=0]="Unknown",E[E.Backspace=1]="Backspace",E[E.Tab=2]="Tab",E[E.Enter=3]="Enter",E[E.Shift=4]="Shift",E[E.Ctrl=5]="Ctrl",E[E.Alt=6]="Alt",E[E.PauseBreak=7]="PauseBreak",E[E.CapsLock=8]="CapsLock",E[E.Escape=9]="Escape",E[E.Space=10]="Space",E[E.PageUp=11]="PageUp",E[E.PageDown=12]="PageDown",E[E.End=13]="End",E[E.Home=14]="Home",E[E.LeftArrow=15]="LeftArrow",E[E.UpArrow=16]="UpArrow",E[E.RightArrow=17]="RightArrow",E[E.DownArrow=18]="DownArrow",E[E.Insert=19]="Insert",E[E.Delete=20]="Delete",E[E.KEY_0=21]="KEY_0",E[E.KEY_1=22]="KEY_1",E[E.KEY_2=23]="KEY_2",E[E.KEY_3=24]="KEY_3",E[E.KEY_4=25]="KEY_4",E[E.KEY_5=26]="KEY_5",E[E.KEY_6=27]="KEY_6",E[E.KEY_7=28]="KEY_7",E[E.KEY_8=29]="KEY_8",E[E.KEY_9=30]="KEY_9",E[E.KEY_A=31]="KEY_A",E[E.KEY_B=32]="KEY_B",E[E.KEY_C=33]="KEY_C",E[E.KEY_D=34]="KEY_D",E[E.KEY_E=35]="KEY_E",E[E.KEY_F=36]="KEY_F",E[E.KEY_G=37]="KEY_G",E[E.KEY_H=38]="KEY_H",E[E.KEY_I=39]="KEY_I",E[E.KEY_J=40]="KEY_J",E[E.KEY_K=41]="KEY_K",E[E.KEY_L=42]="KEY_L",E[E.KEY_M=43]="KEY_M",E[E.KEY_N=44]="KEY_N",E[E.KEY_O=45]="KEY_O",E[E.KEY_P=46]="KEY_P",E[E.KEY_Q=47]="KEY_Q",E[E.KEY_R=48]="KEY_R",E[E.KEY_S=49]="KEY_S",E[E.KEY_T=50]="KEY_T",E[E.KEY_U=51]="KEY_U",E[E.KEY_V=52]="KEY_V",E[E.KEY_W=53]="KEY_W",E[E.KEY_X=54]="KEY_X",E[E.KEY_Y=55]="KEY_Y",E[E.KEY_Z=56]="KEY_Z",E[E.Meta=57]="Meta",E[E.ContextMenu=58]="ContextMenu",E[E.F1=59]="F1",E[E.F2=60]="F2",E[E.F3=61]="F3",E[E.F4=62]="F4",E[E.F5=63]="F5",E[E.F6=64]="F6",E[E.F7=65]="F7",E[E.F8=66]="F8",E[E.F9=67]="F9",E[E.F10=68]="F10",E[E.F11=69]="F11",E[E.F12=70]="F12",E[E.F13=71]="F13",E[E.F14=72]="F14",E[E.F15=73]="F15",E[E.F16=74]="F16",E[E.F17=75]="F17",E[E.F18=76]="F18",E[E.F19=77]="F19",E[E.NumLock=78]="NumLock",E[E.ScrollLock=79]="ScrollLock",E[E.US_SEMICOLON=80]="US_SEMICOLON",E[E.US_EQUAL=81]="US_EQUAL",E[E.US_COMMA=82]="US_COMMA",E[E.US_MINUS=83]="US_MINUS",E[E.US_DOT=84]="US_DOT",E[E.US_SLASH=85]="US_SLASH",E[E.US_BACKTICK=86]="US_BACKTICK",E[E.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",E[E.US_BACKSLASH=88]="US_BACKSLASH",E[E.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",E[E.US_QUOTE=90]="US_QUOTE",E[E.OEM_8=91]="OEM_8",E[E.OEM_102=92]="OEM_102",E[E.NUMPAD_0=93]="NUMPAD_0",E[E.NUMPAD_1=94]="NUMPAD_1",E[E.NUMPAD_2=95]="NUMPAD_2",E[E.NUMPAD_3=96]="NUMPAD_3",E[E.NUMPAD_4=97]="NUMPAD_4",E[E.NUMPAD_5=98]="NUMPAD_5",E[E.NUMPAD_6=99]="NUMPAD_6",E[E.NUMPAD_7=100]="NUMPAD_7",E[E.NUMPAD_8=101]="NUMPAD_8",E[E.NUMPAD_9=102]="NUMPAD_9",E[E.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",E[E.NUMPAD_ADD=104]="NUMPAD_ADD",E[E.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",E[E.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",E[E.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",E[E.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",E[E.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",E[E.ABNT_C1=110]="ABNT_C1",E[E.ABNT_C2=111]="ABNT_C2",E[E.MAX_VALUE=112]="MAX_VALUE"})(l=e.KeyCode||(e.KeyCode={}));var t;(function(E){E[E.Hint=1]="Hint",E[E.Info=2]="Info",E[E.Warning=4]="Warning",E[E.Error=8]="Error"})(t=e.MarkerSeverity||(e.MarkerSeverity={}));var d;(function(E){E[E.Unnecessary=1]="Unnecessary",E[E.Deprecated=2]="Deprecated"})(d=e.MarkerTag||(e.MarkerTag={}));var h;(function(E){E[E.Inline=1]="Inline",E[E.Gutter=2]="Gutter"})(h=e.MinimapPosition||(e.MinimapPosition={}));var p;(function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.TEXTAREA=1]="TEXTAREA",E[E.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",E[E.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",E[E.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",E[E.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",E[E.CONTENT_TEXT=6]="CONTENT_TEXT",E[E.CONTENT_EMPTY=7]="CONTENT_EMPTY",E[E.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",E[E.CONTENT_WIDGET=9]="CONTENT_WIDGET",E[E.OVERVIEW_RULER=10]="OVERVIEW_RULER",E[E.SCROLLBAR=11]="SCROLLBAR",E[E.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",E[E.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(p=e.MouseTargetType||(e.MouseTargetType={}));var w;(function(E){E[E.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",E[E.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",E[E.TOP_CENTER=2]="TOP_CENTER"})(w=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var b;(function(E){E[E.Left=1]="Left",E[E.Center=2]="Center",E[E.Right=4]="Right",E[E.Full=7]="Full"})(b=e.OverviewRulerLane||(e.OverviewRulerLane={}));var g;(function(E){E[E.Off=0]="Off",E[E.On=1]="On",E[E.Relative=2]="Relative",E[E.Interval=3]="Interval",E[E.Custom=4]="Custom"})(g=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var f;(function(E){E[E.None=0]="None",E[E.Text=1]="Text",E[E.Blocks=2]="Blocks"})(f=e.RenderMinimap||(e.RenderMinimap={}));var y;(function(E){E[E.Smooth=0]="Smooth",E[E.Immediate=1]="Immediate"})(y=e.ScrollType||(e.ScrollType={}));var I;(function(E){E[E.Auto=1]="Auto",E[E.Hidden=2]="Hidden",E[E.Visible=3]="Visible"})(I=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var N;(function(E){E[E.LTR=0]="LTR",E[E.RTL=1]="RTL"})(N=e.SelectionDirection||(e.SelectionDirection={}));var D;(function(E){E[E.Invoke=1]="Invoke",E[E.TriggerCharacter=2]="TriggerCharacter",E[E.ContentChange=3]="ContentChange"})(D=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var T;(function(E){E[E.File=0]="File",E[E.Module=1]="Module",E[E.Namespace=2]="Namespace",E[E.Package=3]="Package",E[E.Class=4]="Class",E[E.Method=5]="Method",E[E.Property=6]="Property",E[E.Field=7]="Field",E[E.Constructor=8]="Constructor",E[E.Enum=9]="Enum",E[E.Interface=10]="Interface",E[E.Function=11]="Function",E[E.Variable=12]="Variable",E[E.Constant=13]="Constant",E[E.String=14]="String",E[E.Number=15]="Number",E[E.Boolean=16]="Boolean",E[E.Array=17]="Array",E[E.Object=18]="Object",E[E.Key=19]="Key",E[E.Null=20]="Null",E[E.EnumMember=21]="EnumMember",E[E.Struct=22]="Struct",E[E.Event=23]="Event",E[E.Operator=24]="Operator",E[E.TypeParameter=25]="TypeParameter"})(T=e.SymbolKind||(e.SymbolKind={}));var P;(function(E){E[E.Deprecated=1]="Deprecated"})(P=e.SymbolTag||(e.SymbolTag={}));var R;(function(E){E[E.Hidden=0]="Hidden",E[E.Blink=1]="Blink",E[E.Smooth=2]="Smooth",E[E.Phase=3]="Phase",E[E.Expand=4]="Expand",E[E.Solid=5]="Solid"})(R=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var O;(function(E){E[E.Line=1]="Line",E[E.Block=2]="Block",E[E.Underline=3]="Underline",E[E.LineThin=4]="LineThin",E[E.BlockOutline=5]="BlockOutline",E[E.UnderlineThin=6]="UnderlineThin"})(O=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var A;(function(E){E[E.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",E[E.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",E[E.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",E[E.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(A=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var F;(function(E){E[E.None=0]="None",E[E.Same=1]="Same",E[E.Indent=2]="Indent",E[E.DeepIndent=3]="DeepIndent"})(F=e.WrappingIndent||(e.WrappingIndent={}))}),define(ie[222],ne([0,1,23,6,41,24,13,3,21,134,174]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class s{static chord(c,u){return M.KeyChord(c,u)}}e.KeyMod=s,s.CtrlCmd=2048,s.Shift=1024,s.Alt=512,s.WinCtrl=256;function o(){return{editor:void 0,languages:void 0,CancellationTokenSource:_.CancellationTokenSource,Emitter:k.Emitter,KeyCode:C.KeyCode,KeyMod:s,Position:S.Position,Range:m.Range,Selection:v.Selection,SelectionDirection:C.SelectionDirection,MarkerSeverity:C.MarkerSeverity,MarkerTag:C.MarkerTag,Uri:L.URI,Token:i.Token}}e.createMonacoBaseAPI=o}),define(ie[223],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class _{constructor(S,m,v){this._colorZoneBrand=void 0,this.from=S|0,this.to=m|0,this.colorId=v|0}static compare(S,m){return S.colorId===m.colorId?S.from===m.from?S.to-m.to:S.from-m.from:S.colorId-m.colorId}}e.ColorZone=_;class k{constructor(S,m,v){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=m,this.color=v,this._colorZone=null}static compare(S,m){return S.color===m.color?S.startLineNumber===m.startLineNumber?S.endLineNumber-m.endLineNumber:S.startLineNumber-m.startLineNumber:S.color<m.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class M{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(k.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,m=Math.floor(this._lineHeight),v=Math.floor(this.getCanvasHeight()),i=Math.floor(this._outerHeight),C=v/i,s=Math.floor(4*this._pixelRatio/2);let o=[];for(let a=0,c=this._zones.length;a<c;a++){const u=this._zones[a];if(!S){const w=u.getColorZones();if(w){o.push(w);continue}}const r=Math.floor(C*this._getVerticalOffsetForLine(u.startLineNumber)),n=Math.floor(C*(this._getVerticalOffsetForLine(u.endLineNumber)+m));let l=Math.floor((r+n)/2),t=n-l;t<s&&(t=s),l-t<0&&(l=t),l+t>v&&(l=v-t);const d=u.color;let h=this._color2Id[d];h||(h=++this._lastAssignedId,this._color2Id[d]=h,this._id2Color[h]=d);const p=new _(l-t,l+t,h);u.setColorZone(p),o.push(p)}return this._colorZonesInvalid=!1,o.sort(_.compare),o}}e.OverviewZoneManager=M}),define(ie[113],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class _{constructor(i,C){this._restrictedRenderingContextBrand=void 0,this._viewLayout=i,this.viewportData=C,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const s=this._viewLayout.getCurrentViewport();this.scrollTop=s.top,this.scrollLeft=s.left,this.viewportWidth=s.width,this.viewportHeight=s.height}getScrolledTopFromAbsoluteTop(i){return i-this.scrollTop}getVerticalOffsetForLineNumber(i){return this._viewLayout.getVerticalOffsetForLineNumber(i)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=_;class k extends _{constructor(i,C,s){super(i,C);this._renderingContextBrand=void 0,this._viewLines=s}linesVisibleRangesForRange(i,C){return this._viewLines.linesVisibleRangesForRange(i,C)}visibleRangeForPosition(i){return this._viewLines.visibleRangeForPosition(i)}}e.RenderingContext=k;class M{constructor(i,C,s){this.outsideRenderedLine=i,this.lineNumber=C,this.ranges=s}}e.LineVisibleRanges=M;class L{constructor(i,C){this.left=Math.round(i),this.width=Math.round(C)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=L;class S{constructor(i,C){this.outsideRenderedLine=i,this.left=Math.round(C)}}e.HorizontalPosition=S;class m{constructor(i,C){this.outsideRenderedLine=i,this.ranges=C}}e.VisibleRanges=m}),define(ie[393],ne([0,1,113]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{constructor(S,m){this._floatHorizontalRangeBrand=void 0,this.left=S,this.width=m}toString(){return`[${this.left},${this.width}]`}static compare(S,m){return S.left-m.left}}class M{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(S,m){S.selectNodeContents(m)}static _readClientRects(S,m,v,i,C){const s=this._createRange();try{return s.setStart(S,m),s.setEnd(v,i),s.getClientRects()}catch(o){return null}finally{this._detachRange(s,C)}}static _mergeAdjacentRanges(S){if(S.length===1)return[new _.HorizontalRange(S[0].left,S[0].width)];S.sort(k.compare);let m=[],v=0,i=S[0].left,C=S[0].width;for(let s=1,o=S.length;s<o;s++){const a=S[s],c=a.left,u=a.width;i+C+.9>=c?C=Math.max(C,c+u-i):(m[v++]=new _.HorizontalRange(i,C),i=c,C=u)}return m[v++]=new _.HorizontalRange(i,C),m}static _createHorizontalRangesFromClientRects(S,m){if(!S||S.length===0)return null;const v=[];for(let i=0,C=S.length;i<C;i++){const s=S[i];v[i]=new k(Math.max(0,s.left-m),s.width)}return this._mergeAdjacentRanges(v)}static readHorizontalRanges(S,m,v,i,C,s,o){const a=0,c=S.children.length-1;if(a>c)return null;if(m=Math.min(c,Math.max(a,m)),i=Math.min(c,Math.max(a,i)),m===i&&v===C&&v===0&&!S.children[m].firstChild){const l=S.children[m].getClientRects();return this._createHorizontalRangesFromClientRects(l,s)}m!==i&&i>0&&C===0&&(i--,C=1073741824);let u=S.children[m].firstChild,r=S.children[i].firstChild;if((!u||!r)&&(!u&&v===0&&m>0&&(u=S.children[m-1].firstChild,v=1073741824),!r&&C===0&&i>0&&(r=S.children[i-1].firstChild,C=1073741824)),!u||!r)return null;v=Math.min(u.textContent.length,Math.max(0,v)),C=Math.min(r.textContent.length,Math.max(0,C));const n=this._readClientRects(u,v,r,C,o);return this._createHorizontalRangesFromClientRects(n,s)}}e.RangeUtil=M}),define(ie[394],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class _{constructor(L){this._theme=L}get type(){return this._theme.type}update(L){this._theme=L}getColor(L){return this._theme.getColor(L)}}e.EditorTheme=_;class k{constructor(L,S,m){this.configuration=L,this.theme=new _(S),this.model=m,this.viewLayout=m.viewLayout}addEventHandler(L){this.model.addViewEventHandler(L)}removeEventHandler(L){this.model.removeViewEventHandler(L)}}e.ViewContext=k}),define(ie[175],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class _{constructor(){this.type=0}}e.ViewCompositionStartEvent=_;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class M{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=M;class L{constructor(h,p){this.type=3,this.selections=h,this.modelSelections=p}}e.ViewCursorStateChangedEvent=L;class S{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=S;class m{constructor(){this.type=5}}e.ViewFlushedEvent=m;class v{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=v;class i{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=i;class C{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=C;class s{constructor(h,p){this.type=9,this.fromLineNumber=h,this.toLineNumber=p}}e.ViewLinesChangedEvent=s;class o{constructor(h,p){this.type=10,this.fromLineNumber=h,this.toLineNumber=p}}e.ViewLinesDeletedEvent=o;class a{constructor(h,p){this.type=11,this.fromLineNumber=h,this.toLineNumber=p}}e.ViewLinesInsertedEvent=a;class c{constructor(h,p,w,b,g,f){this.type=12,this.source=h,this.range=p,this.selections=w,this.verticalType=b,this.revealHorizontal=g,this.scrollType=f}}e.ViewRevealRangeRequestEvent=c;class u{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=u;class r{constructor(){this.type=14}}e.ViewThemeChangedEvent=r;class n{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=n;class l{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=l;class t{constructor(){this.type=17}}e.ViewZonesChangedEvent=t}),define(ie[136],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(v,i,C,s){this.startColumn=v,this.endColumn=i,this.className=C,this.type=s,this._lineDecorationBrand=void 0}static _equals(v,i){return v.startColumn===i.startColumn&&v.endColumn===i.endColumn&&v.className===i.className&&v.type===i.type}static equalsArr(v,i){const C=v.length,s=i.length;if(C!==s)return!1;for(let o=0;o<C;o++)if(!k._equals(v[o],i[o]))return!1;return!0}static extractWrapped(v,i,C){if(v.length===0)return v;const s=i+1,o=C+1,a=C-i,c=[];let u=0;for(const r of v)r.endColumn<=s||r.startColumn>=o||(c[u++]=new k(Math.max(1,r.startColumn-s+1),Math.min(a+1,r.endColumn-s+1),r.className,r.type));return c}static filter(v,i,C,s){if(v.length===0)return[];let o=[],a=0;for(let c=0,u=v.length;c<u;c++){const r=v[c],n=r.range;if(n.endLineNumber<i||n.startLineNumber>i||n.isEmpty()&&(r.type===0||r.type===3))continue;const l=n.startLineNumber===i?n.startColumn:C,t=n.endLineNumber===i?n.endColumn:s;o[a++]=new k(l,t,r.inlineClassName,r.type)}return o}static _typeCompare(v,i){const C=[2,0,1,3];return C[v]-C[i]}static compare(v,i){if(v.startColumn===i.startColumn){if(v.endColumn===i.endColumn){const C=k._typeCompare(v.type,i.type);return C===0?v.className<i.className?-1:v.className>i.className?1:0:C}return v.endColumn-i.endColumn}return v.startColumn-i.startColumn}}e.LineDecoration=k;class M{constructor(v,i,C,s){this.startOffset=v,this.endOffset=i,this.className=C,this.metadata=s}}e.DecorationSegment=M;class L{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(v){let i=0;for(let C=0,s=v.length;C<s;C++)i|=v[C];return i}consumeLowerThan(v,i,C){for(;this.count>0&&this.stopOffsets[0]<v;){let s=0;for(;s+1<this.count&&this.stopOffsets[s]===this.stopOffsets[s+1];)s++;C.push(new M(i,this.stopOffsets[s],this.classNames.join(" "),L._metadata(this.metadata))),i=this.stopOffsets[s]+1,this.stopOffsets.splice(0,s+1),this.classNames.splice(0,s+1),this.metadata.splice(0,s+1),this.count-=s+1}return this.count>0&&i<v&&(C.push(new M(i,v-1,this.classNames.join(" "),L._metadata(this.metadata))),i=v),i}insert(v,i,C){if(this.count===0||this.stopOffsets[this.count-1]<=v)this.stopOffsets.push(v),this.classNames.push(i),this.metadata.push(C);else for(let s=0;s<this.count;s++)if(this.stopOffsets[s]>=v){this.stopOffsets.splice(s,0,v),this.classNames.splice(s,0,i),this.metadata.splice(s,0,C);break}this.count++}}class S{static normalize(v,i){if(i.length===0)return[];let C=[];const s=new L;let o=0;for(let a=0,c=i.length;a<c;a++){const u=i[a];let r=u.startColumn,n=u.endColumn;const l=u.className,t=u.type===1?2:u.type===2?4:0;if(r>1){const p=v.charCodeAt(r-2);_.isHighSurrogate(p)&&r--}if(n>1){const p=v.charCodeAt(n-2);_.isHighSurrogate(p)&&n--}const d=r-1,h=n-2;o=s.consumeLowerThan(d,o,C),s.count===0&&(o=d),s.insert(h,l,t)}return s.consumeLowerThan(1073741824,o,C),C}}e.LineDecorationsNormalizer=S}),define(ie[395],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(m){this._hasPending=!0,this._inserts.push(m)}change(m){this._hasPending=!0,this._changes.push(m)}remove(m){this._hasPending=!0,this._removes.push(m)}mustCommit(){return this._hasPending}commit(m){if(!this._hasPending)return;const v=this._inserts,i=this._changes,C=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],m._commitPendingChanges(v,i,C)}}class M{constructor(m,v,i,C,s){this.id=m,this.afterLineNumber=v,this.ordinal=i,this.height=C,this.minWidth=s,this.prefixSum=0}}e.EditorWhitespace=M;class L{constructor(m,v,i,C){this._instanceId=_.singleLetterHash(++L.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=m,this._lineHeight=v,this._paddingTop=i,this._paddingBottom=C}static findInsertionIndex(m,v,i){let C=0,s=m.length;for(;C<s;){const o=C+s>>>1;v===m[o].afterLineNumber?i<m[o].ordinal?s=o:C=o+1:v<m[o].afterLineNumber?s=o:C=o+1}return C}setLineHeight(m){this._checkPendingChanges(),this._lineHeight=m}setPadding(m,v){this._paddingTop=m,this._paddingBottom=v}onFlushed(m){this._checkPendingChanges(),this._lineCount=m}changeWhitespace(m){let v=!1;try{m({insertWhitespace:(C,s,o,a)=>{v=!0,C=C|0,s=s|0,o=o|0,a=a|0;const c=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new M(c,C,s,o,a)),c},changeOneWhitespace:(C,s,o)=>{v=!0,s=s|0,o=o|0,this._pendingChanges.change({id:C,newAfterLineNumber:s,newHeight:o})},removeWhitespace:C=>{v=!0,this._pendingChanges.remove({id:C})}})}finally{this._pendingChanges.commit(this)}return v}_commitPendingChanges(m,v,i){if((m.length>0||i.length>0)&&(this._minWidth=-1),m.length+v.length+i.length<=1){for(const c of m)this._insertWhitespace(c);for(const c of v)this._changeOneWhitespace(c.id,c.newAfterLineNumber,c.newHeight);for(const c of i){const u=this._findWhitespaceIndex(c.id);u!==-1&&this._removeWhitespace(u)}return}const C=new Set;for(const c of i)C.add(c.id);const s=new Map;for(const c of v)s.set(c.id,c);const o=c=>{let u=[];for(const r of c)if(!C.has(r.id)){if(s.has(r.id)){const n=s.get(r.id);r.afterLineNumber=n.newAfterLineNumber,r.height=n.newHeight}u.push(r)}return u},a=o(this._arr).concat(o(m));a.sort((c,u)=>c.afterLineNumber===u.afterLineNumber?c.ordinal-u.ordinal:c.afterLineNumber-u.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(m){const v=L.findInsertionIndex(this._arr,m.afterLineNumber,m.ordinal);this._arr.splice(v,0,m),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)}_findWhitespaceIndex(m){const v=this._arr;for(let i=0,C=v.length;i<C;i++)if(v[i].id===m)return i;return-1}_changeOneWhitespace(m,v,i){const C=this._findWhitespaceIndex(m);if(C!==-1&&(this._arr[C].height!==i&&(this._arr[C].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)),this._arr[C].afterLineNumber!==v)){const s=this._arr[C];this._removeWhitespace(C),s.afterLineNumber=v,this._insertWhitespace(s)}}_removeWhitespace(m){this._arr.splice(m,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,m-1)}onLinesDeleted(m,v){this._checkPendingChanges(),m=m|0,v=v|0,this._lineCount-=v-m+1;for(let i=0,C=this._arr.length;i<C;i++){const s=this._arr[i].afterLineNumber;m<=s&&s<=v?this._arr[i].afterLineNumber=m-1:s>v&&(this._arr[i].afterLineNumber-=v-m+1)}}onLinesInserted(m,v){this._checkPendingChanges(),m=m|0,v=v|0,this._lineCount+=v-m+1;for(let i=0,C=this._arr.length;i<C;i++){const s=this._arr[i].afterLineNumber;m<=s&&(this._arr[i].afterLineNumber+=v-m+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(m){this._checkPendingChanges(),m=m|0;let v=Math.max(0,this._prefixSumValidIndex+1);v===0&&(this._arr[0].prefixSum=this._arr[0].height,v++);for(let i=v;i<=m;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,m),this._arr[m].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const m=this._lineHeight*this._lineCount,v=this.getWhitespacesTotalHeight();return m+v+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(m){this._checkPendingChanges(),m=m|0;const v=this._findLastWhitespaceBeforeLineNumber(m);return v===-1?0:this.getWhitespacesAccumulatedHeight(v)}_findLastWhitespaceBeforeLineNumber(m){m=m|0;const v=this._arr;let i=0,C=v.length-1;for(;i<=C;){const o=(C-i|0)/2|0,a=i+o|0;if(v[a].afterLineNumber<m){if(a+1>=v.length||v[a+1].afterLineNumber>=m)return a;i=a+1|0}else C=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(m){m=m|0;const i=this._findLastWhitespaceBeforeLineNumber(m)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(m){return this._checkPendingChanges(),m=m|0,this._findFirstWhitespaceAfterLineNumber(m)}getVerticalOffsetForLineNumber(m){this._checkPendingChanges(),m=m|0;let v;m>1?v=this._lineHeight*(m-1):v=0;const i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m);return v+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let m=0;for(let v=0,i=this._arr.length;v<i;v++)m=Math.max(m,this._arr[v].minWidth);this._minWidth=m}return this._minWidth}isAfterLines(m){this._checkPendingChanges();const v=this.getLinesTotalHeight();return m>v}isInTopPadding(m){return this._paddingTop===0?!1:(this._checkPendingChanges(),m<this._paddingTop)}isInBottomPadding(m){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const v=this.getLinesTotalHeight();return m>=v-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(m){if(this._checkPendingChanges(),m=m|0,m<0)return 1;const v=this._lineCount|0,i=this._lineHeight;let C=1,s=v;for(;C<s;){const o=(C+s)/2|0,a=this.getVerticalOffsetForLineNumber(o)|0;if(m>=a+i)C=o+1;else{if(m>=a)return o;s=o}}return C>v?v:C}getLinesViewportData(m,v){this._checkPendingChanges(),m=m|0,v=v|0;const i=this._lineHeight,C=this.getLineNumberAtOrAfterVerticalOffset(m)|0,s=this.getVerticalOffsetForLineNumber(C)|0;let o=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(C)|0;const c=this.getWhitespacesCount()|0;let u,r;a===-1?(a=c,r=o+1,u=0):(r=this.getAfterLineNumberForWhitespaceIndex(a)|0,u=this.getHeightForWhitespaceIndex(a)|0);let n=s,l=n;const t=5e5;let d=0;s>=t&&(d=Math.floor(s/t)*t,d=Math.floor(d/i)*i,l-=d);const h=[],p=m+(v-m)/2;let w=-1;for(let y=C;y<=o;y++){if(w===-1){const I=n,N=n+i;(I<=p&&p<N||I>p)&&(w=y)}for(n+=i,h[y-C]=l,l+=i;r===y;)l+=u,n+=u,a++,a>=c?r=o+1:(r=this.getAfterLineNumberForWhitespaceIndex(a)|0,u=this.getHeightForWhitespaceIndex(a)|0);if(n>=v){o=y;break}}w===-1&&(w=o);const b=this.getVerticalOffsetForLineNumber(o)|0;let g=C,f=o;return g<f&&s<m&&g++,g<f&&b+i>v&&f--,{bigNumbersDelta:d,startLineNumber:C,endLineNumber:o,relativeVerticalOffset:h,centeredLineNumber:w,completelyVisibleStartLineNumber:g,completelyVisibleEndLineNumber:f}}getVerticalOffsetForWhitespaceIndex(m){this._checkPendingChanges(),m=m|0;const v=this.getAfterLineNumberForWhitespaceIndex(m);let i;v>=1?i=this._lineHeight*v:i=0;let C;return m>0?C=this.getWhitespacesAccumulatedHeight(m-1):C=0,i+C+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(m){this._checkPendingChanges(),m=m|0;let v=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const C=this.getVerticalOffsetForWhitespaceIndex(i),s=this.getHeightForWhitespaceIndex(i);if(m>=C+s)return-1;for(;v<i;){const o=Math.floor((v+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(o),c=this.getHeightForWhitespaceIndex(o);if(m>=a+c)v=o+1;else{if(m>=a)return o;i=o}}return v}getWhitespaceAtVerticalOffset(m){this._checkPendingChanges(),m=m|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(m);if(v<0||v>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(v);if(i>m)return null;const C=this.getHeightForWhitespaceIndex(v),s=this.getIdForWhitespaceIndex(v),o=this.getAfterLineNumberForWhitespaceIndex(v);return{id:s,afterLineNumber:o,verticalOffset:i,height:C}}getWhitespaceViewportData(m,v){this._checkPendingChanges(),m=m|0,v=v|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(m),C=this.getWhitespacesCount()-1;if(i<0)return[];let s=[];for(let o=i;o<=C;o++){const a=this.getVerticalOffsetForWhitespaceIndex(o),c=this.getHeightForWhitespaceIndex(o);if(a>=v)break;s.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:a,height:c})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].id}getAfterLineNumberForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].afterLineNumber}getHeightForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].height}}e.LinesLayout=L,L.INSTANCE_COUNT=0}),define(ie[114],ne([0,1,8,82,136]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class L{constructor(p,w,b){this._linePartBrand=void 0,this.endIndex=p,this.type=w,this.metadata=b}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class S{constructor(p,w){this.startOffset=p,this.endOffset=w}equals(p){return this.startOffset===p.startOffset&&this.endOffset===p.endOffset}}e.LineRange=S;class m{constructor(p,w,b,g,f,y,I,N,D,T,P,R,O,A,F,E,W,V,U){this.useMonospaceOptimizations=p,this.canUseHalfwidthRightwardsArrow=w,this.lineContent=b,this.continuesWithWrappedLine=g,this.isBasicASCII=f,this.containsRTL=y,this.fauxIndentLength=I,this.lineTokens=N,this.lineDecorations=D.sort(M.LineDecoration.compare),this.tabSize=T,this.startVisibleColumn=P,this.spaceWidth=R,this.stopRenderingLineAfter=F,this.renderWhitespace=E==="all"?4:E==="boundary"?1:E==="selection"?2:E==="trailing"?3:0,this.renderControlCharacters=W,this.fontLigatures=V,this.selectionsOnLine=U&&U.sort((te,ae)=>te.startOffset<ae.startOffset?-1:1);const q=Math.abs(A-R),j=Math.abs(O-R);q<j?(this.renderSpaceWidth=A,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=O,this.renderSpaceCharCode=183)}sameSelection(p){if(this.selectionsOnLine===null)return p===null;if(p===null||p.length!==this.selectionsOnLine.length)return!1;for(let w=0;w<this.selectionsOnLine.length;w++)if(!this.selectionsOnLine[w].equals(p[w]))return!1;return!0}equals(p){return this.useMonospaceOptimizations===p.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===p.canUseHalfwidthRightwardsArrow&&this.lineContent===p.lineContent&&this.continuesWithWrappedLine===p.continuesWithWrappedLine&&this.isBasicASCII===p.isBasicASCII&&this.containsRTL===p.containsRTL&&this.fauxIndentLength===p.fauxIndentLength&&this.tabSize===p.tabSize&&this.startVisibleColumn===p.startVisibleColumn&&this.spaceWidth===p.spaceWidth&&this.renderSpaceWidth===p.renderSpaceWidth&&this.renderSpaceCharCode===p.renderSpaceCharCode&&this.stopRenderingLineAfter===p.stopRenderingLineAfter&&this.renderWhitespace===p.renderWhitespace&&this.renderControlCharacters===p.renderControlCharacters&&this.fontLigatures===p.fontLigatures&&M.LineDecoration.equalsArr(this.lineDecorations,p.lineDecorations)&&this.lineTokens.equals(p.lineTokens)&&this.sameSelection(p.selectionsOnLine)}}e.RenderLineInput=m;class v{constructor(p,w){this.partIndex=p,this.charIndex=w}}e.DomPosition=v;class i{constructor(p,w){this.length=p,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(p){return(p&4294901760)>>>16}static getCharIndex(p){return(p&65535)>>>0}setColumnInfo(p,w,b,g){const f=(w<<16|b<<0)>>>0;this._data[p-1]=f,this._absoluteOffsets[p-1]=g+b}getAbsoluteOffset(p){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[p-1]}charOffsetToPartData(p){return this.length===0?0:p<0?this._data[0]:p>=this.length?this._data[this.length-1]:this._data[p]}getDomPosition(p){const w=this.charOffsetToPartData(p-1),b=i.getPartIndex(w),g=i.getCharIndex(w);return new v(b,g)}getColumn(p,w){return this.partDataToCharOffset(p.partIndex,w,p.charIndex)+1}partDataToCharOffset(p,w,b){if(this.length===0)return 0;let g=(p<<16|b<<0)>>>0,f=0,y=this.length-1;for(;f+1<y;){let F=f+y>>>1,E=this._data[F];if(E===g)return F;E>g?y=F:f=F}if(f===y)return f;let I=this._data[f],N=this._data[y];if(I===g)return f;if(N===g)return y;let D=i.getPartIndex(I),T=i.getCharIndex(I),P=i.getPartIndex(N),R;D!==P?R=w:R=i.getCharIndex(N);let O=b-T,A=R-b;return O<=A?f:y}}e.CharacterMapping=i;class C{constructor(p,w,b){this._renderLineOutputBrand=void 0,this.characterMapping=p,this.containsRTL=w,this.containsForeignElements=b}}e.RenderLineOutput=C;function s(h,p){if(h.lineContent.length===0){if(h.lineDecorations.length>0){p.appendASCIIString("<span>");let w=0,b=0,g=0;for(const y of h.lineDecorations)(y.type===1||y.type===2)&&(p.appendASCIIString('<span class="'),p.appendASCIIString(y.className),p.appendASCIIString('"></span>'),y.type===1&&(g|=1,w++),y.type===2&&(g|=2,b++));p.appendASCIIString("</span>");const f=new i(1,w+b);return f.setColumnInfo(1,w,0,0),new C(f,!1,g)}return p.appendASCIIString("<span><span></span></span>"),new C(new i(0,0),!1,0)}return d(u(h),p)}e.renderViewLine=s;class o{constructor(p,w,b,g){this.characterMapping=p,this.html=w,this.containsRTL=b,this.containsForeignElements=g}}e.RenderLineOutput2=o;function a(h){let p=k.createStringBuilder(1e4),w=s(h,p);return new o(w.characterMapping,p.build(),w.containsRTL,w.containsForeignElements)}e.renderViewLine2=a;class c{constructor(p,w,b,g,f,y,I,N,D,T,P,R,O,A,F){this.fontIsMonospace=p,this.canUseHalfwidthRightwardsArrow=w,this.lineContent=b,this.len=g,this.isOverflowing=f,this.parts=y,this.containsForeignElements=I,this.fauxIndentLength=N,this.tabSize=D,this.startVisibleColumn=T,this.containsRTL=P,this.spaceWidth=R,this.renderSpaceCharCode=O,this.renderWhitespace=A,this.renderControlCharacters=F}}function u(h){const p=h.lineContent;let w,b;h.stopRenderingLineAfter!==-1&&h.stopRenderingLineAfter<p.length?(w=!0,b=h.stopRenderingLineAfter):(w=!1,b=p.length);let g=r(h.lineTokens,h.fauxIndentLength,b);(h.renderWhitespace===4||h.renderWhitespace===1||h.renderWhitespace===2&&!!h.selectionsOnLine||h.renderWhitespace===3)&&(g=l(h,p,b,g));let f=0;if(h.lineDecorations.length>0){for(let y=0,I=h.lineDecorations.length;y<I;y++){const N=h.lineDecorations[y];N.type===3||N.type===1?f|=1:N.type===2&&(f|=2)}g=t(p,b,g,h.lineDecorations)}return h.containsRTL||(g=n(p,g,!h.isBasicASCII||h.fontLigatures)),new c(h.useMonospaceOptimizations,h.canUseHalfwidthRightwardsArrow,p,b,w,g,f,h.fauxIndentLength,h.tabSize,h.startVisibleColumn,h.containsRTL,h.spaceWidth,h.renderSpaceCharCode,h.renderWhitespace,h.renderControlCharacters)}function r(h,p,w){let b=[],g=0;p>0&&(b[g++]=new L(p,"",0));for(let f=0,y=h.getCount();f<y;f++){const I=h.getEndOffset(f);if(I<=p)continue;const N=h.getClassName(f);if(I>=w){b[g++]=new L(w,N,0);break}b[g++]=new L(I,N,0)}return b}function n(h,p,w){let b=0,g=[],f=0;if(w)for(let y=0,I=p.length;y<I;y++){const N=p[y],D=N.endIndex;if(b+50<D){const T=N.type,P=N.metadata;let R=-1,O=b;for(let A=b;A<D;A++)h.charCodeAt(A)===32&&(R=A),R!==-1&&A-O>=50&&(g[f++]=new L(R+1,T,P),O=R+1,R=-1);O!==D&&(g[f++]=new L(D,T,P))}else g[f++]=N;b=D}else for(let y=0,I=p.length;y<I;y++){const N=p[y],D=N.endIndex;let T=D-b;if(T>50){const P=N.type,R=N.metadata,O=Math.ceil(T/50);for(let A=1;A<O;A++){let F=b+A*50;g[f++]=new L(F,P,R)}g[f++]=new L(D,P,R)}else g[f++]=N;b=D}return g}function l(h,p,w,b){const g=h.continuesWithWrappedLine,f=h.fauxIndentLength,y=h.tabSize,I=h.startVisibleColumn,N=h.useMonospaceOptimizations,D=h.selectionsOnLine,T=h.renderWhitespace===1,P=h.renderWhitespace===3,R=h.renderSpaceWidth!==h.spaceWidth;let O=[],A=0,F=0,E=b[F].type,W=b[F].endIndex;const V=b.length;let U=!1,q=_.firstNonWhitespaceIndex(p),j;q===-1?(U=!0,q=w,j=w):j=_.lastNonWhitespaceIndex(p);let te=!1,ae=0,de=D&&D[ae],ue=I%y;for(let B=f;B<w;B++){const Z=p.charCodeAt(B);de&&B>=de.endOffset&&(ae++,de=D&&D[ae]);let H;if(B<q||B>j)H=!0;else if(Z===9)H=!0;else if(Z===32)if(T)if(te)H=!0;else{const z=B+1<w?p.charCodeAt(B+1):0;H=z===32||z===9}else H=!0;else H=!1;if(H&&D&&(H=!!de&&de.startOffset<=B&&de.endOffset>B),H&&P&&(H=U||B>j),te){if(!H||!N&&ue>=y){if(R){const z=A>0?O[A-1].endIndex:f;for(let ee=z+1;ee<=B;ee++)O[A++]=new L(ee,"mtkw",1)}else O[A++]=new L(B,"mtkw",1);ue=ue%y}}else(B===W||H&&B>f)&&(O[A++]=new L(B,E,0),ue=ue%y);for(Z===9?ue=y:_.isFullWidthCharacter(Z)?ue+=2:ue++,te=H;B===W&&(F++,F<V);)E=b[F].type,W=b[F].endIndex}let X=!1;if(te)if(g&&T){let B=w>0?p.charCodeAt(w-1):0,Z=w>1?p.charCodeAt(w-2):0;B===32&&Z!==32&&Z!==9||(X=!0)}else X=!0;if(X)if(R){const B=A>0?O[A-1].endIndex:f;for(let Z=B+1;Z<=w;Z++)O[A++]=new L(Z,"mtkw",1)}else O[A++]=new L(w,"mtkw",1);else O[A++]=new L(w,E,0);return O}function t(h,p,w,b){b.sort(M.LineDecoration.compare);const g=M.LineDecorationsNormalizer.normalize(h,b),f=g.length;let y=0,I=[],N=0,D=0;for(let P=0,R=w.length;P<R;P++){const O=w[P],A=O.endIndex,F=O.type,E=O.metadata;for(;y<f&&g[y].startOffset<A;){const W=g[y];if(W.startOffset>D&&(D=W.startOffset,I[N++]=new L(D,F,E)),W.endOffset+1<=A)D=W.endOffset+1,I[N++]=new L(D,F+" "+W.className,E|W.metadata),y++;else{D=A,I[N++]=new L(D,F+" "+W.className,E|W.metadata);break}}A>D&&(D=A,I[N++]=new L(D,F,E))}const T=w[w.length-1].endIndex;if(y<f&&g[y].startOffset===T)for(;y<f&&g[y].startOffset===T;){const P=g[y];I[N++]=new L(D,P.className,P.metadata),y++}return I}function d(h,p){const w=h.fontIsMonospace,b=h.canUseHalfwidthRightwardsArrow,g=h.containsForeignElements,f=h.lineContent,y=h.len,I=h.isOverflowing,N=h.parts,D=h.fauxIndentLength,T=h.tabSize,P=h.startVisibleColumn,R=h.containsRTL,O=h.spaceWidth,A=h.renderSpaceCharCode,F=h.renderWhitespace,E=h.renderControlCharacters,W=new i(y+1,N.length);let V=!1,U=0,q=P,j=0,te=0,ae=0,de=0;R?p.appendASCIIString('<span dir="ltr">'):p.appendASCIIString("<span>");for(let ue=0,X=N.length;ue<X;ue++){de+=ae;const B=N[ue],Z=B.endIndex,H=B.type,z=F!==0&&B.isWhitespace(),ee=z&&!w&&(H==="mtkw"||!g),x=U===Z&&B.isPseudoAfter();if(j=0,p.appendASCIIString('<span class="'),p.appendASCIIString(ee?"mtkz":H),p.appendASCII(34),z){let G=0;{let Q=U,J=q;for(;Q<Z;Q++){const oe=(f.charCodeAt(Q)===9?T-J%T:1)|0;G+=oe,Q>=D&&(J+=oe)}}for(ee&&(p.appendASCIIString(' style="width:'),p.appendASCIIString(String(O*G)),p.appendASCIIString('px"')),p.appendASCII(62);U<Z;U++){W.setColumnInfo(U+1,ue-te,j,de),te=0;const Q=f.charCodeAt(U);let J;if(Q===9){J=T-q%T|0,!b||J>1?p.write1(8594):p.write1(65515);for(let le=2;le<=J;le++)p.write1(160)}else J=1,p.write1(A);j+=J,U>=D&&(q+=J)}ae=G}else{let G=0;for(p.appendASCII(62);U<Z;U++){W.setColumnInfo(U+1,ue-te,j,de),te=0;const Q=f.charCodeAt(U);let J=1,le=1;switch(Q){case 9:J=T-q%T,le=J;for(let oe=1;oe<=J;oe++)p.write1(160);break;case 32:p.write1(160);break;case 60:p.appendASCIIString("&lt;");break;case 62:p.appendASCIIString("&gt;");break;case 38:p.appendASCIIString("&amp;");break;case 0:E?p.write1(9216):p.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:p.write1(65533);break;default:_.isFullWidthCharacter(Q)&&le++,E&&Q<32?p.write1(9216+Q):E&&Q===127?p.write1(9249):p.write1(Q)}j+=J,G+=J,U>=D&&(q+=le)}ae=G}x?te++:te=0,U>=y&&!V&&B.isPseudoAfter()&&(V=!0,W.setColumnInfo(U+1,ue,j,de)),p.appendASCIIString("</span>")}return V||W.setColumnInfo(y+1,N.length-1,j,de),I&&p.appendASCIIString("<span>&hellip;</span>"),p.appendASCIIString("</span>"),new C(W,R,g)}}),define(ie[396],ne([0,1,3]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(L,S,m,v){this.selections=L,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=m,this._model=v,this.visibleRange=new _.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(L){return this._model.getViewLineRenderingData(this.visibleRange,L)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(ie[224],ne([0,1,129]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumComputer=e.PrefixSumIndexOfResult=void 0;class k{constructor(S,m){this._prefixSumIndexOfResultBrand=void 0,this.index=S,this.remainder=m}}e.PrefixSumIndexOfResult=k;class M{constructor(S){this.values=S,this.prefixSum=new Uint32Array(S.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(S,m){S=_.toUint32(S);const v=this.values,i=this.prefixSum,C=m.length;return C===0?!1:(this.values=new Uint32Array(v.length+C),this.values.set(v.subarray(0,S),0),this.values.set(v.subarray(S),S+C),this.values.set(m,S),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(S,m){return S=_.toUint32(S),m=_.toUint32(m),this.values[S]===m?!1:(this.values[S]=m,S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),!0)}removeValues(S,m){S=_.toUint32(S),m=_.toUint32(m);const v=this.values,i=this.prefixSum;if(S>=v.length)return!1;let C=v.length-S;return m>=C&&(m=C),m===0?!1:(this.values=new Uint32Array(v.length-m),this.values.set(v.subarray(0,S),0),this.values.set(v.subarray(S+m),S),this.prefixSum=new Uint32Array(this.values.length),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(S){return S<0?0:(S=_.toUint32(S),this._getPrefixSum(S))}_getPrefixSum(S){if(S<=this.prefixSumValidIndex[0])return this.prefixSum[S];let m=this.prefixSumValidIndex[0]+1;m===0&&(this.prefixSum[0]=this.values[0],m++),S>=this.values.length&&(S=this.values.length-1);for(let v=m;v<=S;v++)this.prefixSum[v]=this.prefixSum[v-1]+this.values[v];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],S),this.prefixSum[S]}getIndexOf(S){S=Math.floor(S),this.getTotalSum();let m=0,v=this.values.length-1,i=0,C=0,s=0;for(;m<=v;)if(i=m+(v-m)/2|0,C=this.prefixSum[i],s=C-this.values[i],S<s)v=i-1;else if(S>=C)m=i+1;else break;return new k(i,S-s)}}e.PrefixSumComputer=M}),define(ie[397],ne([0,1,8,13,224]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class L{constructor(m,v,i,C){this._uri=m,this._lines=v,this._eol=i,this._versionId=C,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(m){m.eol&&m.eol!==this._eol&&(this._eol=m.eol,this._lineStarts=null);const v=m.changes;for(const i of v)this._acceptDeleteRange(i.range),this._acceptInsertText(new k.Position(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=m.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const m=this._eol.length,v=this._lines.length,i=new Uint32Array(v);for(let C=0;C<v;C++)i[C]=this._lines[C].length+m;this._lineStarts=new M.PrefixSumComputer(i)}}_setLineText(m,v){this._lines[m]=v,this._lineStarts&&this._lineStarts.changeValue(m,this._lines[m].length+this._eol.length)}_acceptDeleteRange(m){if(m.startLineNumber===m.endLineNumber){if(m.startColumn===m.endColumn)return;this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.startLineNumber-1].substring(m.endColumn-1));return}this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.endLineNumber-1].substring(m.endColumn-1)),this._lines.splice(m.startLineNumber,m.endLineNumber-m.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(m.startLineNumber,m.endLineNumber-m.startLineNumber)}_acceptInsertText(m,v){if(v.length===0)return;let i=_.splitLines(v);if(i.length===1){this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+i[0]+this._lines[m.lineNumber-1].substring(m.column-1));return}i[i.length-1]+=this._lines[m.lineNumber-1].substring(m.column-1),this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+i[0]);let C=new Uint32Array(i.length-1);for(let s=1;s<i.length;s++)this._lines.splice(m.lineNumber+s-1,0,i[s]),C[s-1]=i[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(m.lineNumber,C)}}e.MirrorTextModel=L}),define(ie[398],ne([0,1,128,17,24,13,3,378,397,135,384,387,222,20,80]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class u extends v.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,d){let h=i.getWordAtText(t.column,i.ensureValidWordDefinition(d),this._lines[t.lineNumber-1],0);return h?new S.Range(t.lineNumber,h.startColumn,t.lineNumber,h.endColumn):null}words(t){const d=this._lines,h=this._wordenize.bind(this);let p=0,w="",b=0,g=[];return{*[Symbol.iterator](){for(;;)if(b<g.length){const f=w.substring(g[b].start,g[b].end);b+=1,yield f}else if(p<d.length)w=d[p],g=h(w,t),b=0,p+=1;else break}}}getLineWords(t,d){let h=this._lines[t-1],p=this._wordenize(h,d),w=[];for(const b of p)w.push({word:h.substring(b.start,b.end),startColumn:b.start+1,endColumn:b.end+1});return w}_wordenize(t,d){const h=[];let p;for(d.lastIndex=0;(p=d.exec(t))&&p[0].length!==0;)h.push({start:p.index,end:p.index+p[0].length});return h}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);let d=this._eol,h=t.startLineNumber-1,p=t.endLineNumber-1,w=[];w.push(this._lines[h].substring(t.startColumn-1));for(let b=h+1;b<p;b++)w.push(this._lines[b]);return w.push(this._lines[p].substring(0,t.endColumn-1)),w.join(d)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();let d=this._lineStarts.getIndexOf(t),h=this._lines[d.index].length;return{lineNumber:1+d.index,column:1+Math.min(d.remainder,h)}}_validateRange(t){const d=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),h=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return d.lineNumber!==t.startLineNumber||d.column!==t.startColumn||h.lineNumber!==t.endLineNumber||h.column!==t.endColumn?{startLineNumber:d.lineNumber,startColumn:d.column,endLineNumber:h.lineNumber,endColumn:h.column}:t}_validatePosition(t){if(!L.Position.isIPosition(t))throw new Error("bad position");let{lineNumber:d,column:h}=t,p=!1;if(d<1)d=1,h=1,p=!0;else if(d>this._lines.length)d=this._lines.length,h=this._lines[d-1].length+1,p=!0;else{let w=this._lines[d-1].length+1;h<1?(h=1,p=!0):h>w&&(h=w,p=!0)}return p?{lineNumber:d,column:h}:t}}class r{constructor(t,d){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=d,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){let t=[];return Object.keys(this._models).forEach(d=>t.push(this._models[d])),t}acceptNewModel(t){this._models[t.url]=new u(M.URI.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,d){if(!this._models[t])return;this._models[t].onEvents(d)}acceptRemovedModel(t){!this._models[t]||delete this._models[t]}computeDiff(t,d,h,p){return Ie(this,void 0,void 0,function*(){const w=this._getModel(t),b=this._getModel(d);if(!w||!b)return null;const g=w.getLinesContent(),f=b.getLinesContent(),I=new m.DiffComputer(g,f,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:h,shouldMakePrettyDiff:!0,maxComputationTime:p}).computeDiff(),N=I.changes.length>0?!1:this._modelsAreIdentical(w,b);return{quitEarly:I.quitEarly,identical:N,changes:I.changes}})}_modelsAreIdentical(t,d){const h=t.getLineCount(),p=d.getLineCount();if(h!==p)return!1;for(let w=1;w<=h;w++){const b=t.getLineContent(w),g=d.getLineContent(w);if(b!==g)return!1}return!0}computeMoreMinimalEdits(t,d){return Ie(this,void 0,void 0,function*(){const h=this._getModel(t);if(!h)return d;const p=[];let w;d=d.slice(0).sort((b,g)=>{if(b.range&&g.range)return S.Range.compareRangesUsingStarts(b.range,g.range);let f=b.range?0:1,y=g.range?0:1;return f-y});for(let{range:b,text:g,eol:f}of d){if(typeof f=="number"&&(w=f),S.Range.isEmpty(b)&&!g)continue;const y=h.getValueInRange(b);if(g=g.replace(/\r\n|\n|\r/g,h.eol),y===g)continue;if(Math.max(g.length,y.length)>r._diffLimit){p.push({range:b,text:g});continue}const I=_.stringDiff(y,g,!1),N=h.offsetAt(S.Range.lift(b).getStartPosition());for(const D of I){const T=h.positionAt(N+D.originalStart),P=h.positionAt(N+D.originalStart+D.originalLength),R={text:g.substr(D.modifiedStart,D.modifiedLength),range:{startLineNumber:T.lineNumber,startColumn:T.column,endLineNumber:P.lineNumber,endColumn:P.column}};h.getValueInRange(R.range)!==R.text&&p.push(R)}}return typeof w=="number"&&p.push({eol:w,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),p})}computeLinks(t){return Ie(this,void 0,void 0,function*(){let d=this._getModel(t);return d?C.computeLinks(d):null})}textualSuggest(t,d,h,p){return Ie(this,void 0,void 0,function*(){const w=new c.StopWatch(!0),b=new RegExp(h,p),g=new Set;e:for(let f of t){const y=this._getModel(f);if(!!y){for(let I of y.words(b))if(!(I===d||!isNaN(Number(I)))&&(g.add(I),g.size>r._suggestionsLimit))break e}}return{words:Array.from(g),duration:w.elapsed()}})}computeWordRanges(t,d,h,p){return Ie(this,void 0,void 0,function*(){let w=this._getModel(t);if(!w)return Object.create(null);const b=new RegExp(h,p),g=Object.create(null);for(let f=d.startLineNumber;f<d.endLineNumber;f++){let y=w.getLineWords(f,b);for(const I of y){if(!isNaN(Number(I.word)))continue;let N=g[I.word];N||(N=[],g[I.word]=N),N.push({startLineNumber:f,startColumn:I.startColumn,endLineNumber:f,endColumn:I.endColumn})}}return g})}navigateValueSet(t,d,h,p,w){return Ie(this,void 0,void 0,function*(){let b=this._getModel(t);if(!b)return null;let g=new RegExp(p,w);d.startColumn===d.endColumn&&(d={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.endColumn+1});let f=b.getValueInRange(d),y=b.getWordAtPosition({lineNumber:d.startLineNumber,column:d.startColumn},g);if(!y)return null;let I=b.getValueInRange(y);return s.BasicInplaceReplace.INSTANCE.navigateValueSet(d,f,y,I,h)})}loadForeignModule(t,d,h){const p=(g,f)=>this._host.fhr(g,f);let b={host:a.createProxyObject(h,p),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(b,d),Promise.resolve(a.getAllMethodNames(this._foreignModule))):new Promise((g,f)=>{$([t],y=>{this._foreignModule=y.create(b,d),g(a.getAllMethodNames(this._foreignModule))},f)})}fmr(t,d){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,d))}catch(h){return Promise.reject(h)}}}e.EditorSimpleWorker=r,r._diffLimit=1e5,r._suggestionsLimit=1e4;function n(l){return new r(l,null)}e.create=n,typeof importScripts=="function"&&(k.globals.monaco=o.createMonacoBaseAPI())}),define(ie[115],ne([0,1,2]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends _.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(L){return!1}onCompositionEnd(L){return!1}onConfigurationChanged(L){return!1}onCursorStateChanged(L){return!1}onDecorationsChanged(L){return!1}onFlushed(L){return!1}onFocusChanged(L){return!1}onLanguageConfigurationChanged(L){return!1}onLineMappingChanged(L){return!1}onLinesChanged(L){return!1}onLinesDeleted(L){return!1}onLinesInserted(L){return!1}onRevealRangeRequest(L){return!1}onScrollChanged(L){return!1}onThemeChanged(L){return!1}onTokensChanged(L){return!1}onTokensColorsChanged(L){return!1}onZonesChanged(L){return!1}handleEvents(L){let S=!1;for(let m=0,v=L.length;m<v;m++){let i=L[m];switch(i.type){case 0:this.onCompositionStart(i)&&(S=!0);break;case 1:this.onCompositionEnd(i)&&(S=!0);break;case 2:this.onConfigurationChanged(i)&&(S=!0);break;case 3:this.onCursorStateChanged(i)&&(S=!0);break;case 4:this.onDecorationsChanged(i)&&(S=!0);break;case 5:this.onFlushed(i)&&(S=!0);break;case 6:this.onFocusChanged(i)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(S=!0);break;case 8:this.onLineMappingChanged(i)&&(S=!0);break;case 9:this.onLinesChanged(i)&&(S=!0);break;case 10:this.onLinesDeleted(i)&&(S=!0);break;case 11:this.onLinesInserted(i)&&(S=!0);break;case 12:this.onRevealRangeRequest(i)&&(S=!0);break;case 13:this.onScrollChanged(i)&&(S=!0);break;case 15:this.onTokensChanged(i)&&(S=!0);break;case 14:this.onThemeChanged(i)&&(S=!0);break;case 16:this.onTokensColorsChanged(i)&&(S=!0);break;case 17:this.onZonesChanged(i)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(i)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(ie[96],ne([0,1,115]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends _.ViewEventHandler{}e.DynamicViewOverlay=k}),define(ie[47],ne([0,1,30,115]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class M extends k.ViewEventHandler{constructor(m){super();this._context=m,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=M;class L{static write(m,v){m instanceof _.FastDomNode,m.setAttribute("data-mprt",String(v))}static read(m){const v=m.getAttribute("data-mprt");return v===null?0:parseInt(v,10)}static collect(m,v){let i=[],C=0;for(;m&&m!==document.body&&m!==v;)m.nodeType===m.ELEMENT_NODE&&(i[C++]=this.read(m)),m=m.parentElement;const s=new Uint8Array(C);for(let o=0;o<C;o++)s[o]=i[C-o-1];return s}}e.PartFingerprints=L}),define(ie[399],ne([0,1,7,30,47]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class L{constructor(C,s){this._coordinateBrand=void 0,this.top=C,this.left=s}}class S extends M.ViewPart{constructor(C,s){super(C);this._viewDomNode=s,this._widgets={},this.domNode=k.createFastDomNode(document.createElement("div")),M.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=k.createFastDomNode(document.createElement("div")),M.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(C){const s=Object.keys(this._widgets);for(const o of s)this._widgets[o].onConfigurationChanged(C);return!0}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLineMappingChanged(C){const s=Object.keys(this._widgets);for(const o of s)this._widgets[o].onLineMappingChanged(C);return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return!0}onZonesChanged(C){return!0}addWidget(C){const s=new m(this._context,this._viewDomNode,C);this._widgets[s.id]=s,s.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(s.domNode):this.domNode.appendChild(s.domNode),this.setShouldRender()}setWidgetPosition(C,s,o){this._widgets[C.getId()].setPosition(s,o),this.setShouldRender()}removeWidget(C){const s=C.getId();if(this._widgets.hasOwnProperty(s)){const o=this._widgets[s];delete this._widgets[s];const a=o.domNode.domNode;a.parentNode.removeChild(a),a.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(C){return this._widgets.hasOwnProperty(C)?this._widgets[C].suppressMouseDown:!1}onBeforeRender(C){const s=Object.keys(this._widgets);for(const o of s)this._widgets[o].onBeforeRender(C)}prepareRender(C){const s=Object.keys(this._widgets);for(const o of s)this._widgets[o].prepareRender(C)}render(C){const s=Object.keys(this._widgets);for(const o of s)this._widgets[o].render(C)}}e.ViewContentWidgets=S;class m{constructor(C,s,o){this._context=C,this._viewDomNode=s,this._actual=o,this.domNode=k.createFastDomNode(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const a=this._context.configuration.options,c=a.get(128);this._fixedOverflowWidgets=a.get(34),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,this._lineHeight=a.get(56),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(C){const s=this._context.configuration.options;if(this._lineHeight=s.get(56),C.hasChanged(128)){const o=s.get(128);this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(C){this._setPosition(this._range)}_setPosition(C){if(this._range=C,this._viewRange=null,this._range){const s=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(s.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(s.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(s))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(C,s){this._setPosition(C),this._preference=s,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(C,s,o,a,c){const u=C.top,r=u,n=s.top+this._lineHeight,l=c.viewportHeight-n,t=u-a,d=r>=a,h=n,p=l>=a;let w=C.left,b=s.left;return w+o>c.scrollLeft+c.viewportWidth&&(w=c.scrollLeft+c.viewportWidth-o),b+o>c.scrollLeft+c.viewportWidth&&(b=c.scrollLeft+c.viewportWidth-o),w<c.scrollLeft&&(w=c.scrollLeft),b<c.scrollLeft&&(b=c.scrollLeft),{fitsAbove:d,aboveTop:t,aboveLeft:w,fitsBelow:p,belowTop:h,belowLeft:b}}_layoutHorizontalSegmentInPage(C,s,o,a){const c=Math.max(0,s.left-a),u=Math.min(s.left+s.width+a,C.width);let r=s.left+o-_.StandardWindow.scrollX;if(r+a>u){const n=r-(u-a);r-=n,o-=n}if(r<c){const n=r-c;r-=n,o-=n}return[o,r]}_layoutBoxInPage(C,s,o,a,c){const u=C.top-a,r=s.top+this._lineHeight,n=_.getDomNodePagePosition(this._viewDomNode.domNode),l=n.top+u-_.StandardWindow.scrollY,t=n.top+r-_.StandardWindow.scrollY,d=_.getClientArea(document.body),[h,p]=this._layoutHorizontalSegmentInPage(d,n,C.left-c.scrollLeft+this._contentLeft,o),[w,b]=this._layoutHorizontalSegmentInPage(d,n,s.left-c.scrollLeft+this._contentLeft,o),g=22,f=22,y=l>=g,I=t+a<=d.height-f;return this._fixedOverflowWidgets?{fitsAbove:y,aboveTop:Math.max(l,g),aboveLeft:p,fitsBelow:I,belowTop:t,belowLeft:b}:{fitsAbove:y,aboveTop:u,aboveLeft:h,fitsBelow:I,belowTop:r,belowLeft:w}}_prepareRenderWidgetAtExactPositionOverflowing(C){return new L(C.top,C.left+this._contentLeft)}_getTopAndBottomLeft(C){if(!this._viewRange)return[null,null];const s=C.linesVisibleRangesForRange(this._viewRange,!1);if(!s||s.length===0)return[null,null];let o=s[0],a=s[0];for(const d of s)d.lineNumber<o.lineNumber&&(o=d),d.lineNumber>a.lineNumber&&(a=d);let c=1073741824;for(const d of o.ranges)d.left<c&&(c=d.left);let u=1073741824;for(const d of a.ranges)d.left<u&&(u=d.left);const r=C.getVerticalOffsetForLineNumber(o.lineNumber)-C.scrollTop,n=new L(r,c),l=C.getVerticalOffsetForLineNumber(a.lineNumber)-C.scrollTop,t=new L(l,u);return[n,t]}_prepareRenderWidget(C){const[s,o]=this._getTopAndBottomLeft(C);if(!s||!o)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let c=null;if(typeof this._actual.beforeRender=="function"&&(c=v(this._actual.beforeRender,this._actual)),c)this._cachedDomNodeClientWidth=c.width,this._cachedDomNodeClientHeight=c.height;else{const u=this.domNode.domNode;this._cachedDomNodeClientWidth=u.clientWidth,this._cachedDomNodeClientHeight=u.clientHeight}}let a;if(this.allowEditorOverflow?a=this._layoutBoxInPage(s,o,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,C):a=this._layoutBoxInViewport(s,o,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,C),this._preference)for(let c=1;c<=2;c++)for(const u of this._preference)if(u===1){if(!a)return null;if(c===2||a.fitsAbove)return{coordinate:new L(a.aboveTop,a.aboveLeft),position:1}}else if(u===2){if(!a)return null;if(c===2||a.fitsBelow)return{coordinate:new L(a.belowTop,a.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(s),position:0}:{coordinate:s,position:0};return null}onBeforeRender(C){!this._viewRange||!this._preference||this._viewRange.endLineNumber<C.startLineNumber||this._viewRange.startLineNumber>C.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(C){this._renderData=this._prepareRenderWidget(C)}render(C){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+C.scrollTop-C.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,this._renderData.position)}}function v(i,C,...s){try{return i.call(C,...s)}catch(o){return null}}}),define(ie[400],ne([0,1,96,3,113,328]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class L extends _.DynamicViewOverlay{constructor(m){super();this._context=m;const v=this._context.configuration.options;this._lineHeight=v.get(56),this._typicalHalfwidthCharacterWidth=v.get(40).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(m){const v=this._context.configuration.options;return this._lineHeight=v.get(56),this._typicalHalfwidthCharacterWidth=v.get(40).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(m){return!0}onFlushed(m){return!0}onLinesChanged(m){return!0}onLinesDeleted(m){return!0}onLinesInserted(m){return!0}onScrollChanged(m){return m.scrollTopChanged||m.scrollWidthChanged}onZonesChanged(m){return!0}prepareRender(m){const v=m.getDecorationsInViewport();let i=[],C=0;for(let c=0,u=v.length;c<u;c++){const r=v[c];r.options.className&&(i[C++]=r)}i=i.sort((c,u)=>{if(c.options.zIndex<u.options.zIndex)return-1;if(c.options.zIndex>u.options.zIndex)return 1;const r=c.options.className,n=u.options.className;return r<n?-1:r>n?1:k.Range.compareRangesUsingStarts(c.range,u.range)});const s=m.visibleRange.startLineNumber,o=m.visibleRange.endLineNumber,a=[];for(let c=s;c<=o;c++){const u=c-s;a[u]=""}this._renderWholeLineDecorations(m,i,a),this._renderNormalDecorations(m,i,a),this._renderResult=a}_renderWholeLineDecorations(m,v,i){const C=String(this._lineHeight),s=m.visibleRange.startLineNumber,o=m.visibleRange.endLineNumber;for(let a=0,c=v.length;a<c;a++){const u=v[a];if(!u.options.isWholeLine)continue;const r='<div class="cdr '+u.options.className+'" style="left:0;width:100%;height:'+C+'px;"></div>',n=Math.max(u.range.startLineNumber,s),l=Math.min(u.range.endLineNumber,o);for(let t=n;t<=l;t++){const d=t-s;i[d]+=r}}}_renderNormalDecorations(m,v,i){const C=String(this._lineHeight),s=m.visibleRange.startLineNumber;let o=null,a=!1,c=null;for(let u=0,r=v.length;u<r;u++){const n=v[u];if(n.options.isWholeLine)continue;const l=n.options.className,t=Boolean(n.options.showIfCollapsed);let d=n.range;if(t&&d.endColumn===1&&d.endLineNumber!==d.startLineNumber&&(d=new k.Range(d.startLineNumber,d.startColumn,d.endLineNumber-1,this._context.model.getLineMaxColumn(d.endLineNumber-1))),o===l&&a===t&&k.Range.areIntersectingOrTouching(c,d)){c=k.Range.plusRange(c,d);continue}o!==null&&this._renderNormalDecoration(m,c,o,a,C,s,i),o=l,a=t,c=d}o!==null&&this._renderNormalDecoration(m,c,o,a,C,s,i)}_renderNormalDecoration(m,v,i,C,s,o,a){const c=m.linesVisibleRangesForRange(v,i==="findMatch");if(!!c)for(let u=0,r=c.length;u<r;u++){const n=c[u];if(n.outsideRenderedLine)continue;const l=n.lineNumber-o;if(C&&n.ranges.length===1){const t=n.ranges[0];t.width===0&&(n.ranges[0]=new M.HorizontalRange(t.left,this._typicalHalfwidthCharacterWidth))}for(let t=0,d=n.ranges.length;t<d;t++){const h=n.ranges[t],p='<div class="cdr '+i+'" style="left:'+String(h.left)+"px;width:"+String(h.width)+"px;height:"+s+'px;"></div>';a[l]+=p}}}render(m,v){if(!this._renderResult)return"";const i=v-m;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.DecorationsOverlay=L}),define(ie[176],ne([0,1,96,329]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class k{constructor(m,v,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+m,this.endLineNumber=+v,this.className=String(i)}}e.DecorationToRender=k;class M extends _.DynamicViewOverlay{_render(m,v,i){const C=[];for(let a=m;a<=v;a++){const c=a-m;C[c]=[]}if(i.length===0)return C;i.sort((a,c)=>a.className===c.className?a.startLineNumber===c.startLineNumber?a.endLineNumber-c.endLineNumber:a.startLineNumber-c.startLineNumber:a.className<c.className?-1:1);let s=null,o=0;for(let a=0,c=i.length;a<c;a++){const u=i[a],r=u.className;let n=Math.max(u.startLineNumber,m)-m;const l=Math.min(u.endLineNumber,v)-m;s===r?(n=Math.max(o+1,n),o=Math.max(o,l)):(s=r,o=l);for(let t=n;t<=o;t++)C[t].push(s)}return C}}e.DedupOverlay=M;class L extends M{constructor(m){super();this._context=m;const v=this._context.configuration.options,i=v.get(128);this._lineHeight=v.get(56),this._glyphMargin=v.get(46),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(m){const v=this._context.configuration.options,i=v.get(128);return this._lineHeight=v.get(56),this._glyphMargin=v.get(46),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(m){return!0}onFlushed(m){return!0}onLinesChanged(m){return!0}onLinesDeleted(m){return!0}onLinesInserted(m){return!0}onScrollChanged(m){return m.scrollTopChanged}onZonesChanged(m){return!0}_getDecorations(m){const v=m.getDecorationsInViewport();let i=[],C=0;for(let s=0,o=v.length;s<o;s++){const a=v[s],c=a.options.glyphMarginClassName;c&&(i[C++]=new k(a.range.startLineNumber,a.range.endLineNumber,c))}return i}prepareRender(m){if(!this._glyphMargin){this._renderResult=null;return}const v=m.visibleRange.startLineNumber,i=m.visibleRange.endLineNumber,C=this._render(v,i,this._getDecorations(m)),s=this._lineHeight.toString(),o=this._glyphMarginLeft.toString(),a=this._glyphMarginWidth.toString(),c='" style="left:'+o+"px;width:"+a+"px;height:"+s+'px;"></div>',u=[];for(let r=v;r<=i;r++){const n=r-v,l=C[n];l.length===0?u[n]="":u[n]='<div class="cgmr codicon '+l.join(" ")+c}this._renderResult=u}render(m,v){if(!this._renderResult)return"";const i=v-m;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.GlyphMarginOverlay=L}),define(ie[401],ne([0,1,176,333]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends _.DedupOverlay{constructor(L){super();this._context=L;const m=this._context.configuration.options.get(128);this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(L){const m=this._context.configuration.options.get(128);return this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,!0}onDecorationsChanged(L){return!0}onFlushed(L){return!0}onLinesChanged(L){return!0}onLinesDeleted(L){return!0}onLinesInserted(L){return!0}onScrollChanged(L){return L.scrollTopChanged}onZonesChanged(L){return!0}_getDecorations(L){const S=L.getDecorationsInViewport();let m=[],v=0;for(let i=0,C=S.length;i<C;i++){const s=S[i],o=s.options.linesDecorationsClassName;o&&(m[v++]=new _.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,o));const a=s.options.firstLineDecorationClassName;a&&(m[v++]=new _.DecorationToRender(s.range.startLineNumber,s.range.startLineNumber,a))}return m}prepareRender(L){const S=L.visibleRange.startLineNumber,m=L.visibleRange.endLineNumber,v=this._render(S,m,this._getDecorations(L)),i=this._decorationsLeft.toString(),C=this._decorationsWidth.toString(),s='" style="left:'+i+"px;width:"+C+'px;"></div>',o=[];for(let a=S;a<=m;a++){const c=a-S,u=v[c];let r="";for(let n=0,l=u.length;n<l;n++)r+='<div class="cldr '+u[n]+s;o[c]=r}this._renderResult=o}render(L,S){return this._renderResult?this._renderResult[S-L]:""}}e.LinesDecorationsOverlay=k}),define(ie[225],ne([0,1,30,47]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class M extends k.ViewPart{constructor(S){super(S);const m=this._context.configuration.options,v=m.get(128);this._canUseLayerHinting=!m.get(26),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._domNode=_.createFastDomNode(document.createElement("div")),this._domNode.setClassName(M.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=_.createFastDomNode(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(M.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const m=this._context.configuration.options,v=m.get(128);return this._canUseLayerHinting=!m.get(26),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const m=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-m);const v=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(v),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(v)}}e.Margin=M,M.CLASS_NAME="glyph-margin",M.OUTER_CLASS_NAME="margin"}),define(ie[402],ne([0,1,176,334]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends _.DedupOverlay{constructor(L){super();this._context=L,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(L){return!0}onDecorationsChanged(L){return!0}onFlushed(L){return!0}onLinesChanged(L){return!0}onLinesDeleted(L){return!0}onLinesInserted(L){return!0}onScrollChanged(L){return L.scrollTopChanged}onZonesChanged(L){return!0}_getDecorations(L){const S=L.getDecorationsInViewport();let m=[],v=0;for(let i=0,C=S.length;i<C;i++){const s=S[i],o=s.options.marginClassName;o&&(m[v++]=new _.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,o))}return m}prepareRender(L){const S=L.visibleRange.startLineNumber,m=L.visibleRange.endLineNumber,v=this._render(S,m,this._getDecorations(L)),i=[];for(let C=S;C<=m;C++){const s=C-S,o=v[s];let a="";for(let c=0,u=o.length;c<u;c++)a+='<div class="cmdr '+o[c]+'" style=""></div>';i[s]=a}this._renderResult=i}render(L,S){return this._renderResult?this._renderResult[S-L]:""}}e.MarginViewLineDecorationsOverlay=k}),define(ie[403],ne([0,1,30,47,336]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class M extends k.ViewPart{constructor(S){super(S);const v=this._context.configuration.options.get(128);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._domNode=_.createFastDomNode(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const v=this._context.configuration.options.get(128);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(S){const m=_.createFastDomNode(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:m},m.setPosition("absolute"),m.setAttribute("widgetId",S.getId()),this._domNode.appendChild(m),this.setShouldRender()}setWidgetPosition(S,m){const v=this._widgets[S.getId()];return v.preference===m?!1:(v.preference=m,this.setShouldRender(),!0)}removeWidget(S){const m=S.getId();if(this._widgets.hasOwnProperty(m)){const i=this._widgets[m].domNode.domNode;delete this._widgets[m],i.parentNode.removeChild(i),this.setShouldRender()}}_renderWidget(S){const m=S.domNode;if(S.preference===null){m.unsetTop();return}if(S.preference===0)m.setTop(0),m.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const v=m.domNode.clientHeight;m.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),m.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(m.setTop(0),m.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const m=Object.keys(this._widgets);for(let v=0,i=m.length;v<i;v++){const C=m[v];this._renderWidget(this._widgets[C])}}}e.ViewOverlayWidgets=M}),define(ie[404],ne([0,1,30,223,115]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class L extends M.ViewEventHandler{constructor(m,v){super();this._context=m;const i=this._context.configuration.options;this._domNode=_.createFastDomNode(document.createElement("canvas")),this._domNode.setClassName(v),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(C=>this._context.viewLayout.getVerticalOffsetForLineNumber(C)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(56)),this._zoneManager.setPixelRatio(i.get(126)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(m){const v=this._context.configuration.options;return m.hasChanged(56)&&(this._zoneManager.setLineHeight(v.get(56)),this._render()),m.hasChanged(126)&&(this._zoneManager.setPixelRatio(v.get(126)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(m){return this._render(),!0}onScrollChanged(m){return m.scrollHeightChanged&&(this._zoneManager.setOuterHeight(m.scrollHeight),this._render()),!0}onZonesChanged(m){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(m){this._domNode.setTop(m.top),this._domNode.setRight(m.right);let v=!1;v=this._zoneManager.setDOMWidth(m.width)||v,v=this._zoneManager.setDOMHeight(m.height)||v,v&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(m){this._zoneManager.setZones(m),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const m=this._zoneManager.getCanvasWidth(),v=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),C=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,m,v),i.length>0&&this._renderOneLane(s,i,C,m),!0}_renderOneLane(m,v,i,C){let s=0,o=0,a=0;for(const c of v){const u=c.colorId,r=c.from,n=c.to;u!==s?(m.fillRect(0,o,C,a-o),s=u,m.fillStyle=i[s],o=r,a=n):a>=r?a=Math.max(a,n):(m.fillRect(0,o,C,a-o),o=r,a=n)}m.fillRect(0,o,C,a-o)}}e.OverviewRuler=L}),define(ie[405],ne([0,1,30,12,47,13]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class m extends M.ViewPart{constructor(C){super(C);const s=this._context.configuration.options,o=s.get(128);this._lineHeight=s.get(56),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this.domNode=_.createFastDomNode(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=_.createFastDomNode(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const C=this._context.viewLayout.getWhitespaces(),s=new Map;for(const a of C)s.set(a.id,a);let o=!1;return this._context.model.changeWhitespace(a=>{const c=Object.keys(this._zones);for(let u=0,r=c.length;u<r;u++){const n=c[u],l=this._zones[n],t=this._computeWhitespaceProps(l.delegate),d=s.get(n);d&&(d.afterLineNumber!==t.afterViewLineNumber||d.height!==t.heightInPx)&&(a.changeOneWhitespace(n,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(l.delegate,t.heightInPx),o=!0)}}),o}onConfigurationChanged(C){const s=this._context.configuration.options,o=s.get(128);return this._lineHeight=s.get(56),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,C.hasChanged(56)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(C){return this._recomputeWhitespacesProps()}onLinesDeleted(C){return!0}onScrollChanged(C){return C.scrollTopChanged||C.scrollWidthChanged}onZonesChanged(C){return!0}onLinesInserted(C){return!0}_getZoneOrdinal(C){return typeof C.afterColumn!="undefined"?C.afterColumn:1e4}_computeWhitespaceProps(C){if(C.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(C),minWidthInPx:this._minWidthInPixels(C)};let s;if(typeof C.afterColumn!="undefined")s=this._context.model.validateModelPosition({lineNumber:C.afterLineNumber,column:C.afterColumn});else{const u=this._context.model.validateModelPosition({lineNumber:C.afterLineNumber,column:1}).lineNumber;s=new L.Position(u,this._context.model.getModelLineMaxColumn(u))}let o;s.column===this._context.model.getModelLineMaxColumn(s.lineNumber)?o=this._context.model.validateModelPosition({lineNumber:s.lineNumber+1,column:1}):o=this._context.model.validateModelPosition({lineNumber:s.lineNumber,column:s.column+1});const a=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(s),c=this._context.model.coordinatesConverter.modelPositionIsVisible(o);return{afterViewLineNumber:a.lineNumber,heightInPx:c?this._heightInPixels(C):0,minWidthInPx:this._minWidthInPixels(C)}}changeViewZones(C){let s=!1;return this._context.model.changeWhitespace(o=>{const a={addZone:c=>(s=!0,this._addZone(o,c)),removeZone:c=>{!c||(s=this._removeZone(o,c)||s)},layoutZone:c=>{!c||(s=this._layoutZone(o,c)||s)}};v(C,a),a.addZone=S,a.removeZone=S,a.layoutZone=S}),s}_addZone(C,s){const o=this._computeWhitespaceProps(s),c={whitespaceId:C.insertWhitespace(o.afterViewLineNumber,this._getZoneOrdinal(s),o.heightInPx,o.minWidthInPx),delegate:s,isVisible:!1,domNode:_.createFastDomNode(s.domNode),marginDomNode:s.marginDomNode?_.createFastDomNode(s.marginDomNode):null};return this._safeCallOnComputedHeight(c.delegate,o.heightInPx),c.domNode.setPosition("absolute"),c.domNode.domNode.style.width="100%",c.domNode.setDisplay("none"),c.domNode.setAttribute("monaco-view-zone",c.whitespaceId),this.domNode.appendChild(c.domNode),c.marginDomNode&&(c.marginDomNode.setPosition("absolute"),c.marginDomNode.domNode.style.width="100%",c.marginDomNode.setDisplay("none"),c.marginDomNode.setAttribute("monaco-view-zone",c.whitespaceId),this.marginDomNode.appendChild(c.marginDomNode)),this._zones[c.whitespaceId]=c,this.setShouldRender(),c.whitespaceId}_removeZone(C,s){if(this._zones.hasOwnProperty(s)){const o=this._zones[s];return delete this._zones[s],C.removeWhitespace(o.whitespaceId),o.domNode.removeAttribute("monaco-visible-view-zone"),o.domNode.removeAttribute("monaco-view-zone"),o.domNode.domNode.parentNode.removeChild(o.domNode.domNode),o.marginDomNode&&(o.marginDomNode.removeAttribute("monaco-visible-view-zone"),o.marginDomNode.removeAttribute("monaco-view-zone"),o.marginDomNode.domNode.parentNode.removeChild(o.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(C,s){if(this._zones.hasOwnProperty(s)){const o=this._zones[s],a=this._computeWhitespaceProps(o.delegate);return C.changeOneWhitespace(o.whitespaceId,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(o.delegate,a.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(C){if(this._zones.hasOwnProperty(C)){const s=this._zones[C];return Boolean(s.delegate.suppressMouseDown)}return!1}_heightInPixels(C){return typeof C.heightInPx=="number"?C.heightInPx:typeof C.heightInLines=="number"?this._lineHeight*C.heightInLines:this._lineHeight}_minWidthInPixels(C){return typeof C.minWidthInPx=="number"?C.minWidthInPx:0}_safeCallOnComputedHeight(C,s){if(typeof C.onComputedHeight=="function")try{C.onComputedHeight(s)}catch(o){k.onUnexpectedError(o)}}_safeCallOnDomNodeTop(C,s){if(typeof C.onDomNodeTop=="function")try{C.onDomNodeTop(s)}catch(o){k.onUnexpectedError(o)}}prepareRender(C){}render(C){const s=C.viewportData.whitespaceViewportData,o={};let a=!1;for(let u=0,r=s.length;u<r;u++)o[s[u].id]=s[u],a=!0;const c=Object.keys(this._zones);for(let u=0,r=c.length;u<r;u++){const n=c[u],l=this._zones[n];let t=0,d=0,h="none";o.hasOwnProperty(n)?(t=o[n].verticalOffset-C.bigNumbersDelta,d=o[n].height,h="block",l.isVisible||(l.domNode.setAttribute("monaco-visible-view-zone","true"),l.isVisible=!0),this._safeCallOnDomNodeTop(l.delegate,C.getScrolledTopFromAbsoluteTop(o[n].verticalOffset))):(l.isVisible&&(l.domNode.removeAttribute("monaco-visible-view-zone"),l.isVisible=!1),this._safeCallOnDomNodeTop(l.delegate,C.getScrolledTopFromAbsoluteTop(-1e6))),l.domNode.setTop(t),l.domNode.setHeight(d),l.domNode.setDisplay(h),l.marginDomNode&&(l.marginDomNode.setTop(t),l.marginDomNode.setHeight(d),l.marginDomNode.setDisplay(h))}a&&(this.domNode.setWidth(Math.max(C.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=m;function v(i,C){try{return i(C)}catch(s){k.onUnexpectedError(s)}}}),define(ie[62],ne([0,1,8]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.LineBreakData=e.OutputPosition=e.Viewport=void 0;class k{constructor(o,a,c,u){this._viewportBrand=void 0,this.top=o|0,this.left=a|0,this.width=c|0,this.height=u|0}}e.Viewport=k;class M{constructor(o,a){this.outputLineIndex=o,this.outputOffset=a}}e.OutputPosition=M;class L{constructor(o,a,c,u,r){this.breakOffsets=o,this.breakOffsetsVisibleColumn=a,this.wrappedTextIndentLength=c,this.injectionTexts=u,this.injectionOffsets=r}getInputOffsetOfOutputPosition(o,a){let c=0;if(o===0?c=a:c=this.breakOffsets[o-1]+a,this.injectionOffsets!==null)for(let u=0;u<this.injectionOffsets.length&&c>this.injectionOffsets[u];u++)c<this.injectionOffsets[u]+this.injectionTexts[u].length?c=this.injectionOffsets[u]:c-=this.injectionTexts[u].length;return c}getOutputPositionOfInputOffset(o){let a=0;if(this.injectionOffsets!==null)for(let l=0;l<this.injectionOffsets.length&&!(o<this.injectionOffsets[l]);l++)a+=this.injectionTexts[l].length;o+=a;let c=0,u=this.breakOffsets.length-1,r=0,n=0;for(;c<=u;){r=c+(u-c)/2|0;const l=this.breakOffsets[r];if(n=r>0?this.breakOffsets[r-1]:0,o<n)u=r-1;else if(o>=l)c=r+1;else break}return new M(r,o-n)}}e.LineBreakData=L;class S{constructor(o,a){this.tabSize=o,this.data=a}}e.MinimapLinesRenderingData=S;class m{constructor(o,a,c,u,r,n){this._viewLineDataBrand=void 0,this.content=o,this.continuesWithWrappedLine=a,this.minColumn=c,this.maxColumn=u,this.startVisibleColumn=r,this.tokens=n}}e.ViewLineData=m;class v{constructor(o,a,c,u,r,n,l,t,d,h){this.minColumn=o,this.maxColumn=a,this.content=c,this.continuesWithWrappedLine=u,this.isBasicASCII=v.isBasicASCII(c,n),this.containsRTL=v.containsRTL(c,this.isBasicASCII,r),this.tokens=l,this.inlineDecorations=t,this.tabSize=d,this.startVisibleColumn=h}static isBasicASCII(o,a){return a?_.isBasicASCII(o):!0}static containsRTL(o,a,c){return!a&&c?_.containsRTL(o):!1}}e.ViewLineRenderingData=v;class i{constructor(o,a,c){this.range=o,this.inlineClassName=a,this.type=c}}e.InlineDecoration=i;class C{constructor(o,a){this._viewModelDecorationBrand=void 0,this.range=o,this.options=a}}e.ViewModelDecoration=C}),define(ie[406],ne([0,1,8,94,62,111]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class S extends k.CharacterClassifier{constructor(n,l){super(0);for(let t=0;t<n.length;t++)this.set(n.charCodeAt(t),1);for(let t=0;t<l.length;t++)this.set(l.charCodeAt(t),2)}get(n){return n>=0&&n<256?this._asciiMap[n]:n>=12352&&n<=12543||n>=13312&&n<=19903||n>=19968&&n<=40959?3:this._map.get(n)||this._defaultValue}}let m=[],v=[];class i{constructor(n,l){this.classifier=new S(n,l)}static create(n){return new i(n.get(117),n.get(116))}createLineBreaksComputer(n,l,t,d){l=l|0,t=+t;const h=[],p=[],w=[];return{addRequest:(b,g,f)=>{h.push(b),p.push(g),w.push(f)},finalize:()=>{const b=n.typicalFullwidthCharacterWidth/n.typicalHalfwidthCharacterWidth;let g=[];for(let f=0,y=h.length;f<y;f++){const I=p[f],N=w[f];N&&!N.injectionTexts&&!I?g[f]=C(this.classifier,N,h[f],l,t,b,d):g[f]=s(this.classifier,h[f],I,l,t,b,d)}return m.length=0,v.length=0,g}}}}e.MonospaceLineBreaksComputerFactory=i;function C(r,n,l,t,d,h,p){if(d===-1)return null;const w=l.length;if(w<=1)return null;const b=n.breakOffsets,g=n.breakOffsetsVisibleColumn,f=u(l,t,d,h,p),y=d-f;let I=m,N=v,D=0,T=0,P=0,R=d;const O=b.length;let A=0;if(A>=0){let F=Math.abs(g[A]-R);for(;A+1<O;){const E=Math.abs(g[A+1]-R);if(E>=F)break;F=E,A++}}for(;A<O;){let F=A<0?0:b[A],E=A<0?0:g[A];T>F&&(F=T,E=P);let W=0,V=0,U=0,q=0;if(E<=R){let te=E,ae=F===0?0:l.charCodeAt(F-1),de=F===0?0:r.get(ae),ue=!0;for(let X=F;X<w;X++){const B=X,Z=l.charCodeAt(X);let H,z;if(_.isHighSurrogate(Z)?(X++,H=0,z=2):(H=r.get(Z),z=o(Z,te,t,h)),B>T&&c(ae,de,Z,H)&&(W=B,V=te),te+=z,te>R){B>T?(U=B,q=te-z):(U=X+1,q=te),te-V>y&&(W=0),ue=!1;break}ae=Z,de=H}if(ue){D>0&&(I[D]=b[b.length-1],N[D]=g[b.length-1],D++);break}}if(W===0){let te=E,ae=l.charCodeAt(F),de=r.get(ae),ue=!1;for(let X=F-1;X>=T;X--){const B=X+1,Z=l.charCodeAt(X);if(Z===9){ue=!0;break}let H,z;if(_.isLowSurrogate(Z)?(X--,H=0,z=2):(H=r.get(Z),z=_.isFullWidthCharacter(Z)?h:1),te<=R){if(U===0&&(U=B,q=te),te<=R-y)break;if(c(Z,H,ae,de)){W=B,V=te;break}}te-=z,ae=Z,de=H}if(W!==0){const X=y-(q-V);if(X<=t){const B=l.charCodeAt(U);let Z;_.isHighSurrogate(B)?Z=2:Z=o(B,q,t,h),X-Z<0&&(W=0)}}if(ue){A--;continue}}if(W===0&&(W=U,V=q),W<=T){const te=l.charCodeAt(T);_.isHighSurrogate(te)?(W=T+2,V=P+2):(W=T+1,V=P+o(te,P,t,h))}for(T=W,I[D]=W,P=V,N[D]=V,D++,R=V+y;A<0||A<O&&g[A]<V;)A++;let j=Math.abs(g[A]-R);for(;A+1<O;){const te=Math.abs(g[A+1]-R);if(te>=j)break;j=te,A++}}return D===0?null:(I.length=D,N.length=D,m=n.breakOffsets,v=n.breakOffsetsVisibleColumn,n.breakOffsets=I,n.breakOffsetsVisibleColumn=N,n.wrappedTextIndentLength=f,n)}function s(r,n,l,t,d,h,p){const w=L.LineInjectedText.applyInjectedText(n,l);let b,g;if(l&&l.length>0?(b=l.map(V=>V.text),g=l.map(V=>V.column-1)):(b=null,g=null),d===-1)return b?new M.LineBreakData([w.length],[],0,b,g):null;const f=w.length;if(f<=1)return b?new M.LineBreakData([w.length],[],0,b,g):null;const y=u(w,t,d,h,p),I=d-y;let N=[],D=[],T=0,P=0,R=0,O=d,A=w.charCodeAt(0),F=r.get(A),E=o(A,0,t,h),W=1;_.isHighSurrogate(A)&&(E+=1,A=w.charCodeAt(1),F=r.get(A),W++);for(let V=W;V<f;V++){const U=V,q=w.charCodeAt(V);let j,te;_.isHighSurrogate(q)?(V++,j=0,te=2):(j=r.get(q),te=o(q,E,t,h)),c(A,F,q,j)&&(P=U,R=E),E+=te,E>O&&((P===0||E-R>I)&&(P=U,R=E-te),N[T]=P,D[T]=R,T++,O=R+I,P=0),A=q,F=j}return T===0&&(!l||l.length===0)?null:(N[T]=f,D[T]=E,new M.LineBreakData(N,D,y,b,g))}function o(r,n,l,t){return r===9?l-n%l:_.isFullWidthCharacter(r)||r<32?t:1}function a(r,n){return n-r%n}function c(r,n,l,t){return l!==32&&(n===2||n===3&&t!==2||t===1||t===3&&n!==1)}function u(r,n,l,t,d){let h=0;if(d!==0){const p=_.firstNonWhitespaceIndex(r);if(p!==-1){for(let b=0;b<p;b++)h+=r.charCodeAt(b)===9?a(h,n):1;const w=d===3?2:d===2?1:0;for(let b=0;b<w;b++)h+=a(h,n);h+t>l&&(h=0)}}return h}}),define(ie[177],ne([0,1,6,2]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class M extends k.Disposable{constructor(){super();this._onEvent=this._register(new _.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(a){this._addOutgoingEvent(a),this._emitOugoingEvents()}_addOutgoingEvent(a){for(let c=0,u=this._outgoingEvents.length;c<u;c++)if(this._outgoingEvents[c].kind===a.kind){this._outgoingEvents[c]=this._outgoingEvents[c].merge(a);return}this._outgoingEvents.push(a)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const a=this._outgoingEvents.shift();a.isNoOp()||this._onEvent.fire(a)}}addViewEventHandler(a){for(let c=0,u=this._eventHandlers.length;c<u;c++)this._eventHandlers[c]===a&&console.warn("Detected duplicate listener in ViewEventDispatcher",a);this._eventHandlers.push(a)}removeViewEventHandler(a){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===a){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new L),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const a=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const u of a)this._addOutgoingEvent(u);c.length>0&&this._emitMany(c)}this._emitOugoingEvents()}emitSingleViewEvent(a){try{this.beginEmitViewEvents().emitViewEvent(a)}finally{this.endEmitViewEvents()}}_emitMany(a){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(a):this._viewEventQueue=a,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const a=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const u of c)u.handleEvents(a)}}}e.ViewModelEventDispatcher=M;class L{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(a){this.viewEvents.push(a)}emitOutgoingEvent(a){this.outgoingEvents.push(a)}}e.ViewModelEventsCollector=L;class S{constructor(a,c,u,r){this.kind=0,this._oldContentWidth=a,this._oldContentHeight=c,this.contentWidth=u,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(a){return a.kind!==0?this:new S(this._oldContentWidth,this._oldContentHeight,a.contentWidth,a.contentHeight)}}e.ContentSizeChangedEvent=S;class m{constructor(a,c){this.kind=1,this.oldHasFocus=a,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(a){return a.kind!==1?this:new m(this.oldHasFocus,a.hasFocus)}}e.FocusChangedEvent=m;class v{constructor(a,c,u,r,n,l,t,d){this.kind=2,this._oldScrollWidth=a,this._oldScrollLeft=c,this._oldScrollHeight=u,this._oldScrollTop=r,this.scrollWidth=n,this.scrollLeft=l,this.scrollHeight=t,this.scrollTop=d,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(a){return a.kind!==2?this:new v(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,a.scrollWidth,a.scrollLeft,a.scrollHeight,a.scrollTop)}}e.ScrollChangedEvent=v;class i{constructor(){this.kind=3}isNoOp(){return!1}merge(a){return this}}e.ViewZonesChangedEvent=i;class C{constructor(a,c,u,r,n,l,t){this.kind=5,this.oldSelections=a,this.selections=c,this.oldModelVersionId=u,this.modelVersionId=r,this.source=n,this.reason=l,this.reachedMaxCursorCount=t}static _selectionsAreEqual(a,c){if(!a&&!c)return!0;if(!a||!c)return!1;const u=a.length,r=c.length;if(u!==r)return!1;for(let n=0;n<u;n++)if(!a[n].equalsSelection(c[n]))return!1;return!0}isNoOp(){return C._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(a){return a.kind!==5?this:new C(this.oldSelections,a.selections,this.oldModelVersionId,a.modelVersionId,a.source,a.reason,this.reachedMaxCursorCount||a.reachedMaxCursorCount)}}e.CursorStateChangedEvent=C;class s{constructor(){this.kind=4}isNoOp(){return!1}merge(a){return this}}e.ReadOnlyEditAttemptEvent=s}),define(ie[407],ne([0,1,6,2,127,395,62,177]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const v=125;class i{constructor(a,c,u,r){a=a|0,c=c|0,u=u|0,r=r|0,a<0&&(a=0),c<0&&(c=0),u<0&&(u=0),r<0&&(r=0),this.width=a,this.contentWidth=c,this.scrollWidth=Math.max(a,c),this.height=u,this.contentHeight=r,this.scrollHeight=Math.max(u,r)}equals(a){return this.width===a.width&&this.contentWidth===a.contentWidth&&this.height===a.height&&this.contentHeight===a.contentHeight}}class C extends k.Disposable{constructor(a,c){super();this._onDidContentSizeChange=this._register(new _.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new i(0,0,0,0),this._scrollable=this._register(new M.Scrollable(a,c)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(a){this._scrollable.setSmoothScrollDuration(a)}validateScrollPosition(a){return this._scrollable.validateScrollPosition(a)}getScrollDimensions(){return this._dimensions}setScrollDimensions(a){if(this._dimensions.equals(a))return;const c=this._dimensions;this._dimensions=a,this._scrollable.setScrollDimensions({width:a.width,scrollWidth:a.scrollWidth,height:a.height,scrollHeight:a.scrollHeight},!0);const u=c.contentWidth!==a.contentWidth,r=c.contentHeight!==a.contentHeight;(u||r)&&this._onDidContentSizeChange.fire(new m.ContentSizeChangedEvent(c.contentWidth,c.contentHeight,a.contentWidth,a.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(a){this._scrollable.setScrollPositionNow(a)}setScrollPositionSmooth(a){this._scrollable.setScrollPositionSmooth(a)}}class s extends k.Disposable{constructor(a,c,u){super();this._configuration=a;const r=this._configuration.options,n=r.get(128),l=r.get(72);this._linesLayout=new L.LinesLayout(c,r.get(56),l.top,l.bottom),this._scrollable=this._register(new C(0,u)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new i(n.contentWidth,0,n.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(101)?v:0)}onConfigurationChanged(a){const c=this._configuration.options;if(a.hasChanged(56)&&this._linesLayout.setLineHeight(c.get(56)),a.hasChanged(72)){const u=c.get(72);this._linesLayout.setPadding(u.top,u.bottom)}if(a.hasChanged(128)){const u=c.get(128),r=u.contentWidth,n=u.height,l=this._scrollable.getScrollDimensions(),t=l.contentWidth;this._scrollable.setScrollDimensions(new i(r,l.contentWidth,n,this._getContentHeight(r,n,t)))}else this._updateHeight();a.hasChanged(101)&&this._configureSmoothScrollDuration()}onFlushed(a){this._linesLayout.onFlushed(a)}onLinesDeleted(a,c){this._linesLayout.onLinesDeleted(a,c)}onLinesInserted(a,c){this._linesLayout.onLinesInserted(a,c)}_getHorizontalScrollbarHeight(a,c){const r=this._configuration.options.get(90);return r.horizontal===2||a>=c?0:r.horizontalScrollbarSize}_getContentHeight(a,c,u){const r=this._configuration.options;let n=this._linesLayout.getLinesTotalHeight();return r.get(92)?n+=Math.max(0,c-r.get(56)-r.get(72).bottom):n+=this._getHorizontalScrollbarHeight(a,u),n}_updateHeight(){const a=this._scrollable.getScrollDimensions(),c=a.width,u=a.height,r=a.contentWidth;this._scrollable.setScrollDimensions(new i(c,a.contentWidth,u,this._getContentHeight(c,u,r)))}getCurrentViewport(){const a=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new S.Viewport(c.scrollTop,c.scrollLeft,a.width,a.height)}getFutureViewport(){const a=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new S.Viewport(c.scrollTop,c.scrollLeft,a.width,a.height)}_computeContentWidth(a){const c=this._configuration.options,u=c.get(129),r=c.get(40);if(u.isViewportWrapping){const n=c.get(128),l=c.get(62);return a>n.contentWidth+r.typicalHalfwidthCharacterWidth&&l.enabled&&l.side==="right"?a+n.verticalScrollbarWidth:a}else{const n=c.get(91)*r.typicalHalfwidthCharacterWidth,l=this._linesLayout.getWhitespaceMinWidth();return Math.max(a+n,l)}}setMaxLineWidth(a){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new i(c.width,this._computeContentWidth(a),c.height,c.contentHeight)),this._updateHeight()}saveState(){const a=this._scrollable.getFutureScrollPosition();let c=a.scrollTop,u=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(u);return{scrollTop:c,scrollTopWithoutViewZones:c-r,scrollLeft:a.scrollLeft}}changeWhitespace(a){const c=this._linesLayout.changeWhitespace(a);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(a){return this._linesLayout.getVerticalOffsetForLineNumber(a)}isAfterLines(a){return this._linesLayout.isAfterLines(a)}isInTopPadding(a){return this._linesLayout.isInTopPadding(a)}isInBottomPadding(a){return this._linesLayout.isInBottomPadding(a)}getLineNumberAtVerticalOffset(a){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(a)}getWhitespaceAtVerticalOffset(a){return this._linesLayout.getWhitespaceAtVerticalOffset(a)}getLinesViewportData(){const a=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(a.top,a.top+a.height)}getLinesViewportDataAtScrollTop(a){const c=this._scrollable.getScrollDimensions();return a+c.height>c.scrollHeight&&(a=c.scrollHeight-c.height),a<0&&(a=0),this._linesLayout.getLinesViewportData(a,a+c.height)}getWhitespaceViewportData(){const a=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(a.top,a.top+a.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(a){return this._scrollable.validateScrollPosition(a)}setScrollPosition(a,c){c===1?this._scrollable.setScrollPositionNow(a):this._scrollable.setScrollPositionSmooth(a)}deltaScrollNow(a,c){const u=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:u.scrollLeft+a,scrollTop:u.scrollTop+c})}}e.ViewLayout=s}),define(ie[408],ne([0,1,3,21]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class M{constructor(S,m){this._selection=S,this._isMovingLeft=m}getEditOperations(S,m){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const v=this._selection.startLineNumber,i=this._selection.startColumn,C=this._selection.endColumn;if(!(this._isMovingLeft&&i===1)&&!(!this._isMovingLeft&&C===S.getLineMaxColumn(v)))if(this._isMovingLeft){const s=new _.Range(v,i-1,v,i),o=S.getValueInRange(s);m.addEditOperation(s,null),m.addEditOperation(new _.Range(v,C,v,C),o)}else{const s=new _.Range(v,C,v,C+1),o=S.getValueInRange(s);m.addEditOperation(s,null),m.addEditOperation(new _.Range(v,i,v,i),o)}}computeCursorState(S,m){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=M}),define(ie[137],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class _{constructor(v){this.value=v}equals(v){return this.value===v.value}contains(v){return this.equals(v)||this.value===""||v.value.startsWith(this.value+_.sep)}intersects(v){return this.contains(v)||v.contains(this)}append(v){return new _(this.value+_.sep+v)}}e.CodeActionKind=_,_.sep=".",_.None=new _("@@none@@"),_.Empty=new _(""),_.QuickFix=new _("quickfix"),_.Refactor=new _("refactor"),_.Source=new _("source"),_.SourceOrganizeImports=_.Source.append("organizeImports"),_.SourceFixAll=_.Source.append("fixAll");function k(m,v){return!(m.include&&!m.include.intersects(v)||m.excludes&&m.excludes.some(i=>L(v,i,m.include))||!m.includeSourceActions&&_.Source.contains(v))}e.mayIncludeActionsOfKind=k;function M(m,v){const i=v.kind?new _(v.kind):void 0;return!(m.include&&(!i||!m.include.contains(i))||m.excludes&&i&&m.excludes.some(C=>L(i,C,m.include))||!m.includeSourceActions&&i&&_.Source.contains(i)||m.onlyIncludePreferredActions&&!v.isPreferred)}e.filtersAction=M;function L(m,v,i){return!(!v.contains(m)||i&&v.contains(i))}class S{constructor(v,i,C){this.kind=v,this.apply=i,this.preferred=C}static fromUser(v,i){return!v||typeof v!="object"?new S(i.kind,i.apply,!1):new S(S.getKindFromUser(v,i.kind),S.getApplyFromUser(v,i.apply),S.getPreferredUser(v))}static getApplyFromUser(v,i){switch(typeof v.apply=="string"?v.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}static getKindFromUser(v,i){return typeof v.kind=="string"?new _(v.kind):i}static getPreferredUser(v){return typeof v.preferred=="boolean"?v.preferred:!1}}e.CodeActionCommandArgs=S}),define(ie[409],ne([0,1,6]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{constructor(L,S,m){this.presentationIndex=m,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new _.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new _.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=L,this._color=L,this._colorPresentations=S}get color(){return this._color}set color(L){this._color.equals(L)||(this._color=L,this._onDidChangeColor.fire(L))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(L){this._colorPresentations=L,this.presentationIndex>L.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(L,S){for(let m=0;m<this.colorPresentations.length;m++)if(S.toLowerCase()===this.colorPresentations[m].label){this.presentationIndex=m,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(ie[226],ne([0,1,56,13,3,21,45]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class m{constructor(i,C){this._selection=i,this._insertSpace=C,this._usedEndToken=null}static _haystackHasNeedleAtOffset(i,C,s){if(s<0)return!1;const o=C.length,a=i.length;if(s+o>a)return!1;for(let c=0;c<o;c++){const u=i.charCodeAt(s+c),r=C.charCodeAt(c);if(u!==r&&!(u>=65&&u<=90&&u+32===r)&&!(r>=65&&r<=90&&r+32===u))return!1}return!0}_createOperationsForBlockComment(i,C,s,o,a,c){const u=i.startLineNumber,r=i.startColumn,n=i.endLineNumber,l=i.endColumn,t=a.getLineContent(u),d=a.getLineContent(n);let h=t.lastIndexOf(C,r-1+C.length),p=d.indexOf(s,l-1-s.length);if(h!==-1&&p!==-1)if(u===n)t.substring(h+C.length,p).indexOf(s)>=0&&(h=-1,p=-1);else{const b=t.substring(h+C.length),g=d.substring(0,p);(b.indexOf(s)>=0||g.indexOf(s)>=0)&&(h=-1,p=-1)}let w;h!==-1&&p!==-1?(o&&h+C.length<t.length&&t.charCodeAt(h+C.length)===32&&(C=C+" "),o&&p>0&&d.charCodeAt(p-1)===32&&(s=" "+s,p-=1),w=m._createRemoveBlockCommentOperations(new M.Range(u,h+C.length+1,n,p+1),C,s)):(w=m._createAddBlockCommentOperations(i,C,s,this._insertSpace),this._usedEndToken=w.length===1?s:null);for(const b of w)c.addTrackedEditOperation(b.range,b.text)}static _createRemoveBlockCommentOperations(i,C,s){let o=[];return M.Range.isEmpty(i)?o.push(_.EditOperation.delete(new M.Range(i.startLineNumber,i.startColumn-C.length,i.endLineNumber,i.endColumn+s.length))):(o.push(_.EditOperation.delete(new M.Range(i.startLineNumber,i.startColumn-C.length,i.startLineNumber,i.startColumn))),o.push(_.EditOperation.delete(new M.Range(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn+s.length)))),o}static _createAddBlockCommentOperations(i,C,s,o){let a=[];return M.Range.isEmpty(i)?a.push(_.EditOperation.replace(new M.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),C+"  "+s)):(a.push(_.EditOperation.insert(new k.Position(i.startLineNumber,i.startColumn),C+(o?" ":""))),a.push(_.EditOperation.insert(new k.Position(i.endLineNumber,i.endColumn),(o?" ":"")+s))),a}getEditOperations(i,C){const s=this._selection.startLineNumber,o=this._selection.startColumn;i.tokenizeIfCheap(s);const a=i.getLanguageIdAtPosition(s,o),c=S.LanguageConfigurationRegistry.getComments(a);!c||!c.blockCommentStartToken||!c.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,c.blockCommentStartToken,c.blockCommentEndToken,this._insertSpace,i,C)}computeCursorState(i,C){const s=C.getInverseEditOperations();if(s.length===2){const o=s[0],a=s[1];return new L.Selection(o.range.endLineNumber,o.range.endColumn,a.range.startLineNumber,a.range.startColumn)}else{const o=s[0].range,a=this._usedEndToken?-this._usedEndToken.length-1:0;return new L.Selection(o.endLineNumber,o.endColumn+a,o.endLineNumber,o.endColumn+a)}}}e.BlockCommentCommand=m}),define(ie[410],ne([0,1,8,56,13,3,21,45,226]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class i{constructor(s,o,a,c,u,r){this._selection=s,this._tabSize=o,this._type=a,this._insertSpace=c,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=u,this._ignoreFirstLine=r||!1}static _gatherPreflightCommentStrings(s,o,a){s.tokenizeIfCheap(o);const c=s.getLanguageIdAtPosition(o,1),u=m.LanguageConfigurationRegistry.getComments(c),r=u?u.lineCommentToken:null;if(!r)return null;let n=[];for(let l=0,t=a-o+1;l<t;l++)n[l]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return n}static _analyzeLines(s,o,a,c,u,r,n){let l=!0,t;s===0?t=!0:s===1?t=!1:t=!0;for(let d=0,h=c.length;d<h;d++){const p=c[d],w=u+d;if(w===u&&n){p.ignore=!0;continue}const b=a.getLineContent(w),g=_.firstNonWhitespaceIndex(b);if(g===-1){p.ignore=r,p.commentStrOffset=b.length;continue}if(l=!1,p.ignore=!1,p.commentStrOffset=g,t&&!v.BlockCommentCommand._haystackHasNeedleAtOffset(b,p.commentStr,g)&&(s===0?t=!1:s===1||(p.ignore=!0)),t&&o){const f=g+p.commentStrLength;f<b.length&&b.charCodeAt(f)===32&&(p.commentStrLength+=1)}}if(s===0&&l){t=!1;for(let d=0,h=c.length;d<h;d++)c[d].ignore=!1}return{supported:!0,shouldRemoveComments:t,lines:c}}static _gatherPreflightData(s,o,a,c,u,r,n){const l=i._gatherPreflightCommentStrings(a,c,u);return l===null?{supported:!1}:i._analyzeLines(s,o,a,l,c,r,n)}_executeLineComments(s,o,a,c){let u;a.shouldRemoveComments?u=i._createRemoveLineCommentsOperations(a.lines,c.startLineNumber):(i._normalizeInsertionPoint(s,a.lines,c.startLineNumber,this._tabSize),u=this._createAddLineCommentsOperations(a.lines,c.startLineNumber));const r=new M.Position(c.positionLineNumber,c.positionColumn);for(let n=0,l=u.length;n<l;n++)o.addEditOperation(u[n].range,u[n].text),L.Range.isEmpty(u[n].range)&&L.Range.getStartPosition(u[n].range).equals(r)&&s.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(u[n].text||"").length);this._selectionId=o.trackSelection(c)}_attemptRemoveBlockComment(s,o,a,c){let u=o.startLineNumber,r=o.endLineNumber,n=c.length+Math.max(s.getLineFirstNonWhitespaceColumn(o.startLineNumber),o.startColumn),l=s.getLineContent(u).lastIndexOf(a,n-1),t=s.getLineContent(r).indexOf(c,o.endColumn-1-a.length);return l!==-1&&t===-1&&(t=s.getLineContent(u).indexOf(c,l+a.length),r=u),l===-1&&t!==-1&&(l=s.getLineContent(r).lastIndexOf(a,t),u=r),o.isEmpty()&&(l===-1||t===-1)&&(l=s.getLineContent(u).indexOf(a),l!==-1&&(t=s.getLineContent(u).indexOf(c,l+a.length))),l!==-1&&s.getLineContent(u).charCodeAt(l+a.length)===32&&(a+=" "),t!==-1&&s.getLineContent(r).charCodeAt(t-1)===32&&(c=" "+c,t-=1),l!==-1&&t!==-1?v.BlockCommentCommand._createRemoveBlockCommentOperations(new L.Range(u,l+a.length+1,r,t+1),a,c):null}_executeBlockComment(s,o,a){s.tokenizeIfCheap(a.startLineNumber);let c=s.getLanguageIdAtPosition(a.startLineNumber,1),u=m.LanguageConfigurationRegistry.getComments(c);if(!u||!u.blockCommentStartToken||!u.blockCommentEndToken)return;const r=u.blockCommentStartToken,n=u.blockCommentEndToken;let l=this._attemptRemoveBlockComment(s,a,r,n);if(!l){if(a.isEmpty()){const t=s.getLineContent(a.startLineNumber);let d=_.firstNonWhitespaceIndex(t);d===-1&&(d=t.length),l=v.BlockCommentCommand._createAddBlockCommentOperations(new L.Range(a.startLineNumber,d+1,a.startLineNumber,t.length+1),r,n,this._insertSpace)}else l=v.BlockCommentCommand._createAddBlockCommentOperations(new L.Range(a.startLineNumber,s.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.endLineNumber,s.getLineMaxColumn(a.endLineNumber)),r,n,this._insertSpace);l.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=o.trackSelection(a);for(const t of l)o.addEditOperation(t.range,t.text)}getEditOperations(s,o){let a=this._selection;if(this._moveEndPositionDown=!1,a.startLineNumber===a.endLineNumber&&this._ignoreFirstLine){o.addEditOperation(new L.Range(a.startLineNumber,s.getLineMaxColumn(a.startLineNumber),a.startLineNumber+1,1),a.startLineNumber===s.getLineCount()?"":`
`),this._selectionId=o.trackSelection(a);return}a.startLineNumber<a.endLineNumber&&a.endColumn===1&&(this._moveEndPositionDown=!0,a=a.setEndPosition(a.endLineNumber-1,s.getLineMaxColumn(a.endLineNumber-1)));const c=i._gatherPreflightData(this._type,this._insertSpace,s,a.startLineNumber,a.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return c.supported?this._executeLineComments(s,o,c,a):this._executeBlockComment(s,o,a)}computeCursorState(s,o){let a=o.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(a=a.setEndPosition(a.endLineNumber+1,1)),new S.Selection(a.selectionStartLineNumber,a.selectionStartColumn+this._deltaColumn,a.positionLineNumber,a.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(s,o){let a=[];for(let c=0,u=s.length;c<u;c++){const r=s[c];r.ignore||a.push(k.EditOperation.delete(new L.Range(o+c,r.commentStrOffset+1,o+c,r.commentStrOffset+r.commentStrLength+1)))}return a}_createAddLineCommentsOperations(s,o){let a=[];const c=this._insertSpace?" ":"";for(let u=0,r=s.length;u<r;u++){const n=s[u];n.ignore||a.push(k.EditOperation.insert(new M.Position(o+u,n.commentStrOffset+1),n.commentStr+c))}return a}static nextVisibleColumn(s,o,a,c){return a?s+(o-s%o):s+c}static _normalizeInsertionPoint(s,o,a,c){let u=1073741824,r,n;for(let l=0,t=o.length;l<t;l++){if(o[l].ignore)continue;const d=s.getLineContent(a+l);let h=0;for(let p=0,w=o[l].commentStrOffset;h<u&&p<w;p++)h=i.nextVisibleColumn(h,c,d.charCodeAt(p)===9,1);h<u&&(u=h)}u=Math.floor(u/c)*c;for(let l=0,t=o.length;l<t;l++){if(o[l].ignore)continue;const d=s.getLineContent(a+l);let h=0;for(r=0,n=o[l].commentStrOffset;h<u&&r<n;r++)h=i.nextVisibleColumn(h,c,d.charCodeAt(r)===9,1);h>u?o[l].commentStrOffset=r-1:o[l].commentStrOffset=r}}}e.LineCommentCommand=i}),define(ie[411],ne([0,1,21,3]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class M{constructor(S,m,v){this.selection=S,this.targetPosition=m,this.copy=v,this.targetSelection=null}getEditOperations(S,m){let v=S.getValueInRange(this.selection);if(this.copy||m.addEditOperation(this.selection,null),m.addEditOperation(new k.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),v),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new _.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new _.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new _.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new _.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new _.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,m){return this.targetSelection}}e.DragAndDropCommand=M}),define(ie[412],ne([0,1,3]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(L,S,m){this._editorSelection=L,this._ranges=S,this._replaceStrings=m,this._trackedEditorSelectionId=null}getEditOperations(L,S){if(this._ranges.length>0){let m=[];for(let C=0;C<this._ranges.length;C++)m.push({range:this._ranges[C],text:this._replaceStrings[C]});m.sort((C,s)=>_.Range.compareRangesUsingStarts(C.range,s.range));let v=[],i=m[0];for(let C=1;C<m.length;C++)i.range.endLineNumber===m[C].range.startLineNumber&&i.range.endColumn===m[C].range.startColumn?(i.range=i.range.plusRange(m[C].range),i.text=i.text+m[C].text):(v.push(i),i=m[C]);v.push(i);for(const C of v)S.addEditOperation(C.range,C.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(L,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(ie[413],ne([0,1,294]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class k{constructor(C){this.staticValue=C,this.kind=0}}class M{constructor(C){this.pieces=C,this.kind=1}}class L{constructor(C){!C||C.length===0?this._state=new k(""):C.length===1&&C[0].staticValue!==null?this._state=new k(C[0].staticValue):this._state=new M(C)}static fromStaticValue(C){return new L([S.staticValue(C)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(C,s){if(this._state.kind===0)return s?_.buildReplaceStringWithCasePreserved(C,this._state.staticValue):this._state.staticValue;let o="";for(let a=0,c=this._state.pieces.length;a<c;a++){let u=this._state.pieces[a];if(u.staticValue!==null){o+=u.staticValue;continue}let r=L._substitute(u.matchIndex,C);if(u.caseOps!==null&&u.caseOps.length>0){let n=[],l=u.caseOps.length,t=0;for(let d=0,h=r.length;d<h;d++){if(t>=l){n.push(r.slice(d));break}switch(u.caseOps[t]){case"U":n.push(r[d].toUpperCase());break;case"u":n.push(r[d].toUpperCase()),t++;break;case"L":n.push(r[d].toLowerCase());break;case"l":n.push(r[d].toLowerCase()),t++;break;default:n.push(r[d])}}r=n.join("")}o+=r}return o}static _substitute(C,s){if(s===null)return"";if(C===0)return s[0];let o="";for(;C>0;){if(C<s.length)return(s[C]||"")+o;o=String(C%10)+o,C=Math.floor(C/10)}return"$"+o}}e.ReplacePattern=L;class S{constructor(C,s,o){this.staticValue=C,this.matchIndex=s,!o||o.length===0?this.caseOps=null:this.caseOps=o.slice(0)}static staticValue(C){return new S(C,-1,null)}static caseOps(C,s){return new S(null,C,s)}}e.ReplacePiece=S;class m{constructor(C){this._source=C,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(C){this._emitStatic(this._source.substring(this._lastCharIndex,C)),this._lastCharIndex=C}emitStatic(C,s){this._emitStatic(C),this._lastCharIndex=s}_emitStatic(C){C.length!==0&&(this._currentStaticPiece+=C)}emitMatchIndex(C,s,o){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(C,o),this._lastCharIndex=s}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new L(this._result)}}function v(i){if(!i||i.length===0)return new L(null);let C=[],s=new m(i);for(let o=0,a=i.length;o<a;o++){let c=i.charCodeAt(o);if(c===92){if(o++,o>=a)break;let u=i.charCodeAt(o);switch(u){case 92:s.emitUnchanged(o-1),s.emitStatic("\\",o+1);break;case 110:s.emitUnchanged(o-1),s.emitStatic(`
`,o+1);break;case 116:s.emitUnchanged(o-1),s.emitStatic("	",o+1);break;case 117:case 85:case 108:case 76:s.emitUnchanged(o-1),s.emitStatic("",o+1),C.push(String.fromCharCode(u));break}continue}if(c===36){if(o++,o>=a)break;let u=i.charCodeAt(o);if(u===36){s.emitUnchanged(o-1),s.emitStatic("$",o+1);continue}if(u===48||u===38){s.emitUnchanged(o-1),s.emitMatchIndex(0,o+1,C),C.length=0;continue}if(49<=u&&u<=57){let r=u-48;if(o+1<a){let n=i.charCodeAt(o+1);if(48<=n&&n<=57){o++,r=r*10+(n-48),s.emitUnchanged(o-2),s.emitMatchIndex(r,o+1,C),C.length=0;continue}}s.emitUnchanged(o-1),s.emitMatchIndex(r,o+1,C),C.length=0;continue}}}return s.finalize()}e.parseReplaceString=v}),define(ie[178],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const _=4278190080;class k{constructor(S,m,v){if(S.length!==m.length||S.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=S,this._endIndexes=m,this._collapseStates=new Uint32Array(Math.ceil(S.length/32)),this._types=v,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let S=[],m=(v,i)=>{let C=S[S.length-1];return this.getStartLineNumber(C)<=v&&this.getEndLineNumber(C)>=i};for(let v=0,i=this._startIndexes.length;v<i;v++){let C=this._startIndexes[v],s=this._endIndexes[v];if(C>e.MAX_LINE_NUMBER||s>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;S.length>0&&!m(C,s);)S.pop();let o=S.length>0?S[S.length-1]:-1;S.push(v),this._startIndexes[v]=C+((o&255)<<24),this._endIndexes[v]=s+((o&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(S){return this._startIndexes[S]&e.MAX_LINE_NUMBER}getEndLineNumber(S){return this._endIndexes[S]&e.MAX_LINE_NUMBER}getType(S){return this._types?this._types[S]:void 0}hasTypes(){return!!this._types}isCollapsed(S){let m=S/32|0,v=S%32;return(this._collapseStates[m]&1<<v)!=0}setCollapsed(S,m){let v=S/32|0,i=S%32,C=this._collapseStates[v];m?this._collapseStates[v]=C|1<<i:this._collapseStates[v]=C&~(1<<i)}toRegion(S){return new M(this,S)}getParentIndex(S){this.ensureParentIndices();let m=((this._startIndexes[S]&_)>>>24)+((this._endIndexes[S]&_)>>>16);return m===e.MAX_FOLDING_REGIONS?-1:m}contains(S,m){return this.getStartLineNumber(S)<=m&&this.getEndLineNumber(S)>=m}findIndex(S){let m=0,v=this._startIndexes.length;if(v===0)return-1;for(;m<v;){let i=Math.floor((m+v)/2);S<this.getStartLineNumber(i)?v=i:m=i+1}return m-1}findRange(S){let m=this.findIndex(S);if(m>=0){if(this.getEndLineNumber(m)>=S)return m;for(m=this.getParentIndex(m);m!==-1;){if(this.contains(m,S))return m;m=this.getParentIndex(m)}}return-1}toString(){let S=[];for(let m=0;m<this.length;m++)S[m]=`[${this.isCollapsed(m)?"+":"-"}] ${this.getStartLineNumber(m)}/${this.getEndLineNumber(m)}`;return S.join(", ")}}e.FoldingRegions=k;class M{constructor(S,m){this.ranges=S,this.index=m}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(S){return S.startLineNumber<=this.startLineNumber&&S.endLineNumber>=this.endLineNumber}containsLine(S){return this.startLineNumber<=S&&S<=this.endLineNumber}}e.FoldingRegion=M}),define(ie[414],ne([0,1,6,178]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class M{constructor(c,u){this._updateEventEmitter=new _.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=c,this._decorationProvider=u,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(c){if(!c.length)return;c=c.sort((r,n)=>r.regionIndex-n.regionIndex);const u={};this._decorationProvider.changeDecorations(r=>{let n=0,l=-1,t=-1;const d=h=>{for(;n<h;){const p=this._regions.getEndLineNumber(n),w=this._regions.isCollapsed(n);p<=l&&r.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(w,p<=t)),w&&p>t&&(t=p),n++}};for(let h of c){let p=h.regionIndex,w=this._editorDecorationIds[p];if(w&&!u[w]){u[w]=!0,d(p);let b=!this._regions.isCollapsed(p);this._regions.setCollapsed(p,b),l=Math.max(l,this._regions.getEndLineNumber(p))}}d(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:c})}update(c,u=[]){let r=[],n=(b,g)=>{for(let f of u)if(b<f&&f<=g)return!0;return!1},l=-1,t=(b,g)=>{const f=c.getStartLineNumber(b),y=c.getEndLineNumber(b);g&&n(f,y)&&(g=!1),c.setCollapsed(b,g);const I=this._textModel.getLineMaxColumn(f),N={startLineNumber:f,startColumn:Math.max(I-1,1),endLineNumber:f,endColumn:I};r.push({range:N,options:this._decorationProvider.getDecorationOption(g,y<=l)}),g&&y>l&&(l=y)},d=0,h=()=>{for(;d<this._regions.length;){let b=this._regions.isCollapsed(d);if(d++,b)return d-1}return-1},p=0,w=h();for(;w!==-1&&p<c.length;){let b=this._textModel.getDecorationRange(this._editorDecorationIds[w]);if(b){let g=b.startLineNumber;if(b.startColumn===Math.max(b.endColumn-1,1)&&this._textModel.getLineMaxColumn(g)===b.endColumn)for(;p<c.length;){let f=c.getStartLineNumber(p);if(g>=f)t(p,g===f),p++;else break}}w=h()}for(;p<c.length;)t(p,!1),p++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,r),this._regions=c,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let c=[];for(let u=0;u<this._regions.length;u++)if(this._regions.isCollapsed(u)){let r=this._textModel.getDecorationRange(this._editorDecorationIds[u]);if(r){let n=r.startLineNumber,l=r.endLineNumber+this._regions.getEndLineNumber(u)-this._regions.getStartLineNumber(u);c.push({startLineNumber:n,endLineNumber:l})}}if(c.length>0)return c}applyMemento(c){if(!Array.isArray(c))return;let u=[];for(let r of c){let n=this.getRegionAtLine(r.startLineNumber);n&&!n.isCollapsed&&u.push(n)}this.toggleCollapseState(u)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(c,u){let r=[];if(this._regions){let n=this._regions.findRange(c),l=1;for(;n>=0;){let t=this._regions.toRegion(n);(!u||u(t,l))&&r.push(t),l++,n=t.parentIndex}}return r}getRegionAtLine(c){if(this._regions){let u=this._regions.findRange(c);if(u>=0)return this._regions.toRegion(u)}return null}getRegionsInside(c,u){let r=[],n=c?c.regionIndex+1:0,l=c?c.endLineNumber:Number.MAX_VALUE;if(u&&u.length===2){const t=[];for(let d=n,h=this._regions.length;d<h;d++){let p=this._regions.toRegion(d);if(this._regions.getStartLineNumber(d)<l){for(;t.length>0&&!p.containedBy(t[t.length-1]);)t.pop();t.push(p),u(p,t.length)&&r.push(p)}else break}}else for(let t=n,d=this._regions.length;t<d;t++){let h=this._regions.toRegion(t);if(this._regions.getStartLineNumber(t)<l)(!u||u(h))&&r.push(h);else break}return r}}e.FoldingModel=M;function L(a,c,u){let r=[];for(let n of u){let l=a.getRegionAtLine(n);if(l){const t=!l.isCollapsed;if(r.push(l),c>1){let d=a.getRegionsInside(l,(h,p)=>h.isCollapsed!==t&&p<c);r.push(...d)}}}a.toggleCollapseState(r)}e.toggleCollapseState=L;function S(a,c,u=Number.MAX_VALUE,r){let n=[];if(r&&r.length>0)for(let l of r){let t=a.getRegionAtLine(l);if(t&&(t.isCollapsed!==c&&n.push(t),u>1)){let d=a.getRegionsInside(t,(h,p)=>h.isCollapsed!==c&&p<u);n.push(...d)}}else{let l=a.getRegionsInside(null,(t,d)=>t.isCollapsed!==c&&d<u);n.push(...l)}a.toggleCollapseState(n)}e.setCollapseStateLevelsDown=S;function m(a,c,u,r){let n=[];for(let l of r){let t=a.getAllRegionsAtLine(l,(d,h)=>d.isCollapsed!==c&&h<=u);n.push(...t)}a.toggleCollapseState(n)}e.setCollapseStateLevelsUp=m;function v(a,c,u){let r=[];for(let n of u){let l=a.getAllRegionsAtLine(n,t=>t.isCollapsed!==c);l.length>0&&r.push(l[0])}a.toggleCollapseState(r)}e.setCollapseStateUp=v;function i(a,c,u,r){let n=(t,d)=>d===c&&t.isCollapsed!==u&&!r.some(h=>t.containsLine(h)),l=a.getRegionsInside(null,n);a.toggleCollapseState(l)}e.setCollapseStateAtLevel=i;function C(a,c,u){let r=[];for(let t of u)r.push(a.getAllRegionsAtLine(t,void 0)[0]);let n=t=>r.every(d=>!d.containedBy(t)&&!t.containedBy(d))&&t.isCollapsed!==c,l=a.getRegionsInside(null,n);a.toggleCollapseState(l)}e.setCollapseStateForRest=C;function s(a,c,u){let r=a.textModel,n=a.regions,l=[];for(let t=n.length-1;t>=0;t--)if(u!==n.isCollapsed(t)){let d=n.getStartLineNumber(t);c.test(r.getLineContent(d))&&l.push(n.toRegion(t))}a.toggleCollapseState(l)}e.setCollapseStateForMatchingLines=s;function o(a,c,u){let r=a.regions,n=[];for(let l=r.length-1;l>=0;l--)u!==r.isCollapsed(l)&&c===r.getType(l)&&n.push(r.toRegion(l));a.toggleCollapseState(n)}e.setCollapseStateForType=o}),define(ie[415],ne([0,1,6,3,19]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class L{constructor(i){this._updateEventEmitter=new _.Emitter,this._foldingModel=i,this._foldingModelListener=i.onDidChange(C=>this.updateHiddenRanges()),this._hiddenRanges=[],i.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let i=!1,C=[],s=0,o=0,a=Number.MAX_VALUE,c=-1,u=this._foldingModel.regions;for(;s<u.length;s++){if(!u.isCollapsed(s))continue;let r=u.getStartLineNumber(s)+1,n=u.getEndLineNumber(s);a<=r&&n<=c||(!i&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===r&&this._hiddenRanges[o].endLineNumber===n?(C.push(this._hiddenRanges[o]),o++):(i=!0,C.push(new k.Range(r,1,n,1))),a=r,c=n)}(i||o<this._hiddenRanges.length)&&this.applyHiddenRanges(C)}applyMemento(i){if(!Array.isArray(i)||i.length===0)return!1;let C=[];for(let s of i){if(!s.startLineNumber||!s.endLineNumber)return!1;C.push(new k.Range(s.startLineNumber+1,1,s.endLineNumber,1))}return this.applyHiddenRanges(C),!0}getMemento(){return this._hiddenRanges.map(i=>({startLineNumber:i.startLineNumber-1,endLineNumber:i.endLineNumber}))}applyHiddenRanges(i){this._hiddenRanges=i,this._updateEventEmitter.fire(i)}hasRanges(){return this._hiddenRanges.length>0}isHidden(i){return m(this._hiddenRanges,i)!==null}adjustSelections(i){let C=!1,s=this._foldingModel.textModel,o=null,a=c=>((!o||!S(c,o))&&(o=m(this._hiddenRanges,c)),o?o.startLineNumber-1:null);for(let c=0,u=i.length;c<u;c++){let r=i[c],n=a(r.startLineNumber);n&&(r=r.setStartPosition(n,s.getLineMaxColumn(n)),C=!0);let l=a(r.endLineNumber);l&&(r=r.setEndPosition(l,s.getLineMaxColumn(l)),C=!0),i[c]=r}return C}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=L;function S(v,i){return v>=i.startLineNumber&&v<=i.endLineNumber}function m(v,i){let C=M.findFirstInSorted(v,s=>i<s.startLineNumber)-1;return C>=0&&v[C].endLineNumber>=i?v[C]:null}}),define(ie[227],ne([0,1,12,178,2]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const L=5e3,S={};e.ID_SYNTAX_PROVIDER="syntax";class m{constructor(o,a,c,u=L){this.editorModel=o,this.providers=a,this.limit=u,this.id=e.ID_SYNTAX_PROVIDER;for(const r of a)typeof r.onDidChange=="function"&&(this.disposables||(this.disposables=new M.DisposableStore),this.disposables.add(r.onDidChange(c)))}compute(o){return v(this.providers,this.editorModel,o).then(a=>a?C(a,this.limit):null)}dispose(){var o;(o=this.disposables)===null||o===void 0||o.dispose()}}e.SyntaxRangeProvider=m;function v(s,o,a){let c=null,u=s.map((r,n)=>Promise.resolve(r.provideFoldingRanges(o,S,a)).then(l=>{if(!a.isCancellationRequested&&Array.isArray(l)){Array.isArray(c)||(c=[]);let t=o.getLineCount();for(let d of l)d.start>0&&d.end>d.start&&d.end<=t&&c.push({start:d.start,end:d.end,rank:n,kind:d.kind})}},_.onUnexpectedExternalError));return Promise.all(u).then(r=>c)}class i{constructor(o){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=o}add(o,a,c,u){if(o>k.MAX_LINE_NUMBER||a>k.MAX_LINE_NUMBER)return;let r=this._length;this._startIndexes[r]=o,this._endIndexes[r]=a,this._nestingLevels[r]=u,this._types[r]=c,this._length++,u<30&&(this._nestingLevelCounts[u]=(this._nestingLevelCounts[u]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let o=new Uint32Array(this._length),a=new Uint32Array(this._length);for(let c=0;c<this._length;c++)o[c]=this._startIndexes[c],a[c]=this._endIndexes[c];return new k.FoldingRegions(o,a,this._types)}else{let o=0,a=this._nestingLevelCounts.length;for(let n=0;n<this._nestingLevelCounts.length;n++){let l=this._nestingLevelCounts[n];if(l){if(l+o>this._foldingRangesLimit){a=n;break}o+=l}}let c=new Uint32Array(this._foldingRangesLimit),u=new Uint32Array(this._foldingRangesLimit),r=[];for(let n=0,l=0;n<this._length;n++){let t=this._nestingLevels[n];(t<a||t===a&&o++<this._foldingRangesLimit)&&(c[l]=this._startIndexes[n],u[l]=this._endIndexes[n],r[l]=this._types[n],l++)}return new k.FoldingRegions(c,u,r)}}}e.RangesCollector=i;function C(s,o){let a=s.sort((n,l)=>{let t=n.start-l.start;return t===0&&(t=n.rank-l.rank),t}),c=new i(o),u,r=[];for(let n of a)if(!u)u=n,c.add(n.start,n.end,n.kind&&n.kind.value,r.length);else if(n.start>u.start)if(n.end<=u.end)r.push(u),u=n,c.add(n.start,n.end,n.kind&&n.kind.value,r.length);else{if(n.start>u.end){do u=r.pop();while(u&&n.start>u.end);u&&r.push(u),u=n}c.add(n.start,n.end,n.kind&&n.kind.value,r.length)}return c.toIndentRanges()}e.sanitizeRanges=C}),define(ie[416],ne([0,1,227]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class k{constructor(L,S,m,v){if(this.editorModel=L,this.id=e.ID_INIT_PROVIDER,S.length){let i=C=>({range:{startLineNumber:C.startLineNumber,startColumn:0,endLineNumber:C.endLineNumber,endColumn:L.getLineLength(C.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=L.deltaDecorations([],S.map(i)),this.timeout=setTimeout(m,v)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(L){let S=[];if(this.decorationIds)for(let m of this.decorationIds){let v=this.editorModel.getDecorationRange(m);v&&S.push({start:v.startLineNumber,end:v.endLineNumber,rank:1})}return Promise.resolve(_.sanitizeRanges(S,Number.MAX_VALUE))}}e.InitializingRangeProvider=k}),define(ie[228],ne([0,1,56,3]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class M{static _handleEolEdits(S,m){let v,i=[];for(let C of m)typeof C.eol=="number"&&(v=C.eol),C.range&&typeof C.text=="string"&&i.push(C);return typeof v=="number"&&S.hasModel()&&S.getModel().pushEOL(v),i}static _isFullModelReplaceEdit(S,m){if(!S.hasModel())return!1;const v=S.getModel(),i=v.validateRange(m.range);return v.getFullModelRange().equalsRange(i)}static execute(S,m,v){v&&S.pushUndoStop();const i=M._handleEolEdits(S,m);i.length===1&&M._isFullModelReplaceEdit(S,i[0])?S.executeEdits("formatEditsCommand",i.map(C=>_.EditOperation.replace(k.Range.lift(C.range),C.text))):S.executeEdits("formatEditsCommand",i.map(C=>_.EditOperation.replaceMove(k.Range.lift(C.range),C.text))),v&&S.pushUndoStop()}}e.FormattingEdit=M}),define(ie[229],ne([0,1,2,6,17]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function L(s,o){return!!s[o]}class S{constructor(o,a){this.target=o.target,this.hasTriggerModifier=L(o.event,a.triggerModifier),this.hasSideBySideModifier=L(o.event,a.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=o.event.detail<=1}}e.ClickLinkMouseEvent=S;class m{constructor(o,a){this.keyCodeIsTriggerKey=o.keyCode===a.triggerKey,this.keyCodeIsSideBySideKey=o.keyCode===a.triggerSideBySideKey,this.hasTriggerModifier=L(o,a.triggerModifier)}}e.ClickLinkKeyboardEvent=m;class v{constructor(o,a,c,u){this.triggerKey=o,this.triggerModifier=a,this.triggerSideBySideKey=c,this.triggerSideBySideModifier=u}equals(o){return this.triggerKey===o.triggerKey&&this.triggerModifier===o.triggerModifier&&this.triggerSideBySideKey===o.triggerSideBySideKey&&this.triggerSideBySideModifier===o.triggerSideBySideModifier}}e.ClickLinkOptions=v;function i(s){return s==="altKey"?M.isMacintosh?new v(57,"metaKey",6,"altKey"):new v(5,"ctrlKey",6,"altKey"):M.isMacintosh?new v(6,"altKey",57,"metaKey"):new v(6,"altKey",5,"ctrlKey")}class C extends _.Disposable{constructor(o){super();this._onMouseMoveOrRelevantKeyDown=this._register(new k.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new k.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new k.Emitter),this.onCancel=this._onCancel.event,this._editor=o,this._opts=i(this._editor.getOption(67)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(a=>{if(a.hasChanged(67)){const c=i(this._editor.getOption(67));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(a=>this._onEditorMouseMove(new S(a,this._opts)))),this._register(this._editor.onMouseDown(a=>this._onEditorMouseDown(new S(a,this._opts)))),this._register(this._editor.onMouseUp(a=>this._onEditorMouseUp(new S(a,this._opts)))),this._register(this._editor.onKeyDown(a=>this._onEditorKeyDown(new m(a,this._opts)))),this._register(this._editor.onKeyUp(a=>this._onEditorKeyUp(new m(a,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(a=>this._onDidChangeCursorSelection(a))),this._register(this._editor.onDidChangeModel(a=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||a.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(o){o.selection&&o.selection.startColumn!==o.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(o){this._lastMouseMoveEvent=o,this._onMouseMoveOrRelevantKeyDown.fire([o,null])}_onEditorMouseDown(o){this._hasTriggerKeyOnMouseDown=o.hasTriggerModifier,this._lineNumberOnMouseDown=o.target.position?o.target.position.lineNumber:0}_onEditorMouseUp(o){const a=o.target.position?o.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===a&&this._onExecute.fire(o)}_onEditorKeyDown(o){this._lastMouseMoveEvent&&(o.keyCodeIsTriggerKey||o.keyCodeIsSideBySideKey&&o.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,o]):o.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(o){o.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=C}),define(ie[230],ne([0,1,15,12]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=void 0;class M{constructor(S,m,v,i,C){this._computer=S,this._state=0,this._hoverTime=C,this._firstWaitScheduler=new _.RunOnceScheduler(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new _.RunOnceScheduler(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new _.RunOnceScheduler(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=m,this._errorCallback=v,this._progressCallback=i}setHoverTime(S){this._hoverTime=S}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=_.createCancelablePromise(S=>this._computer.computeAsync(S)),this._asyncComputationPromise.then(S=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(S)},S=>this._onError(S))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(S){S&&this._computer.onResult(S,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(S){this._completeCallback(S)}_onError(S){this._errorCallback?this._errorCallback(S):k.onUnexpectedError(S)}_onProgress(S){this._progressCallback(S)}start(S){if(S===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}e.HoverOperation=M}),define(ie[231],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class _{constructor(L,S){this.priority=L,this.range=S,this.type=1}equals(L){return L.type===1&&this.range.equalsRange(L.range)}canAdoptVisibleHover(L,S){return L.type===1&&S.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=_;class k{constructor(L,S,m){this.priority=L,this.owner=S,this.range=m,this.type=2}equals(L){return L.type===2&&this.owner===L.owner}canAdoptVisibleHover(L,S){return L.type===2&&this.owner===L.owner}}e.HoverForeignElementAnchor=k}),define(ie[417],ne([0,1,51]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphHoverWidget=void 0;class k extends _.Widget{constructor(L,S){super();this._id=L,this._editor=S,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(m=>{m.hasChanged(40)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(L){this._isVisible=L,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(L){this._showAtLineNumber=L,this.isVisible||(this.isVisible=!0);const S=this._editor.getLayoutInfo(),m=this._editor.getTopForLineNumber(this._showAtLineNumber),v=this._editor.getScrollTop(),i=this._editor.getOption(56),C=this._domNode.clientHeight,s=m-v-(C-i)/2;this._domNode.style.left=`${S.glyphMarginLeft+S.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(s),0)}px`}hide(){!this.isVisible||(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){const L=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),S=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));[...L,...S].forEach(m=>this._editor.applyFontInfo(m))}updateContents(L){this._domNode.textContent="",this._domNode.appendChild(L),this.updateFont()}}e.GlyphHoverWidget=k}),define(ie[418],ne([0,1,21]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(L,S,m){this._editRange=L,this._originalSelection=S,this._text=m}getEditOperations(L,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(L,S){const v=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new _.Selection(v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn),v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn)):new _.Selection(v.endLineNumber,v.endColumn-this._text.length,v.endLineNumber,v.endColumn)}}e.InPlaceReplaceCommand=k}),define(ie[232],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function _(M,L){let S=0;for(let m=0;m<M.length;m++)M.charAt(m)==="	"?S+=L:S++;return S}e.getSpaceCnt=_;function k(M,L,S){M=M<0?0:M;let m="";if(!S){let v=Math.floor(M/L);M=M%L;for(let i=0;i<v;i++)m+="	"}for(let v=0;v<M;v++)m+=" ";return m}e.generateIndent=k}),define(ie[233],ne([0,1,6,2]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostText=void 0;class M{constructor(m,v,i=0){this.lineNumber=m,this.parts=v,this.additionalReservedLineCount=i}}e.GhostText=M;class L extends k.Disposable{constructor(m){super();this.editor=m,this._expanded=void 0,this.onDidChangeEmitter=new _.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(m.onDidChangeConfiguration(v=>{v.hasChanged(104)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}get expanded(){return this._expanded===void 0?!0:this._expanded}setExpanded(m){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=L}),define(ie[234],ne([0,1,2]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MutableDisposable=e.createDisposableRef=void 0;function k(L,S){return{object:L,dispose:()=>S==null?void 0:S.dispose()}}e.createDisposableRef=k;class M{constructor(){this._isDisposed=!1,_.trackDisposable(this)}get value(){return this._isDisposed?void 0:this._value}set value(S){var m;this._isDisposed||S===this._value||((m=this._value)===null||m===void 0||m.dispose(),this._value=S)}clear(){this.value=void 0}dispose(){var S;this._isDisposed=!0,(S=this._value)===null||S===void 0||S.dispose(),this._value=void 0}replace(S){const m=this._value;return this._value=S,m}}e.MutableDisposable=M}),define(ie[419],ne([0,1,3,21]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class M{constructor(S,m,v){this._selection=S,this._isCopyingDown=m,this._noop=v||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,m){let v=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,v.startLineNumber<v.endLineNumber&&v.endColumn===1&&(this._endLineNumberDelta=1,v=v.setEndPosition(v.endLineNumber-1,S.getLineMaxColumn(v.endLineNumber-1)));let i=[];for(let s=v.startLineNumber;s<=v.endLineNumber;s++)i.push(S.getLineContent(s));const C=i.join(`
`);C===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?m.addEditOperation(new _.Range(v.endLineNumber,S.getLineMaxColumn(v.endLineNumber),v.endLineNumber+1,1),v.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?m.addEditOperation(new _.Range(v.startLineNumber,1,v.startLineNumber,1),C+`
`):m.addEditOperation(new _.Range(v.endLineNumber,S.getLineMaxColumn(v.endLineNumber),v.endLineNumber,S.getLineMaxColumn(v.endLineNumber)),`
`+C),this._selectionId=m.trackSelection(v),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,m){let v=m.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let i=v.startLineNumber,C=v.startColumn,s=v.endLineNumber,o=v.endColumn;this._startLineNumberDelta!==0&&(i=i+this._startLineNumberDelta,C=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,o=1),v=k.Selection.createWithDirection(i,C,s,o,this._selectionDirection)}return v}}e.CopyLinesCommand=M}),define(ie[420],ne([0,1,56,3]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class M{constructor(v,i){this.selection=v,this.descending=i,this.selectionId=null}static getCollator(){return M._COLLATOR||(M._COLLATOR=new Intl.Collator),M._COLLATOR}getEditOperations(v,i){let C=S(v,this.selection,this.descending);C&&i.addEditOperation(C.range,C.text),this.selectionId=i.trackSelection(this.selection)}computeCursorState(v,i){return i.getTrackedSelection(this.selectionId)}static canRun(v,i,C){if(v===null)return!1;let s=L(v,i,C);if(!s)return!1;for(let o=0,a=s.before.length;o<a;o++)if(s.before[o]!==s.after[o])return!0;return!1}}e.SortLinesCommand=M,M._COLLATOR=null;function L(m,v,i){let C=v.startLineNumber,s=v.endLineNumber;if(v.endColumn===1&&s--,C>=s)return null;let o=[];for(let c=C;c<=s;c++)o.push(m.getLineContent(c));let a=o.slice(0);return a.sort(M.getCollator().compare),i===!0&&(a=a.reverse()),{startLineNumber:C,endLineNumber:s,before:o,after:a}}function S(m,v,i){let C=L(m,v,i);return C?_.EditOperation.replace(new k.Range(C.startLineNumber,1,C.endLineNumber,m.getLineMaxColumn(C.endLineNumber)),C.after.join(`
`)):null}}),define(ie[235],ne([0,1,13,3,71]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class L{provideSelectionRanges(m,v){return Ie(this,void 0,void 0,function*(){const i=[];for(const C of v){const s=[];i.push(s);const o=new Map;yield new Promise(a=>L._bracketsRightYield(a,0,m,C,o)),yield new Promise(a=>L._bracketsLeftYield(a,0,m,C,o,s))}return i})}static _bracketsRightYield(m,v,i,C,s){const o=new Map,a=Date.now();for(;;){if(v>=L._maxRounds){m();break}if(!C){m();break}let c=i.findNextBracket(C);if(!c){m();break}if(Date.now()-a>L._maxDuration){setTimeout(()=>L._bracketsRightYield(m,v+1,i,C,s));break}const r=c.close[0];if(c.isOpen){let n=o.has(r)?o.get(r):0;o.set(r,n+1)}else{let n=o.has(r)?o.get(r):0;if(n-=1,o.set(r,Math.max(0,n)),n<0){let l=s.get(r);l||(l=new M.LinkedList,s.set(r,l)),l.push(c.range)}}C=c.range.getEndPosition()}}static _bracketsLeftYield(m,v,i,C,s,o){const a=new Map,c=Date.now();for(;;){if(v>=L._maxRounds&&s.size===0){m();break}if(!C){m();break}let u=i.findPrevBracket(C);if(!u){m();break}if(Date.now()-c>L._maxDuration){setTimeout(()=>L._bracketsLeftYield(m,v+1,i,C,s,o));break}const n=u.close[0];if(u.isOpen){let l=a.has(n)?a.get(n):0;if(l-=1,a.set(n,Math.max(0,l)),l<0){let t=s.get(n);if(t){let d=t.shift();t.size===0&&s.delete(n);const h=k.Range.fromPositions(u.range.getEndPosition(),d.getStartPosition()),p=k.Range.fromPositions(u.range.getStartPosition(),d.getEndPosition());o.push({range:h}),o.push({range:p}),L._addBracketLeading(i,p,o)}}}else{let l=a.has(n)?a.get(n):0;a.set(n,l+1)}C=u.range.getStartPosition()}}static _addBracketLeading(m,v,i){if(v.startLineNumber===v.endLineNumber)return;const C=v.startLineNumber,s=m.getLineFirstNonWhitespaceColumn(C);s!==0&&s!==v.startColumn&&(i.push({range:k.Range.fromPositions(new _.Position(C,s),v.getEndPosition())}),i.push({range:k.Range.fromPositions(new _.Position(C,1),v.getEndPosition())}));const o=C-1;if(o>0){const a=m.getLineFirstNonWhitespaceColumn(o);a===v.startColumn&&a!==m.getLineLastNonWhitespaceColumn(o)&&(i.push({range:k.Range.fromPositions(new _.Position(o,a),v.getEndPosition())}),i.push({range:k.Range.fromPositions(new _.Position(o,1),v.getEndPosition())}))}}}e.BracketSelectionRangeProvider=L,L._maxDuration=30,L._maxRounds=2}),define(ie[421],ne([0,1,3,8]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class M{provideSelectionRanges(S,m){const v=[];for(const i of m){const C=[];v.push(C),this._addInWordRanges(C,S,i),this._addWordRanges(C,S,i),this._addWhitespaceLine(C,S,i),C.push({range:S.getFullModelRange()})}return v}_addInWordRanges(S,m,v){const i=m.getWordAtPosition(v);if(!i)return;let{word:C,startColumn:s}=i,o=v.column-s,a=o,c=o,u=0;for(;a>=0;a--){let r=C.charCodeAt(a);if(a!==o&&(r===95||r===45))break;if(k.isLowerAsciiLetter(r)&&k.isUpperAsciiLetter(u))break;u=r}for(a+=1;c<C.length;c++){let r=C.charCodeAt(c);if(k.isUpperAsciiLetter(r)&&k.isLowerAsciiLetter(u))break;if(r===95||r===45)break;u=r}a<c&&S.push({range:new _.Range(v.lineNumber,s+a,v.lineNumber,s+c)})}_addWordRanges(S,m,v){const i=m.getWordAtPosition(v);i&&S.push({range:new _.Range(v.lineNumber,i.startColumn,v.lineNumber,i.endColumn)})}_addWhitespaceLine(S,m,v){m.getLineLength(v.lineNumber)>0&&m.getLineFirstNonWhitespaceColumn(v.lineNumber)===0&&m.getLineLastNonWhitespaceColumn(v.lineNumber)===0&&S.push({range:new _.Range(v.lineNumber,1,v.lineNumber,m.getLineMaxColumn(v.lineNumber))})}}e.WordSelectionRangeProvider=M}),define(ie[116],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class _{constructor(){this.value="",this.pos=0}static isDigitCharacter(u){return u>=48&&u<=57}static isVariableCharacter(u){return u===95||u>=97&&u<=122||u>=65&&u<=90}text(u){this.value=u,this.pos=0}tokenText(u){return this.value.substr(u.pos,u.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let u=this.pos,r=0,n=this.value.charCodeAt(u),l;if(l=_._table[n],typeof l=="number")return this.pos+=1,{type:l,pos:u,len:1};if(_.isDigitCharacter(n)){l=8;do r+=1,n=this.value.charCodeAt(u+r);while(_.isDigitCharacter(n));return this.pos+=r,{type:l,pos:u,len:r}}if(_.isVariableCharacter(n)){l=9;do n=this.value.charCodeAt(u+ ++r);while(_.isVariableCharacter(n)||_.isDigitCharacter(n));return this.pos+=r,{type:l,pos:u,len:r}}l=10;do r+=1,n=this.value.charCodeAt(u+r);while(!isNaN(n)&&typeof _._table[n]=="undefined"&&!_.isDigitCharacter(n)&&!_.isVariableCharacter(n));return this.pos+=r,{type:l,pos:u,len:r}}}e.Scanner=_,_._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class k{constructor(){this._children=[]}appendChild(u){return u instanceof M&&this._children[this._children.length-1]instanceof M?this._children[this._children.length-1].value+=u.value:(u.parent=this,this._children.push(u)),this}replace(u,r){const{parent:n}=u,l=n.children.indexOf(u),t=n.children.slice(0);t.splice(l,1,...r),n._children=t,function d(h,p){for(const w of h)w.parent=p,d(w.children,w)}(r,n)}get children(){return this._children}get snippet(){let u=this;for(;;){if(!u)return;if(u instanceof o)return u;u=u.parent}}toString(){return this.children.reduce((u,r)=>u+r.toString(),"")}len(){return 0}}e.Marker=k;class M extends k{constructor(u){super();this.value=u}toString(){return this.value}len(){return this.value.length}clone(){return new M(this.value)}}e.Text=M;class L extends k{}e.TransformableMarker=L;class S extends L{constructor(u){super();this.index=u}static compareByIndex(u,r){return u.index===r.index?0:u.isFinalTabstop?1:r.isFinalTabstop||u.index<r.index?-1:u.index>r.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof m?this._children[0]:void 0}clone(){let u=new S(this.index);return this.transform&&(u.transform=this.transform.clone()),u._children=this.children.map(r=>r.clone()),u}}e.Placeholder=S;class m extends k{constructor(){super(...arguments);this.options=[]}appendChild(u){return u instanceof M&&(u.parent=this,this.options.push(u)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let u=new m;return this.options.forEach(u.appendChild,u),u}}e.Choice=m;class v extends k{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(u){const r=this;let n=!1,l=u.replace(this.regexp,function(){return n=!0,r._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(t=>t instanceof i&&Boolean(t.elseValue))&&(l=this._replace([])),l}_replace(u){let r="";for(const n of this._children)if(n instanceof i){let l=u[n.index]||"";l=n.resolve(l),r+=l}else r+=n.toString();return r}toString(){return""}clone(){let u=new v;return u.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),u._children=this.children.map(r=>r.clone()),u}}e.Transform=v;class i extends k{constructor(u,r,n,l){super();this.index=u,this.shorthandName=r,this.ifValue=n,this.elseValue=l}resolve(u){return this.shorthandName==="upcase"?u?u.toLocaleUpperCase():"":this.shorthandName==="downcase"?u?u.toLocaleLowerCase():"":this.shorthandName==="capitalize"?u?u[0].toLocaleUpperCase()+u.substr(1):"":this.shorthandName==="pascalcase"?u?this._toPascalCase(u):"":this.shorthandName==="camelcase"?u?this._toCamelCase(u):"":Boolean(u)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(u)&&typeof this.elseValue=="string"?this.elseValue:u||""}_toPascalCase(u){const r=u.match(/[a-z0-9]+/gi);return r?r.map(n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):u}_toCamelCase(u){const r=u.match(/[a-z0-9]+/gi);return r?r.map((n,l)=>l===0?n.toLowerCase():n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):u}clone(){return new i(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=i;class C extends L{constructor(u){super();this.name=u}resolve(u){let r=u.resolve(this);return this.transform&&(r=this.transform.resolve(r||"")),r!==void 0?(this._children=[new M(r)],!0):!1}clone(){const u=new C(this.name);return this.transform&&(u.transform=this.transform.clone()),u._children=this.children.map(r=>r.clone()),u}}e.Variable=C;function s(c,u){const r=[...c];for(;r.length>0;){const n=r.shift();if(!u(n))break;r.unshift(...n.children)}}class o extends k{get placeholderInfo(){if(!this._placeholders){let u=[],r;this.walk(function(n){return n instanceof S&&(u.push(n),r=!r||r.index<n.index?n:r),!0}),this._placeholders={all:u,last:r}}return this._placeholders}get placeholders(){const{all:u}=this.placeholderInfo;return u}offset(u){let r=0,n=!1;return this.walk(l=>l===u?(n=!0,!1):(r+=l.len(),!0)),n?r:-1}fullLen(u){let r=0;return s([u],n=>(r+=n.len(),!0)),r}enclosingPlaceholders(u){let r=[],{parent:n}=u;for(;n;)n instanceof S&&r.push(n),n=n.parent;return r}resolveVariables(u){return this.walk(r=>(r instanceof C&&r.resolve(u)&&(this._placeholders=void 0),!0)),this}appendChild(u){return this._placeholders=void 0,super.appendChild(u)}replace(u,r){return this._placeholders=void 0,super.replace(u,r)}clone(){let u=new o;return this._children=this.children.map(r=>r.clone()),u}walk(u){s(this.children,u)}}e.TextmateSnippet=o;class a{constructor(){this._scanner=new _,this._token={type:14,pos:0,len:0}}static escape(u){return u.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(u){return/\${?CLIPBOARD/.test(u)}parse(u,r,n){this._scanner.text(u),this._token=this._scanner.next();const l=new o;for(;this._parse(l););const t=new Map,d=[];let h=0;l.walk(p=>(p instanceof S&&(h+=1,p.isFinalTabstop?t.set(0,void 0):!t.has(p.index)&&p.children.length>0?t.set(p.index,p.children):d.push(p)),!0));for(const p of d){const w=t.get(p.index);if(w){const b=new S(p.index);b.transform=p.transform;for(const g of w)b.appendChild(g.clone());l.replace(p,[b])}}return n||(n=h>0&&r),!t.has(0)&&n&&l.appendChild(new S(0)),l}_accept(u,r){if(u===void 0||this._token.type===u){let n=r?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),n}return!1}_backTo(u){return this._scanner.pos=u.pos+u.len,this._token=u,!1}_until(u){const r=this._token;for(;this._token.type!==u;){if(this._token.type===14)return!1;if(this._token.type===5){const l=this._scanner.next();if(l.type!==0&&l.type!==4&&l.type!==5)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(r.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(u){return this._parseEscaped(u)||this._parseTabstopOrVariableName(u)||this._parseComplexPlaceholder(u)||this._parseComplexVariable(u)||this._parseAnything(u)}_parseEscaped(u){let r;return(r=this._accept(5,!0))?(r=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||r,u.appendChild(new M(r)),!0):!1}_parseTabstopOrVariableName(u){let r;const n=this._token;return this._accept(0)&&(r=this._accept(9,!0)||this._accept(8,!0))?(u.appendChild(/^\d+$/.test(r)?new S(Number(r)):new C(r)),!0):this._backTo(n)}_parseComplexPlaceholder(u){let r;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(8,!0))))return this._backTo(n);const t=new S(Number(r));if(this._accept(1))for(;;){if(this._accept(4))return u.appendChild(t),!0;if(!this._parse(t))return u.appendChild(new M("${"+r+":")),t.children.forEach(u.appendChild,u),!0}else if(t.index>0&&this._accept(7)){const d=new m;for(;;){if(this._parseChoiceElement(d)){if(this._accept(2))continue;if(this._accept(7)&&(t.appendChild(d),this._accept(4)))return u.appendChild(t),!0}return this._backTo(n),!1}}else return this._accept(6)?this._parseTransform(t)?(u.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(u.appendChild(t),!0):this._backTo(n)}_parseChoiceElement(u){const r=this._token,n=[];for(;!(this._token.type===2||this._token.type===7);){let l;if((l=this._accept(5,!0))?l=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||l:l=this._accept(void 0,!0),!l)return this._backTo(r),!1;n.push(l)}return n.length===0?(this._backTo(r),!1):(u.appendChild(new M(n.join(""))),!0)}_parseComplexVariable(u){let r;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(9,!0))))return this._backTo(n);const t=new C(r);if(this._accept(1))for(;;){if(this._accept(4))return u.appendChild(t),!0;if(!this._parse(t))return u.appendChild(new M("${"+r+":")),t.children.forEach(u.appendChild,u),!0}else return this._accept(6)?this._parseTransform(t)?(u.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(u.appendChild(t),!0):this._backTo(n)}_parseTransform(u){let r=new v,n="",l="";for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(6,!0)||t,n+=t;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(5,!0)||this._accept(6,!0)||t,r.appendChild(new M(t));continue}if(!(this._parseFormatString(r)||this._parseAnything(r)))return!1}for(;!this._accept(4);){if(this._token.type!==14){l+=this._accept(void 0,!0);continue}return!1}try{r.regexp=new RegExp(n,l)}catch(t){return!1}return u.transform=r,!0}_parseFormatString(u){const r=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let l=this._accept(8,!0);if(l)if(n){if(this._accept(4))return u.appendChild(new i(Number(l))),!0;if(!this._accept(1))return this._backTo(r),!1}else return u.appendChild(new i(Number(l))),!0;else return this._backTo(r),!1;if(this._accept(6)){let t=this._accept(9,!0);return!t||!this._accept(4)?(this._backTo(r),!1):(u.appendChild(new i(Number(l),t)),!0)}else if(this._accept(11)){let t=this._until(4);if(t)return u.appendChild(new i(Number(l),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return u.appendChild(new i(Number(l),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let d=this._until(4);if(d)return u.appendChild(new i(Number(l),void 0,t,d)),!0}}else{let t=this._until(4);if(t)return u.appendChild(new i(Number(l),void 0,void 0,t)),!0}return this._backTo(r),!1}_parseAnything(u){return this._token.type!==14?(u.appendChild(new M(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=a}),define(ie[422],ne([0,1,66,8,19]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class L{constructor(v,i){this.leadingLineContent=v,this.characterCountDelta=i}}e.LineContext=L;class S{constructor(v,i,C,s,o,a,c){this.clipboardText=c,this._snippetCompareFn=S._compareCompletionItems,this._items=v,this._column=i,this._wordDistance=s,this._options=o,this._refilterKind=1,this._lineContext=C,a==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:a==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(v){(this._lineContext.leadingLineContent!==v.leadingLineContent||this._lineContext.characterCountDelta!==v.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<v.characterCountDelta&&this._filteredItems?2:1,this._lineContext=v)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const v=new Set;for(let[i,C]of this._providerInfo)C&&v.add(i);return v}adopt(v){let i=[];for(let C=0;C<this._items.length;)v.has(this._items[C].provider)?C++:(i.push(this._items[C]),this._items[C]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,i}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const v=[],{leadingLineContent:i,characterCountDelta:C}=this._lineContext;let s="",o="";const a=this._refilterKind===1?this._items:this._filteredItems,c=[],u=!this._options.filterGraceful||a.length>2e3?_.fuzzyScore:_.fuzzyScoreGracefulAggressive;for(let r=0;r<a.length;r++){const n=a[r];if(n.isInvalid)continue;this._providerInfo.set(n.provider,Boolean(n.container.incomplete));const l=n.position.column-n.editStart.column,t=l+C-(n.position.column-this._column);if(s.length!==t&&(s=t===0?"":i.slice(-t),o=s.toLowerCase()),n.word=s,t===0)n.score=_.FuzzyScore.Default;else{let d=0;for(;d<l;){const h=s.charCodeAt(d);if(h===32||h===9)d+=1;else break}if(d>=t)n.score=_.FuzzyScore.Default;else if(typeof n.completion.filterText=="string"){let h=u(s,o,d,n.completion.filterText,n.filterTextLow,0,!1);if(!h)continue;k.compareIgnoreCase(n.completion.filterText,n.textLabel)===0?n.score=h:(n.score=_.anyScore(s,o,d,n.textLabel,n.labelLow,0),n.score[0]=h[0])}else{let h=u(s,o,d,n.textLabel,n.labelLow,0,!1);if(!h)continue;n.score=h}}n.idx=r,n.distance=this._wordDistance.distance(n.position,n.completion),c.push(n),v.push(n.textLabel.length)}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:v.length?M.quickSelect(v.length-.85,v,(r,n)=>r-n):0}}static _compareCompletionItems(v,i){return v.score[0]>i.score[0]?-1:v.score[0]<i.score[0]?1:v.distance<i.distance?-1:v.distance>i.distance?1:v.idx<i.idx?-1:v.idx>i.idx?1:0}static _compareCompletionItemsSnippetsDown(v,i){if(v.completion.kind!==i.completion.kind){if(v.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return S._compareCompletionItems(v,i)}static _compareCompletionItemsSnippetsUp(v,i){if(v.completion.kind!==i.completion.kind){if(v.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return S._compareCompletionItems(v,i)}}e.CompletionModel=S}),define(ie[236],ne([0,1,6,2,7,106]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new _.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new _.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new k.DisposableStore,this._size=new M.Dimension(0,0),this._minSize=new M.Dimension(0,0),this._maxSize=new M.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new L.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new L.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new L.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:L.OrthogonalEdge.North}),this._southSash=new L.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:L.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let v,i=0,C=0;this._sashListener.add(_.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{v===void 0&&(this._onDidWillResize.fire(),v=this._size,i=0,C=0)})),this._sashListener.add(_.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{v!==void 0&&(v=void 0,i=0,C=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{v&&(C=s.currentX-s.startX,this.layout(v.height+i,v.width+C),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{v&&(C=-(s.currentX-s.startX),this.layout(v.height+i,v.width+C),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{v&&(i=-(s.currentY-s.startY),this.layout(v.height+i,v.width+C),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{v&&(i=s.currentY-s.startY,this.layout(v.height+i,v.width+C),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(_.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(_.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(v,i,C,s){this._northSash.state=v?3:0,this._eastSash.state=i?3:0,this._southSash.state=C?3:0,this._westSash.state=s?3:0}layout(v=this.size.height,i=this.size.width){const{height:C,width:s}=this._minSize,{height:o,width:a}=this._maxSize;v=Math.max(C,Math.min(o,v)),i=Math.max(s,Math.min(a,i));const c=new M.Dimension(i,v);M.Dimension.equals(c,this._size)||(this.domNode.style.height=v+"px",this.domNode.style.width=i+"px",this._size=c,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(v){this._maxSize=v}get maxSize(){return this._maxSize}set minSize(v){this._minSize=v}get minSize(){return this._minSize}set preferredSize(v){this._preferredSize=v}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(ie[423],ne([0,1,19,2,94]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class L{constructor(m,v,i){this._disposables=new k.DisposableStore,this._disposables.add(v.onDidShow(()=>this._onItem(v.getFocusedItem()))),this._disposables.add(v.onDidFocus(this._onItem,this)),this._disposables.add(v.onDidHide(this.reset,this)),this._disposables.add(m.onWillType(C=>{if(this._active&&!v.isFrozen()){const s=C.charCodeAt(C.length-1);this._active.acceptCharacters.has(s)&&m.getOption(0)&&i(this._active.item)}}))}_onItem(m){if(!m||!_.isNonEmptyArray(m.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===m.item)return;const v=new M.CharacterSet;for(const i of m.item.completion.commitCharacters)i.length>0&&v.add(i.charCodeAt(0));this._active={acceptCharacters:v,item:m}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=L}),define(ie[424],ne([0,1,2]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(L,S){this._disposables=new _.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(L.onWillType(()=>{if(!this._empty||!L.hasModel())return;const m=L.getSelections(),v=m.length;let i=!1;for(let s=0;s<v;s++)if(!m[s].isEmpty()){i=!0;break}if(!i)return;this._lastOvertyped=[];const C=L.getModel();for(let s=0;s<v;s++){const o=m[s];if(C.getValueLengthInRange(o)>k._maxSelectionLength)return;this._lastOvertyped[s]={value:C.getValueInRange(o),multiline:o.startLineNumber!==o.endLineNumber}}this._empty=!1})),this._disposables.add(S.onDidCancel(m=>{!this._empty&&!m.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(L){if(!this._empty&&L>=0&&L<this._lastOvertyped.length)return this._lastOvertyped[L]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(ie[425],ne([0,1,19,3,235]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class L{static create(m,v){return Ie(this,void 0,void 0,function*(){if(!v.getOption(104).localityBonus||!v.hasModel())return L.None;const i=v.getModel(),C=v.getPosition();if(!m.canComputeWordRanges(i.uri))return L.None;const[s]=yield new M.BracketSelectionRangeProvider().provideSelectionRanges(i,[C]);if(s.length===0)return L.None;const o=yield m.computeWordRanges(i.uri,s[0].range);if(!o)return L.None;const a=i.getWordUntilPosition(C);return delete o[a.word],new class extends L{distance(c,u){if(!C.equals(v.getPosition()))return 0;if(u.kind===17)return 2<<20;let r=typeof u.label=="string"?u.label:u.label.label,n=o[r];if(_.isFalsyOrEmpty(n))return 2<<20;let l=_.binarySearch(n,k.Range.fromPositions(c),k.Range.compareRangesUsingStarts),t=l>=0?n[l]:n[Math.max(0,~l-1)],d=s.length;for(const h of s){if(!k.Range.containsRange(h.range,t))break;d-=1}return d}}})}}e.WordDistance=L,L.None=new class extends L{distance(){return 0}}}),define(ie[237],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function _(c){return Array.isArray(c)}e.isFuzzyActionArr=_;function k(c){return!_(c)}e.isFuzzyAction=k;function M(c){return typeof c=="string"}e.isString=M;function L(c){return!M(c)}e.isIAction=L;function S(c){return!c}e.empty=S;function m(c,u){return c.ignoreCase&&u?u.toLowerCase():u}e.fixCase=m;function v(c){return c.replace(/[&<>'"_]/g,"-")}e.sanitize=v;function i(c,u){console.log(`${c.languageId}: ${u}`)}e.log=i;function C(c,u){return new Error(`${c.languageId}: ${u}`)}e.createError=C;function s(c,u,r,n,l){const t=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let d=null;return u.replace(t,function(h,p,w,b,g,f,y,I,N){return S(w)?S(b)?!S(g)&&g<n.length?m(c,n[g]):!S(y)&&c&&typeof c[y]=="string"?c[y]:(d===null&&(d=l.split("."),d.unshift(l)),!S(f)&&f<d.length?m(c,d[f]):""):m(c,r):"$"})}e.substituteMatches=s;function o(c,u){let r=u;for(;r&&r.length>0;){const n=c.tokenizer[r];if(n)return n;const l=r.lastIndexOf(".");l<0?r=null:r=r.substr(0,l)}return null}e.findRules=o;function a(c,u){let r=u;for(;r&&r.length>0;){if(c.stateNames[r])return!0;const l=r.lastIndexOf(".");l<0?r=null:r=r.substr(0,l)}return!1}e.stateExists=a}),define(ie[426],ne([0,1,237]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function k(c,u){if(!u||!Array.isArray(u))return!1;for(const r of u)if(!c(r))return!1;return!0}function M(c,u){return typeof c=="boolean"?c:u}function L(c,u){return typeof c=="string"?c:u}function S(c){const u={};for(const r of c)u[r]=!0;return u}function m(c,u=!1){u&&(c=c.map(function(n){return n.toLowerCase()}));const r=S(c);return u?function(n){return r[n.toLowerCase()]!==void 0&&r.hasOwnProperty(n.toLowerCase())}:function(n){return r[n]!==void 0&&r.hasOwnProperty(n)}}function v(c,u){u=u.replace(/@@/g,"");let r=0,n;do n=!1,u=u.replace(/@(\w+)/g,function(t,d){n=!0;let h="";if(typeof c[d]=="string")h=c[d];else if(c[d]&&c[d]instanceof RegExp)h=c[d].source;else throw c[d]===void 0?_.createError(c,"language definition does not contain attribute '"+d+"', used at: "+u):_.createError(c,"attribute reference '"+d+"' must be a string, used at: "+u);return _.empty(h)?"":"(?:"+h+")"}),r++;while(n&&r<5);u=u.replace(/\x01/g,"@");let l=(c.ignoreCase?"i":"")+(c.unicode?"u":"");return new RegExp(u,l)}function i(c,u,r,n){if(n<0)return c;if(n<u.length)return u[n];if(n>=100){n=n-100;let l=r.split(".");if(l.unshift(r),n<l.length)return l[n]}return null}function C(c,u,r,n){let l=-1,t=r,d=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);d&&(d[3]&&(l=parseInt(d[3]),d[2]&&(l=l+100)),t=d[4]);let h="~",p=t;!t||t.length===0?(h="!=",p=""):/^\w*$/.test(p)?h="==":(d=t.match(/^(@|!@|~|!~|==|!=)(.*)$/),d&&(h=d[1],p=d[2]));let w;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(p)){let b=m(p.split("|"),c.ignoreCase);w=function(g){return h==="~"?b(g):!b(g)}}else if(h==="@"||h==="!@"){let b=c[p];if(!b)throw _.createError(c,"the @ match target '"+p+"' is not defined, in rule: "+u);if(!k(function(f){return typeof f=="string"},b))throw _.createError(c,"the @ match target '"+p+"' must be an array of strings, in rule: "+u);let g=m(b,c.ignoreCase);w=function(f){return h==="@"?g(f):!g(f)}}else if(h==="~"||h==="!~")if(p.indexOf("$")<0){let b=v(c,"^"+p+"$");w=function(g){return h==="~"?b.test(g):!b.test(g)}}else w=function(b,g,f,y){return v(c,"^"+_.substituteMatches(c,p,g,f,y)+"$").test(b)};else if(p.indexOf("$")<0){let b=_.fixCase(c,p);w=function(g){return h==="=="?g===b:g!==b}}else{let b=_.fixCase(c,p);w=function(g,f,y,I,N){let D=_.substituteMatches(c,b,f,y,I);return h==="=="?g===D:g!==D}}return l===-1?{name:r,value:n,test:function(b,g,f,y){return w(b,b,g,f,y)}}:{name:r,value:n,test:function(b,g,f,y){let I=i(b,g,f,l);return w(I||"",b,g,f,y)}}}function s(c,u,r){if(r){if(typeof r=="string")return r;if(r.token||r.token===""){if(typeof r.token!="string")throw _.createError(c,"a 'token' attribute must be of type string, in rule: "+u);{let n={token:r.token};if(r.token.indexOf("$")>=0&&(n.tokenSubst=!0),typeof r.bracket=="string")if(r.bracket==="@open")n.bracket=1;else if(r.bracket==="@close")n.bracket=-1;else throw _.createError(c,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+u);if(r.next){if(typeof r.next!="string")throw _.createError(c,"the next state must be a string value in rule: "+u);{let l=r.next;if(!/^(@pop|@push|@popall)$/.test(l)&&(l[0]==="@"&&(l=l.substr(1)),l.indexOf("$")<0&&!_.stateExists(c,_.substituteMatches(c,l,"",[],""))))throw _.createError(c,"the next state '"+r.next+"' is not defined in rule: "+u);n.next=l}}return typeof r.goBack=="number"&&(n.goBack=r.goBack),typeof r.switchTo=="string"&&(n.switchTo=r.switchTo),typeof r.log=="string"&&(n.log=r.log),typeof r.nextEmbedded=="string"&&(n.nextEmbedded=r.nextEmbedded,c.usesEmbedded=!0),n}}else if(Array.isArray(r)){let n=[];for(let l=0,t=r.length;l<t;l++)n[l]=s(c,u,r[l]);return{group:n}}else if(r.cases){let n=[];for(let t in r.cases)if(r.cases.hasOwnProperty(t)){const d=s(c,u,r.cases[t]);t==="@default"||t==="@"||t===""?n.push({test:void 0,value:d,name:t}):t==="@eos"?n.push({test:function(h,p,w,b){return b},value:d,name:t}):n.push(C(c,u,t,d))}const l=c.defaultToken;return{test:function(t,d,h,p){for(const w of n)if(!w.test||w.test(t,d,h,p))return w.value;return l}}}else throw _.createError(c,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+u)}else return{token:""}}class o{constructor(u){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=u}setRegex(u,r){let n;if(typeof r=="string")n=r;else if(r instanceof RegExp)n=r.source;else throw _.createError(u,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=n.length>0&&n[0]==="^",this.name=this.name+": "+n,this.regex=v(u,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(u,r){this.action=s(u,this.name,r)}}function a(c,u){if(!u||typeof u!="object")throw new Error("Monarch: expecting a language definition object");let r={};r.languageId=c,r.includeLF=M(u.includeLF,!1),r.noThrow=!1,r.maxStack=100,r.start=typeof u.start=="string"?u.start:null,r.ignoreCase=M(u.ignoreCase,!1),r.unicode=M(u.unicode,!1),r.tokenPostfix=L(u.tokenPostfix,"."+r.languageId),r.defaultToken=L(u.defaultToken,"source"),r.usesEmbedded=!1;let n=u;n.languageId=c,n.includeLF=r.includeLF,n.ignoreCase=r.ignoreCase,n.unicode=r.unicode,n.noThrow=r.noThrow,n.usesEmbedded=r.usesEmbedded,n.stateNames=u.tokenizer,n.defaultToken=r.defaultToken;function l(d,h,p){for(const w of p){let b=w.include;if(b){if(typeof b!="string")throw _.createError(r,"an 'include' attribute must be a string at: "+d);if(b[0]==="@"&&(b=b.substr(1)),!u.tokenizer[b])throw _.createError(r,"include target '"+b+"' is not defined at: "+d);l(d+"."+b,h,u.tokenizer[b])}else{const g=new o(d);if(Array.isArray(w)&&w.length>=1&&w.length<=3)if(g.setRegex(n,w[0]),w.length>=3)if(typeof w[1]=="string")g.setAction(n,{token:w[1],next:w[2]});else if(typeof w[1]=="object"){const f=w[1];f.next=w[2],g.setAction(n,f)}else throw _.createError(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+d);else g.setAction(n,w[1]);else{if(!w.regex)throw _.createError(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+d);w.name&&typeof w.name=="string"&&(g.name=w.name),w.matchOnlyAtStart&&(g.matchOnlyAtLineStart=M(w.matchOnlyAtLineStart,!1)),g.setRegex(n,w.regex),g.setAction(n,w.action)}h.push(g)}}}if(!u.tokenizer||typeof u.tokenizer!="object")throw _.createError(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(let d in u.tokenizer)if(u.tokenizer.hasOwnProperty(d)){r.start||(r.start=d);const h=u.tokenizer[d];r.tokenizer[d]=new Array,l("tokenizer."+d,r.tokenizer[d],h)}if(r.usesEmbedded=n.usesEmbedded,u.brackets){if(!Array.isArray(u.brackets))throw _.createError(r,"the 'brackets' attribute must be defined as an array")}else u.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let t=[];for(let d of u.brackets){let h=d;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw _.createError(r,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")t.push({token:h.token+r.tokenPostfix,open:_.fixCase(r,h.open),close:_.fixCase(r,h.close)});else throw _.createError(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return r.brackets=t,r.noThrow=!0,r}e.compile=a}),define(ie[427],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ie[428],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInput",e)}),define(ie[429],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(ie[238],ne([0,1,165,429,27]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const L=k.localize(0,null),S=k.localize(1,null),m=k.localize(2,null);class v extends _.Checkbox{constructor(o){super({icon:M.Codicon.caseSensitive,title:L+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=v;class i extends _.Checkbox{constructor(o){super({icon:M.Codicon.wholeWord,title:S+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}e.WholeWordsCheckbox=i;class C extends _.Checkbox{constructor(o){super({icon:M.Codicon.regex,title:m+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}e.RegexCheckbox=C}),define(ie[430],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ie[431],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(ie[432],ne([0,1,20,7,23,2,431,15]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function v(s,o){_.isString(o)?s.title=o:(o==null?void 0:o.markdownNotSupportedFallback)?s.title=o.markdownNotSupportedFallback:s.removeAttribute("title")}e.setupNativeHover=v;function i(s,o,a){if(!a)return;const c=C(a);let u,r;const n=t=>{if(u)return;const d=new M.CancellationTokenSource,h=I=>{const N=I.type===k.EventType.MOUSE_DOWN;N&&(r==null||r.dispose(),r=void 0),(N||I.fromElement===o)&&(u==null||u.dispose(),u=void 0)},p=k.addDisposableListener(o,k.EventType.MOUSE_LEAVE,h,!0),w=k.addDisposableListener(o,k.EventType.MOUSE_DOWN,h,!0),b={targetElements:[o],dispose:()=>{}};let g;if(s.placement===void 0||s.placement==="mouse"){const I=N=>b.x=N.x+10;g=k.addDisposableListener(o,k.EventType.MOUSE_MOVE,I,!0)}const f=()=>Ie(this,void 0,void 0,function*(){var I;if(u){const N={text:S.localize(0,null),target:b,hoverPosition:2};r==null||r.dispose(),r=s.showHover(N);const D=(I=yield c(d.token))!==null&&I!==void 0?I:_.isString(a)?void 0:a.markdownNotSupportedFallback;if(r==null||r.dispose(),r=void 0,D&&u){const T={text:D,target:b,showPointer:s.placement==="element",hoverPosition:2};r=s.showHover(T)}}g==null||g.dispose()}),y=new m.RunOnceScheduler(f,s.delay);y.schedule(),u=L.toDisposable(()=>{y.dispose(),g==null||g.dispose(),w.dispose(),p.dispose(),d.dispose(!0)})},l=k.addDisposableListener(o,k.EventType.MOUSE_OVER,n,!0);return L.toDisposable(()=>{l.dispose(),u==null||u.dispose(),r==null||r.dispose()})}e.setupCustomHover=i;function C(s){if(_.isString(s))return()=>Ie(this,void 0,void 0,function*(){return s});if(_.isFunction(s.markdown))return s.markdown;{const o=s.markdown;return()=>Ie(this,void 0,void 0,function*(){return o})}}}),define(ie[179],ne([0,1,7,161,2,126,42,432,312]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class v{constructor(c){this._element=c}get element(){return this._element}set textContent(c){this.disposed||c===this._textContent||(this._textContent=c,this._element.textContent=c)}set className(c){this.disposed||c===this._className||(this._className=c,this._element.className=c)}set empty(c){this.disposed||c===this._empty||(this._empty=c,this._element.style.marginLeft=c?"0":"")}dispose(){this.disposed=!0}}class i extends M.Disposable{constructor(c,u){super();this.customHovers=new Map,this.domNode=this._register(new v(_.append(c,_.$(".monaco-icon-label")))),this.labelContainer=_.append(this.domNode.element,_.$(".monaco-icon-label-container"));const r=_.append(this.labelContainer,_.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new v(_.append(this.labelContainer,_.$("span.monaco-icon-description-container")))),(u==null?void 0:u.supportHighlights)||(u==null?void 0:u.supportIcons)?this.nameNode=new o(r,!!u.supportIcons):this.nameNode=new C(r),(u==null?void 0:u.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new k.HighlightedLabel(_.append(this.descriptionContainer.element,_.$("span.label-description")),!!u.supportIcons):this.descriptionNodeFactory=()=>this._register(new v(_.append(this.descriptionContainer.element,_.$("span.label-description")))),this.hoverDelegate=u==null?void 0:u.hoverDelegate}setLabel(c,u,r){const n=["monaco-icon-label"];r&&(r.extraClasses&&n.push(...r.extraClasses),r.italic&&n.push("italic"),r.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover(this.labelContainer,r==null?void 0:r.title),this.nameNode.setLabel(c,r),(u||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof k.HighlightedLabel?(this.descriptionNode.set(u||"",r?r.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,r==null?void 0:r.descriptionTitle)):(this.descriptionNode.textContent=u||"",this.setupHover(this.descriptionNode.element,(r==null?void 0:r.descriptionTitle)||""),this.descriptionNode.empty=!u))}setupHover(c,u){const r=this.customHovers.get(c);if(r&&(r.dispose(),this.customHovers.delete(c)),!u){c.removeAttribute("title");return}if(!this.hoverDelegate)m.setupNativeHover(c,u);else{const n=m.setupCustomHover(this.hoverDelegate,c,u);n&&this.customHovers.set(c,n)}}dispose(){super.dispose();for(const c of this.customHovers.values())c.dispose();this.customHovers.clear()}}e.IconLabel=i;class C{constructor(c){this.container=c,this.label=void 0,this.singleLabel=void 0}setLabel(c,u){if(!(this.label===c&&S.equals(this.options,u)))if(this.label=c,this.options=u,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=_.append(this.container,_.$("a.label-name",{id:u==null?void 0:u.domId}))),this.singleLabel.textContent=c;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let r=0;r<c.length;r++){const n=c[r],l=(u==null?void 0:u.domId)&&`${u==null?void 0:u.domId}_${r}`;_.append(this.container,_.$("a.label-name",{id:l,"data-icon-label-count":c.length,"data-icon-label-index":r,role:"treeitem"},n)),r<c.length-1&&_.append(this.container,_.$("span.label-separator",void 0,(u==null?void 0:u.separator)||"/"))}}}}function s(a,c,u){if(!u)return;let r=0;return a.map(n=>{const l={start:r,end:r+n.length},t=u.map(d=>L.Range.intersect(l,d)).filter(d=>!L.Range.isEmpty(d)).map(({start:d,end:h})=>({start:d-r,end:h-r}));return r=l.end+c.length,t})}class o{constructor(c,u){this.container=c,this.supportIcons=u,this.label=void 0,this.singleLabel=void 0}setLabel(c,u){if(!(this.label===c&&S.equals(this.options,u)))if(this.label=c,this.options=u,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new k.HighlightedLabel(_.append(this.container,_.$("a.label-name",{id:u==null?void 0:u.domId})),this.supportIcons)),this.singleLabel.set(c,u==null?void 0:u.matches,void 0,u==null?void 0:u.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const r=(u==null?void 0:u.separator)||"/",n=s(c,r,u==null?void 0:u.matches);for(let l=0;l<c.length;l++){const t=c[l],d=n?n[l]:void 0,h=(u==null?void 0:u.domId)&&`${u==null?void 0:u.domId}_${l}`,p=_.$("a.label-name",{id:h,"data-icon-label-count":c.length,"data-icon-label-index":l,role:"treeitem"});new k.HighlightedLabel(_.append(this.container,p),this.supportIcons).set(t,d,void 0,u==null?void 0:u.labelEscapeNewLines),l<c.length-1&&_.append(p,_.$("span.label-separator",void 0,r))}}}}}),define(ie[433],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ie[434],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ie[435],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/menu/menu",e)}),define(ie[436],ne([4,5]),function($,e){return $.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ie[180],ne([0,1,2,107,7,6,54,100,164,19,166,91,66,158,436,15,17,101,199,200,325]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class d extends C.ElementsDragAndDropData{constructor(E){super(E.elements.map(W=>W.element));this.data=E}}function h(F){return F instanceof C.ElementsDragAndDropData?new d(F):F}class p{constructor(E,W){this.modelProvider=E,this.dnd=W,this.autoExpandDisposable=_.Disposable.None}getDragURI(E){return this.dnd.getDragURI(E.element)}getDragLabel(E,W){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(E.map(V=>V.element),W)}onDragStart(E,W){this.dnd.onDragStart&&this.dnd.onDragStart(h(E),W)}onDragOver(E,W,V,U,q=!0){const j=this.dnd.onDragOver(h(E),W&&W.element,V,U),te=this.autoExpandNode!==W;if(te&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=W),typeof W=="undefined")return j;if(te&&typeof j!="boolean"&&j.autoExpand&&(this.autoExpandDisposable=u.disposableTimeout(()=>{const B=this.modelProvider(),Z=B.getNodeLocation(W);B.isCollapsed(Z)&&B.setCollapsed(Z,!1),this.autoExpandNode=void 0},500)),typeof j=="boolean"||!j.accept||typeof j.bubble=="undefined"||j.feedback){if(!q){const B=typeof j=="boolean"?j:j.accept,Z=typeof j=="boolean"?void 0:j.effect;return{accept:B,effect:Z,feedback:[V]}}return j}if(j.bubble===1){const B=this.modelProvider(),Z=B.getNodeLocation(W),H=B.getParentNodeLocation(Z),z=B.getNode(H),ee=H&&B.getListIndex(H);return this.onDragOver(E,z,ee,U,!1)}const ae=this.modelProvider(),de=ae.getNodeLocation(W),ue=ae.getListIndex(de),X=ae.getListRenderCount(de);return Object.assign(Object.assign({},j),{feedback:i.range(ue,ue+X)})}drop(E,W,V,U){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(h(E),W&&W.element,V,U)}onDragEnd(E){this.dnd.onDragEnd&&this.dnd.onDragEnd(E)}}function w(F,E){return E&&Object.assign(Object.assign({},E),{identityProvider:E.identityProvider&&{getId(W){return E.identityProvider.getId(W.element)}},dnd:E.dnd&&new p(F,E.dnd),multipleSelectionController:E.multipleSelectionController&&{isSelectionSingleChangeEvent(W){return E.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))},isSelectionRangeChangeEvent(W){return E.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))}},accessibilityProvider:E.accessibilityProvider&&Object.assign(Object.assign({},E.accessibilityProvider),{getSetSize(W){const V=F(),U=V.getNodeLocation(W),q=V.getParentNodeLocation(U);return V.getNode(q).visibleChildrenCount},getPosInSet(W){return W.visibleChildIndex+1},isChecked:E.accessibilityProvider&&E.accessibilityProvider.isChecked?W=>E.accessibilityProvider.isChecked(W.element):void 0,getRole:E.accessibilityProvider&&E.accessibilityProvider.getRole?W=>E.accessibilityProvider.getRole(W.element):()=>"treeitem",getAriaLabel(W){return E.accessibilityProvider.getAriaLabel(W.element)},getWidgetAriaLabel(){return E.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:E.accessibilityProvider&&E.accessibilityProvider.getWidgetRole?()=>E.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:E.accessibilityProvider&&E.accessibilityProvider.getAriaLevel?W=>E.accessibilityProvider.getAriaLevel(W.element):W=>W.depth,getActiveDescendantId:E.accessibilityProvider.getActiveDescendantId&&(W=>E.accessibilityProvider.getActiveDescendantId(W.element))}),keyboardNavigationLabelProvider:E.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},E.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(W){return E.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W.element)}}),enableKeyboardNavigation:E.simpleKeyboardNavigation})}class b{constructor(E){this.delegate=E}getHeight(E){return this.delegate.getHeight(E.element)}getTemplateId(E){return this.delegate.getTemplateId(E.element)}hasDynamicHeight(E){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(E.element)}setDynamicHeight(E,W){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(E.element,W)}}e.ComposedTreeDelegate=b;var g;(function(F){F.None="none",F.OnHover="onHover",F.Always="always"})(g=e.RenderIndentGuides||(e.RenderIndentGuides={}));class f{constructor(E,W=[]){this._elements=W,this.onDidChange=L.Event.forEach(E,V=>this._elements=V)}get elements(){return this._elements}}class y{constructor(E,W,V,U,q={}){this.renderer=E,this.modelProvider=W,this.activeNodes=U,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=y.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new l.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=_.Disposable.None,this.disposables=new _.DisposableStore,this.templateId=E.templateId,this.updateOptions(q),L.Event.map(V,j=>j.node)(this.onDidChangeNodeTwistieState,this,this.disposables),E.onDidChangeTwistieState&&E.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(E={}){if(typeof E.indent!="undefined"&&(this.indent=n.clamp(E.indent,0,40)),typeof E.renderIndentGuides!="undefined"){const W=E.renderIndentGuides!==g.None;if(W!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=W,this.indentGuidesDisposable.dispose(),W)){const V=new _.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,V),this.indentGuidesDisposable=V,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof E.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=E.hideTwistiesOfChildlessElements)}renderTemplate(E){const W=M.append(E,M.$(".monaco-tl-row")),V=M.append(W,M.$(".monaco-tl-indent")),U=M.append(W,M.$(".monaco-tl-twistie")),q=M.append(W,M.$(".monaco-tl-contents")),j=this.renderer.renderTemplate(q);return{container:E,indent:V,twistie:U,indentGuidesDisposable:_.Disposable.None,templateData:j}}renderElement(E,W,V,U){typeof U=="number"&&(this.renderedNodes.set(E,{templateData:V,height:U}),this.renderedElements.set(E.element,E));const q=y.DefaultIndent+(E.depth-1)*this.indent;V.twistie.style.paddingLeft=`${q}px`,V.indent.style.width=`${q+this.indent-16}px`,this.renderTwistie(E,V),typeof U=="number"&&this.renderIndentGuides(E,V),this.renderer.renderElement(E,W,V.templateData,U)}disposeElement(E,W,V,U){V.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(E,W,V.templateData,U),typeof U=="number"&&(this.renderedNodes.delete(E),this.renderedElements.delete(E.element))}disposeTemplate(E){this.renderer.disposeTemplate(E.templateData)}onDidChangeTwistieState(E){const W=this.renderedElements.get(E);!W||this.onDidChangeNodeTwistieState(W)}onDidChangeNodeTwistieState(E){const W=this.renderedNodes.get(E);!W||(this.renderTwistie(E,W.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(E,W.templateData))}renderTwistie(E,W){W.twistie.classList.remove(...t.treeItemExpandedIcon.classNamesArray);let V=!1;this.renderer.renderTwistie&&(V=this.renderer.renderTwistie(E.element,W.twistie)),E.collapsible&&(!this.hideTwistiesOfChildlessElements||E.visibleChildrenCount>0)?(V||W.twistie.classList.add(...t.treeItemExpandedIcon.classNamesArray),W.twistie.classList.add("collapsible"),W.twistie.classList.toggle("collapsed",E.collapsed)):W.twistie.classList.remove("collapsible","collapsed"),E.collapsible?W.container.setAttribute("aria-expanded",String(!E.collapsed)):W.container.removeAttribute("aria-expanded")}renderIndentGuides(E,W){if(M.clearNode(W.indent),W.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const V=new _.DisposableStore,U=this.modelProvider();let q=E;for(;;){const j=U.getNodeLocation(q),te=U.getParentNodeLocation(j);if(!te)break;const ae=U.getNode(te),de=M.$(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ae)&&de.classList.add("active"),W.indent.childElementCount===0?W.indent.appendChild(de):W.indent.insertBefore(de,W.indent.firstElementChild),this.renderedIndentGuides.add(ae,de),V.add(_.toDisposable(()=>this.renderedIndentGuides.delete(ae,de))),q=ae}W.indentGuidesDisposable=V}_onDidChangeActiveNodes(E){if(!this.shouldRenderIndentGuides)return;const W=new Set,V=this.modelProvider();E.forEach(U=>{const q=V.getNodeLocation(U);try{const j=V.getParentNodeLocation(q);U.collapsible&&U.children.length>0&&!U.collapsed?W.add(U):j&&W.add(V.getNode(j))}catch(j){}}),this.activeIndentNodes.forEach(U=>{W.has(U)||this.renderedIndentGuides.forEach(U,q=>q.classList.remove("active"))}),W.forEach(U=>{this.activeIndentNodes.has(U)||this.renderedIndentGuides.forEach(U,q=>q.classList.add("active"))}),this.activeIndentNodes=W}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),_.dispose(this.disposables)}}y.DefaultIndent=8;class I{constructor(E,W,V){this.tree=E,this.keyboardNavigationLabelProvider=W,this._filter=V,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new _.DisposableStore,E.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(E){this._pattern=E,this._lowercasePattern=E.toLowerCase()}filter(E,W){if(this._filter){const q=this._filter.filter(E,W);if(this.tree.options.simpleKeyboardNavigation)return q;let j;if(typeof q=="boolean"?j=q?1:0:a.isFilterResult(q)?j=a.getVisibleState(q.visibility):j=q,j===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:o.FuzzyScore.Default,visibility:!0};const V=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(E),U=Array.isArray(V)?V:[V];for(const q of U){const j=q&&q.toString();if(typeof j=="undefined")return{data:o.FuzzyScore.Default,visibility:!0};const te=o.fuzzyScore(this._pattern,this._lowercasePattern,0,j,j.toLowerCase(),0,!0);if(te)return this._matchCount++,U.length===1?{data:te,visibility:!0}:{data:{label:j,score:te},visibility:!0}}return this.tree.options.filterOnType?2:{data:o.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){_.dispose(this.disposables)}}class N{constructor(E,W,V,U,q){this.tree=E,this.view=V,this.filter=U,this.keyboardNavigationDelegate=q,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new L.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new L.Emitter,this.enabledDisposables=new _.DisposableStore,this.disposables=new _.DisposableStore,this.domNode=M.$(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add(M.addDisposableListener(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=M.append(V.getHTMLElement(),M.$(".monaco-list-type-filter-message")),this.labelDomNode=M.append(this.domNode,M.$("span.label"));const j=M.append(this.domNode,M.$(".controls"));this._filterOnType=!!E.options.filterOnType,this.filterOnTypeDomNode=M.append(j,M.$("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(M.addDisposableListener(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=M.append(j,M.$("button.clear"+t.treeFilterClearIcon.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=c.localize(0,null),this.keyboardNavigationEventFilter=E.options.keyboardNavigationEventFilter,W.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(E.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(E){E.simpleKeyboardNavigation?this.disable():this.enable(),typeof E.filterOnType!="undefined"&&(this._filterOnType=!!E.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof E.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=E.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const E=this.enabledDisposables.add(new s.DomEmitter(this.view.getHTMLElement(),"keydown")),W=L.Event.chain(E.event).filter(U=>!k.isInputElement(U.target)||U.target===this.filterOnTypeDomNode).filter(U=>U.key!=="Dead"&&!/^Media/.test(U.key)).map(U=>new S.StandardKeyboardEvent(U)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(U=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(U)&&!(U.keyCode===18||U.keyCode===16||U.keyCode===15||U.keyCode===17)||(this.pattern.length>0||this.triggered)&&(U.keyCode===9||U.keyCode===1)&&!U.altKey&&!U.ctrlKey&&!U.metaKey||U.keyCode===1&&(r.isMacintosh?U.altKey&&!U.metaKey:U.ctrlKey)&&!U.shiftKey).forEach(U=>{U.stopPropagation(),U.preventDefault()}).event,V=this.enabledDisposables.add(new s.DomEmitter(this.clearDomNode,"click"));L.Event.chain(L.Event.any(W,V.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(E){typeof E=="string"?this.onInput(E):E instanceof MouseEvent||E.keyCode===9||E.keyCode===1&&(r.isMacintosh?E.altKey:E.ctrlKey)?this.onInput(""):E.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+E.browserEvent.key)}onInput(E){const W=this.view.getHTMLElement();E&&!this.domNode.parentElement?W.append(this.domNode):!E&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=E,this._onDidChangePattern.fire(E),this.filter.pattern=E,this.tree.refilter(),E&&this.tree.focusNext(0,!0,void 0,U=>!o.FuzzyScore.isDefault(U.filterData));const V=this.tree.getFocus();if(V.length>0){const U=V[0];this.tree.getRelativeTop(U)===null&&this.tree.reveal(U,.5)}this.render(),E||(this.triggered=!1)}onDragStart(){const E=this.view.getHTMLElement(),{left:W}=M.getDomNodePagePosition(E),V=E.clientWidth,U=V/2,q=this.domNode.clientWidth,j=new _.DisposableStore;let te=this.positionClassName;const ae=()=>{switch(te){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${V-q-6}px`;break}},de=X=>{X.preventDefault();const B=X.clientX-W;X.dataTransfer&&(X.dataTransfer.dropEffect="none"),B<U?te="nw":te="ne",ae()},ue=()=>{this.positionClassName=te,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",_.dispose(j)};ae(),this.domNode.classList.remove(te),this.domNode.classList.add("dragging"),j.add(_.toDisposable(()=>this.domNode.classList.remove("dragging"))),j.add(M.addDisposableListener(document,"dragover",X=>de(X))),j.add(M.addDisposableListener(this.domNode,"dragend",()=>ue())),v.StaticDND.CurrentDragAndDropData=new v.DragAndDropData("vscode-ui"),j.add(_.toDisposable(()=>v.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.title=c.localize(1,null)):(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.title=c.localize(2,null))}render(){const E=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&E?(this.messageDomNode.textContent=c.localize(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",E),this.domNode.title=c.localize(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(E){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!o.FuzzyScore.isDefault(E.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),_.dispose(this.disposables)}}function D(F){let E=m.TreeMouseEventTarget.Unknown;return M.hasParentWithClass(F.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?E=m.TreeMouseEventTarget.Twistie:M.hasParentWithClass(F.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(E=m.TreeMouseEventTarget.Element),{browserEvent:F.browserEvent,element:F.element?F.element.element:null,target:E}}function T(F,E){E(F),F.children.forEach(W=>T(W,E))}class P{constructor(E,W){this.getFirstViewElementWithTrait=E,this.identityProvider=W,this.nodes=[],this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(E,W){var V;!((V=W)===null||V===void 0?void 0:V.__forceEvent)&&i.equals(this.nodes,E)||this._set(E,!1,W)}_set(E,W,V){if(this.nodes=[...E],this.elements=void 0,this._nodeSet=void 0,!W){const U=this;this._onDidChange.fire({get elements(){return U.get()},browserEvent:V})}}get(){return this.elements||(this.elements=this.nodes.map(E=>E.element)),[...this.elements]}getNodes(){return this.nodes}has(E){return this.nodeSet.has(E)}onDidModelSplice({insertedNodes:E,deletedNodes:W}){if(!this.identityProvider){const ae=this.createNodeSet(),de=ue=>ae.delete(ue);W.forEach(ue=>T(ue,de)),this.set([...ae.values()]);return}const V=new Set,U=ae=>V.add(this.identityProvider.getId(ae.element).toString());W.forEach(ae=>T(ae,U));const q=new Map,j=ae=>q.set(this.identityProvider.getId(ae.element).toString(),ae);E.forEach(ae=>T(ae,j));const te=[];for(const ae of this.nodes){const de=this.identityProvider.getId(ae.element).toString();if(!V.has(de))te.push(ae);else{const X=q.get(de);X&&te.push(X)}}if(this.nodes.length>0&&te.length===0){const ae=this.getFirstViewElementWithTrait();ae&&te.push(ae)}this._set(te,!0)}createNodeSet(){const E=new Set;for(const W of this.nodes)E.add(W);return E}}class R extends k.MouseController{constructor(E,W){super(E);this.tree=W}onViewPointer(E){if(k.isInputElement(E.browserEvent.target)||k.isMonacoEditor(E.browserEvent.target))return;const W=E.element;if(!W)return super.onViewPointer(E);if(this.isSelectionRangeChangeEvent(E)||this.isSelectionSingleChangeEvent(E))return super.onViewPointer(E);const V=E.browserEvent.target,U=V.classList.contains("monaco-tl-twistie")||V.classList.contains("monaco-icon-label")&&V.classList.contains("folder-icon")&&E.browserEvent.offsetX<16;let q=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?q=this.tree.expandOnlyOnTwistieClick(W.element):q=!!this.tree.expandOnlyOnTwistieClick,q&&!U&&E.browserEvent.detail!==2)return super.onViewPointer(E);if(!this.tree.expandOnDoubleClick&&E.browserEvent.detail===2)return super.onViewPointer(E);if(W.collapsible){const j=this.tree.model,te=j.getNodeLocation(W),ae=E.browserEvent.altKey;if(this.tree.setFocus([te]),j.setCollapsed(te,void 0,ae),q&&U)return}super.onViewPointer(E)}onDoubleClick(E){E.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(E)}}class O extends k.List{constructor(E,W,V,U,q,j,te,ae){super(E,W,V,U,ae);this.focusTrait=q,this.selectionTrait=j,this.anchorTrait=te}createMouseController(E){return new R(this,E.tree)}splice(E,W,V=[]){if(super.splice(E,W,V),V.length===0)return;const U=[],q=[];let j;V.forEach((te,ae)=>{this.focusTrait.has(te)&&U.push(E+ae),this.selectionTrait.has(te)&&q.push(E+ae),this.anchorTrait.has(te)&&(j=E+ae)}),U.length>0&&super.setFocus(i.distinctES6([...super.getFocus(),...U])),q.length>0&&super.setSelection(i.distinctES6([...super.getSelection(),...q])),typeof j=="number"&&super.setAnchor(j)}setFocus(E,W,V=!1){super.setFocus(E,W),V||this.focusTrait.set(E.map(U=>this.element(U)),W)}setSelection(E,W,V=!1){super.setSelection(E,W),V||this.selectionTrait.set(E.map(U=>this.element(U)),W)}setAnchor(E,W=!1){super.setAnchor(E),W||(typeof E=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(E)]))}}class A{constructor(E,W,V,U,q={}){this._options=q,this.eventBufferer=new L.EventBufferer,this.disposables=new _.DisposableStore,this._onWillRefilter=new L.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new L.Emitter;const j=new b(V),te=new L.Relay,ae=new L.Relay,de=new f(ae.event);this.renderers=U.map(B=>new y(B,()=>this.model,te.event,de,q));for(let B of this.renderers)this.disposables.add(B);let ue;q.keyboardNavigationLabelProvider&&(ue=new I(this,q.keyboardNavigationLabelProvider,q.filter),q=Object.assign(Object.assign({},q),{filter:ue}),this.disposables.add(ue)),this.focus=new P(()=>this.view.getFocusedElements()[0],q.identityProvider),this.selection=new P(()=>this.view.getSelectedElements()[0],q.identityProvider),this.anchor=new P(()=>this.view.getAnchorElement(),q.identityProvider),this.view=new O(E,W,j,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},w(()=>this.model,q)),{tree:this})),this.model=this.createModel(E,this.view,q),te.input=this.model.onDidChangeCollapseState;const X=L.Event.forEach(this.model.onDidSplice,B=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(B),this.selection.onDidModelSplice(B)})});if(X(()=>null,null,this.disposables),ae.input=L.Event.chain(L.Event.any(X,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const B=new Set;for(const Z of this.focus.getNodes())B.add(Z);for(const Z of this.selection.getNodes())B.add(Z);return[...B.values()]}).event,q.keyboardSupport!==!1){const B=L.Event.chain(this.view.onKeyDown).filter(Z=>!k.isInputElement(Z.target)).map(Z=>new S.StandardKeyboardEvent(Z));B.filter(Z=>Z.keyCode===15).on(this.onLeftArrow,this,this.disposables),B.filter(Z=>Z.keyCode===17).on(this.onRightArrow,this,this.disposables),B.filter(Z=>Z.keyCode===10).on(this.onSpace,this,this.disposables)}if(q.keyboardNavigationLabelProvider){const B=q.keyboardNavigationDelegate||k.DefaultKeyboardNavigationDelegate;this.typeFilterController=new N(this,this.model,this.view,ue,B),this.focusNavigationFilter=Z=>this.typeFilterController.shouldAllowFocus(Z),this.disposables.add(this.typeFilterController)}this.styleElement=M.createStyleSheet(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===g.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return L.Event.map(this.view.onMouseDblClick,D)}get onPointer(){return L.Event.map(this.view.onPointer,D)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(E={}){this._options=Object.assign(Object.assign({},this._options),E);for(const W of this.renderers)W.updateOptions(E);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===g.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(E){this.view.scrollTop=E}domFocus(){this.view.domFocus()}layout(E,W){this.view.layout(E,W)}style(E){const W=`.${this.view.domId}`,V=[];E.treeIndentGuidesStroke&&(V.push(`.monaco-list${W}:hover .monaco-tl-indent > .indent-guide, .monaco-list${W}.always .monaco-tl-indent > .indent-guide  { border-color: ${E.treeIndentGuidesStroke.transparent(.4)}; }`),V.push(`.monaco-list${W} .monaco-tl-indent > .indent-guide.active { border-color: ${E.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=V.join(`
`),this.view.style(E)}collapse(E,W=!1){return this.model.setCollapsed(E,!0,W)}expand(E,W=!1){return this.model.setCollapsed(E,!1,W)}isCollapsible(E){return this.model.isCollapsible(E)}setCollapsible(E,W){return this.model.setCollapsible(E,W)}isCollapsed(E){return this.model.isCollapsed(E)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(E,W){const V=E.map(q=>this.model.getNode(q));this.selection.set(V,W);const U=E.map(q=>this.model.getListIndex(q)).filter(q=>q>-1);this.view.setSelection(U,W,!0)}getSelection(){return this.selection.get()}setFocus(E,W){const V=E.map(q=>this.model.getNode(q));this.focus.set(V,W);const U=E.map(q=>this.model.getListIndex(q)).filter(q=>q>-1);this.view.setFocus(U,W,!0)}focusNext(E=1,W=!1,V,U=this.focusNavigationFilter){this.view.focusNext(E,W,V,U)}getFocus(){return this.focus.get()}reveal(E,W){this.model.expandTo(E);const V=this.model.getListIndex(E);V!==-1&&this.view.reveal(V,W)}getRelativeTop(E){const W=this.model.getListIndex(E);return W===-1?null:this.view.getRelativeTop(W)}onLeftArrow(E){E.preventDefault(),E.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const V=W[0],U=this.model.getNodeLocation(V);if(!this.model.setCollapsed(U,!0)){const j=this.model.getParentNodeLocation(U);if(!j)return;const te=this.model.getListIndex(j);this.view.reveal(te),this.view.setFocus([te])}}onRightArrow(E){E.preventDefault(),E.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const V=W[0],U=this.model.getNodeLocation(V);if(!this.model.setCollapsed(U,!1)){if(!V.children.some(ae=>ae.visible))return;const[j]=this.view.getFocus(),te=j+1;this.view.reveal(te),this.view.setFocus([te])}}onSpace(E){E.preventDefault(),E.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const V=W[0],U=this.model.getNodeLocation(V),q=E.browserEvent.altKey;this.model.setCollapsed(U,void 0,q)}dispose(){_.dispose(this.disposables),this.view.dispose()}}e.AbstractTree=A}),define(ie[437],ne([0,1,180,159]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class M extends _.AbstractTree{constructor(S,m,v,i,C,s={}){super(S,m,v,i,s);this.user=S,this.dataSource=C,this.identityProvider=s.identityProvider}createModel(S,m,v){return new k.ObjectTreeModel(S,m,v)}}e.DataTree=M}),define(ie[239],ne([0,1,53,180,159,293,89]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class m extends k.AbstractTree{constructor(o,a,c,u,r={}){super(o,a,c,u,r)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(o,a=_.Iterable.empty(),c){this.model.setChildren(o,a,c)}rerender(o){if(o===void 0){this.view.rerender();return}this.model.rerender(o)}hasElement(o){return this.model.has(o)}createModel(o,a,c){return new M.ObjectTreeModel(o,a,c)}}e.ObjectTree=m;class v{constructor(o,a){this._compressedTreeNodeProvider=o,this.renderer=a,this.templateId=a.templateId,a.onDidChangeTwistieState&&(this.onDidChangeTwistieState=a.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(o){const a=this.renderer.renderTemplate(o);return{compressedTreeNode:void 0,data:a}}renderElement(o,a,c,u){const r=this.compressedTreeNodeProvider.getCompressedTreeNode(o.element);r.element.elements.length===1?(c.compressedTreeNode=void 0,this.renderer.renderElement(o,a,c.data,u)):(c.compressedTreeNode=r,this.renderer.renderCompressedElements(r,a,c.data,u))}disposeElement(o,a,c,u){c.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(c.compressedTreeNode,a,c.data,u):this.renderer.disposeElement&&this.renderer.disposeElement(o,a,c.data,u)}disposeTemplate(o){this.renderer.disposeTemplate(o.data)}renderTwistie(o,a){return this.renderer.renderTwistie?this.renderer.renderTwistie(o,a):!1}}Me([S.memoize],v.prototype,"compressedTreeNodeProvider",null);function i(s,o){return o&&Object.assign(Object.assign({},o),{keyboardNavigationLabelProvider:o.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(a){let c;try{c=s().getCompressedTreeNode(a)}catch(u){return o.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(a)}return c.element.elements.length===1?o.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(a):o.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(c.element.elements)}}})}class C extends m{constructor(o,a,c,u,r={}){const n=()=>this,l=u.map(t=>new v(n,t));super(o,a,c,l,i(n,r))}setChildren(o,a=_.Iterable.empty(),c){this.model.setChildren(o,a,c)}createModel(o,a,c){return new L.CompressibleObjectTreeModel(o,a,c)}updateOptions(o={}){super.updateOptions(o),typeof o.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(o.compressionEnabled)}getCompressedTreeNode(o=null){return this.model.getCompressedTreeNode(o)}}e.CompressibleObjectTree=C}),define(ie[438],ne([0,1,180,239,100,2,6,15,53,166,12,158,200]),function($,e,_,k,M,L,S,m,v,i,C,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function a(T){return Object.assign(Object.assign({},T),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function c(T,P){return P.parent?P.parent===T?!0:c(T,P.parent):!1}function u(T,P){return T===P||c(T,P)||c(P,T)}class r{constructor(P){this.node=P}get element(){return this.node.element.element}get children(){return this.node.children.map(P=>new r(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class n{constructor(P,R,O){this.renderer=P,this.nodeMapper=R,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,R,O,A){this.renderer.renderElement(this.nodeMapper.map(P),R,O.templateData,A)}renderTwistie(P,R){return P.slow?(R.classList.add(...o.treeItemLoadingIcon.classNamesArray),!0):(R.classList.remove(...o.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(P,R,O,A){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),R,O.templateData,A)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear()}}function l(T){return{browserEvent:T.browserEvent,elements:T.elements.map(P=>P.element)}}function t(T){return{browserEvent:T.browserEvent,element:T.element&&T.element.element,target:T.target}}class d extends i.ElementsDragAndDropData{constructor(P){super(P.elements.map(R=>R.element));this.data=P}}function h(T){return T instanceof i.ElementsDragAndDropData?new d(T):T}class p{constructor(P){this.dnd=P}getDragURI(P){return this.dnd.getDragURI(P.element)}getDragLabel(P,R){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(P.map(O=>O.element),R)}onDragStart(P,R){this.dnd.onDragStart&&this.dnd.onDragStart(h(P),R)}onDragOver(P,R,O,A,F=!0){return this.dnd.onDragOver(h(P),R&&R.element,O,A)}drop(P,R,O,A){this.dnd.drop(h(P),R&&R.element,O,A)}onDragEnd(P){this.dnd.onDragEnd&&this.dnd.onDragEnd(P)}}function w(T){return T&&Object.assign(Object.assign({},T),{collapseByDefault:!0,identityProvider:T.identityProvider&&{getId(P){return T.identityProvider.getId(P.element)}},dnd:T.dnd&&new p(T.dnd),multipleSelectionController:T.multipleSelectionController&&{isSelectionSingleChangeEvent(P){return T.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))},isSelectionRangeChangeEvent(P){return T.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))}},accessibilityProvider:T.accessibilityProvider&&Object.assign(Object.assign({},T.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:T.accessibilityProvider.getRole?P=>T.accessibilityProvider.getRole(P.element):()=>"treeitem",isChecked:T.accessibilityProvider.isChecked?P=>{var R;return!!((R=T.accessibilityProvider)===null||R===void 0?void 0:R.isChecked(P.element))}:void 0,getAriaLabel(P){return T.accessibilityProvider.getAriaLabel(P.element)},getWidgetAriaLabel(){return T.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:T.accessibilityProvider.getWidgetRole?()=>T.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:T.accessibilityProvider.getAriaLevel&&(P=>T.accessibilityProvider.getAriaLevel(P.element)),getActiveDescendantId:T.accessibilityProvider.getActiveDescendantId&&(P=>T.accessibilityProvider.getActiveDescendantId(P.element))}),filter:T.filter&&{filter(P,R){return T.filter.filter(P.element,R)}},keyboardNavigationLabelProvider:T.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},T.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(P){return T.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(P.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof T.expandOnlyOnTwistieClick=="undefined"?void 0:typeof T.expandOnlyOnTwistieClick!="function"?T.expandOnlyOnTwistieClick:P=>T.expandOnlyOnTwistieClick(P.element),additionalScrollHeight:T.additionalScrollHeight})}function b(T,P){P(T),T.children.forEach(R=>b(R,P))}class g{constructor(P,R,O,A,F,E={}){this.user=P,this.dataSource=F,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new S.Emitter,this._onDidChangeNodeSlowState=new S.Emitter,this.nodeMapper=new M.WeakMapper(W=>new r(W)),this.disposables=new L.DisposableStore,this.identityProvider=E.identityProvider,this.autoExpandSingleChildren=typeof E.autoExpandSingleChildren=="undefined"?!1:E.autoExpandSingleChildren,this.sorter=E.sorter,this.collapseByDefault=E.collapseByDefault,this.tree=this.createTree(P,R,O,A,E),this.root=a({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return S.Event.map(this.tree.onDidChangeFocus,l)}get onDidChangeSelection(){return S.Event.map(this.tree.onDidChangeSelection,l)}get onMouseDblClick(){return S.Event.map(this.tree.onMouseDblClick,t)}get onPointer(){return S.Event.map(this.tree.onPointer,t)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(P,R,O,A,F){const E=new _.ComposedTreeDelegate(O),W=A.map(U=>new n(U,this.nodeMapper,this._onDidChangeNodeSlowState.event)),V=w(F)||{};return new k.ObjectTree(P,R,E,W,V)}updateOptions(P={}){this.tree.updateOptions(P)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(P){this.tree.scrollTop=P}domFocus(){this.tree.domFocus()}layout(P,R){this.tree.layout(P,R)}style(P){this.tree.style(P)}getInput(){return this.root.element}setInput(P,R){return Ie(this,void 0,void 0,function*(){this.refreshPromises.forEach(A=>A.cancel()),this.refreshPromises.clear(),this.root.element=P;const O=R&&{viewState:R,focus:[],selection:[]};yield this._updateChildren(P,!0,!1,O),O&&(this.tree.setFocus(O.focus),this.tree.setSelection(O.selection)),R&&typeof R.scrollTop=="number"&&(this.scrollTop=R.scrollTop)})}_updateChildren(P=this.root.element,R=!0,O=!1,A,F){return Ie(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new M.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const E=this.getDataNode(P);if(yield this.refreshAndRenderNode(E,R,A,F),O)try{this.tree.rerender(E)}catch(W){}})}rerender(P){if(P===void 0||P===this.root.element){this.tree.rerender();return}const R=this.getDataNode(P);this.tree.rerender(R)}collapse(P,R=!1){const O=this.getDataNode(P);return this.tree.collapse(O===this.root?null:O,R)}expand(P,R=!1){return Ie(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new M.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const O=this.getDataNode(P);if(this.tree.hasElement(O)&&!this.tree.isCollapsible(O)||(O.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),O!==this.root&&!O.refreshPromise&&!this.tree.isCollapsed(O)))return!1;const A=this.tree.expand(O===this.root?null:O,R);return O.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),A})}setSelection(P,R){const O=P.map(A=>this.getDataNode(A));this.tree.setSelection(O,R)}getSelection(){return this.tree.getSelection().map(R=>R.element)}setFocus(P,R){const O=P.map(A=>this.getDataNode(A));this.tree.setFocus(O,R)}getFocus(){return this.tree.getFocus().map(R=>R.element)}reveal(P,R){this.tree.reveal(this.getDataNode(P),R)}getDataNode(P){const R=this.nodes.get(P===this.root.element?null:P);if(!R)throw new M.TreeError(this.user,`Data tree node not found: ${P}`);return R}refreshAndRenderNode(P,R,O,A){return Ie(this,void 0,void 0,function*(){yield this.refreshNode(P,R,O),this.render(P,O,A)})}refreshNode(P,R,O){return Ie(this,void 0,void 0,function*(){let A;return this.subTreeRefreshPromises.forEach((F,E)=>{!A&&u(E,P)&&(A=F.then(()=>this.refreshNode(P,R,O)))}),A||this.doRefreshSubTree(P,R,O)})}doRefreshSubTree(P,R,O){return Ie(this,void 0,void 0,function*(){let A;P.refreshPromise=new Promise(F=>A=F),this.subTreeRefreshPromises.set(P,P.refreshPromise),P.refreshPromise.finally(()=>{P.refreshPromise=void 0,this.subTreeRefreshPromises.delete(P)});try{const F=yield this.doRefreshNode(P,R,O);P.stale=!1,yield m.Promises.settled(F.map(E=>this.doRefreshSubTree(E,R,O)))}finally{A()}})}doRefreshNode(P,R,O){return Ie(this,void 0,void 0,function*(){P.hasChildren=!!this.dataSource.hasChildren(P.element);let A;if(!P.hasChildren)A=Promise.resolve(v.Iterable.empty());else{const F=m.timeout(800);F.then(()=>{P.slow=!0,this._onDidChangeNodeSlowState.fire(P)},E=>null),A=this.doGetChildren(P).finally(()=>F.cancel())}try{const F=yield A;return this.setChildren(P,F,R,O)}catch(F){if(P!==this.root&&this.tree.hasElement(P)&&this.tree.collapse(P),C.isPromiseCanceledError(F))return[];throw F}finally{P.slow&&(P.slow=!1,this._onDidChangeNodeSlowState.fire(P))}})}doGetChildren(P){let R=this.refreshPromises.get(P);return R||(R=m.createCancelablePromise(()=>Ie(this,void 0,void 0,function*(){const O=yield this.dataSource.getChildren(P.element);return this.processChildren(O)})),this.refreshPromises.set(P,R),R.finally(()=>{this.refreshPromises.delete(P)}))}_onDidChangeCollapseState({node:P,deep:R}){P.element!==null&&!P.collapsed&&P.element.stale&&(R?this.collapse(P.element.element):this.refreshAndRenderNode(P.element,!1).catch(C.onUnexpectedError))}setChildren(P,R,O,A){const F=[...R];if(P.children.length===0&&F.length===0)return[];const E=new Map,W=new Map;for(const q of P.children)if(E.set(q.element,q),this.identityProvider){const j=this.tree.isCollapsed(q);W.set(q.id,{node:q,collapsed:j})}const V=[],U=F.map(q=>{const j=!!this.dataSource.hasChildren(q);if(!this.identityProvider){const ue=a({element:q,parent:P,hasChildren:j});return j&&this.collapseByDefault&&!this.collapseByDefault(q)&&(ue.collapsedByDefault=!1,V.push(ue)),ue}const te=this.identityProvider.getId(q).toString(),ae=W.get(te);if(ae){const ue=ae.node;return E.delete(ue.element),this.nodes.delete(ue.element),this.nodes.set(q,ue),ue.element=q,ue.hasChildren=j,O?ae.collapsed?(ue.children.forEach(X=>b(X,B=>this.nodes.delete(B.element))),ue.children.splice(0,ue.children.length),ue.stale=!0):V.push(ue):j&&this.collapseByDefault&&!this.collapseByDefault(q)&&(ue.collapsedByDefault=!1,V.push(ue)),ue}const de=a({element:q,parent:P,id:te,hasChildren:j});return A&&A.viewState.focus&&A.viewState.focus.indexOf(te)>-1&&A.focus.push(de),A&&A.viewState.selection&&A.viewState.selection.indexOf(te)>-1&&A.selection.push(de),A&&A.viewState.expanded&&A.viewState.expanded.indexOf(te)>-1?V.push(de):j&&this.collapseByDefault&&!this.collapseByDefault(q)&&(de.collapsedByDefault=!1,V.push(de)),de});for(const q of E.values())b(q,j=>this.nodes.delete(j.element));for(const q of U)this.nodes.set(q.element,q);return P.children.splice(0,P.children.length,...U),P!==this.root&&this.autoExpandSingleChildren&&U.length===1&&V.length===0&&(U[0].collapsedByDefault=!1,V.push(U[0])),V}render(P,R,O){const A=P.children.map(E=>this.asTreeElement(E,R)),F=O&&Object.assign(Object.assign({},O),{diffIdentityProvider:O.diffIdentityProvider&&{getId(E){return O.diffIdentityProvider.getId(E.element)}}});this.tree.setChildren(P===this.root?null:P,A,F),P!==this.root&&this.tree.setCollapsible(P,P.hasChildren),this._onDidRender.fire()}asTreeElement(P,R){if(P.stale)return{element:P,collapsible:P.hasChildren,collapsed:!0};let O;return R&&R.viewState.expanded&&P.id&&R.viewState.expanded.indexOf(P.id)>-1?O=!1:O=P.collapsedByDefault,P.collapsedByDefault=void 0,{element:P,children:P.hasChildren?v.Iterable.map(P.children,A=>this.asTreeElement(A,R)):[],collapsible:P.hasChildren,collapsed:O}}processChildren(P){return this.sorter&&(P=[...P].sort(this.sorter.compare.bind(this.sorter))),P}dispose(){this.disposables.dispose()}}e.AsyncDataTree=g;class f{constructor(P){this.node=P}get element(){return{elements:this.node.element.elements.map(P=>P.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(P=>new f(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class y{constructor(P,R,O,A){this.renderer=P,this.nodeMapper=R,this.compressibleNodeMapperProvider=O,this.onDidChangeTwistieState=A,this.renderedNodes=new Map,this.disposables=[],this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,R,O,A){this.renderer.renderElement(this.nodeMapper.map(P),R,O.templateData,A)}renderCompressedElements(P,R,O,A){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(P),R,O.templateData,A)}renderTwistie(P,R){return P.slow?(R.classList.add(...o.treeItemLoadingIcon.classNamesArray),!0):(R.classList.remove(...o.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(P,R,O,A){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),R,O.templateData,A)}disposeCompressedElements(P,R,O,A){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(P),R,O.templateData,A)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=L.dispose(this.disposables)}}function I(T){const P=T&&w(T);return P&&Object.assign(Object.assign({},P),{keyboardNavigationLabelProvider:P.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},P.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(R){return T.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(R.map(O=>O.element))}})})}class N extends g{constructor(P,R,O,A,F,E,W={}){super(P,R,O,F,E,W);this.compressionDelegate=A,this.compressibleNodeMapper=new M.WeakMapper(V=>new f(V)),this.filter=W.filter}createTree(P,R,O,A,F){const E=new _.ComposedTreeDelegate(O),W=A.map(U=>new y(U,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),V=I(F)||{};return new k.CompressibleObjectTree(P,R,E,W,V)}asTreeElement(P,R){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(P.element)},super.asTreeElement(P,R))}updateOptions(P={}){this.tree.updateOptions(P)}render(P,R){if(!this.identityProvider)return super.render(P,R);const O=te=>this.identityProvider.getId(te).toString(),A=te=>{const ae=new Set;for(const de of te){const ue=this.tree.getCompressedTreeNode(de===this.root?null:de);if(!!ue.element)for(const X of ue.element.elements)ae.add(O(X.element))}return ae},F=A(this.tree.getSelection()),E=A(this.tree.getFocus());super.render(P,R);const W=this.getSelection();let V=!1;const U=this.getFocus();let q=!1;const j=te=>{const ae=te.element;if(ae)for(let de=0;de<ae.elements.length;de++){const ue=O(ae.elements[de].element),X=ae.elements[ae.elements.length-1].element;F.has(ue)&&W.indexOf(X)===-1&&(W.push(X),V=!0),E.has(ue)&&U.indexOf(X)===-1&&(U.push(X),q=!0)}te.children.forEach(j)};j(this.tree.getCompressedTreeNode(P===this.root?null:P)),V&&this.setSelection(W),q&&this.setFocus(U)}processChildren(P){return this.filter&&(P=v.Iterable.filter(P,R=>{const O=this.filter.filter(R,1),A=D(O);if(A===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return A===1})),super.processChildren(P)}}e.CompressibleAsyncDataTree=N;function D(T){return typeof T=="boolean"?T?1:0:s.isFilterResult(T)?s.getVisibleState(T.visibility):s.getVisibleState(T)}}),define(ie[439],ne([4,5]),function($,e){return $.create("vs/base/common/actions",e)}),define(ie[49],ne([0,1,439,2,6]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class L extends k.Disposable{constructor(s,o="",a="",c=!0,u){super();this._onDidChange=this._register(new M.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=s,this._label=o,this._cssClass=a,this._enabled=c,this._actionCallback=u}get id(){return this._id}get label(){return this._label}set label(s){this._setLabel(s)}_setLabel(s){this._label!==s&&(this._label=s,this._onDidChange.fire({label:s}))}get tooltip(){return this._tooltip||""}set tooltip(s){this._setTooltip(s)}_setTooltip(s){this._tooltip!==s&&(this._tooltip=s,this._onDidChange.fire({tooltip:s}))}get class(){return this._cssClass}set class(s){this._setClass(s)}_setClass(s){this._cssClass!==s&&(this._cssClass=s,this._onDidChange.fire({class:s}))}get enabled(){return this._enabled}set enabled(s){this._setEnabled(s)}_setEnabled(s){this._enabled!==s&&(this._enabled=s,this._onDidChange.fire({enabled:s}))}get checked(){return this._checked}set checked(s){this._setChecked(s)}_setChecked(s){this._checked!==s&&(this._checked=s,this._onDidChange.fire({checked:s}))}run(s,o){return Ie(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(s))})}}e.Action=L;class S extends k.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new M.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new M.Emitter),this.onDidRun=this._onDidRun.event}run(s,o){return Ie(this,void 0,void 0,function*(){if(!s.enabled)return;this._onBeforeRun.fire({action:s});let a;try{yield this.runAction(s,o)}catch(c){a=c}this._onDidRun.fire({action:s,error:a})})}runAction(s,o){return Ie(this,void 0,void 0,function*(){yield s.run(o)})}}e.ActionRunner=S;class m extends L{constructor(s){super(m.ID,s,s?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=m,m.ID="vs.actions.separator";class v{constructor(s,o,a,c){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=s,this.label=o,this.class=c,this._actions=a}get actions(){return this._actions}dispose(){}run(){return Ie(this,void 0,void 0,function*(){})}}e.SubmenuAction=v;class i extends L{constructor(){super(i.ID,_.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=i,i.ID="vs.actions.empty"}),define(ie[117],ne([0,1,17,427,2,49,20,60,164,38,7,206]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class s extends M.Disposable{constructor(c,u,r={}){super();this.options=r,this._context=c||this,this._action=u,u instanceof L.Action&&this._register(u.onDidChange(n=>{!this.element||this.handleActionChangeEvent(n)}))}handleActionChangeEvent(c){c.enabled!==void 0&&this.updateEnabled(),c.checked!==void 0&&this.updateChecked(),c.class!==void 0&&this.updateClass(),c.label!==void 0&&(this.updateLabel(),this.updateTooltip()),c.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new L.ActionRunner)),this._actionRunner}set actionRunner(c){this._actionRunner=c}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(c){this._context=c}render(c){const u=this.element=c;this._register(m.Gesture.addTarget(c));const r=this.options&&this.options.draggable;r&&(c.draggable=!0,i.isFirefox&&this._register(C.addDisposableListener(c,C.EventType.DRAG_START,n=>{var l;return(l=n.dataTransfer)===null||l===void 0?void 0:l.setData(v.DataTransfers.TEXT,this._action.label)}))),this._register(C.addDisposableListener(u,m.EventType.Tap,n=>this.onClick(n,!0))),this._register(C.addDisposableListener(u,C.EventType.MOUSE_DOWN,n=>{r||C.EventHelper.stop(n,!0),this._action.enabled&&n.button===0&&u.classList.add("active")})),_.isMacintosh&&this._register(C.addDisposableListener(u,C.EventType.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register(C.addDisposableListener(u,C.EventType.CLICK,n=>{C.EventHelper.stop(n,!0),this.options&&this.options.isMenu||_.setImmediate(()=>this.onClick(n))})),this._register(C.addDisposableListener(u,C.EventType.DBLCLICK,n=>{C.EventHelper.stop(n,!0)})),[C.EventType.MOUSE_UP,C.EventType.MOUSE_OUT].forEach(n=>{this._register(C.addDisposableListener(u,n,l=>{C.EventHelper.stop(l),u.classList.remove("active")}))})}onClick(c,u=!1){var r;C.EventHelper.stop(c,!0);const n=S.isUndefinedOrNull(this._context)?((r=this.options)===null||r===void 0?void 0:r.useEventAsContext)?c:{preserveFocus:u}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(c){this.element&&(this.element.tabIndex=c?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=s;class o extends s{constructor(c,u,r={}){super(c,u,r);this.options=r,this.options.icon=r.icon!==void 0?r.icon:!1,this.options.label=r.label!==void 0?r.label:!0,this.cssClass=""}render(c){super.render(c),this.element&&(this.label=C.append(this.element,C.$("a.action-label"))),this.label&&(this._action.id===L.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(C.append(this.element,C.$("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(c){this.label&&(this.label.tabIndex=c?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let c=null;this.getAction().tooltip?c=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(c=this.getAction().label,this.options.keybinding&&(c=k.localize(0,null,c,this.options.keybinding))),c&&this.label&&(this.label.title=c)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=o}),define(ie[83],ne([0,1,2,49,7,20,54,6,117,206]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class i extends _.Disposable{constructor(s,o={}){var a,c,u,r,n,l;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new m.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new m.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new m.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new m.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=o,this._context=(a=o.context)!==null&&a!==void 0?a:null,this._orientation=(c=this.options.orientation)!==null&&c!==void 0?c:0,this._triggerKeys={keyDown:(r=(u=this.options.triggerKeys)===null||u===void 0?void 0:u.keyDown)!==null&&r!==void 0?r:!1,keys:(l=(n=this.options.triggerKeys)===null||n===void 0?void 0:n.keys)!==null&&l!==void 0?l:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new k.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",o.animated!==!1&&this.domNode.classList.add("animated");let t,d;switch(this._orientation){case 0:t=[15],d=[17];break;case 1:t=[16],d=[18],this.domNode.className+=" vertical";break}this._register(M.addDisposableListener(this.domNode,M.EventType.KEY_DOWN,h=>{const p=new S.StandardKeyboardEvent(h);let w=!0;const b=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;t&&(p.equals(t[0])||p.equals(t[1]))?w=this.focusPrevious():d&&(p.equals(d[0])||p.equals(d[1]))?w=this.focusNext():p.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():p.equals(14)?w=this.focusFirst():p.equals(13)?w=this.focusLast():p.equals(2)&&b instanceof v.BaseActionViewItem&&b.trapsArrowNavigation?w=this.focusNext():this.isTriggerKeyEvent(p)?this._triggerKeys.keyDown?this.doTrigger(p):this.triggerKeyDown=!0:w=!1,w&&(p.preventDefault(),p.stopPropagation())})),this._register(M.addDisposableListener(this.domNode,M.EventType.KEY_UP,h=>{const p=new S.StandardKeyboardEvent(h);this.isTriggerKeyEvent(p)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(p)),p.preventDefault(),p.stopPropagation()):(p.equals(2)||p.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(M.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(M.getActiveElement()===this.domNode||!M.isAncestor(M.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),s.appendChild(this.domNode)}isTriggerKeyEvent(s){let o=!1;return this._triggerKeys.keys.forEach(a=>{o=o||s.equals(a)}),o}updateFocusedItem(){for(let s=0;s<this.actionsList.children.length;s++){const o=this.actionsList.children[s];if(M.isAncestor(M.getActiveElement(),o)){this.focusedItem=s;break}}}get context(){return this._context}set context(s){this._context=s,this.viewItems.forEach(o=>o.setActionContext(s))}get actionRunner(){return this._actionRunner}set actionRunner(s){s&&(this._actionRunner=s,this.viewItems.forEach(o=>o.actionRunner=s))}getContainer(){return this.domNode}push(s,o={}){const a=Array.isArray(s)?s:[s];let c=L.isNumber(o.index)?o.index:null;a.forEach(u=>{const r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(M.addDisposableListener(r,M.EventType.CONTEXT_MENU,l=>{M.EventHelper.stop(l,!0)}));let n;this.options.actionViewItemProvider&&(n=this.options.actionViewItemProvider(u)),n||(n=new v.ActionViewItem(this.context,u,o)),n.actionRunner=this._actionRunner,n.setActionContext(this.context),n.render(r),this.focusable&&n instanceof v.BaseActionViewItem&&this.viewItems.length===0&&n.setFocusable(!0),c===null||c<0||c>=this.actionsList.children.length?(this.actionsList.appendChild(r),this.viewItems.push(n),this._actionIds.push(u.id)):(this.actionsList.insertBefore(r,this.actionsList.children[c]),this.viewItems.splice(c,0,n),this._actionIds.splice(c,0,u.id),c++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){_.dispose(this.viewItems),this.viewItems=[],this._actionIds=[],M.clearNode(this.actionsList)}length(){return this.viewItems.length}focus(s){let o=!1,a;if(s===void 0?o=!0:typeof s=="number"?a=s:typeof s=="boolean"&&(o=s),o&&typeof this.focusedItem=="undefined"){const c=this.viewItems.findIndex(u=>u.isEnabled());this.focusedItem=c===-1?void 0:c,this.updateFocus()}else a!==void 0&&(this.focusedItem=a),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const s=this.focusedItem;let o;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=s,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,o=this.viewItems[this.focusedItem]}while(this.focusedItem!==s&&this.options.focusOnlyEnabledItems&&!o.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const s=this.focusedItem;let o;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=s,!1;this.focusedItem=this.viewItems.length-1}o=this.viewItems[this.focusedItem]}while(this.focusedItem!==s&&this.options.focusOnlyEnabledItems&&!o.isEnabled());return this.updateFocus(!0),!0}updateFocus(s,o){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:o});for(let a=0;a<this.viewItems.length;a++){const c=this.viewItems[a],u=c;if(a===this.focusedItem){let r=!0;L.isFunction(u.focus)||(r=!1),this.options.focusOnlyEnabledItems&&L.isFunction(c.isEnabled)&&!c.isEnabled()&&(r=!1),r?u.focus(s):this.actionsList.focus({preventScroll:o})}else L.isFunction(u.blur)&&u.blur()}}doTrigger(s){if(typeof this.focusedItem=="undefined")return;const o=this.viewItems[this.focusedItem];if(o instanceof v.BaseActionViewItem){const a=o._context===null||o._context===void 0?s:o._context;this.run(o._action,a)}}run(s,o){return Ie(this,void 0,void 0,function*(){yield this._actionRunner.run(s,o)})}dispose(){_.dispose(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=i}),define(ie[440],ne([0,1,60,49,7,54,6,209]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class m extends k.ActionRunner{constructor(C,s){super();this._onDidChangeVisibility=new S.Emitter,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=M.append(C,M.$(".monaco-dropdown")),this._label=M.append(this._element,M.$(".dropdown-label"));let o=s.labelRenderer;o||(o=c=>(c.textContent=s.label||"",null));for(const c of[M.EventType.CLICK,M.EventType.MOUSE_DOWN,_.EventType.Tap])this._register(M.addDisposableListener(this.element,c,u=>M.EventHelper.stop(u,!0)));for(const c of[M.EventType.MOUSE_DOWN,_.EventType.Tap])this._register(M.addDisposableListener(this._label,c,u=>{u instanceof MouseEvent&&u.detail>1||(this.visible?this.hide():this.show())}));this._register(M.addDisposableListener(this._label,M.EventType.KEY_UP,c=>{const u=new L.StandardKeyboardEvent(c);(u.equals(3)||u.equals(10))&&(M.EventHelper.stop(c,!0),this.visible?this.hide():this.show())}));const a=o(this._label);a&&this._register(a),this._register(_.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=m;class v extends m{constructor(C,s){super(C,s);this._actions=[],this._contextMenuProvider=s.contextMenuProvider,this.actions=s.actions||[],this.actionProvider=s.actionProvider,this.menuClassName=s.menuClassName||"",this.menuAsChild=!!s.menuAsChild}set menuOptions(C){this._menuOptions=C}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(C){this._actions=C}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:C=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(C):void 0,getKeyBinding:C=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(C):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=v}),define(ie[441],ne([0,1,7,6,117,440,209]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends M.BaseActionViewItem{constructor(v,i,C,s=Object.create(null)){super(null,v,s);this.actionItem=null,this._onDidChangeVisibility=this._register(new k.Emitter),this.menuActionsOrProvider=i,this.contextMenuProvider=C,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(v){this.actionItem=v;const i=o=>{this.element=_.append(o,_.$("a.action-label"));let a=[];return typeof this.options.classNames=="string"?a=this.options.classNames.split(/\s+/g).filter(c=>!!c):this.options.classNames&&(a=this.options.classNames),a.find(c=>c==="icon")||a.push("codicon"),this.element.classList.add(...a),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},C=Array.isArray(this.menuActionsOrProvider),s={contextMenuProvider:this.contextMenuProvider,labelRenderer:i,menuAsChild:this.options.menuAsChild,actions:C?this.menuActionsOrProvider:void 0,actionProvider:C?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new L.DropdownMenu(v,s)),this._register(this.dropdownMenu.onDidChangeVisibility(o=>{var a;(a=this.element)===null||a===void 0||a.setAttribute("aria-expanded",`${o}`),this._onDidChangeVisibility.fire(o)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const o=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return o.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(v){super.setActionContext(v),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=v:this.dropdownMenu.menuOptions={context:v})}updateEnabled(){var v,i;const C=!this.getAction().enabled;(v=this.actionItem)===null||v===void 0||v.classList.toggle("disabled",C),(i=this.element)===null||i===void 0||i.classList.toggle("disabled",C)}}e.DropdownMenuActionViewItem=S}),define(ie[181],ne([0,1,433,7,160,44,83,6,51,29,42,288,61,91,313]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const c=k.$,u={inputBackground:i.Color.fromHex("#3C3C3C"),inputForeground:i.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:i.Color.fromHex("#55AAFF"),inputValidationInfoBackground:i.Color.fromHex("#063B49"),inputValidationWarningBorder:i.Color.fromHex("#B89500"),inputValidationWarningBackground:i.Color.fromHex("#352A05"),inputValidationErrorBorder:i.Color.fromHex("#BE1100"),inputValidationErrorBackground:i.Color.fromHex("#5A1D1D")};class r extends v.Widget{constructor(t,d,h){var p;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new m.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=d,this.options=h||Object.create(null),C.mixin(this.options,u,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(p=this.options.tooltip)!==null&&p!==void 0?p:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=k.append(t,c(".monaco-inputbox.idle"));let w=this.options.flexibleHeight?"textarea":"input",b=k.append(this.element,c(".ibwrapper"));if(this.input=k.append(b,c(w+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=k.append(b,c("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new o.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),k.append(t,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(y=>this.input.scrollTop=y.scrollTop));const g=this._register(new a.DomEmitter(document,"selectionchange")),f=m.Event.filter(g.event,()=>{const y=document.getSelection();return(y==null?void 0:y.anchorNode)===b});this._register(f(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new S.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(t){this.placeholder=t,this.input.setAttribute("placeholder",t)}setTooltip(t){this.tooltip=t,this.input.title=t}setAriaLabel(t){this.ariaLabel=t,t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:k.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(t=null){this.input.select(),t&&(this.input.setSelectionRange(t.start,t.end),t.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return k.getTotalWidth(this.input)}set width(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){let d=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,p=parseFloat(this.mirror.style.paddingRight||"")||0;d=h+p}this.input.style.width=t-d+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")}set paddingRight(t){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${t}px)`:this.input.style.paddingRight=t+"px",this.mirror&&(this.mirror.style.paddingRight=t+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const t=this.cachedContentHeight,d=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:d}),this.scrollableElement.setScrollPosition({scrollTop:h})}showMessage(t,d){this.message=t,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(t.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||d)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),t==null?void 0:t.type}stylesForType(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let t,d=()=>t.style.width=k.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:p=>{if(!this.message)return null;t=k.append(p,c(".monaco-inputbox-container")),d();const w={inline:!0,className:"monaco-inputbox-message"},b=this.message.formatContent?M.renderFormattedText(this.message.content,w):M.renderText(this.message.content,w);b.classList.add(this.classForType(this.message.type));const g=this.stylesForType(this.message.type);return b.style.backgroundColor=g.background?g.background.toString():"",b.style.color=g.foreground?g.foreground.toString():"",b.style.border=g.border?`1px solid ${g.border}`:"",k.append(t,b),null},onHide:()=>{this.state="closed"},layout:d});let h;this.message.type===3?h=_.localize(0,null,this.message.content):this.message.type===2?h=_.localize(1,null,this.message.content):h=_.localize(2,null,this.message.content),L.alert(h),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const t=this.value,h=t.charCodeAt(t.length-1)===10?" ":"";t+h?this.mirror.textContent=t+h:this.mirror.innerText="\xA0",this.layout()}style(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const t=this.inputBackground?this.inputBackground.toString():"",d=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=t,this.element.style.color=d,this.input.style.backgroundColor="inherit",this.input.style.color=d,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!this.mirror)return;const t=this.cachedContentHeight;this.cachedContentHeight=k.getTotalHeight(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(t){const d=this.inputElement,h=d.selectionStart,p=d.selectionEnd,w=d.value;h!==null&&p!==null&&(this.value=w.substr(0,h)+t+w.substr(p),d.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=r;class n extends r{constructor(t,d,h){super(t,d,h);this.history=new s.HistoryNavigator(h.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,L.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,L.status(this.value))}getCurrentValue(){let t=this.history.current();return t||(t=this.history.last(),this.history.next()),t}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=n}),define(ie[442],ne([0,1,428,7,181,51,6,238,210]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const v=_.localize(0,null);class i extends L.Widget{constructor(s,o,a,c){super();this._showOptionButtons=a,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=o,this.placeholder=c.placeholder||"",this.validation=c.validation,this.label=c.label||v,this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground;const u=c.appendCaseSensitiveLabel||"",r=c.appendWholeWordsLabel||"",n=c.appendRegexLabel||"",l=c.history||[],t=!!c.flexibleHeight,d=!!c.flexibleWidth,h=c.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new M.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:l,flexibleHeight:t,flexibleWidth:d,flexibleMaxHeight:h})),this.regex=this._register(new m.RegexCheckbox({appendTitle:n,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(b=>{this._onRegexKeyDown.fire(b)})),this.wholeWords=this._register(new m.WholeWordsCheckbox({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new m.CaseSensitiveCheckbox({appendTitle:u,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(b=>{this._onCaseSensitiveKeyDown.fire(b)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let p=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,b=>{if(b.equals(15)||b.equals(17)||b.equals(9)){let g=p.indexOf(document.activeElement);if(g>=0){let f=-1;b.equals(17)?f=(g+1)%p.length:b.equals(15)&&(g===0?f=p.length-1:f=g-1),b.equals(9)?(p[g].blur(),this.inputBox.focus()):f>=0&&p[f].focus(),k.EventHelper.stop(b,!0)}}});let w=document.createElement("div");w.className="controls",w.style.display=this._showOptionButtons?"block":"none",w.appendChild(this.caseSensitive.domNode),w.appendChild(this.wholeWords.domNode),w.appendChild(this.regex.domNode),this.domNode.appendChild(w),s&&s.appendChild(this.domNode),this._register(k.addDisposableListener(this.inputBox.inputElement,"compositionstart",b=>{this.imeSessionInProgress=!0})),this._register(k.addDisposableListener(this.inputBox.inputElement,"compositionend",b=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,b=>this._onKeyDown.fire(b)),this.onkeyup(this.inputBox.inputElement,b=>this._onKeyUp.fire(b)),this.oninput(this.inputBox.inputElement,b=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,b=>this._onMouseDown.fire(b))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(s){this.fixFocusOnOptionClickEnabled=s}setEnabled(s){s?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(s){this.inputBox.value!==s&&(this.inputBox.value=s)}style(s){this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const s={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(s),this.wholeWords.style(s),this.caseSensitive.style(s);const o={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(o)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(s){this.caseSensitive.checked=s}getWholeWords(){return this.wholeWords.checked}setWholeWords(s){this.wholeWords.checked=s}getRegex(){return this.regex.checked}setRegex(s){this.regex.checked=s,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=i}),define(ie[443],ne([0,1,430,7,181,51,6,165,27,210]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const i=_.localize(0,null),C=_.localize(1,null);class s extends m.Checkbox{constructor(c){super({icon:v.Codicon.preserveCase,title:C+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=s;class o extends L.Widget{constructor(c,u,r,n){super();this._showOptionButtons=r,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onPreserveCaseKeyDown=this._register(new S.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=u,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||i,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const l=n.appendPreserveCaseLabel||"",t=n.history||[],d=!!n.flexibleHeight,h=!!n.flexibleWidth,p=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new M.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:t,flexibleHeight:d,flexibleWidth:h,flexibleMaxHeight:p})),this.preserveCase=this._register(new s({appendTitle:l,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(g=>{this._onPreserveCaseKeyDown.fire(g)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let w=[this.preserveCase.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){let f=w.indexOf(document.activeElement);if(f>=0){let y=-1;g.equals(17)?y=(f+1)%w.length:g.equals(15)&&(f===0?y=w.length-1:y=f-1),g.equals(9)?(w[f].blur(),this.inputBox.focus()):y>=0&&w[y].focus(),k.EventHelper.stop(g,!0)}}});let b=document.createElement("div");b.className="controls",b.style.display=this._showOptionButtons?"block":"none",b.appendChild(this.preserveCase.domNode),this.domNode.appendChild(b),c&&c.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(c){c?this.enable():this.disable()}style(c){this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const c={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(c);const u={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(u)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(c){this.preserveCase.checked=c}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(c){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=c,this.domNode.style.width=c+"px"}dispose(){super.dispose()}}e.ReplaceInput=o}),define(ie[444],ne([0,1,435,8,49,83,7,54,15,2,61,207,17,27,117,130,38,55,103]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;const t=a.registerCodicon("menu-selection",a.Codicon.check),d=a.registerCodicon("menu-submenu",a.Codicon.chevronRight);var h;(function(I){I[I.Right=0]="Right",I[I.Left=1]="Left"})(h=e.Direction||(e.Direction={}));class p extends L.ActionBar{constructor(N,D,T={}){N.classList.add("monaco-menu-container"),N.setAttribute("role","presentation");const P=document.createElement("div");P.classList.add("monaco-menu"),P.setAttribute("role","presentation"),super(P,{orientation:1,actionViewItemProvider:A=>this.doGetActionViewItem(A,T,R),context:T.context,actionRunner:T.actionRunner,ariaLabel:T.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...o.isMacintosh||o.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=P,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new i.DisposableStore),this.initializeStyleSheet(N),S.addDisposableListener(P,S.EventType.KEY_DOWN,A=>{new m.StandardKeyboardEvent(A).equals(2)&&A.preventDefault()}),T.enableMnemonics&&this.menuDisposables.add(S.addDisposableListener(P,S.EventType.KEY_DOWN,A=>{const F=A.key.toLocaleLowerCase();if(this.mnemonics.has(F)){S.EventHelper.stop(A,!0);const E=this.mnemonics.get(F);if(E.length===1&&(E[0]instanceof b&&E[0].container&&this.focusItemByElement(E[0].container),E[0].onClick(A)),E.length>1){const W=E.shift();W&&W.container&&(this.focusItemByElement(W.container),E.push(W)),this.mnemonics.set(F,E)}}})),o.isLinux&&this._register(S.addDisposableListener(P,S.EventType.KEY_DOWN,A=>{const F=new m.StandardKeyboardEvent(A);F.equals(14)||F.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),S.EventHelper.stop(A,!0)):(F.equals(13)||F.equals(12))&&(this.focusedItem=0,this.focusPrevious(),S.EventHelper.stop(A,!0))})),this._register(S.addDisposableListener(this.domNode,S.EventType.MOUSE_OUT,A=>{let F=A.relatedTarget;S.isAncestor(F,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),A.stopPropagation())})),this._register(S.addDisposableListener(this.actionsList,S.EventType.MOUSE_OVER,A=>{let F=A.target;if(!(!F||!S.isAncestor(F,this.actionsList)||F===this.actionsList)){for(;F.parentElement!==this.actionsList&&F.parentElement!==null;)F=F.parentElement;if(F.classList.contains("action-item")){const E=this.focusedItem;this.setFocusedItem(F),E!==this.focusedItem&&this.updateFocus()}}}));let R={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new C.DomScrollableElement(P,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const O=this.scrollableElement.getDomNode();O.style.position="",this._register(S.addDisposableListener(O,S.EventType.MOUSE_UP,A=>{A.preventDefault()})),P.style.maxHeight=`${Math.max(10,window.innerHeight-N.getBoundingClientRect().top-35)}px`,D=D.filter(A=>{var F;return((F=T.submenuIds)===null||F===void 0?void 0:F.has(A.id))?(console.warn(`Found submenu cycle: ${A.id}`),!1):!0}),this.push(D,{icon:!0,label:!0,isMenu:!0}),N.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(A=>!(A instanceof g)).forEach((A,F,E)=>{A.updatePositionInSet(F+1,E.length)})}initializeStyleSheet(N){S.isInShadowDOM(N)?(this.styleSheet=S.createStyleSheet(N),this.styleSheet.textContent=y):(p.globalStyleSheet||(p.globalStyleSheet=S.createStyleSheet(),p.globalStyleSheet.textContent=y),this.styleSheet=p.globalStyleSheet)}style(N){const D=this.getContainer(),T=N.foregroundColor?`${N.foregroundColor}`:"",P=N.backgroundColor?`${N.backgroundColor}`:"",R=N.borderColor?`1px solid ${N.borderColor}`:"",O=N.shadowColor?`0 2px 4px ${N.shadowColor}`:"";D.style.border=R,this.domNode.style.color=T,this.domNode.style.backgroundColor=P,D.style.boxShadow=O,this.viewItems&&this.viewItems.forEach(A=>{(A instanceof w||A instanceof g)&&A.style(N)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(N){const D=this.focusedItem;this.setFocusedItem(N),D!==this.focusedItem&&this.updateFocus()}setFocusedItem(N){for(let D=0;D<this.actionsList.children.length;D++){let T=this.actionsList.children[D];if(N===T){this.focusedItem=D;break}}}updateFocus(N){super.updateFocus(N,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(N,D,T){if(N instanceof M.Separator)return new g(D.context,N,{icon:!0});if(N instanceof M.SubmenuAction){const P=new b(N,N.actions,T,Object.assign(Object.assign({},D),{submenuIds:new Set([...D.submenuIds||[],N.id])}));if(D.enableMnemonics){const R=P.getMnemonic();if(R&&P.isEnabled()){let O=[];this.mnemonics.has(R)&&(O=this.mnemonics.get(R)),O.push(P),this.mnemonics.set(R,O)}}return P}else{const P={enableMnemonics:D.enableMnemonics,useEventAsContext:D.useEventAsContext};if(D.getKeyBinding){const O=D.getKeyBinding(N);if(O){const A=O.getLabel();A&&(P.keybinding=A)}}const R=new w(D.context,N,P);if(D.enableMnemonics){const O=R.getMnemonic();if(O&&R.isEnabled()){let A=[];this.mnemonics.has(O)&&(A=this.mnemonics.get(O)),A.push(R),this.mnemonics.set(O,A)}}return R}}}e.Menu=p;class w extends c.BaseActionViewItem{constructor(N,D,T={}){if(T.isMenu=!0,super(D,D,T),this.options=T,this.options.icon=T.icon!==void 0?T.icon:!1,this.options.label=T.label!==void 0?T.label:!0,this.cssClass="",this.options.label&&T.enableMnemonics){let P=this.getAction().label;if(P){let R=e.MENU_MNEMONIC_REGEX.exec(P);R&&(this.mnemonic=(R[1]?R[1]:R[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new v.RunOnceScheduler(()=>{!this.element||(this._register(S.addDisposableListener(this.element,S.EventType.MOUSE_UP,P=>{if(S.EventHelper.stop(P,!0),r.isFirefox){if(new n.StandardMouseEvent(P).rightButton)return;this.onClick(P)}else setTimeout(()=>{this.onClick(P)},0)})),this._register(S.addDisposableListener(this.element,S.EventType.CONTEXT_MENU,P=>{S.EventHelper.stop(P,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(N){super.render(N),!!this.element&&(this.container=N,this.item=S.append(this.element,S.$("a.action-menu-item")),this._action.id===M.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=S.append(this.item,S.$("span.menu-item-check"+t.cssSelector)),this.check.setAttribute("role","none"),this.label=S.append(this.item,S.$("span.action-label")),this.options.label&&this.options.keybinding&&(S.append(this.item,S.$("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(N,D){this.item&&(this.item.setAttribute("aria-posinset",`${N}`),this.item.setAttribute("aria-setsize",`${D}`))}updateLabel(){if(!!this.label&&this.options.label){S.clearNode(this.label);let N=l.stripIcons(this.getAction().label);if(N){const D=f(N);this.options.enableMnemonics||(N=D),this.label.setAttribute("aria-label",D.replace(/&&/g,"&"));const T=e.MENU_MNEMONIC_REGEX.exec(N);if(T){N=k.escape(N),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let P=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);for(;P&&P[1];)P=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);const R=O=>O.replace(/&amp;&amp;/g,"&amp;");P?this.label.append(k.ltrim(R(N.substr(0,P.index))," "),S.$("u",{"aria-hidden":"true"},P[3]),k.rtrim(R(N.substr(P.index+P[0].length))," ")):this.label.innerText=R(N).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(T[1]?T[1]:T[3]).toLocaleLowerCase())}else this.label.innerText=N.replace(/&&/g,"&").trim()}}}updateTooltip(){let N=null;this.getAction().tooltip?N=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(N=this.getAction().label,this.options.keybinding&&(N=_.localize(0,null,N,this.options.keybinding))),N&&this.item&&(this.item.title=N)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){!this.item||(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const N=this.element&&this.element.classList.contains("focused"),D=N&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,T=N&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,P=N&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=D?D.toString():"",this.item.style.backgroundColor=T?T.toString():""),this.check&&(this.check.style.color=D?D.toString():""),this.container&&(this.container.style.border=P)}style(N){this.menuStyle=N,this.applyStyle()}}class b extends w{constructor(N,D,T,P){super(N,N,P);this.submenuActions=D,this.parentData=T,this.submenuOptions=P,this.mysubmenu=null,this.submenuDisposables=this._register(new i.DisposableStore),this.mouseOver=!1,this.expandDirection=P&&P.expandDirection!==void 0?P.expandDirection:h.Right,this.showScheduler=new v.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new v.RunOnceScheduler(()=>{this.element&&!S.isAncestor(S.getActiveElement(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(N){super.render(N),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=S.append(this.item,S.$("span.submenu-indicator"+d.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(S.addDisposableListener(this.element,S.EventType.KEY_UP,D=>{let T=new m.StandardKeyboardEvent(D);(T.equals(17)||T.equals(3))&&(S.EventHelper.stop(D,!0),this.createSubmenu(!0))})),this._register(S.addDisposableListener(this.element,S.EventType.KEY_DOWN,D=>{let T=new m.StandardKeyboardEvent(D);S.getActiveElement()===this.item&&(T.equals(17)||T.equals(3))&&S.EventHelper.stop(D,!0)})),this._register(S.addDisposableListener(this.element,S.EventType.MOUSE_OVER,D=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(S.addDisposableListener(this.element,S.EventType.MOUSE_LEAVE,D=>{this.mouseOver=!1})),this._register(S.addDisposableListener(this.element,S.EventType.FOCUS_OUT,D=>{this.element&&!S.isAncestor(S.getActiveElement(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(N){S.EventHelper.stop(N,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(N){if(this.parentData.submenu&&(N||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(D){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(N,D,T,P){const R={top:0,left:0};return R.left=s.layout(N.width,D.width,{position:P===h.Right?0:1,offset:T.left,size:T.width}),R.left>=T.left&&R.left<T.left+T.width&&(T.left+10+D.width<=N.width&&(R.left=T.left+10),T.top+=10,T.height=0),R.top=s.layout(N.height,D.height,{position:0,offset:T.top,size:0}),R.top+D.height===T.top&&R.top+T.height+D.height<=N.height&&(R.top+=T.height),R}createSubmenu(N=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=S.append(this.element,S.$("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const D=getComputedStyle(this.parentData.parent.domNode),T=parseFloat(D.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new p(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new M.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const P=this.element.getBoundingClientRect(),R={top:P.top-T,left:P.left,height:P.height+2*T,width:P.width},O=this.submenuContainer.getBoundingClientRect(),{top:A,left:F}=this.calculateSubmenuMenuLayout(new S.Dimension(window.innerWidth,window.innerHeight),S.Dimension.lift(O),R,this.expandDirection);this.submenuContainer.style.left=`${F}px`,this.submenuContainer.style.top=`${A}px`,this.submenuDisposables.add(S.addDisposableListener(this.submenuContainer,S.EventType.KEY_UP,E=>{new m.StandardKeyboardEvent(E).equals(15)&&(S.EventHelper.stop(E,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(S.addDisposableListener(this.submenuContainer,S.EventType.KEY_DOWN,E=>{new m.StandardKeyboardEvent(E).equals(15)&&S.EventHelper.stop(E,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(N),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(N){var D;this.item&&((D=this.item)===null||D===void 0||D.setAttribute("aria-expanded",N))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const D=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=D?`${D}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class g extends c.ActionViewItem{style(N){this.label&&(this.label.style.borderBottomColor=N.separatorColor?`${N.separatorColor}`:"")}}function f(I){const N=e.MENU_MNEMONIC_REGEX,D=N.exec(I);if(!D)return I;const T=!D[1];return I.replace(N,T?"$2$3":"").trim()}e.cleanMnemonic=f;let y=`
.monaco-menu {
	font-size: 13px;

}

${u.formatRule(t)}
${u.formatRule(d)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`}),define(ie[445],ne([0,1,7,181,2,54,73,55,132]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const v=_.$;class i extends M.Disposable{constructor(s){super();this.parent=s,this.onKeyDown=o=>_.addDisposableListener(this.inputBox.inputElement,_.EventType.KEY_DOWN,a=>{o(new L.StandardKeyboardEvent(a))}),this.onMouseDown=o=>_.addDisposableListener(this.inputBox.inputElement,_.EventType.MOUSE_DOWN,a=>{o(new m.StandardMouseEvent(a))}),this.onDidChange=o=>this.inputBox.onDidChange(o),this.container=_.append(this.parent,v(".quick-input-box")),this.inputBox=this._register(new k.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(s){this.inputBox.value=s}select(s=null){this.inputBox.select(s)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(s){this.inputBox.setPlaceHolder(s)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(s){this.inputBox.setAriaLabel(s)}get password(){return this.inputBox.inputElement.type==="password"}set password(s){this.inputBox.inputElement.type=s?"password":"text"}setAttribute(s,o){this.inputBox.inputElement.setAttribute(s,o)}removeAttribute(s){this.inputBox.inputElement.removeAttribute(s)}showDecoration(s){s===S.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:s===S.default.Info?1:s===S.default.Warning?2:3,content:""})}stylesForType(s){return this.inputBox.stylesForType(s===S.default.Info?1:s===S.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(s){this.inputBox.style(s)}}e.QuickInputBox=i}),define(ie[446],ne([4,5]),function($,e){return $.create("vs/base/common/errorMessage",e)}),define(ie[447],ne([0,1,446,20,19]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function L(i,C){return C&&(i.stack||i.stacktrace)?_.localize(0,null,m(i),S(i.stack)||S(i.stacktrace)):m(i)}function S(i){return Array.isArray(i)?i.join(`
`):i}function m(i){return typeof i.code=="string"&&typeof i.errno=="number"&&typeof i.syscall=="string"?_.localize(1,null,i.message):i.message||_.localize(2,null)}function v(i=null,C=!1){if(!i)return _.localize(3,null);if(Array.isArray(i)){const s=M.coalesce(i),o=v(s[0],C);return s.length>1?_.localize(4,null,o,s.length):o}if(k.isString(i))return i;if(i.detail){const s=i.detail;if(s.error)return L(s.error,C);if(s.exception)return L(s.exception,C)}return i.stack?L(i,C):i.message?i.message:_.localize(5,null)}e.toErrorMessage=v}),define(ie[448],ne([4,5]),function($,e){return $.create("vs/base/common/keybindingLabels",e)}),define(ie[182],ne([0,1,448]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(S,m,v=m){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=m,this.modifierLabels[3]=v}toLabel(S,m,v){if(m.length===0)return null;const i=[];for(let C=0,s=m.length;C<s;C++){const o=m[C],a=v(o);if(a===null)return null;i[C]=M(o,a,this.modifierLabels[S])}return i.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:_.localize(0,null),shiftKey:_.localize(1,null),altKey:_.localize(2,null),metaKey:_.localize(3,null),separator:"+"},{ctrlKey:_.localize(4,null),shiftKey:_.localize(5,null),altKey:_.localize(6,null),metaKey:_.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:_.localize(8,null),shiftKey:_.localize(9,null),altKey:_.localize(10,null),metaKey:_.localize(11,null),separator:"+"},{ctrlKey:_.localize(12,null),shiftKey:_.localize(13,null),altKey:_.localize(14,null),metaKey:_.localize(15,null),separator:"+"},{ctrlKey:_.localize(16,null),shiftKey:_.localize(17,null),altKey:_.localize(18,null),metaKey:_.localize(19,null),separator:"+"});function M(L,S,m){if(S===null)return"";const v=[];return L.ctrlKey&&v.push(m.ctrlKey),L.shiftKey&&v.push(m.shiftKey),L.altKey&&v.push(m.altKey),L.metaKey&&v.push(m.metaKey),S!==""&&v.push(S),v.join(m.separator)}}),define(ie[449],ne([0,1,42,182,7,434,314]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const S=M.$;class m{constructor(i,C,s){this.os=C,this.keyElements=new Set,this.options=s||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=M.append(i,S(".monaco-keybinding")),this.didEverRender=!1,i.appendChild(this.domNode)}get element(){return this.domNode}set(i,C){this.didEverRender&&this.keybinding===i&&m.areSame(this.matches,C)||(this.keybinding=i,this.matches=C,this.render())}render(){if(this.clear(),this.keybinding){let[i,C]=this.keybinding.getParts();i&&this.renderPart(this.domNode,i,this.matches?this.matches.firstPart:null),C&&(M.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,C,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){M.clearNode(this.domNode),this.keyElements.clear()}renderPart(i,C,s){const o=k.UILabelProvider.modifierLabels[this.os];C.ctrlKey&&this.renderKey(i,o.ctrlKey,Boolean(s==null?void 0:s.ctrlKey),o.separator),C.shiftKey&&this.renderKey(i,o.shiftKey,Boolean(s==null?void 0:s.shiftKey),o.separator),C.altKey&&this.renderKey(i,o.altKey,Boolean(s==null?void 0:s.altKey),o.separator),C.metaKey&&this.renderKey(i,o.metaKey,Boolean(s==null?void 0:s.metaKey),o.separator);const a=C.keyLabel;a&&this.renderKey(i,a,Boolean(s==null?void 0:s.keyCode),"")}renderKey(i,C,s,o){M.append(i,this.createKeyElement(C,s?".highlight":"")),o&&M.append(i,S("span.monaco-keybinding-key-separator",void 0,o))}renderUnbound(i){M.append(i,this.createKeyElement(L.localize(0,null)))}createKeyElement(i,C=""){const s=S("span.monaco-keybinding-key"+C,void 0,i);return this.keyElements.add(s),s}style(i){this.labelBackground=i.keybindingLabelBackground,this.labelForeground=i.keybindingLabelForeground,this.labelBorder=i.keybindingLabelBorder,this.labelBottomBorder=i.keybindingLabelBottomBorder,this.labelShadow=i.keybindingLabelShadow,this.applyStyles()}applyStyles(){var i;if(this.element){for(const C of this.keyElements)this.labelBackground&&(C.style.backgroundColor=(i=this.labelBackground)===null||i===void 0?void 0:i.toString()),this.labelBorder&&(C.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(C.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(C.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(i,C){return i===C||!i&&!C?!0:!!i&&!!C&&_.equals(i.firstPart,C.firstPart)&&_.equals(i.chordPart,C.chordPart)}}e.KeybindingLabel=m}),define(ie[450],ne([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(ie[451],ne([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(ie[452],ne([0,1,7,2,103,292,6,54,179,161,89,19,17,83,49,213,20,449,451,27,132]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const d=_.$;class h{constructor(N){this.hidden=!1,this._onChecked=new S.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,N)}get checked(){return!!this._checked}set checked(N){N!==this._checked&&(this._checked=N,this._onChecked.fire(N))}dispose(){this._onChecked.dispose()}}class p{get templateId(){return p.ID}renderTemplate(N){const D=Object.create(null);D.toDisposeElement=[],D.toDisposeTemplate=[],D.entry=_.append(N,d(".quick-input-list-entry"));const T=_.append(D.entry,d("label.quick-input-list-label"));D.toDisposeTemplate.push(_.addStandardDisposableListener(T,_.EventType.CLICK,E=>{D.checkbox.offsetParent||E.preventDefault()})),D.checkbox=_.append(T,d("input.quick-input-list-checkbox")),D.checkbox.type="checkbox",D.toDisposeTemplate.push(_.addStandardDisposableListener(D.checkbox,_.EventType.CHANGE,E=>{D.element.checked=D.checkbox.checked}));const P=_.append(T,d(".quick-input-list-rows")),R=_.append(P,d(".quick-input-list-row")),O=_.append(P,d(".quick-input-list-row"));D.label=new v.IconLabel(R,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const A=_.append(R,d(".quick-input-list-entry-keybinding"));D.keybinding=new n.KeybindingLabel(A,o.OS);const F=_.append(O,d(".quick-input-list-label-meta"));return D.detail=new i.HighlightedLabel(F,!0),D.separator=_.append(D.entry,d(".quick-input-list-separator")),D.actionBar=new a.ActionBar(D.entry),D.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),D.toDisposeTemplate.push(D.actionBar),D}renderElement(N,D,T){T.toDisposeElement=k.dispose(T.toDisposeElement),T.element=N,T.checkbox.checked=N.checked,T.toDisposeElement.push(N.onChecked(E=>T.checkbox.checked=E));const{labelHighlights:P,descriptionHighlights:R,detailHighlights:O}=N,A=Object.create(null);A.matches=P||[],A.descriptionTitle=N.saneDescription,A.descriptionMatches=R||[],A.extraClasses=N.item.iconClasses,A.italic=N.item.italic,A.strikethrough=N.item.strikethrough,T.label.setLabel(N.saneLabel,N.saneDescription,A),T.keybinding.set(N.item.keybinding),T.detail.set(N.saneDetail,O),N.separator&&N.separator.label?(T.separator.textContent=N.separator.label,T.separator.style.display=""):T.separator.style.display="none",T.entry.classList.toggle("quick-input-list-separator-border",!!N.separator),T.actionBar.clear();const F=N.item.buttons;F&&F.length?(T.actionBar.push(F.map((E,W)=>{let V=E.iconClass||(E.iconPath?u.getIconClass(E.iconPath):void 0);E.alwaysVisible&&(V=V?`${V} always-visible`:"always-visible");const U=new c.Action(`id-${W}`,"",V,!0,()=>Ie(this,void 0,void 0,function*(){N.fireButtonTriggered({button:E,item:N.item})}));return U.tooltip=E.tooltip||"",U}),{icon:!0,label:!1}),T.entry.classList.add("has-actions")):T.entry.classList.remove("has-actions")}disposeElement(N,D,T){T.toDisposeElement=k.dispose(T.toDisposeElement)}disposeTemplate(N){N.toDisposeElement=k.dispose(N.toDisposeElement),N.toDisposeTemplate=k.dispose(N.toDisposeTemplate)}}p.ID="listelement";class w{getHeight(N){return N.saneDetail?44:22}getTemplateId(N){return p.ID}}var b;(function(I){I[I.First=1]="First",I[I.Second=2]="Second",I[I.Last=3]="Last",I[I.Next=4]="Next",I[I.Previous=5]="Previous",I[I.NextPage=6]="NextPage",I[I.PreviousPage=7]="PreviousPage"})(b=e.QuickInputListFocus||(e.QuickInputListFocus={}));class g{constructor(N,D,T){this.parent=N,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new S.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new S.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new S.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new S.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new S.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new S.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new S.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=D,this.container=_.append(this.parent,d(".quick-input-list"));const P=new w,R=new y;this.list=T.createList("QuickInput",this.container,P,[new p],{identityProvider:{getId:O=>O.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:R}),this.list.getHTMLElement().id=D,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(O=>{const A=new m.StandardKeyboardEvent(O);switch(A.keyCode){case 10:this.toggleCheckbox();break;case 31:(o.isMacintosh?O.metaKey:O.ctrlKey)&&this.list.setFocus(s.range(this.list.length));break;case 16:const F=this.list.getFocus();F.length===1&&F[0]===0&&this._onLeave.fire();break;case 18:const E=this.list.getFocus();E.length===1&&E[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(A)})),this.disposables.push(this.list.onMouseDown(O=>{O.browserEvent.button!==2&&O.browserEvent.preventDefault()})),this.disposables.push(_.addDisposableListener(this.container,_.EventType.CLICK,O=>{(O.x||O.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(O=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(O=>{typeof O.index=="number"&&(O.browserEvent.preventDefault(),this.list.setSelection([O.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return S.Event.map(this.list.onDidChangeFocus,N=>N.elements.map(D=>D.item))}get onDidChangeSelection(){return S.Event.map(this.list.onDidChangeSelection,N=>({items:N.elements.map(D=>D.item),event:N.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(N,D=!0){for(let T=0,P=N.length;T<P;T++){const R=N[T];if(!R.hidden)if(R.checked)D=!0;else return!1}return D}getCheckedCount(){let N=0;const D=this.elements;for(let T=0,P=D.length;T<P;T++)D[T].checked&&N++;return N}getVisibleCount(){let N=0;const D=this.elements;for(let T=0,P=D.length;T<P;T++)D[T].hidden||N++;return N}setAllVisibleChecked(N){try{this._fireCheckedEvents=!1,this.elements.forEach(D=>{D.hidden||(D.checked=N)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(N){this.elementDisposables=k.dispose(this.elementDisposables);const D=T=>this.fireButtonTriggered(T);this.inputElements=N,this.elements=N.reduce((T,P,R)=>{var O,A,F;if(P.type!=="separator"){const E=R&&N[R-1],W=P.label&&P.label.replace(/\r?\n/g," "),V=P.meta&&P.meta.replace(/\r?\n/g," "),U=P.description&&P.description.replace(/\r?\n/g," "),q=P.detail&&P.detail.replace(/\r?\n/g," "),j=P.ariaLabel||[W,U,q].map(te=>t.getCodiconAriaLabel(te)).filter(te=>!!te).join(", ");T.push(new h({index:R,item:P,saneLabel:W,saneMeta:V,saneAriaLabel:j,saneDescription:U,saneDetail:q,labelHighlights:(O=P.highlights)===null||O===void 0?void 0:O.label,descriptionHighlights:(A=P.highlights)===null||A===void 0?void 0:A.description,detailHighlights:(F=P.highlights)===null||F===void 0?void 0:F.detail,checked:!1,separator:E&&E.type==="separator"?E:void 0,fireButtonTriggered:D}))}return T},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(T=>T.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((T,P,R)=>(T.set(P.item,R),T),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(N=>N.item)}setFocusedElements(N){if(this.list.setFocus(N.filter(D=>this.elementsToIndexes.has(D)).map(D=>this.elementsToIndexes.get(D))),N.length>0){const D=this.list.getFocus()[0];typeof D=="number"&&this.list.reveal(D)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(N){this.list.setSelection(N.filter(D=>this.elementsToIndexes.has(D)).map(D=>this.elementsToIndexes.get(D)))}getCheckedElements(){return this.elements.filter(N=>N.checked).map(N=>N.item)}setCheckedElements(N){try{this._fireCheckedEvents=!1;const D=new Set;for(const T of N)D.add(T);for(const T of this.elements)T.checked=D.has(T.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(N){this.list.getHTMLElement().style.pointerEvents=N?"":"none"}focus(N){if(!this.list.length)return;switch(N===b.Next&&this.list.getFocus()[0]===this.list.length-1&&(N=b.First),N===b.Previous&&this.list.getFocus()[0]===0&&(N=b.Last),N===b.Second&&this.list.length<2&&(N=b.First),N){case b.First:this.list.focusFirst();break;case b.Second:this.list.focusNth(1);break;case b.Last:this.list.focusLast();break;case b.Next:this.list.focusNext();break;case b.Previous:this.list.focusPrevious();break;case b.NextPage:this.list.focusNextPage();break;case b.PreviousPage:this.list.focusPreviousPage();break}const D=this.list.getFocus()[0];typeof D=="number"&&this.list.reveal(D)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(N){this.list.getHTMLElement().style.maxHeight=N?`calc(${Math.floor(N/44)*44}px)`:"",this.list.layout()}filter(N){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(N=N.trim(),!N||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(T=>{T.labelHighlights=void 0,T.descriptionHighlights=void 0,T.detailHighlights=void 0,T.hidden=!1;const P=T.index&&this.inputElements[T.index-1];T.separator=P&&P.type==="separator"?P:void 0});else{let T;this.elements.forEach(P=>{const R=this.matchOnLabel?r.withNullAsUndefined(M.matchesFuzzyIconAware(N,M.parseLabelWithIcons(P.saneLabel))):void 0,O=this.matchOnDescription?r.withNullAsUndefined(M.matchesFuzzyIconAware(N,M.parseLabelWithIcons(P.saneDescription||""))):void 0,A=this.matchOnDetail?r.withNullAsUndefined(M.matchesFuzzyIconAware(N,M.parseLabelWithIcons(P.saneDetail||""))):void 0,F=this.matchOnMeta?r.withNullAsUndefined(M.matchesFuzzyIconAware(N,M.parseLabelWithIcons(P.saneMeta||""))):void 0;if(R||O||A||F?(P.labelHighlights=R,P.descriptionHighlights=O,P.detailHighlights=A,P.hidden=!1):(P.labelHighlights=void 0,P.descriptionHighlights=void 0,P.detailHighlights=void 0,P.hidden=!P.item.alwaysShow),P.separator=void 0,!this.sortByLabel){const E=P.index&&this.inputElements[P.index-1];T=E&&E.type==="separator"?E:T,T&&!P.hidden&&(P.separator=T,T=void 0)}})}const D=this.elements.filter(T=>!T.hidden);if(this.sortByLabel&&N){const T=N.toLowerCase();D.sort((P,R)=>f(P,R,T))}return this.elementsToIndexes=D.reduce((T,P,R)=>(T.set(P.item,R),T),new Map),this.list.splice(0,this.list.length,D),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(D.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const N=this.list.getFocusedElements(),D=this.allVisibleChecked(N);for(const T of N)T.checked=!D}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(N){this.container.style.display=N?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=k.dispose(this.elementDisposables),this.disposables=k.dispose(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(N){this._onButtonTriggered.fire(N)}style(N){this.list.style(N)}}Me([C.memoize],g.prototype,"onDidChangeFocus",null),Me([C.memoize],g.prototype,"onDidChangeSelection",null),e.QuickInputList=g;function f(I,N,D){const T=I.labelHighlights||[],P=N.labelHighlights||[];return T.length&&!P.length?-1:!T.length&&P.length?1:T.length===0&&P.length===0?0:L.compareAnything(I.saneLabel,N.saneLabel,D)}class y{getWidgetAriaLabel(){return l.localize(0,null)}getAriaLabel(N){return N.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(ie[453],ne([0,1,205,7,23,452,445,54,450,208,317,6,305,2,73,83,49,19,15,213,27,104,17,132]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const w=k.$,g={iconClass:d.registerCodicon("quick-input-back",d.Codicon.arrowLeft).classNames,tooltip:v.localize(0,null),handle:-1};class f extends a.Disposable{constructor(D){super();this.ui=D,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=f.noPromptMessage,this._severity=c.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new s.Emitter),this.onDidHideEmitter=this._register(new s.Emitter),this.onDisposeEmitter=this._register(new s.Emitter),this.visibleDisposables=this._register(new a.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(D){this._title=D,this.update()}get description(){return this._description}set description(D){this._description=D,this.update()}get step(){return this._steps}set step(D){this._steps=D,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(D){this._totalSteps=D,this.update()}get enabled(){return this._enabled}set enabled(D){this._enabled=D,this.update()}get contextKey(){return this._contextKey}set contextKey(D){this._contextKey=D,this.update()}get busy(){return this._busy}set busy(D){this._busy=D,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(D){const T=this._ignoreFocusOut!==D&&!p.isIOS;this._ignoreFocusOut=D&&!p.isIOS,T&&this.update()}get buttons(){return this._buttons}set buttons(D){this._buttons=D,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(D){this._validationMessage=D,this.update()}get severity(){return this._severity}set severity(D){this._severity=D,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(D=>{this.buttons.indexOf(D)!==-1&&this.onDidTriggerButtonEmitter.fire(D)})),this.ui.show(this),this.visible=!0,this.update())}hide(){!this.visible||this.ui.hide()}didHide(D=_.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:D})}update(){if(!this.visible)return;const D=this.getTitle();D&&this.ui.title.textContent!==D?this.ui.title.textContent=D:!D&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0;");const T=this.getDescription();if(this.ui.description1.textContent!==T&&(this.ui.description1.textContent=T),this.ui.description2.textContent!==T&&(this.ui.description2.textContent=T),this.busy&&!this.busyDelay&&(this.busyDelay=new l.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const R=this.buttons.filter(A=>A===g);this.ui.leftActionBar.push(R.map((A,F)=>{const E=new r.Action(`id-${F}`,"",A.iconClass||t.getIconClass(A.iconPath),!0,()=>Ie(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return E.tooltip=A.tooltip||"",E}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const O=this.buttons.filter(A=>A!==g);this.ui.rightActionBar.push(O.map((A,F)=>{const E=new r.Action(`id-${F}`,"",A.iconClass||t.getIconClass(A.iconPath),!0,()=>Ie(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return E.tooltip=A.tooltip||"",E}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const P=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==P&&(this._lastValidationMessage=P,k.reset(this.ui.message,...h.renderLabelWithIcons(P))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?v.localize(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(D){if(this.ui.inputBox.showDecoration(D),D!==c.default.Ignore){const T=this.ui.inputBox.stylesForType(D);this.ui.message.style.color=T.foreground?`${T.foreground}`:"",this.ui.message.style.backgroundColor=T.background?`${T.background}`:"",this.ui.message.style.border=T.border?`1px solid ${T.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}f.noPromptMessage=v.localize(1,null);class y extends f{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new s.Emitter),this.onWillAcceptEmitter=this._register(new s.Emitter),this.onDidAcceptEmitter=this._register(new s.Emitter),this.onDidCustomEmitter=this._register(new s.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?_.ItemActivation.NONE:_.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new s.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new s.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new s.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=D=>D,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(D){this._quickNavigate=D,this.update()}get value(){return this._value}set value(D){this._value!==D&&(this._value=D||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(D){this._ariaLabel=D,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(D){this._placeholder=D,this.update()}get items(){return this._items}set items(D){this._items=D,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(D){this._canSelectMany=D,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(D){this._canAcceptInBackground=D}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(D){this._matchOnDescription=D,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(D){this._matchOnDetail=D,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(D){this._matchOnLabel=D,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(D){this._sortByLabel=D,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(D){this._autoFocusOnList=D,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(D){this._itemActivation=D}get activeItems(){return this._activeItems}set activeItems(D){this._activeItems=D,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(D){this._selectedItems=D,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?_.NO_KEY_MODS:this.ui.keyMods}set valueSelection(D){this._valueSelection=D,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(D){this._customButton=D,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(D){this._customButtonLabel=D,this.update()}get customHover(){return this._customButtonHover}set customHover(D){this._customButtonHover=D,this.update()}get ok(){return this._ok}set ok(D){this._ok=D,this.update()}get hideInput(){return!!this._hideInput}set hideInput(D){this._hideInput=D,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(L.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(D=>{if(D===this.value)return;this._value=D,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(D)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(D=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(D=>{switch(D.keyCode){case 18:this.ui.list.focus(L.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(D,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(L.QuickInputListFocus.Previous):this.ui.list.focus(L.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(D,!0);break;case 12:this.ui.list.focus(L.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(D,!0);break;case 11:this.ui.list.focus(L.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(D,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(D.ctrlKey||D.metaKey)&&!D.shiftKey&&!D.altKey&&(this.ui.list.focus(L.QuickInputListFocus.First),k.EventHelper.stop(D,!0));break;case 13:(D.ctrlKey||D.metaKey)&&!D.shiftKey&&!D.altKey&&(this.ui.list.focus(L.QuickInputListFocus.Last),k.EventHelper.stop(D,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(D=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&n.equals(D,this._activeItems,(T,P)=>T===P)||(this._activeItems=D,this.onDidChangeActiveEmitter.fire(D))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:D,event:T})=>{if(this.canSelectMany){D.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&n.equals(D,this._selectedItems,(P,R)=>P===R)||(this._selectedItems=D,this.onDidChangeSelectionEmitter.fire(D),D.length&&this.handleAccept(T instanceof MouseEvent&&T.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(D=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&n.equals(D,this._selectedItems,(T,P)=>T===P)||(this._selectedItems=D,this.onDidChangeSelectionEmitter.fire(D))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(D=>this.onDidTriggerItemButtonEmitter.fire(D))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(D){let T=!1;this.onWillAcceptEmitter.fire({veto:()=>T=!0}),T||this.onDidAcceptEmitter.fire({inBackground:D})}registerQuickNavigation(){return k.addDisposableListener(this.ui.container,k.EventType.KEY_UP,D=>{if(this.canSelectMany||!this._quickNavigate)return;const T=new m.StandardKeyboardEvent(D),P=T.keyCode;this._quickNavigate.keybindings.some(A=>{const[F,E]=A.getParts();return E?!1:F.shiftKey&&P===4?!(T.ctrlKey||T.altKey||T.metaKey):!!(F.altKey&&P===6||F.ctrlKey&&P===5||F.metaKey&&P===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const D=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",D&&!this.description);const T={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!D,progressBar:!D,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(T),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const P=this.ariaLabel||this.placeholder||y.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==P&&(this.ui.inputBox.ariaLabel=P),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case _.ItemActivation.NONE:this._itemActivation=_.ItemActivation.FIRST;break;case _.ItemActivation.SECOND:this.ui.list.focus(L.QuickInputListFocus.Second),this._itemActivation=_.ItemActivation.FIRST;break;case _.ItemActivation.LAST:this.ui.list.focus(L.QuickInputListFocus.Last),this._itemActivation=_.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),T.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(L.QuickInputListFocus.First))}}y.DEFAULT_ARIA_LABEL=v.localize(3,null);class I extends a.Disposable{constructor(D){super();this.options=D,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new s.Emitter),this.onDidCustomEmitter=this._register(new s.Emitter),this.onDidTriggerButtonEmitter=this._register(new s.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new s.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new s.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=D.idPrefix,this.parentElement=D.container,this.styles=D.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const D=T=>{this.keyMods.ctrlCmd=T.ctrlKey||T.metaKey,this.keyMods.alt=T.altKey};this._register(k.addDisposableListener(window,k.EventType.KEY_DOWN,D,!0)),this._register(k.addDisposableListener(window,k.EventType.KEY_UP,D,!0)),this._register(k.addDisposableListener(window,k.EventType.MOUSE_DOWN,D,!0))}getUI(){if(this.ui)return this.ui;const D=k.append(this.parentElement,w(".quick-input-widget.show-file-icons"));D.tabIndex=-1,D.style.display="none";const T=k.createStyleSheet(D),P=k.append(D,w(".quick-input-titlebar")),R=this._register(new u.ActionBar(P));R.domNode.classList.add("quick-input-left-action-bar");const O=k.append(P,w(".quick-input-title")),A=this._register(new u.ActionBar(P));A.domNode.classList.add("quick-input-right-action-bar");const F=k.append(D,w(".quick-input-description")),E=k.append(D,w(".quick-input-header")),W=k.append(E,w("input.quick-input-check-all"));W.type="checkbox",this._register(k.addStandardDisposableListener(W,k.EventType.CHANGE,Q=>{const J=W.checked;ee.setAllVisibleChecked(J)})),this._register(k.addDisposableListener(W,k.EventType.CLICK,Q=>{(Q.x||Q.y)&&j.setFocus()}));const V=k.append(E,w(".quick-input-description")),U=k.append(E,w(".quick-input-and-message")),q=k.append(U,w(".quick-input-filter")),j=this._register(new S.QuickInputBox(q));j.setAttribute("aria-describedby",`${this.idPrefix}message`);const te=k.append(q,w(".quick-input-visible-count"));te.setAttribute("aria-live","polite"),te.setAttribute("aria-atomic","true");const ae=new i.CountBadge(te,{countFormat:v.localize(4,null)}),de=k.append(q,w(".quick-input-count"));de.setAttribute("aria-live","polite");const ue=new i.CountBadge(de,{countFormat:v.localize(5,null)}),X=k.append(E,w(".quick-input-action")),B=new o.Button(X);B.label=v.localize(6,null),this._register(B.onDidClick(Q=>{this.onDidAcceptEmitter.fire()}));const Z=k.append(E,w(".quick-input-action")),H=new o.Button(Z);H.label=v.localize(7,null),this._register(H.onDidClick(Q=>{this.onDidCustomEmitter.fire()}));const z=k.append(U,w(`#${this.idPrefix}message.quick-input-message`)),ee=this._register(new L.QuickInputList(D,this.idPrefix+"list",this.options));this._register(ee.onChangedAllVisibleChecked(Q=>{W.checked=Q})),this._register(ee.onChangedVisibleCount(Q=>{ae.setCount(Q)})),this._register(ee.onChangedCheckedCount(Q=>{ue.setCount(Q)})),this._register(ee.onLeave(()=>{setTimeout(()=>{j.setFocus(),this.controller instanceof y&&this.controller.canSelectMany&&ee.clearFocus()},0)})),this._register(ee.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const x=new C.ProgressBar(D);x.getContainer().classList.add("quick-input-progress");const G=k.trackFocus(D);return this._register(G),this._register(k.addDisposableListener(D,k.EventType.FOCUS,Q=>{this.previousFocusElement=Q.relatedTarget instanceof HTMLElement?Q.relatedTarget:void 0},!0)),this._register(G.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(_.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(k.addDisposableListener(D,k.EventType.FOCUS,Q=>{j.setFocus()})),this._register(k.addDisposableListener(D,k.EventType.KEY_DOWN,Q=>{const J=new m.StandardKeyboardEvent(Q);switch(J.keyCode){case 3:k.EventHelper.stop(Q,!0),this.onDidAcceptEmitter.fire();break;case 9:k.EventHelper.stop(Q,!0),this.hide(_.QuickInputHideReason.Gesture);break;case 2:if(!J.altKey&&!J.ctrlKey&&!J.metaKey){const le=[".action-label.codicon"];D.classList.contains("show-checkboxes")?le.push("input"):le.push("input[type=text]"),this.getUI().list.isDisplayed()&&le.push(".monaco-list");const oe=D.querySelectorAll(le.join(", "));J.shiftKey&&J.target===oe[0]?(k.EventHelper.stop(Q,!0),oe[oe.length-1].focus()):!J.shiftKey&&J.target===oe[oe.length-1]&&(k.EventHelper.stop(Q,!0),oe[0].focus())}break}})),this.ui={container:D,styleSheet:T,leftActionBar:R,titleBar:P,title:O,description1:F,description2:V,rightActionBar:A,checkAll:W,filterContainer:q,inputBox:j,visibleCountContainer:te,visibleCount:ae,countContainer:de,count:ue,okContainer:X,ok:B,message:z,customButtonContainer:Z,customButton:H,list:ee,progressBar:x,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Q=>this.show(Q),hide:()=>this.hide(),setVisibilities:Q=>this.setVisibilities(Q),setComboboxAccessibility:Q=>this.setComboboxAccessibility(Q),setEnabled:Q=>this.setEnabled(Q),setContextKey:Q=>this.options.setContextKey(Q)},this.updateStyles(),this.ui}pick(D,T={},P=M.CancellationToken.None){return new Promise((R,O)=>{let A=V=>{A=R,T.onKeyMods&&T.onKeyMods(F.keyMods),R(V)};if(P.isCancellationRequested){A(void 0);return}const F=this.createQuickPick();let E;const W=[F,F.onDidAccept(()=>{if(F.canSelectMany)A(F.selectedItems.slice()),F.hide();else{const V=F.activeItems[0];V&&(A(V),F.hide())}}),F.onDidChangeActive(V=>{const U=V[0];U&&T.onDidFocus&&T.onDidFocus(U)}),F.onDidChangeSelection(V=>{if(!F.canSelectMany){const U=V[0];U&&(A(U),F.hide())}}),F.onDidTriggerItemButton(V=>T.onDidTriggerItemButton&&T.onDidTriggerItemButton(Object.assign(Object.assign({},V),{removeItem:()=>{const U=F.items.indexOf(V.item);if(U!==-1){const q=F.items.slice(),j=q.splice(U,1),te=F.activeItems.filter(ae=>ae!==j[0]);F.items=q,te&&(F.activeItems=te)}}}))),F.onDidChangeValue(V=>{E&&!V&&(F.activeItems.length!==1||F.activeItems[0]!==E)&&(F.activeItems=[E])}),P.onCancellationRequested(()=>{F.hide()}),F.onDidHide(()=>{a.dispose(W),A(void 0)})];F.title=T.title,F.canSelectMany=!!T.canPickMany,F.placeholder=T.placeHolder,F.ignoreFocusOut=!!T.ignoreFocusLost,F.matchOnDescription=!!T.matchOnDescription,F.matchOnDetail=!!T.matchOnDetail,F.matchOnLabel=T.matchOnLabel===void 0||T.matchOnLabel,F.autoFocusOnList=T.autoFocusOnList===void 0||T.autoFocusOnList,F.quickNavigate=T.quickNavigate,F.contextKey=T.contextKey,F.busy=!0,Promise.all([D,T.activeItem]).then(([V,U])=>{E=U,F.busy=!1,F.items=V,F.canSelectMany&&(F.selectedItems=V.filter(q=>q.type!=="separator"&&q.picked)),E&&(F.activeItems=[E])}),F.show(),Promise.resolve(D).then(void 0,V=>{O(V),F.hide()})})}createQuickPick(){const D=this.getUI();return new y(D)}show(D){const T=this.getUI();this.onShowEmitter.fire();const P=this.controller;this.controller=D,P&&P.didHide(),this.setEnabled(!0),T.leftActionBar.clear(),T.title.textContent="",T.description1.textContent="",T.description2.textContent="",T.rightActionBar.clear(),T.checkAll.checked=!1,T.inputBox.placeholder="",T.inputBox.password=!1,T.inputBox.showDecoration(c.default.Ignore),T.visibleCount.setCount(0),T.count.setCount(0),k.reset(T.message),T.progressBar.stop(),T.list.setElements([]),T.list.matchOnDescription=!1,T.list.matchOnDetail=!1,T.list.matchOnLabel=!0,T.list.sortByLabel=!0,T.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),T.inputBox.ariaLabel="";const R=this.options.backKeybindingLabel();g.tooltip=R?v.localize(8,null,R):v.localize(9,null),T.container.style.display="",this.updateLayout(),T.inputBox.setFocus()}setVisibilities(D){const T=this.getUI();T.title.style.display=D.title?"":"none",T.description1.style.display=D.description&&(D.inputBox||D.checkAll)?"":"none",T.description2.style.display=D.description&&!(D.inputBox||D.checkAll)?"":"none",T.checkAll.style.display=D.checkAll?"":"none",T.filterContainer.style.display=D.inputBox?"":"none",T.visibleCountContainer.style.display=D.visibleCount?"":"none",T.countContainer.style.display=D.count?"":"none",T.okContainer.style.display=D.ok?"":"none",T.customButtonContainer.style.display=D.customButton?"":"none",T.message.style.display=D.message?"":"none",T.progressBar.getContainer().style.display=D.progressBar?"":"none",T.list.display(!!D.list),T.container.classList[D.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(D){if(D!==this.comboboxAccessibility){const T=this.getUI();this.comboboxAccessibility=D,this.comboboxAccessibility?(T.inputBox.setAttribute("role","combobox"),T.inputBox.setAttribute("aria-haspopup","true"),T.inputBox.setAttribute("aria-autocomplete","list"),T.inputBox.setAttribute("aria-activedescendant",T.list.getActiveDescendant()||"")):(T.inputBox.removeAttribute("role"),T.inputBox.removeAttribute("aria-haspopup"),T.inputBox.removeAttribute("aria-autocomplete"),T.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(D){if(D!==this.enabled){this.enabled=D;for(const T of this.getUI().leftActionBar.viewItems)T.getAction().enabled=D;for(const T of this.getUI().rightActionBar.viewItems)T.getAction().enabled=D;this.getUI().checkAll.disabled=!D,this.getUI().ok.enabled=D,this.getUI().list.enabled=D}}hide(D){var T;const P=this.controller;if(P){const R=!((T=this.ui)===null||T===void 0?void 0:T.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",R||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),P.didHide(D)}}layout(D,T){this.dimension=D,this.titleBarOffset=T,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const D=this.ui.container.style,T=Math.min(this.dimension.width*.62,I.MAX_WIDTH);D.width=T+"px",D.marginLeft="-"+T/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(D){this.styles=D,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:D,quickInputBackground:T,quickInputForeground:P,contrastBorder:R,widgetShadow:O}=this.styles.widget;this.ui.titleBar.style.backgroundColor=D?D.toString():"",this.ui.container.style.backgroundColor=T?T.toString():"",this.ui.container.style.color=P?P.toString():"",this.ui.container.style.border=R?`1px solid ${R}`:"",this.ui.container.style.boxShadow=O?`0 0 8px 2px ${O}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const A=[];this.styles.list.pickerGroupBorder&&A.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&A.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(A.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&A.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&A.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&A.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&A.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&A.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),A.push("}"));const F=A.join(`
`);F!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=F)}}}e.QuickInputController=I,I.MAX_WIDTH=600}),define(ie[454],ne([4,5]),function($,e){return $.create("vs/editor/browser/controller/coreCommands",e)}),define(ie[455],ne([4,5]),function($,e){return $.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ie[456],ne([4,5]),function($,e){return $.create("vs/editor/browser/core/keybindingCancellation",e)}),define(ie[457],ne([4,5]),function($,e){return $.create("vs/editor/browser/editorExtensions",e)}),define(ie[458],ne([4,5]),function($,e){return $.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(ie[459],ne([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(ie[460],ne([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffReview",e)}),define(ie[461],ne([4,5]),function($,e){return $.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(ie[462],ne([0,1,461,7,49,2,3,27]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class v extends L.Disposable{constructor(C,s,o,a,c,u){super();this._viewZoneId=C,this._marginDomNode=s,this.editor=o,this.diff=a,this._contextMenuService=c,this._clipboardService=u,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=m.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const r=o.getOption(56),n=o.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${r}px`,this._diffActions.style.lineHeight=`${r}px`,this._marginDomNode.appendChild(this._diffActions);const l=[];l.push(new M.Action("diff.clipboard.copyDeletedContent",a.originalEndLineNumber>a.modifiedStartLineNumber?_.localize(0,null):_.localize(1,null),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const w=new S.Range(a.originalStartLineNumber,1,a.originalEndLineNumber+1,1),b=a.originalModel.getValueInRange(w);yield this._clipboardService.writeText(b)})));let t=0,d;a.originalEndLineNumber>a.modifiedStartLineNumber&&(d=new M.Action("diff.clipboard.copyDeletedLineContent",_.localize(2,null,a.originalStartLineNumber),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const w=a.originalModel.getLineContent(a.originalStartLineNumber+t);yield this._clipboardService.writeText(w)})),l.push(d)),o.getOption(78)||l.push(new M.Action("diff.inline.revertChange",_.localize(3,null),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const w=new S.Range(a.originalStartLineNumber,1,a.originalEndLineNumber,a.originalModel.getLineMaxColumn(a.originalEndLineNumber)),b=a.originalModel.getValueInRange(w);if(a.modifiedEndLineNumber===0){const g=o.getModel().getLineMaxColumn(a.modifiedStartLineNumber);o.executeEdits("diffEditor",[{range:new S.Range(a.modifiedStartLineNumber,g,a.modifiedStartLineNumber,g),text:n+b}])}else{const g=o.getModel().getLineMaxColumn(a.modifiedEndLineNumber);o.executeEdits("diffEditor",[{range:new S.Range(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber,g),text:b}])}})));const p=(w,b)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:w,y:b}),getActions:()=>(d&&(d.label=_.localize(4,null,a.originalStartLineNumber+t)),l),autoSelectFirstItem:!0})};this._register(k.addStandardDisposableListener(this._diffActions,"mousedown",w=>{const{top:b,height:g}=k.getDomNodePagePosition(this._diffActions);let f=Math.floor(r/3);w.preventDefault(),p(w.posx,b+g+f)})),this._register(o.onMouseMove(w=>{w.target.type===8||w.target.type===5?w.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,t=this._updateLightBulbPosition(this._marginDomNode,w.event.browserEvent.y,r)):this.visibility=!1:this.visibility=!1})),this._register(o.onMouseDown(w=>{!w.event.rightButton||(w.target.type===8||w.target.type===5)&&w.target.detail.viewZoneId===this._viewZoneId&&(w.event.preventDefault(),t=this._updateLightBulbPosition(this._marginDomNode,w.event.browserEvent.y,r),p(w.event.posx,w.event.posy+r))}))}get visibility(){return this._visibility}set visibility(C){this._visibility!==C&&(this._visibility=C,C?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(C,s,o){const{top:a}=k.getDomNodePagePosition(C),c=s-a,u=Math.floor(c/o),r=u*o;if(this._diffActions.style.top=`${r}px`,this.diff.viewLineCounts){let n=0;for(let l=0;l<this.diff.viewLineCounts.length;l++)if(n+=this.diff.viewLineCounts[l],u<n)return l}return u}}e.InlineDiffMargin=v}),define(ie[463],ne([4,5]),function($,e){return $.create("vs/editor/common/config/commonEditorConfig",e)}),define(ie[464],ne([4,5]),function($,e){return $.create("vs/editor/common/config/editorOptions",e)}),define(ie[35],ne([0,1,464,17,135]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class L{constructor(K){this._values=K}hasChanged(K){return this._values[K]}}e.ConfigurationChangedEvent=L;class S{constructor(){this._values=[]}_read(K){return this._values[K]}get(K){return this._values[K]}_write(K,re){this._values[K]=re}}e.ValidatedEditorOptions=S;class m{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=m;class v{constructor(K,re,Y,se){this.id=K,this.name=re,this.defaultValue=Y,this.schema=se}compute(K,re,Y){return Y}}class i{constructor(K,re=null){this.schema=void 0,this.id=K,this.name="_never_",this.defaultValue=void 0,this.deps=re}validate(K){return this.defaultValue}}class C{constructor(K,re,Y,se){this.id=K,this.name=re,this.defaultValue=Y,this.schema=se}validate(K){return typeof K=="undefined"?this.defaultValue:K}compute(K,re,Y){return Y}}function s(he,K){return typeof he=="undefined"?K:he==="false"?!1:Boolean(he)}e.boolean=s;class o extends C{constructor(K,re,Y,se=void 0){typeof se!="undefined"&&(se.type="boolean",se.default=Y),super(K,re,Y,se)}validate(K){return s(K,this.defaultValue)}}class a extends C{constructor(K,re,Y,se,ge,pe=void 0){typeof pe!="undefined"&&(pe.type="integer",pe.default=Y,pe.minimum=se,pe.maximum=ge),super(K,re,Y,pe),this.minimum=se,this.maximum=ge}static clampedInt(K,re,Y,se){if(typeof K=="undefined")return re;let ge=parseInt(K,10);return isNaN(ge)?re:(ge=Math.max(Y,ge),ge=Math.min(se,ge),ge|0)}validate(K){return a.clampedInt(K,this.defaultValue,this.minimum,this.maximum)}}class c extends C{constructor(K,re,Y,se,ge){typeof ge!="undefined"&&(ge.type="number",ge.default=Y),super(K,re,Y,ge),this.validationFn=se}static clamp(K,re,Y){return K<re?re:K>Y?Y:K}static float(K,re){if(typeof K=="number")return K;if(typeof K=="undefined")return re;const Y=parseFloat(K);return isNaN(Y)?re:Y}validate(K){return this.validationFn(c.float(K,this.defaultValue))}}class u extends C{static string(K,re){return typeof K!="string"?re:K}constructor(K,re,Y,se=void 0){typeof se!="undefined"&&(se.type="string",se.default=Y),super(K,re,Y,se)}validate(K){return u.string(K,this.defaultValue)}}function r(he,K,re){return typeof he!="string"||re.indexOf(he)===-1?K:he}e.stringSet=r;class n extends C{constructor(K,re,Y,se,ge=void 0){typeof ge!="undefined"&&(ge.type="string",ge.enum=se,ge.default=Y),super(K,re,Y,ge),this._allowedValues=se}validate(K){return r(K,this.defaultValue,this._allowedValues)}}class l extends v{constructor(K,re,Y,se,ge,pe,ve=void 0){typeof ve!="undefined"&&(ve.type="string",ve.enum=ge,ve.default=se),super(K,re,Y,ve),this._allowedValues=ge,this._convert=pe}validate(K){return typeof K!="string"?this.defaultValue:this._allowedValues.indexOf(K)===-1?this.defaultValue:this._convert(K)}}function t(he){switch(he){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class d extends v{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[_.localize(0,null),_.localize(1,null),_.localize(2,null)],default:"auto",description:_.localize(3,null)})}validate(K){switch(K){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(K,re,Y){return Y===0?K.accessibilitySupport:Y}}class h extends v{constructor(){const K={insertSpace:!0,ignoreEmptyLines:!0};super(17,"comments",K,{"editor.comments.insertSpace":{type:"boolean",default:K.insertSpace,description:_.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:K.ignoreEmptyLines,description:_.localize(5,null)}})}validate(K){if(!K||typeof K!="object")return this.defaultValue;const re=K;return{insertSpace:s(re.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:s(re.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function p(he){switch(he){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var w;(function(he){he[he.Line=1]="Line",he[he.Block=2]="Block",he[he.Underline=3]="Underline",he[he.LineThin=4]="LineThin",he[he.BlockOutline=5]="BlockOutline",he[he.UnderlineThin=6]="UnderlineThin"})(w=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function b(he){switch(he){case"line":return w.Line;case"block":return w.Block;case"underline":return w.Underline;case"line-thin":return w.LineThin;case"block-outline":return w.BlockOutline;case"underline-thin":return w.UnderlineThin}}class g extends i{constructor(){super(125,[63,31])}compute(K,re,Y){const se=["monaco-editor"];return re.get(31)&&se.push(re.get(31)),K.extraEditorClassName&&se.push(K.extraEditorClassName),re.get(63)==="default"?se.push("mouse-default"):re.get(63)==="copy"&&se.push("mouse-copy"),re.get(98)&&se.push("showUnused"),re.get(123)&&se.push("showDeprecated"),se.join(" ")}}class f extends o{constructor(){super(30,"emptySelectionClipboard",!0,{description:_.localize(6,null)})}compute(K,re,Y){return Y&&K.emptySelectionClipboard}}class y extends v{constructor(){const K={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,"find",K,{"editor.find.cursorMoveOnType":{type:"boolean",default:K.cursorMoveOnType,description:_.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:K.seedSearchStringFromSelection,description:_.localize(8,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:K.autoFindInSelection,enumDescriptions:[_.localize(9,null),_.localize(10,null),_.localize(11,null)],description:_.localize(12,null)},"editor.find.globalFindClipboard":{type:"boolean",default:K.globalFindClipboard,description:_.localize(13,null),included:k.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:K.addExtraSpaceOnTop,description:_.localize(14,null)},"editor.find.loop":{type:"boolean",default:K.loop,description:_.localize(15,null)}})}validate(K){if(!K||typeof K!="object")return this.defaultValue;const re=K;return{cursorMoveOnType:s(re.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:s(re.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof K.autoFindInSelection=="boolean"?K.autoFindInSelection?"always":"never":r(re.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:s(re.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:s(re.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:s(re.loop,this.defaultValue.loop)}}}class I extends v{constructor(){super(41,"fontLigatures",I.OFF,{anyOf:[{type:"boolean",description:_.localize(16,null)},{type:"string",description:_.localize(17,null)}],description:_.localize(18,null),default:!1})}validate(K){return typeof K=="undefined"?this.defaultValue:typeof K=="string"?K==="false"?I.OFF:K==="true"?I.ON:K:Boolean(K)?I.ON:I.OFF}}e.EditorFontLigatures=I,I.OFF='"liga" off, "calt" off',I.ON='"liga" on, "calt" on';class N extends i{constructor(){super(40)}compute(K,re,Y){return K.fontInfo}}class D extends C{constructor(){super(42,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:_.localize(19,null)})}validate(K){let re=c.float(K,this.defaultValue);return re===0?e.EDITOR_FONT_DEFAULTS.fontSize:c.clamp(re,6,100)}compute(K,re,Y){return K.fontInfo.fontSize}}class T extends v{constructor(){super(43,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:T.MINIMUM_VALUE,maximum:T.MAXIMUM_VALUE,errorMessage:_.localize(20,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:T.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:_.localize(21,null)})}validate(K){return K==="normal"||K==="bold"?K:String(a.clampedInt(K,e.EDITOR_FONT_DEFAULTS.fontWeight,T.MINIMUM_VALUE,T.MAXIMUM_VALUE))}}T.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],T.MINIMUM_VALUE=1,T.MAXIMUM_VALUE=1e3;class P extends v{constructor(){const K={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},re={type:"string",enum:["peek","gotoAndPeek","goto"],default:K.multiple,enumDescriptions:[_.localize(22,null),_.localize(23,null),_.localize(24,null)]},Y=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(47,"gotoLocation",K,{"editor.gotoLocation.multiple":{deprecationMessage:_.localize(25,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:_.localize(26,null)},re),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:_.localize(27,null)},re),"editor.gotoLocation.multipleDeclarations":Object.assign({description:_.localize(28,null)},re),"editor.gotoLocation.multipleImplementations":Object.assign({description:_.localize(29,null)},re),"editor.gotoLocation.multipleReferences":Object.assign({description:_.localize(30,null)},re),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:K.alternativeDefinitionCommand,enum:Y,description:_.localize(31,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:K.alternativeTypeDefinitionCommand,enum:Y,description:_.localize(32,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:K.alternativeDeclarationCommand,enum:Y,description:_.localize(33,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:K.alternativeImplementationCommand,enum:Y,description:_.localize(34,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:K.alternativeReferenceCommand,enum:Y,description:_.localize(35,null)}})}validate(K){var re,Y,se,ge,pe;if(!K||typeof K!="object")return this.defaultValue;const ve=K;return{multiple:r(ve.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(re=ve.multipleDefinitions)!==null&&re!==void 0?re:r(ve.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Y=ve.multipleTypeDefinitions)!==null&&Y!==void 0?Y:r(ve.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(se=ve.multipleDeclarations)!==null&&se!==void 0?se:r(ve.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(ge=ve.multipleImplementations)!==null&&ge!==void 0?ge:r(ve.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(pe=ve.multipleReferences)!==null&&pe!==void 0?pe:r(ve.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:u.string(ve.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:u.string(ve.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:u.string(ve.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:u.string(ve.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:u.string(ve.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class R extends v{constructor(){const K={enabled:!0,delay:300,sticky:!0};super(50,"hover",K,{"editor.hover.enabled":{type:"boolean",default:K.enabled,description:_.localize(36,null)},"editor.hover.delay":{type:"number",default:K.delay,description:_.localize(37,null)},"editor.hover.sticky":{type:"boolean",default:K.sticky,description:_.localize(38,null)}})}validate(K){if(!K||typeof K!="object")return this.defaultValue;const re=K;return{enabled:s(re.enabled,this.defaultValue.enabled),delay:a.clampedInt(re.delay,this.defaultValue.delay,0,1e4),sticky:s(re.sticky,this.defaultValue.sticky)}}}class O extends i{constructor(){super(128,[46,55,35,62,90,57,58,92,115,118,119,120,2])}compute(K,re,Y){return O.computeLayout(re,{memory:K.memory,outerWidth:K.outerWidth,outerHeight:K.outerHeight,isDominatedByLongLines:K.isDominatedByLongLines,lineHeight:K.fontInfo.lineHeight,viewLineCount:K.viewLineCount,lineNumbersDigitCount:K.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:K.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:K.fontInfo.maxDigitWidth,pixelRatio:K.pixelRatio})}static computeContainedMinimapLineCount(K){const re=K.height/K.lineHeight,Y=K.scrollBeyondLastLine?re-1:0,se=(K.viewLineCount+Y)/(K.pixelRatio*K.height),ge=Math.floor(K.viewLineCount/se);return{typicalViewportLineCount:re,extraLinesBeyondLastLine:Y,desiredRatio:se,minimapLineCount:ge}}static _computeMinimapLayout(K,re){const Y=K.outerWidth,se=K.outerHeight,ge=K.pixelRatio;if(!K.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ge*se),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:se};const pe=re.stableMinimapLayoutInput,ve=pe&&K.outerHeight===pe.outerHeight&&K.lineHeight===pe.lineHeight&&K.typicalHalfwidthCharacterWidth===pe.typicalHalfwidthCharacterWidth&&K.pixelRatio===pe.pixelRatio&&K.scrollBeyondLastLine===pe.scrollBeyondLastLine&&K.minimap.enabled===pe.minimap.enabled&&K.minimap.side===pe.minimap.side&&K.minimap.size===pe.minimap.size&&K.minimap.showSlider===pe.minimap.showSlider&&K.minimap.renderCharacters===pe.minimap.renderCharacters&&K.minimap.maxColumn===pe.minimap.maxColumn&&K.minimap.scale===pe.minimap.scale&&K.verticalScrollbarWidth===pe.verticalScrollbarWidth&&K.isViewportWrapping===pe.isViewportWrapping,Le=K.lineHeight,Ee=K.typicalHalfwidthCharacterWidth,Te=K.scrollBeyondLastLine,De=K.minimap.renderCharacters;let Ae=ge>=2?Math.round(K.minimap.scale*2):K.minimap.scale;const we=K.minimap.maxColumn,Se=K.minimap.size,ye=K.minimap.side,me=K.verticalScrollbarWidth,ce=K.viewLineCount,fe=K.remainingWidth,Ce=K.isViewportWrapping,be=De?2:3;let ke=Math.floor(ge*se);const Ne=ke/ge;let Re=!1,Pe=!1,Fe=be*Ae,Oe=Ae/ge,xe=1;if(Se==="fill"||Se==="fit"){const{typicalViewportLineCount:Ue,extraLinesBeyondLastLine:Ze,desiredRatio:$e,minimapLineCount:Qe}=O.computeContainedMinimapLineCount({viewLineCount:ce,scrollBeyondLastLine:Te,height:se,lineHeight:Le,pixelRatio:ge});if(ce/Qe>1)Re=!0,Pe=!0,Ae=1,Fe=1,Oe=Ae/ge;else{let Xe=!1,Ge=Ae+1;if(Se==="fit"){const Je=Math.ceil((ce+Ze)*Fe);Ce&&ve&&fe<=re.stableFitRemainingWidth?(Xe=!0,Ge=re.stableFitMaxMinimapScale):Xe=Je>ke}if(Se==="fill"||Xe){Re=!0;const Je=Ae;Fe=Math.min(Le*ge,Math.max(1,Math.floor(1/$e))),Ce&&ve&&fe<=re.stableFitRemainingWidth&&(Ge=re.stableFitMaxMinimapScale),Ae=Math.min(Ge,Math.max(1,Math.floor(Fe/be))),Ae>Je&&(xe=Math.min(2,Ae/Je)),Oe=Ae/ge/xe,ke=Math.ceil(Math.max(Ue,ce+Ze)*Fe),Ce?(re.stableMinimapLayoutInput=K,re.stableFitRemainingWidth=fe,re.stableFitMaxMinimapScale=Ae):(re.stableMinimapLayoutInput=null,re.stableFitRemainingWidth=0)}}}const Be=Math.floor(we*Oe),ze=Math.min(Be,Math.max(0,Math.floor((fe-me-2)*Oe/(Ee+Oe)))+e.MINIMAP_GUTTER_WIDTH);let Ke=Math.floor(ge*ze);const We=Ke/ge;Ke=Math.floor(Ke*xe);const He=De?1:2,Ve=ye==="left"?0:Y-ze-me;return{renderMinimap:He,minimapLeft:Ve,minimapWidth:ze,minimapHeightIsEditorHeight:Re,minimapIsSampling:Pe,minimapScale:Ae,minimapLineHeight:Fe,minimapCanvasInnerWidth:Ke,minimapCanvasInnerHeight:ke,minimapCanvasOuterWidth:We,minimapCanvasOuterHeight:Ne}}static computeLayout(K,re){const Y=re.outerWidth|0,se=re.outerHeight|0,ge=re.lineHeight|0,pe=re.lineNumbersDigitCount|0,ve=re.typicalHalfwidthCharacterWidth,Le=re.maxDigitWidth,Ee=re.pixelRatio,Te=re.viewLineCount,De=K.get(120),Ae=De==="inherit"?K.get(119):De,we=Ae==="inherit"?K.get(115):Ae,Se=K.get(118),ye=K.get(2),me=re.isDominatedByLongLines,ce=K.get(46),fe=K.get(57).renderType!==0,Ce=K.get(58),be=K.get(92),ke=K.get(62),Ne=K.get(90),Re=Ne.verticalScrollbarSize,Pe=Ne.verticalHasArrows,Fe=Ne.arrowSize,Oe=Ne.horizontalScrollbarSize,xe=K.get(55),Be=K.get(35);let ze;if(typeof xe=="string"&&/^\d+(\.\d+)?ch$/.test(xe)){const nt=parseFloat(xe.substr(0,xe.length-2));ze=a.clampedInt(nt*ve,0,0,1e3)}else ze=a.clampedInt(xe,0,0,1e3);Be&&(ze+=16);let Ke=0;if(fe){const nt=Math.max(pe,Ce);Ke=Math.round(nt*Le)}let We=0;ce&&(We=ge);let He=0,Ve=He+We,Ue=Ve+Ke,Ze=Ue+ze;const $e=Y-We-Ke-ze;let Qe=!1,Ye=!1,Xe=-1;ye!==2&&(Ae==="inherit"&&me?(Qe=!0,Ye=!0):we==="on"||we==="bounded"?Ye=!0:we==="wordWrapColumn"&&(Xe=Se));const Ge=O._computeMinimapLayout({outerWidth:Y,outerHeight:se,lineHeight:ge,typicalHalfwidthCharacterWidth:ve,pixelRatio:Ee,scrollBeyondLastLine:be,minimap:ke,verticalScrollbarWidth:Re,viewLineCount:Te,remainingWidth:$e,isViewportWrapping:Ye},re.memory||new m);Ge.renderMinimap!==0&&Ge.minimapLeft===0&&(He+=Ge.minimapWidth,Ve+=Ge.minimapWidth,Ue+=Ge.minimapWidth,Ze+=Ge.minimapWidth);const Je=$e-Ge.minimapWidth,et=Math.max(1,Math.floor((Je-Re-2)/ve)),at=Pe?Fe:0;return Ye&&(Xe=Math.max(1,et),we==="bounded"&&(Xe=Math.min(Xe,Se))),{width:Y,height:se,glyphMarginLeft:He,glyphMarginWidth:We,lineNumbersLeft:Ve,lineNumbersWidth:Ke,decorationsLeft:Ue,decorationsWidth:ze,contentLeft:Ze,contentWidth:Je,minimap:Ge,viewportColumn:et,isWordWrapMinified:Qe,isViewportWrapping:Ye,wrappingColumn:Xe,verticalScrollbarWidth:Re,horizontalScrollbarHeight:Oe,overviewRuler:{top:at,width:Re,height:se-2*at,right:0}}}}e.EditorLayoutInfoComputer=O;class A extends v{constructor(){const K={enabled:!0};super(54,"lightbulb",K,{"editor.lightbulb.enabled":{type:"boolean",default:K.enabled,description:_.localize(39,null)}})}validate(K){return!K||typeof K!="object"?this.defaultValue:{enabled:s(K.enabled,this.defaultValue.enabled)}}}class F extends v{constructor(){const K={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(124,"inlayHints",K,{"editor.inlayHints.enabled":{type:"boolean",default:K.enabled,description:_.localize(40,null)},"editor.inlayHints.fontSize":{type:"number",default:K.fontSize,markdownDescription:_.localize(41,null)},"editor.inlayHints.fontFamily":{type:"string",default:K.fontFamily,description:_.localize(42,null)}})}validate(K){if(!K||typeof K!="object")return this.defaultValue;const re=K;return{enabled:s(re.enabled,this.defaultValue.enabled),fontSize:a.clampedInt(re.fontSize,this.defaultValue.fontSize,0,100),fontFamily:u.string(re.fontFamily,this.defaultValue.fontFamily)}}}class E extends c{constructor(){super(56,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,K=>c.clamp(K,0,150),{markdownDescription:_.localize(43,null)})}compute(K,re,Y){return K.fontInfo.lineHeight}}class W extends v{constructor(){const K={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(62,"minimap",K,{"editor.minimap.enabled":{type:"boolean",default:K.enabled,description:_.localize(44,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[_.localize(45,null),_.localize(46,null),_.localize(47,null)],default:K.size,description:_.localize(48,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:K.side,description:_.localize(49,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:K.showSlider,description:_.localize(50,null)},"editor.minimap.scale":{type:"number",default:K.scale,minimum:1,maximum:3,enum:[1,2,3],description:_.localize(51,null)},"editor.minimap.renderCharacters":{type:"boolean",default:K.renderCharacters,description:_.localize(52,null)},"editor.minimap.maxColumn":{type:"number",default:K.maxColumn,description:_.localize(53,null)}})}validate(K){if(!K||typeof K!="object")return this.defaultValue;const re=K;return{enabled:s(re.enabled,this.defaultValue.enabled),size:r(re.size,this.defaultValue.size,["proportional","fill","fit"]),side:r(re.side,this.defaultValue.side,["right","left"]),showSlider:r(re.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:s(re.renderCharacters,this.defaultValue.renderCharacters),scale:a.clampedInt(re.scale,1,1,3),maxColumn:a.clampedInt(re.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function V(he){return he==="ctrlCmd"?k.isMacintosh?"metaKey":"ctrlKey":"altKey"}class U extends v{constructor(){super(72,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:_.localize(54,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:_.localize(55,null)}})}validate(K){if(!K||typeof K!="object")return this.defaultValue;const re=K;return{top:a.clampedInt(re.top,0,0,1e3),bottom:a.clampedInt(re.bottom,0,0,1e3)}}}class q extends v{constructor(){const K={enabled:!0,cycle:!1};super(73,"parameterHints",K,{"editor.parameterHints.enabled":{type:"boolean",default:K.enabled,description:_.localize(56,null)},"editor.parameterHints.cycle":{type:"boolean",default:K.cycle,description:_.localize(57,null)}})}validate(K){if(!K||typeof K!="object")return this.defaultValue;const re=K;return{enabled:s(re.enabled,this.defaultValue.enabled),cycle:s(re.cycle,this.defaultValue.cycle)}}}class j extends i{constructor(){super(126)}compute(K,re,Y){return K.pixelRatio}}class te extends v{constructor(){const K={other:!0,comments:!1,strings:!1};super(76,"quickSuggestions",K,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:K.strings,description:_.localize(58,null)},comments:{type:"boolean",default:K.comments,description:_.localize(59,null)},other:{type:"boolean",default:K.other,description:_.localize(60,null)}}}],default:K,description:_.localize(61,null)});this.defaultValue=K}validate(K){if(typeof K=="boolean")return K;if(K&&typeof K=="object"){const re=K,Y={other:s(re.other,this.defaultValue.other),comments:s(re.comments,this.defaultValue.comments),strings:s(re.strings,this.defaultValue.strings)};return Y.other&&Y.comments&&Y.strings?!0:!Y.other&&!Y.comments&&!Y.strings?!1:Y}return this.defaultValue}}class ae extends v{constructor(){super(57,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[_.localize(62,null),_.localize(63,null),_.localize(64,null),_.localize(65,null)],default:"on",description:_.localize(66,null)})}validate(K){let re=this.defaultValue.renderType,Y=this.defaultValue.renderFn;return typeof K!="undefined"&&(typeof K=="function"?(re=4,Y=K):K==="interval"?re=3:K==="relative"?re=2:K==="on"?re=1:re=0),{renderType:re,renderFn:Y}}}function de(he){const K=he.get(85);return K==="editable"?he.get(78):K!=="on"}e.filterValidationDecorations=de;class ue extends v{constructor(){const K=[],re={type:"number",description:_.localize(67,null)};super(89,"rulers",K,{type:"array",items:{anyOf:[re,{type:["object"],properties:{column:re,color:{type:"string",description:_.localize(68,null),format:"color-hex"}}}]},default:K,description:_.localize(69,null)})}validate(K){if(Array.isArray(K)){let re=[];for(let Y of K)if(typeof Y=="number")re.push({column:a.clampedInt(Y,0,0,1e4),color:null});else if(Y&&typeof Y=="object"){const se=Y;re.push({column:a.clampedInt(se.column,0,0,1e4),color:se.color})}return re.sort((Y,se)=>Y.column-se.column),re}return this.defaultValue}}function X(he,K){if(typeof he!="string")return K;switch(he){case"hidden":return 2;case"visible":return 3;default:return 1}}class B extends v{constructor(){const K={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(90,"scrollbar",K,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[_.localize(70,null),_.localize(71,null),_.localize(72,null)],default:"auto",description:_.localize(73,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[_.localize(74,null),_.localize(75,null),_.localize(76,null)],default:"auto",description:_.localize(77,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:K.verticalScrollbarSize,description:_.localize(78,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:K.horizontalScrollbarSize,description:_.localize(79,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:K.scrollByPage,description:_.localize(80,null)}})}validate(K){if(!K||typeof K!="object")return this.defaultValue;const re=K,Y=a.clampedInt(re.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),se=a.clampedInt(re.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:a.clampedInt(re.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:X(re.vertical,this.defaultValue.vertical),horizontal:X(re.horizontal,this.defaultValue.horizontal),useShadows:s(re.useShadows,this.defaultValue.useShadows),verticalHasArrows:s(re.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:s(re.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:s(re.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:s(re.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Y,horizontalSliderSize:a.clampedInt(re.horizontalSliderSize,Y,0,1e3),verticalScrollbarSize:se,verticalSliderSize:a.clampedInt(re.verticalSliderSize,se,0,1e3),scrollByPage:s(re.scrollByPage,this.defaultValue.scrollByPage)}}}class Z extends v{constructor(){const K={enabled:!1,mode:"subwordDiff"};super(52,"inlineSuggest",K,{"editor.inlineSuggest.enabled":{type:"boolean",default:K.enabled,description:_.localize(81,null)},"editor.inlineSuggest.mode":{type:"string",enum:["prefix","subwordDiff"],enumDescriptions:[_.localize(82,null),_.localize(83,null)],default:K.mode,description:_.localize(84,null)}})}validate(K){if(!K||typeof K!="object")return this.defaultValue;const re=K;return{enabled:s(re.enabled,this.defaultValue.enabled),mode:r(re.mode,this.defaultValue.mode,["prefix","subwordDiff"])}}}class H extends v{constructor(){const K={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"prefix",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(104,"suggest",K,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[_.localize(85,null),_.localize(86,null)],default:K.insertMode,description:_.localize(87,null)},"editor.suggest.filterGraceful":{type:"boolean",default:K.filterGraceful,description:_.localize(88,null)},"editor.suggest.localityBonus":{type:"boolean",default:K.localityBonus,description:_.localize(89,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:K.shareSuggestSelections,markdownDescription:_.localize(90,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:K.snippetsPreventQuickSuggestions,description:_.localize(91,null)},"editor.suggest.showIcons":{type:"boolean",default:K.showIcons,description:_.localize(92,null)},"editor.suggest.showStatusBar":{type:"boolean",default:K.showStatusBar,description:_.localize(93,null)},"editor.suggest.preview":{type:"boolean",default:K.preview,description:_.localize(94,null)},"editor.suggest.previewMode":{type:"string",enum:["prefix","subwordDiff"],enumDescriptions:[_.localize(95,null),_.localize(96,null)],default:K.previewMode,description:_.localize(97,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:K.showInlineDetails,description:_.localize(98,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:_.localize(99,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:_.localize(100,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:_.localize(101,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:_.localize(102,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:_.localize(103,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:_.localize(104,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:_.localize(105,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:_.localize(106,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:_.localize(107,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:_.localize(108,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:_.localize(109,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:_.localize(110,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:_.localize(111,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:_.localize(112,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:_.localize(113,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:_.localize(114,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:_.localize(115,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:_.localize(116,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:_.localize(117,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:_.localize(118,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:_.localize(119,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:_.localize(120,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:_.localize(121,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:_.localize(122,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:_.localize(123,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:_.localize(124,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:_.localize(125,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:_.localize(126,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:_.localize(127,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:_.localize(128,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:_.localize(129,null)}})}validate(K){if(!K||typeof K!="object")return this.defaultValue;const re=K;return{insertMode:r(re.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:s(re.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:s(re.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:s(re.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:s(re.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:s(re.showIcons,this.defaultValue.showIcons),showStatusBar:s(re.showStatusBar,this.defaultValue.showStatusBar),preview:s(re.preview,this.defaultValue.preview),previewMode:r(re.previewMode,this.defaultValue.previewMode,["prefix","subwordDiff"]),showInlineDetails:s(re.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:s(re.showMethods,this.defaultValue.showMethods),showFunctions:s(re.showFunctions,this.defaultValue.showFunctions),showConstructors:s(re.showConstructors,this.defaultValue.showConstructors),showDeprecated:s(re.showDeprecated,this.defaultValue.showDeprecated),showFields:s(re.showFields,this.defaultValue.showFields),showVariables:s(re.showVariables,this.defaultValue.showVariables),showClasses:s(re.showClasses,this.defaultValue.showClasses),showStructs:s(re.showStructs,this.defaultValue.showStructs),showInterfaces:s(re.showInterfaces,this.defaultValue.showInterfaces),showModules:s(re.showModules,this.defaultValue.showModules),showProperties:s(re.showProperties,this.defaultValue.showProperties),showEvents:s(re.showEvents,this.defaultValue.showEvents),showOperators:s(re.showOperators,this.defaultValue.showOperators),showUnits:s(re.showUnits,this.defaultValue.showUnits),showValues:s(re.showValues,this.defaultValue.showValues),showConstants:s(re.showConstants,this.defaultValue.showConstants),showEnums:s(re.showEnums,this.defaultValue.showEnums),showEnumMembers:s(re.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:s(re.showKeywords,this.defaultValue.showKeywords),showWords:s(re.showWords,this.defaultValue.showWords),showColors:s(re.showColors,this.defaultValue.showColors),showFiles:s(re.showFiles,this.defaultValue.showFiles),showReferences:s(re.showReferences,this.defaultValue.showReferences),showFolders:s(re.showFolders,this.defaultValue.showFolders),showTypeParameters:s(re.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:s(re.showSnippets,this.defaultValue.showSnippets),showUsers:s(re.showUsers,this.defaultValue.showUsers),showIssues:s(re.showIssues,this.defaultValue.showIssues)}}}class z extends v{constructor(){super(100,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:_.localize(130,null),default:!0,type:"boolean"}})}validate(K){return!K||typeof K!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:s(K.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ee extends i{constructor(){super(127,[78])}compute(K,re,Y){return re.get(78)?!0:K.tabFocusMode}}function x(he){switch(he){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class G extends i{constructor(){super(129,[128])}compute(K,re,Y){const se=re.get(128);return{isDominatedByLongLines:K.isDominatedByLongLines,isWordWrapMinified:se.isWordWrapMinified,isViewportWrapping:se.isViewportWrapping,wrappingColumn:se.wrappingColumn}}}const Q="Consolas, 'Courier New', monospace",J="Menlo, Monaco, 'Courier New', monospace",le="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:k.isMacintosh?J:k.isLinux?le:Q,fontWeight:"normal",fontSize:k.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function oe(he){return e.editorOptionsRegistry[he.id]=he,he}e.EditorOptions={acceptSuggestionOnCommitCharacter:oe(new o(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:_.localize(131,null)})),acceptSuggestionOnEnter:oe(new n(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",_.localize(132,null),""],markdownDescription:_.localize(133,null)})),accessibilitySupport:oe(new d),accessibilityPageSize:oe(new a(3,"accessibilityPageSize",10,1,1073741824,{description:_.localize(134,null)})),ariaLabel:oe(new u(4,"ariaLabel",_.localize(135,null))),autoClosingBrackets:oe(new n(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.localize(136,null),_.localize(137,null),""],description:_.localize(138,null)})),autoClosingDelete:oe(new n(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",_.localize(139,null),""],description:_.localize(140,null)})),autoClosingOvertype:oe(new n(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",_.localize(141,null),""],description:_.localize(142,null)})),autoClosingQuotes:oe(new n(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.localize(143,null),_.localize(144,null),""],description:_.localize(145,null)})),autoIndent:oe(new l(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],t,{enumDescriptions:[_.localize(146,null),_.localize(147,null),_.localize(148,null),_.localize(149,null),_.localize(150,null)],description:_.localize(151,null)})),automaticLayout:oe(new o(10,"automaticLayout",!1)),autoSurround:oe(new n(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[_.localize(152,null),_.localize(153,null),_.localize(154,null),""],description:_.localize(155,null)})),stickyTabStops:oe(new o(102,"stickyTabStops",!1,{description:_.localize(156,null)})),codeLens:oe(new o(12,"codeLens",!0,{description:_.localize(157,null)})),codeLensFontFamily:oe(new u(13,"codeLensFontFamily","",{description:_.localize(158,null)})),codeLensFontSize:oe(new a(14,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:_.localize(159,null)})),colorDecorators:oe(new o(15,"colorDecorators",!0,{description:_.localize(160,null)})),columnSelection:oe(new o(16,"columnSelection",!1,{description:_.localize(161,null)})),comments:oe(new h),contextmenu:oe(new o(18,"contextmenu",!0)),copyWithSyntaxHighlighting:oe(new o(19,"copyWithSyntaxHighlighting",!0,{description:_.localize(162,null)})),cursorBlinking:oe(new l(20,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],p,{description:_.localize(163,null)})),cursorSmoothCaretAnimation:oe(new o(21,"cursorSmoothCaretAnimation",!1,{description:_.localize(164,null)})),cursorStyle:oe(new l(22,"cursorStyle",w.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],b,{description:_.localize(165,null)})),cursorSurroundingLines:oe(new a(23,"cursorSurroundingLines",0,0,1073741824,{description:_.localize(166,null)})),cursorSurroundingLinesStyle:oe(new n(24,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[_.localize(167,null),_.localize(168,null)],description:_.localize(169,null)})),cursorWidth:oe(new a(25,"cursorWidth",0,0,1073741824,{markdownDescription:_.localize(170,null)})),disableLayerHinting:oe(new o(26,"disableLayerHinting",!1)),disableMonospaceOptimizations:oe(new o(27,"disableMonospaceOptimizations",!1)),domReadOnly:oe(new o(28,"domReadOnly",!1)),dragAndDrop:oe(new o(29,"dragAndDrop",!0,{description:_.localize(171,null)})),emptySelectionClipboard:oe(new f),extraEditorClassName:oe(new u(31,"extraEditorClassName","")),fastScrollSensitivity:oe(new c(32,"fastScrollSensitivity",5,he=>he<=0?5:he,{markdownDescription:_.localize(172,null)})),find:oe(new y),fixedOverflowWidgets:oe(new o(34,"fixedOverflowWidgets",!1)),folding:oe(new o(35,"folding",!0,{description:_.localize(173,null)})),foldingStrategy:oe(new n(36,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[_.localize(174,null),_.localize(175,null)],description:_.localize(176,null)})),foldingHighlight:oe(new o(37,"foldingHighlight",!0,{description:_.localize(177,null)})),unfoldOnClickAfterEndOfLine:oe(new o(38,"unfoldOnClickAfterEndOfLine",!1,{description:_.localize(178,null)})),fontFamily:oe(new u(39,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:_.localize(179,null)})),fontInfo:oe(new N),fontLigatures2:oe(new I),fontSize:oe(new D),fontWeight:oe(new T),formatOnPaste:oe(new o(44,"formatOnPaste",!1,{description:_.localize(180,null)})),formatOnType:oe(new o(45,"formatOnType",!1,{description:_.localize(181,null)})),glyphMargin:oe(new o(46,"glyphMargin",!0,{description:_.localize(182,null)})),gotoLocation:oe(new P),hideCursorInOverviewRuler:oe(new o(48,"hideCursorInOverviewRuler",!1,{description:_.localize(183,null)})),highlightActiveIndentGuide:oe(new o(49,"highlightActiveIndentGuide",!0,{description:_.localize(184,null)})),hover:oe(new R),inDiffEditor:oe(new o(51,"inDiffEditor",!1)),letterSpacing:oe(new c(53,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,he=>c.clamp(he,-5,20),{description:_.localize(185,null)})),lightbulb:oe(new A),lineDecorationsWidth:oe(new C(55,"lineDecorationsWidth",10)),lineHeight:oe(new E),lineNumbers:oe(new ae),lineNumbersMinChars:oe(new a(58,"lineNumbersMinChars",5,1,300)),linkedEditing:oe(new o(59,"linkedEditing",!1,{description:_.localize(186,null)})),links:oe(new o(60,"links",!0,{description:_.localize(187,null)})),matchBrackets:oe(new n(61,"matchBrackets","always",["always","near","never"],{description:_.localize(188,null)})),minimap:oe(new W),mouseStyle:oe(new n(63,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:oe(new c(64,"mouseWheelScrollSensitivity",1,he=>he===0?1:he,{markdownDescription:_.localize(189,null)})),mouseWheelZoom:oe(new o(65,"mouseWheelZoom",!1,{markdownDescription:_.localize(190,null)})),multiCursorMergeOverlapping:oe(new o(66,"multiCursorMergeOverlapping",!0,{description:_.localize(191,null)})),multiCursorModifier:oe(new l(67,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],V,{markdownEnumDescriptions:[_.localize(192,null),_.localize(193,null)],markdownDescription:_.localize(194,null)})),multiCursorPaste:oe(new n(68,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[_.localize(195,null),_.localize(196,null)],markdownDescription:_.localize(197,null)})),occurrencesHighlight:oe(new o(69,"occurrencesHighlight",!0,{description:_.localize(198,null)})),overviewRulerBorder:oe(new o(70,"overviewRulerBorder",!0,{description:_.localize(199,null)})),overviewRulerLanes:oe(new a(71,"overviewRulerLanes",3,0,3)),padding:oe(new U),parameterHints:oe(new q),peekWidgetDefaultFocus:oe(new n(74,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[_.localize(200,null),_.localize(201,null)],description:_.localize(202,null)})),definitionLinkOpensInPeek:oe(new o(75,"definitionLinkOpensInPeek",!1,{description:_.localize(203,null)})),quickSuggestions:oe(new te),quickSuggestionsDelay:oe(new a(77,"quickSuggestionsDelay",10,0,1073741824,{description:_.localize(204,null)})),readOnly:oe(new o(78,"readOnly",!1)),renameOnType:oe(new o(79,"renameOnType",!1,{description:_.localize(205,null),markdownDeprecationMessage:_.localize(206,null)})),renderControlCharacters:oe(new o(80,"renderControlCharacters",!1,{description:_.localize(207,null)})),renderIndentGuides:oe(new o(81,"renderIndentGuides",!0,{description:_.localize(208,null)})),renderFinalNewline:oe(new o(82,"renderFinalNewline",!0,{description:_.localize(209,null)})),renderLineHighlight:oe(new n(83,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",_.localize(210,null)],description:_.localize(211,null)})),renderLineHighlightOnlyWhenFocus:oe(new o(84,"renderLineHighlightOnlyWhenFocus",!1,{description:_.localize(212,null)})),renderValidationDecorations:oe(new n(85,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:oe(new n(86,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",_.localize(213,null),_.localize(214,null),_.localize(215,null),""],description:_.localize(216,null)})),revealHorizontalRightPadding:oe(new a(87,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:oe(new o(88,"roundedSelection",!0,{description:_.localize(217,null)})),rulers:oe(new ue),scrollbar:oe(new B),scrollBeyondLastColumn:oe(new a(91,"scrollBeyondLastColumn",5,0,1073741824,{description:_.localize(218,null)})),scrollBeyondLastLine:oe(new o(92,"scrollBeyondLastLine",!0,{description:_.localize(219,null)})),scrollPredominantAxis:oe(new o(93,"scrollPredominantAxis",!0,{description:_.localize(220,null)})),selectionClipboard:oe(new o(94,"selectionClipboard",!0,{description:_.localize(221,null),included:k.isLinux})),selectionHighlight:oe(new o(95,"selectionHighlight",!0,{description:_.localize(222,null)})),selectOnLineNumbers:oe(new o(96,"selectOnLineNumbers",!0)),showFoldingControls:oe(new n(97,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[_.localize(223,null),_.localize(224,null)],description:_.localize(225,null)})),showUnused:oe(new o(98,"showUnused",!0,{description:_.localize(226,null)})),showDeprecated:oe(new o(123,"showDeprecated",!0,{description:_.localize(227,null)})),inlayHints:oe(new F),snippetSuggestions:oe(new n(99,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[_.localize(228,null),_.localize(229,null),_.localize(230,null),_.localize(231,null)],description:_.localize(232,null)})),smartSelect:oe(new z),smoothScrolling:oe(new o(101,"smoothScrolling",!1,{description:_.localize(233,null)})),stopRenderingLineAfter:oe(new a(103,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:oe(new H),inlineSuggest:oe(new Z),suggestFontSize:oe(new a(105,"suggestFontSize",0,0,1e3,{markdownDescription:_.localize(234,null)})),suggestLineHeight:oe(new a(106,"suggestLineHeight",0,0,1e3,{markdownDescription:_.localize(235,null)})),suggestOnTriggerCharacters:oe(new o(107,"suggestOnTriggerCharacters",!0,{description:_.localize(236,null)})),suggestSelection:oe(new n(108,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[_.localize(237,null),_.localize(238,null),_.localize(239,null)],description:_.localize(240,null)})),tabCompletion:oe(new n(109,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[_.localize(241,null),_.localize(242,null),_.localize(243,null)],description:_.localize(244,null)})),tabIndex:oe(new a(110,"tabIndex",0,-1,1073741824)),unusualLineTerminators:oe(new n(111,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[_.localize(245,null),_.localize(246,null),_.localize(247,null)],description:_.localize(248,null)})),useShadowDOM:oe(new o(112,"useShadowDOM",!0)),useTabStops:oe(new o(113,"useTabStops",!0,{description:_.localize(249,null)})),wordSeparators:oe(new u(114,"wordSeparators",M.USUAL_WORD_SEPARATORS,{description:_.localize(250,null)})),wordWrap:oe(new n(115,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[_.localize(251,null),_.localize(252,null),_.localize(253,null),_.localize(254,null)],description:_.localize(255,null)})),wordWrapBreakAfterCharacters:oe(new u(116,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:oe(new u(117,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:oe(new a(118,"wordWrapColumn",80,1,1073741824,{markdownDescription:_.localize(256,null)})),wordWrapOverride1:oe(new n(119,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:oe(new n(120,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:oe(new l(121,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],x,{enumDescriptions:[_.localize(257,null),_.localize(258,null),_.localize(259,null),_.localize(260,null)],description:_.localize(261,null)})),wrappingStrategy:oe(new n(122,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[_.localize(262,null),_.localize(263,null)],description:_.localize(264,null)})),editorClassName:oe(new g),pixelRatio:oe(new j),tabFocusMode:oe(new ee),layoutInfo:oe(new O),wrappingInfo:oe(new G)}}),define(ie[465],ne([0,1,13,3,62,35]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0;class S{constructor(v,i,C,s,o){this.editorId=v,this.model=i,this.configuration=C,this._linesCollection=s,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(v){const i=v.id;let C=this._decorationsCache[i];if(!C){const s=v.range,o=v.options;let a;if(o.isWholeLine){const c=this._coordinatesConverter.convertModelPositionToViewPosition(new _.Position(s.startLineNumber,1)),u=this._coordinatesConverter.convertModelPositionToViewPosition(new _.Position(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber)));a=new k.Range(c.lineNumber,c.column,u.lineNumber,u.column)}else a=this._coordinatesConverter.convertModelRangeToViewRange(s);C=new M.ViewModelDecoration(a,o),this._decorationsCache[i]=C}return C}getDecorationsViewportData(v){let i=this._cachedModelDecorationsResolver!==null;return i=i&&v.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(v),this._cachedModelDecorationsResolverViewRange=v),this._cachedModelDecorationsResolver}_getDecorationsViewportData(v){const i=this._linesCollection.getDecorationsInRange(v,this.editorId,L.filterValidationDecorations(this.configuration.options)),C=v.startLineNumber,s=v.endLineNumber;let o=[],a=0,c=[];for(let u=C;u<=s;u++)c[u-C]=[];for(let u=0,r=i.length;u<r;u++){let n=i[u],l=n.options,t=this._getOrCreateViewModelDecoration(n),d=t.range;if(o[a++]=t,l.inlineClassName){let h=new M.InlineDecoration(d,l.inlineClassName,l.inlineClassNameAffectsLetterSpacing?3:0),p=Math.max(C,d.startLineNumber),w=Math.min(s,d.endLineNumber);for(let b=p;b<=w;b++)c[b-C].push(h)}if(l.beforeContentClassName&&C<=d.startLineNumber&&d.startLineNumber<=s){let h=new M.InlineDecoration(new k.Range(d.startLineNumber,d.startColumn,d.startLineNumber,d.startColumn),l.beforeContentClassName,1);c[d.startLineNumber-C].push(h)}if(l.afterContentClassName&&C<=d.endLineNumber&&d.endLineNumber<=s){let h=new M.InlineDecoration(new k.Range(d.endLineNumber,d.endColumn,d.endLineNumber,d.endColumn),l.afterContentClassName,2);c[d.endLineNumber-C].push(h)}}return{decorations:o,inlineDecorations:c}}}e.ViewModelDecorations=S}),define(ie[466],ne([4,5]),function($,e){return $.create("vs/editor/common/editorContextKeys",e)}),define(ie[467],ne([4,5]),function($,e){return $.create("vs/editor/common/model/editStack",e)}),define(ie[240],ne([0,1,467,12,21,24,220,102,43]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function i(r){return r.toString()}class C{constructor(n,l,t,d,h,p,w){this.beforeVersionId=n,this.afterVersionId=l,this.beforeEOL=t,this.afterEOL=d,this.beforeCursorState=h,this.afterCursorState=p,this.changes=w}static create(n,l){const t=n.getAlternativeVersionId(),d=a(n);return new C(t,t,d,d,l,l,[])}append(n,l,t,d,h){l.length>0&&(this.changes=S.compressConsecutiveTextChanges(this.changes,l)),this.afterEOL=t,this.afterVersionId=d,this.afterCursorState=h}static _writeSelectionsSize(n){return 4+4*4*(n?n.length:0)}static _writeSelections(n,l,t){if(m.writeUInt32BE(n,l?l.length:0,t),t+=4,l)for(const d of l)m.writeUInt32BE(n,d.selectionStartLineNumber,t),t+=4,m.writeUInt32BE(n,d.selectionStartColumn,t),t+=4,m.writeUInt32BE(n,d.positionLineNumber,t),t+=4,m.writeUInt32BE(n,d.positionColumn,t),t+=4;return t}static _readSelections(n,l,t){const d=m.readUInt32BE(n,l);l+=4;for(let h=0;h<d;h++){const p=m.readUInt32BE(n,l);l+=4;const w=m.readUInt32BE(n,l);l+=4;const b=m.readUInt32BE(n,l);l+=4;const g=m.readUInt32BE(n,l);l+=4,t.push(new M.Selection(p,w,b,g))}return l}serialize(){let n=4+4+1+1+C._writeSelectionsSize(this.beforeCursorState)+C._writeSelectionsSize(this.afterCursorState)+4;for(const d of this.changes)n+=d.writeSize();const l=new Uint8Array(n);let t=0;m.writeUInt32BE(l,this.beforeVersionId,t),t+=4,m.writeUInt32BE(l,this.afterVersionId,t),t+=4,m.writeUInt8(l,this.beforeEOL,t),t+=1,m.writeUInt8(l,this.afterEOL,t),t+=1,t=C._writeSelections(l,this.beforeCursorState,t),t=C._writeSelections(l,this.afterCursorState,t),m.writeUInt32BE(l,this.changes.length,t),t+=4;for(const d of this.changes)t=d.write(l,t);return l.buffer}static deserialize(n){const l=new Uint8Array(n);let t=0;const d=m.readUInt32BE(l,t);t+=4;const h=m.readUInt32BE(l,t);t+=4;const p=m.readUInt8(l,t);t+=1;const w=m.readUInt8(l,t);t+=1;const b=[];t=C._readSelections(l,t,b);const g=[];t=C._readSelections(l,t,g);const f=m.readUInt32BE(l,t);t+=4;const y=[];for(let I=0;I<f;I++)t=S.TextChange.read(l,t,y);return new C(d,h,p,w,b,g,y)}}e.SingleModelEditStackData=C;class s{constructor(n,l){this.model=n,this._data=C.create(n,l)}get type(){return 0}get resource(){return L.URI.isUri(this.model)?this.model:this.model.uri}get label(){return _.localize(0,null)}toString(){return(this._data instanceof C?this._data:C.deserialize(this._data)).changes.map(l=>l.toString()).join(", ")}matchesResource(n){return(L.URI.isUri(this.model)?this.model:this.model.uri).toString()===n.toString()}setModel(n){this.model=n}canAppend(n){return this.model===n&&this._data instanceof C}append(n,l,t,d,h){this._data instanceof C&&this._data.append(n,l,t,d,h)}close(){this._data instanceof C&&(this._data=this._data.serialize())}open(){this._data instanceof C||(this._data=C.deserialize(this._data))}undo(){if(L.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const n=C.deserialize(this._data);this.model._applyUndo(n.changes,n.beforeEOL,n.beforeVersionId,n.beforeCursorState)}redo(){if(L.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const n=C.deserialize(this._data);this.model._applyRedo(n.changes,n.afterEOL,n.afterVersionId,n.afterCursorState)}heapSize(){return this._data instanceof C&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=s;class o{constructor(n,l){this.type=1,this.label=n,this._isOpen=!0,this._editStackElementsArr=l.slice(0),this._editStackElementsMap=new Map;for(const t of this._editStackElementsArr){const d=i(t.resource);this._editStackElementsMap.set(d,t)}this._delegate=null}get resources(){return this._editStackElementsArr.map(n=>n.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(n){const l=i(n);return this._editStackElementsMap.has(l)}setModel(n){const l=i(L.URI.isUri(n)?n:n.uri);this._editStackElementsMap.has(l)&&this._editStackElementsMap.get(l).setModel(n)}canAppend(n){if(!this._isOpen)return!1;const l=i(n.uri);return this._editStackElementsMap.has(l)?this._editStackElementsMap.get(l).canAppend(n):!1}append(n,l,t,d,h){const p=i(n.uri);this._editStackElementsMap.get(p).append(n,l,t,d,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const n of this._editStackElementsArr)n.undo()}redo(){for(const n of this._editStackElementsArr)n.redo()}heapSize(n){const l=i(n);return this._editStackElementsMap.has(l)?this._editStackElementsMap.get(l).heapSize():0}split(){return this._editStackElementsArr}toString(){let n=[];for(const l of this._editStackElementsArr)n.push(`${v.basename(l.resource)}: ${l}`);return`{${n.join(", ")}}`}}e.MultiModelEditStackElement=o;function a(r){return r.getEOL()===`
`?0:1}function c(r){return r?r instanceof s||r instanceof o:!1}e.isEditStackElement=c;class u{constructor(n,l){this._model=n,this._undoRedoService=l}pushStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.close()}popStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(n){const l=this._undoRedoService.getLastElement(this._model.uri);if(c(l)&&l.canAppend(this._model))return l;const t=new s(this._model,n);return this._undoRedoService.pushElement(t),t}pushEOL(n){const l=this._getOrCreateEditStackElement(null);this._model.setEOL(n),l.append(this._model,[],a(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(n,l,t){const d=this._getOrCreateEditStackElement(n),h=this._model.applyEdits(l,!0),p=u._computeCursorState(t,h),w=h.map((b,g)=>({index:g,textChange:b.textChange}));return w.sort((b,g)=>b.textChange.oldPosition===g.textChange.oldPosition?b.index-g.index:b.textChange.oldPosition-g.textChange.oldPosition),d.append(this._model,w.map(b=>b.textChange),a(this._model),this._model.getAlternativeVersionId(),p),p}static _computeCursorState(n,l){try{return n?n(l):null}catch(t){return k.onUnexpectedError(t),null}}}e.EditStack=u}),define(ie[468],ne([4,5]),function($,e){return $.create("vs/editor/common/modes/modesRegistry",e)}),define(ie[469],ne([4,5]),function($,e){return $.create("vs/editor/common/standaloneStrings",e)}),define(ie[63],ne([0,1,469]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var k;(function(o){o.noSelection=_.localize(0,null),o.singleSelectionRange=_.localize(1,null),o.singleSelection=_.localize(2,null),o.multiSelectionRange=_.localize(3,null),o.multiSelection=_.localize(4,null),o.emergencyConfOn=_.localize(5,null),o.openingDocs=_.localize(6,null),o.readonlyDiffEditor=_.localize(7,null),o.editableDiffEditor=_.localize(8,null),o.readonlyEditor=_.localize(9,null),o.editableEditor=_.localize(10,null),o.changeConfigToOnMac=_.localize(11,null),o.changeConfigToOnWinLinux=_.localize(12,null),o.auto_on=_.localize(13,null),o.auto_off=_.localize(14,null),o.tabFocusModeOnMsg=_.localize(15,null),o.tabFocusModeOnMsgNoKb=_.localize(16,null),o.tabFocusModeOffMsg=_.localize(17,null),o.tabFocusModeOffMsgNoKb=_.localize(18,null),o.openDocMac=_.localize(19,null),o.openDocWinLinux=_.localize(20,null),o.outroMsg=_.localize(21,null),o.showAccessibilityHelpAction=_.localize(22,null)})(k=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var M;(function(o){o.inspectTokensAction=_.localize(23,null)})(M=e.InspectTokensNLS||(e.InspectTokensNLS={}));var L;(function(o){o.gotoLineActionLabel=_.localize(24,null)})(L=e.GoToLineNLS||(e.GoToLineNLS={}));var S;(function(o){o.helpQuickAccessActionLabel=_.localize(25,null)})(S=e.QuickHelpNLS||(e.QuickHelpNLS={}));var m;(function(o){o.quickCommandActionLabel=_.localize(26,null),o.quickCommandHelp=_.localize(27,null)})(m=e.QuickCommandNLS||(e.QuickCommandNLS={}));var v;(function(o){o.quickOutlineActionLabel=_.localize(28,null),o.quickOutlineByCategoryActionLabel=_.localize(29,null)})(v=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var i;(function(o){o.editorViewAccessibleLabel=_.localize(30,null),o.accessibilityHelpMessage=_.localize(31,null)})(i=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var C;(function(o){o.toggleHighContrast=_.localize(32,null)})(C=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var s;(function(o){o.bulkEditServiceSummary=_.localize(33,null)})(s=e.SimpleServicesNLS||(e.SimpleServicesNLS={}))}),define(ie[470],ne([4,5]),function($,e){return $.create("vs/editor/common/view/editorColorRegistry",e)}),define(ie[471],ne([4,5]),function($,e){return $.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(ie[472],ne([4,5]),function($,e){return $.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(ie[473],ne([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(ie[474],ne([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/transpose",e)}),define(ie[475],ne([4,5]),function($,e){return $.create("vs/editor/contrib/clipboard/clipboard",e)}),define(ie[476],ne([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(ie[477],ne([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(ie[478],ne([4,5]),function($,e){return $.create("vs/editor/contrib/codelens/codelensController",e)}),define(ie[479],ne([4,5]),function($,e){return $.create("vs/editor/contrib/comment/comment",e)}),define(ie[480],ne([4,5]),function($,e){return $.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(ie[481],ne([4,5]),function($,e){return $.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(ie[482],ne([4,5]),function($,e){return $.create("vs/editor/contrib/find/findController",e)}),define(ie[483],ne([4,5]),function($,e){return $.create("vs/editor/contrib/find/findWidget",e)}),define(ie[484],ne([4,5]),function($,e){return $.create("vs/editor/contrib/folding/folding",e)}),define(ie[485],ne([4,5]),function($,e){return $.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(ie[486],ne([4,5]),function($,e){return $.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(ie[487],ne([4,5]),function($,e){return $.create("vs/editor/contrib/format/format",e)}),define(ie[488],ne([4,5]),function($,e){return $.create("vs/editor/contrib/format/formatActions",e)}),define(ie[489],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoError",e)}),define(ie[490],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(ie[491],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(ie[492],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(ie[493],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(ie[494],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(ie[495],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(ie[496],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(ie[118],ne([0,1,496,6,43,2,8,125,3,50,12]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class s{constructor(r,n,l,t){this.isProviderFirst=r,this.parent=n,this.link=l,this._rangeCallback=t,this.id=m.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var r,n;return(n=(r=this._range)!==null&&r!==void 0?r:this.link.targetSelectionRange)!==null&&n!==void 0?n:this.link.range}set range(r){this._range=r,this._rangeCallback(this)}get ariaMessage(){var r;const n=(r=this.parent.getPreview(this))===null||r===void 0?void 0:r.preview(this.range);return n?_.localize(1,null,M.basename(this.uri),this.range.startLineNumber,this.range.startColumn,n.value):_.localize(0,null,M.basename(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=s;class o{constructor(r){this._modelReference=r}dispose(){this._modelReference.dispose()}preview(r,n=8){const l=this._modelReference.object.textEditorModel;if(!l)return;const{startLineNumber:t,startColumn:d,endLineNumber:h,endColumn:p}=r,w=l.getWordUntilPosition({lineNumber:t,column:d-n}),b=new v.Range(t,w.startColumn,t,d),g=new v.Range(h,p,h,1073741824),f=l.getValueInRange(b).replace(/^\s+/,""),y=l.getValueInRange(r),I=l.getValueInRange(g).replace(/\s+$/,"");return{value:f+y+I,highlight:{start:f.length,end:f.length+y.length}}}}e.FilePreview=o;class a{constructor(r,n){this.parent=r,this.uri=n,this.children=[],this._previews=new i.ResourceMap}dispose(){L.dispose(this._previews.values()),this._previews.clear()}getPreview(r){return this._previews.get(r.uri)}get ariaMessage(){const r=this.children.length;return r===1?_.localize(2,null,M.basename(this.uri),this.uri.fsPath):_.localize(3,null,r,M.basename(this.uri),this.uri.fsPath)}resolve(r){return Ie(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let n of this.children)if(!this._previews.has(n.uri))try{const l=yield r.createModelReference(n.uri);this._previews.set(n.uri,new o(l))}catch(l){C.onUnexpectedError(l)}return this})}}e.FileReferences=a;class c{constructor(r,n){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=r,this._title=n;const[l]=r;r.sort(c._compareReferences);let t;for(let d of r)if((!t||!M.extUri.isEqual(t.uri,d.uri,!0))&&(t=new a(this,d.uri),this.groups.push(t)),t.children.length===0||c._compareReferences(d,t.children[t.children.length-1])!==0){const h=new s(l===d,t,d,p=>this._onDidChangeReferenceRange.fire(p));this.references.push(h),t.children.push(h)}}dispose(){L.dispose(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new c(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?_.localize(4,null):this.references.length===1?_.localize(5,null,this.references[0].uri.fsPath):this.groups.length===1?_.localize(6,null,this.references.length,this.groups[0].uri.fsPath):_.localize(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(r,n){let{parent:l}=r,t=l.children.indexOf(r),d=l.children.length,h=l.parent.groups.length;return h===1||n&&t+1<d||!n&&t>0?(n?t=(t+1)%d:t=(t+d-1)%d,l.children[t]):(t=l.parent.groups.indexOf(l),n?(t=(t+1)%h,l.parent.groups[t].children[0]):(t=(t+h-1)%h,l.parent.groups[t].children[l.parent.groups[t].children.length-1]))}nearestReference(r,n){const l=this.references.map((t,d)=>({idx:d,prefixLen:S.commonPrefixLength(t.uri.toString(),r.toString()),offsetDist:Math.abs(t.range.startLineNumber-n.lineNumber)*100+Math.abs(t.range.startColumn-n.column)})).sort((t,d)=>t.prefixLen>d.prefixLen?-1:t.prefixLen<d.prefixLen?1:t.offsetDist<d.offsetDist?-1:t.offsetDist>d.offsetDist?1:0)[0];if(l)return this.references[l.idx]}referenceAt(r,n){for(const l of this.references)if(l.uri.toString()===r.toString()&&v.Range.containsPosition(l.range,n))return l}firstReference(){for(const r of this.references)if(r.isProviderFirst)return r;return this.references[0]}static _compareReferences(r,n){return M.extUri.compare(r.uri,n.uri)||v.Range.compareRangesUsingStarts(r.range,n.range)}}e.ReferencesModel=c}),define(ie[497],ne([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(ie[498],ne([4,5]),function($,e){return $.create("vs/editor/contrib/hover/hover",e)}),define(ie[499],ne([4,5]),function($,e){return $.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(ie[500],ne([4,5]),function($,e){return $.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(ie[501],ne([4,5]),function($,e){return $.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(ie[502],ne([4,5]),function($,e){return $.create("vs/editor/contrib/indentation/indentation",e)}),define(ie[503],ne([4,5]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/ghostTextController",e)}),define(ie[504],ne([4,5]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant",e)}),define(ie[505],ne([4,5]),function($,e){return $.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(ie[506],ne([4,5]),function($,e){return $.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(ie[507],ne([4,5]),function($,e){return $.create("vs/editor/contrib/links/links",e)}),define(ie[508],ne([4,5]),function($,e){return $.create("vs/editor/contrib/message/messageController",e)}),define(ie[509],ne([4,5]),function($,e){return $.create("vs/editor/contrib/multicursor/multicursor",e)}),define(ie[510],ne([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(ie[511],ne([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(ie[512],ne([4,5]),function($,e){return $.create("vs/editor/contrib/peekView/peekView",e)}),define(ie[513],ne([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(ie[514],ne([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(ie[515],ne([4,5]),function($,e){return $.create("vs/editor/contrib/rename/rename",e)}),define(ie[516],ne([4,5]),function($,e){return $.create("vs/editor/contrib/rename/renameInputField",e)}),define(ie[517],ne([4,5]),function($,e){return $.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(ie[518],ne([4,5]),function($,e){return $.create("vs/editor/contrib/snippet/snippetController2",e)}),define(ie[519],ne([4,5]),function($,e){return $.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(ie[520],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggest",e)}),define(ie[521],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestController",e)}),define(ie[522],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(ie[523],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(ie[524],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(ie[525],ne([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(ie[526],ne([4,5]),function($,e){return $.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(ie[527],ne([4,5]),function($,e){return $.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(ie[528],ne([4,5]),function($,e){return $.create("vs/editor/contrib/tokenization/tokenization",e)}),define(ie[529],ne([4,5]),function($,e){return $.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(ie[530],ne([4,5]),function($,e){return $.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(ie[531],ne([4,5]),function($,e){return $.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(ie[532],ne([4,5]),function($,e){return $.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ie[533],ne([4,5]),function($,e){return $.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ie[534],ne([4,5]),function($,e){return $.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ie[535],ne([4,5]),function($,e){return $.create("vs/platform/contextkey/common/contextkeys",e)}),define(ie[536],ne([4,5]),function($,e){return $.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ie[537],ne([4,5]),function($,e){return $.create("vs/platform/list/browser/listService",e)}),define(ie[538],ne([4,5]),function($,e){return $.create("vs/platform/markers/common/markers",e)}),define(ie[539],ne([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ie[540],ne([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ie[541],ne([4,5]),function($,e){return $.create("vs/platform/theme/common/colorRegistry",e)}),define(ie[542],ne([4,5]),function($,e){return $.create("vs/platform/theme/common/iconRegistry",e)}),define(ie[543],ne([4,5]),function($,e){return $.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ie[544],ne([0,1,7]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;class k{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(L,S){return Ie(this,void 0,void 0,function*(){if(S){this.mapTextToType.set(S,L);return}try{return yield navigator.clipboard.writeText(L)}catch(i){console.error(i)}const m=document.activeElement,v=document.body.appendChild(_.$("textarea",{"aria-hidden":!0}));v.style.height="1px",v.style.width="1px",v.style.position="absolute",v.value=L,v.focus(),v.select(),document.execCommand("copy"),m instanceof HTMLElement&&m.focus(),document.body.removeChild(v)})}readText(L){return Ie(this,void 0,void 0,function*(){if(L)return this.mapTextToType.get(L)||"";try{return yield navigator.clipboard.readText()}catch(S){return console.error(S),""}})}readFindText(){return Ie(this,void 0,void 0,function*(){return this.findText})}writeFindText(L){return Ie(this,void 0,void 0,function*(){this.findText=L})}}e.BrowserClipboardService=k}),define(ie[545],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var _;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(_=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(ie[546],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class _{constructor(M){this.value=M,this._lower=M.toLowerCase()}static toKey(M){return typeof M=="string"?M.toLowerCase():M._lower}}e.ExtensionIdentifier=_}),define(ie[241],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var _;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(_=e.FileKind||(e.FileKind={}))}),define(ie[242],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class _{constructor(M,L=[],S=!1){this.ctor=M,this.staticArguments=L,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=_}),define(ie[74],ne([0,1,242]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const k=[];function M(S,m,v){m instanceof _.SyncDescriptor||(m=new _.SyncDescriptor(m,[],v)),k.push([S,m])}e.registerSingleton=M;function L(){return k}e.getSingletonServiceDescriptors=L}),define(ie[547],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class _{constructor(L){this.incoming=new Map,this.outgoing=new Map,this.data=L}}e.Node=_;class k{constructor(L){this._hashFn=L,this._nodes=new Map}roots(){const L=[];for(let S of this._nodes.values())S.outgoing.size===0&&L.push(S);return L}insertEdge(L,S){const m=this.lookupOrInsertNode(L),v=this.lookupOrInsertNode(S);m.outgoing.set(this._hashFn(S),v),v.incoming.set(this._hashFn(L),m)}removeNode(L){const S=this._hashFn(L);this._nodes.delete(S);for(let m of this._nodes.values())m.outgoing.delete(S),m.incoming.delete(S)}lookupOrInsertNode(L){const S=this._hashFn(L);let m=this._nodes.get(S);return m||(m=new _(L),this._nodes.set(S,m)),m}isEmpty(){return this._nodes.size===0}toString(){let L=[];for(let[S,m]of this._nodes)L.push(`${S}, (incoming)[${[...m.incoming.keys()].join(", ")}], (outgoing)[${[...m.outgoing.keys()].join(",")}]`);return L.join(`
`)}findCycleSlow(){for(let[L,S]of this._nodes){const m=new Set([L]),v=this._findCycle(S,m);if(v)return v}}_findCycle(L,S){for(let[m,v]of L.outgoing){if(S.has(m))return[...S,m].join(" -> ");S.add(m);const i=this._findCycle(v,S);if(i)return i;S.delete(m)}}}e.Graph=k}),define(ie[9],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.createDecorator=e.IInstantiationService=e._util=void 0;var _;(function(S){S.serviceIds=new Map,S.DI_TARGET="$di$target",S.DI_DEPENDENCIES="$di$dependencies";function m(v){return v[S.DI_DEPENDENCIES]||[]}S.getServiceDependencies=m})(_=e._util||(e._util={})),e.IInstantiationService=M("instantiationService");function k(S,m,v,i){m[_.DI_TARGET]===m?m[_.DI_DEPENDENCIES].push({id:S,index:v,optional:i}):(m[_.DI_DEPENDENCIES]=[{id:S,index:v,optional:i}],m[_.DI_TARGET]=m)}function M(S){if(_.serviceIds.has(S))return _.serviceIds.get(S);const m=function(v,i,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(m,v,C,!1)};return m.toString=()=>S,_.serviceIds.set(S,m),m}e.createDecorator=M;function L(S){return function(m,v,i){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");k(S,m,i,!0)}}e.optional=L}),define(ie[138],ne([0,1,9,24,20]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=_.createDecorator("IWorkspaceEditService");function L(C){return M.isObject(C)&&(Boolean(C.newUri)||Boolean(C.oldUri))}function S(C){return M.isObject(C)&&k.URI.isUri(C.resource)&&M.isObject(C.edit)}class m{constructor(s){this.metadata=s}static convert(s){return s.edits.map(o=>{if(S(o))return new v(o.resource,o.edit,o.modelVersionId,o.metadata);if(L(o))return new i(o.oldUri,o.newUri,o.options,o.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=m;class v extends m{constructor(s,o,a,c){super(c);this.resource=s,this.textEdit=o,this.versionId=a}}e.ResourceTextEdit=v;class i extends m{constructor(s,o,a,c){super(c);this.oldResource=s,this.newResource=o,this.options=a}}e.ResourceFileEdit=i}),define(ie[28],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=_.createDecorator("codeEditorService")}),define(ie[75],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=_.createDecorator(e.ID_EDITOR_WORKER_SERVICE)}),define(ie[183],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=_.createDecorator("markerDecorationsService")}),define(ie[57],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=void 0,e.IModeService=_.createDecorator("modeService")}),define(ie[36],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=_.createDecorator("modelService");function k(M){return!M.isTooLargeForSyncing()&&!M.isForSimpleWidget}e.shouldSynchronizeModel=k}),define(ie[139],ne([0,1,6,92,2,50,101,383,36]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function i(o){return typeof o=="string"?!1:Array.isArray(o)?o.every(i):!!o.exclusive}class C{constructor(){this._clock=0,this._entries=[],this._onDidChange=new _.Emitter}get onDidChange(){return this._onDidChange.event}register(a,c){let u={selector:a,provider:c,_score:-1,_time:this._clock++};return this._entries.push(u),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),M.toDisposable(()=>{if(u){let r=this._entries.indexOf(u);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),u=void 0)}})}has(a){return this.all(a).length>0}all(a){if(!a)return[];this._updateScores(a);const c=[];for(let u of this._entries)u._score>0&&c.push(u.provider);return c}ordered(a){const c=[];return this._orderedForEach(a,u=>c.push(u.provider)),c}orderedGroups(a){const c=[];let u,r;return this._orderedForEach(a,n=>{u&&r===n._score?u.push(n.provider):(r=n._score,u=[n.provider],c.push(u))}),c}_orderedForEach(a,c){if(!!a){this._updateScores(a);for(const u of this._entries)u._score>0&&c(u)}}_updateScores(a){let c={uri:a.uri.toString(),language:a.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===c.language&&this._lastCandidate.uri===c.uri)){this._lastCandidate=c;for(let u of this._entries)if(u._score=m.score(u.selector,a.uri,a.getLanguageIdentifier().language,v.shouldSynchronizeModel(a)),i(u.selector)&&u._score>0){for(let r of this._entries)r._score=0;u._score=1e3;break}this._entries.sort(C._compareByScoreAndTime)}}static _compareByScoreAndTime(a,c){return a._score<c._score?1:a._score>c._score?-1:a._time<c._time?1:a._time>c._time?-1:0}}e.LanguageFeatureRegistry=C;class s{constructor(a,c,u=Number.MAX_SAFE_INTEGER){this._registry=a,this.min=c,this.max=u,this._cache=new L.LRUCache(50,.7)}_key(a){return a.id+k.hash(this._registry.all(a))}_clamp(a){return a===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(a*1.3)))}get(a){const c=this._key(a),u=this._cache.get(c);return this._clamp(u==null?void 0:u.value)}update(a,c){const u=this._key(a);let r=this._cache.get(u);return r||(r=new S.MovingAverage,this._cache.set(u,r)),r.update(c),this.get(a)}}e.LanguageFeatureRequestDelays=s}),define(ie[18],ne([0,1,24,3,139,391,27]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlayHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.InlineCompletionsProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlayHintKind=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.completionKindFromString=e.completionKindToCssClass=e.TokenMetadata=e.LanguageIdentifier=void 0;class m{constructor(n,l){this.language=n,this.id=l}}e.LanguageIdentifier=m;class v{static getLanguageId(n){return(n&255)>>>0}static getTokenType(n){return(n&1792)>>>8}static getFontStyle(n){return(n&14336)>>>11}static getForeground(n){return(n&8372224)>>>14}static getBackground(n){return(n&4286578688)>>>23}static getClassNameFromMetadata(n){let l=this.getForeground(n),t="mtk"+l,d=this.getFontStyle(n);return d&1&&(t+=" mtki"),d&2&&(t+=" mtkb"),d&4&&(t+=" mtku"),t}static getInlineStyleFromMetadata(n,l){const t=this.getForeground(n),d=this.getFontStyle(n);let h=`color: ${l[t]};`;return d&1&&(h+="font-style: italic;"),d&2&&(h+="font-weight: bold;"),d&4&&(h+="text-decoration: underline;"),h}}e.TokenMetadata=v,e.completionKindToCssClass=function(){let r=Object.create(null);return r[0]="symbol-method",r[1]="symbol-function",r[2]="symbol-constructor",r[3]="symbol-field",r[4]="symbol-variable",r[5]="symbol-class",r[6]="symbol-struct",r[7]="symbol-interface",r[8]="symbol-module",r[9]="symbol-property",r[10]="symbol-event",r[11]="symbol-operator",r[12]="symbol-unit",r[13]="symbol-value",r[14]="symbol-constant",r[15]="symbol-enum",r[16]="symbol-enum-member",r[17]="symbol-keyword",r[27]="symbol-snippet",r[18]="symbol-text",r[19]="symbol-color",r[20]="symbol-file",r[21]="symbol-reference",r[22]="symbol-customcolor",r[23]="symbol-folder",r[24]="symbol-type-parameter",r[25]="account",r[26]="issues",function(n){const l=r[n];let t=l&&S.iconRegistry.get(l);return t||(console.info("No codicon found for CompletionItemKind "+n),t=S.Codicon.symbolProperty),t.classNames}}(),e.completionKindFromString=function(){let r=Object.create(null);return r.method=0,r.function=1,r.constructor=2,r.field=3,r.variable=4,r.class=5,r.struct=6,r.interface=7,r.module=8,r.property=9,r.event=10,r.operator=11,r.unit=12,r.value=13,r.constant=14,r.enum=15,r["enum-member"]=16,r.enumMember=16,r.keyword=17,r.snippet=27,r.text=18,r.color=19,r.file=20,r.reference=21,r.customcolor=22,r.folder=23,r["type-parameter"]=24,r.typeParameter=24,r.account=25,r.issue=26,function(n,l){let t=r[n];return typeof t=="undefined"&&!l&&(t=9),t}}();var i;(function(r){r[r.Automatic=0]="Automatic",r[r.Explicit=1]="Explicit"})(i=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var C;(function(r){r[r.Invoke=1]="Invoke",r[r.TriggerCharacter=2]="TriggerCharacter",r[r.ContentChange=3]="ContentChange"})(C=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var s;(function(r){r[r.Text=0]="Text",r[r.Read=1]="Read",r[r.Write=2]="Write"})(s=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function o(r){return r&&_.URI.isUri(r.uri)&&k.Range.isIRange(r.range)&&(k.Range.isIRange(r.originSelectionRange)||k.Range.isIRange(r.targetSelectionRange))}e.isLocationLink=o;var a;(function(r){const n=new Map;n.set("file",0),n.set("module",1),n.set("namespace",2),n.set("package",3),n.set("class",4),n.set("method",5),n.set("property",6),n.set("field",7),n.set("constructor",8),n.set("enum",9),n.set("interface",10),n.set("function",11),n.set("variable",12),n.set("constant",13),n.set("string",14),n.set("number",15),n.set("boolean",16),n.set("array",17),n.set("object",18),n.set("key",19),n.set("null",20),n.set("enum-member",21),n.set("struct",22),n.set("event",23),n.set("operator",24),n.set("type-parameter",25);const l=new Map;l.set(0,"file"),l.set(1,"module"),l.set(2,"namespace"),l.set(3,"package"),l.set(4,"class"),l.set(5,"method"),l.set(6,"property"),l.set(7,"field"),l.set(8,"constructor"),l.set(9,"enum"),l.set(10,"interface"),l.set(11,"function"),l.set(12,"variable"),l.set(13,"constant"),l.set(14,"string"),l.set(15,"number"),l.set(16,"boolean"),l.set(17,"array"),l.set(18,"object"),l.set(19,"key"),l.set(20,"null"),l.set(21,"enum-member"),l.set(22,"struct"),l.set(23,"event"),l.set(24,"operator"),l.set(25,"type-parameter");function t(p){return n.get(p)}r.fromString=t;function d(p){return l.get(p)}r.toString=d;function h(p,w){const b=l.get(p);let g=b&&S.iconRegistry.get("symbol-"+b);return g||(console.info("No codicon found for SymbolKind "+p),g=S.Codicon.symbolProperty),`${w?"inline":"block"} ${g.classNames}`}r.toCssClassName=h})(a=e.SymbolKinds||(e.SymbolKinds={}));class c{constructor(n){this.value=n}}e.FoldingRangeKind=c,c.Comment=new c("comment"),c.Imports=new c("imports"),c.Region=new c("region");var u;(function(r){r[r.Other=0]="Other",r[r.Type=1]="Type",r[r.Parameter=2]="Parameter"})(u=e.InlayHintKind||(e.InlayHintKind={})),e.ReferenceProviderRegistry=new M.LanguageFeatureRegistry,e.RenameProviderRegistry=new M.LanguageFeatureRegistry,e.CompletionProviderRegistry=new M.LanguageFeatureRegistry,e.InlineCompletionsProviderRegistry=new M.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new M.LanguageFeatureRegistry,e.HoverProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new M.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new M.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new M.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new M.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new M.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new M.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new M.LanguageFeatureRegistry,e.InlayHintsProviderRegistry=new M.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.LinkProviderRegistry=new M.LanguageFeatureRegistry,e.ColorProviderRegistry=new M.LanguageFeatureRegistry,e.SelectionRangeRegistry=new M.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new M.LanguageFeatureRegistry,e.TokenizationRegistry=new L.TokenizationRegistryImpl}),define(ie[84],ne([0,1,18]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlicedLineTokens=e.LineTokens=void 0;class k{constructor(S,m){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=m}static createEmpty(S){const m=k.defaultTokenMetadata,v=new Uint32Array(2);return v[0]=S.length,v[1]=m,new k(v,S)}equals(S){return S instanceof k?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,m,v){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const i=m<<1,C=i+(v<<1);for(let s=i;s<C;s++)if(this._tokens[s]!==S._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const m=this._tokens[(S<<1)+1];return _.TokenMetadata.getLanguageId(m)}getStandardTokenType(S){const m=this._tokens[(S<<1)+1];return _.TokenMetadata.getTokenType(m)}getForeground(S){const m=this._tokens[(S<<1)+1];return _.TokenMetadata.getForeground(m)}getClassName(S){const m=this._tokens[(S<<1)+1];return _.TokenMetadata.getClassNameFromMetadata(m)}getInlineStyle(S,m){const v=this._tokens[(S<<1)+1];return _.TokenMetadata.getInlineStyleFromMetadata(v,m)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return k.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,m,v){return new M(this,S,m,v)}static convertToEndOffset(S,m){const i=(S.length>>>1)-1;for(let C=0;C<i;C++)S[C<<1]=S[C+1<<1];S[i<<1]=m}static findIndexInTokensArray(S,m){if(S.length<=2)return 0;let v=0,i=(S.length>>>1)-1;for(;v<i;){const C=v+Math.floor((i-v)/2),s=S[C<<1];if(s===m)return C+1;s<m?v=C+1:s>m&&(i=C)}return v}withInserted(S){if(S.length===0)return this;let m=0,v=0,i="";const C=new Array;let s=0;for(;;){let o=m<this._tokensCount?this._tokens[m<<1]:-1,a=v<S.length?S[v]:null;if(o!==-1&&(a===null||o<=a.offset)){i+=this._text.substring(s,o);const c=this._tokens[(m<<1)+1];C.push(i.length,c),m++,s=o}else if(a){if(a.offset>s){i+=this._text.substring(s,a.offset);const c=this._tokens[(m<<1)+1];C.push(i.length,c),s=a.offset}i+=a.text,C.push(i.length,a.tokenMetadata),v++}else break}return new k(new Uint32Array(C),i)}}e.LineTokens=k,k.defaultTokenMetadata=(0<<11|1<<14|2<<23)>>>0;class M{constructor(S,m,v,i){this._source=S,this._startOffset=m,this._endOffset=v,this._deltaOffset=i,this._firstTokenIndex=S.findTokenIndexAtOffset(m),this._tokensCount=0;for(let C=this._firstTokenIndex,s=S.getCount();C<s&&!(S.getStartOffset(C)>=v);C++)this._tokensCount++}equals(S){return S instanceof M?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const m=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,m)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,m){return this._source.getInlineStyle(this._firstTokenIndex+S,m)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}e.SlicedLineTokens=M}),define(ie[140],ne([0,1,19,84,13,3,18]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStore=e.TokensStore2=e.MultilineTokens=e.MultilineTokens2=e.LineTokens2=e.SparseEncodedTokens=e.MultilineTokensBuilder=e.countEOL=void 0;function m(l){let t=0,d=0,h=0,p=0;for(let w=0,b=l.length;w<b;w++){const g=l.charCodeAt(w);g===13?(t===0&&(d=w),t++,w+1<b&&l.charCodeAt(w+1)===10?(p|=2,w++):p|=3,h=w+1):g===10&&(p|=1,t===0&&(d=w),t++,h=w+1)}return t===0&&(d=l.length),[t,d,l.length-h,p]}e.countEOL=m;function v(l){return(l<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const i=new Uint32Array(0).buffer;class C{constructor(){this.tokens=[]}add(t,d){if(this.tokens.length>0){const h=this.tokens[this.tokens.length-1];if(h.startLineNumber+h.tokens.length-1+1===t){h.tokens.push(d);return}}this.tokens.push(new c(t,[d]))}}e.MultilineTokensBuilder=C;class s{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){let d=[];for(let h=0;h<this._tokenCount;h++)d.push(`(${this._getDeltaLine(h)+t},${this._getStartCharacter(h)}-${this._getEndCharacter(h)})`);return`[${d.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return t===0?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(t===0)return null;const d=this._getStartCharacter(0),h=this._getDeltaLine(t-1),p=this._getEndCharacter(t-1);return new L.Range(0,d+1,h,p+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(t){let d=0,h=this._getTokenCount()-1;for(;d<h;){const p=d+Math.floor((h-d)/2),w=this._getDeltaLine(p);if(w<t)d=p+1;else if(w>t)h=p-1;else{let b=p;for(;b>d&&this._getDeltaLine(b-1)===t;)b--;let g=p;for(;g<h&&this._getDeltaLine(g+1)===t;)g++;return new o(this._tokens.subarray(4*b,4*g+4))}}return this._getDeltaLine(d)===t?new o(this._tokens.subarray(4*d,4*d+4)):null}clear(){this._tokenCount=0}removeTokens(t,d,h,p){const w=this._tokens,b=this._tokenCount;let g=0,f=!1,y=0;for(let I=0;I<b;I++){const N=4*I,D=w[N],T=w[N+1],P=w[N+2],R=w[N+3];if((D>t||D===t&&P>=d)&&(D<h||D===h&&T<=p))f=!0;else{if(g===0&&(y=D),f){const O=4*g;w[O]=D-y,w[O+1]=T,w[O+2]=P,w[O+3]=R}g++}}return this._tokenCount=g,y}split(t,d,h,p){const w=this._tokens,b=this._tokenCount;let g=[],f=[],y=g,I=0,N=0;for(let D=0;D<b;D++){const T=4*D,P=w[T],R=w[T+1],O=w[T+2],A=w[T+3];if(P>t||P===t&&O>=d){if(P<h||P===h&&R<=p)continue;y!==f&&(y=f,I=0,N=P)}y[I++]=P-N,y[I++]=R,y[I++]=O,y[I++]=A}return[new s(new Uint32Array(g)),new s(new Uint32Array(f)),N]}acceptDeleteRange(t,d,h,p,w){const b=this._tokens,g=this._tokenCount,f=p-d;let y=0,I=!1;for(let N=0;N<g;N++){const D=4*N;let T=b[D],P=b[D+1],R=b[D+2];const O=b[D+3];if(T<d||T===d&&R<=h){y++;continue}else if(T===d&&P<h)T===p&&R>w?R-=w-h:R=h;else if(T===d&&P===h)if(T===p&&R>w)R-=w-h;else{I=!0;continue}else if(T<p||T===p&&P<w)if(T===p&&R>w)T===d?(P=h,R=P+(R-w)):(P=0,R=P+(R-w));else{I=!0;continue}else if(T>p){if(f===0&&!I){y=g;break}T-=f}else if(T===p&&P>=w)t&&T===0&&(P+=t,R+=t),T-=f,P-=w-h,R-=w-h;else throw new Error("Not possible!");const A=4*y;b[A]=T,b[A+1]=P,b[A+2]=R,b[A+3]=O,y++}this._tokenCount=y}acceptInsertText(t,d,h,p,w,b){const g=h===0&&p===1&&(b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122),f=this._tokens,y=this._tokenCount;for(let I=0;I<y;I++){const N=4*I;let D=f[N],T=f[N+1],P=f[N+2];if(!(D<t||D===t&&P<d)){if(D===t&&P===d)if(g)P+=1;else continue;else if(D===t&&T<d&&d<P)h===0?P+=p:P=d;else{if(D===t&&T===d&&g)continue;if(D===t)if(D+=h,h===0)T+=p,P+=p;else{const R=P-T;T=w+(T-d),P=T+R}else D+=h}f[N]=D,f[N+1]=T,f[N+2]=P}}}}e.SparseEncodedTokens=s;class o{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}e.LineTokens2=o;class a{constructor(t,d){this.startLineNumber=t,this.tokens=d,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(t){return this.startLineNumber<=t&&t<=this.endLineNumber?this.tokens.getLineTokens(t-this.startLineNumber):null}getRange(){const t=this.tokens.getRange();return t&&new L.Range(this.startLineNumber+t.startLineNumber,t.startColumn,this.startLineNumber+t.endLineNumber,t.endColumn)}removeTokens(t){const d=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(d,t.startColumn-1,h,t.endColumn-1),this._updateEndLineNumber()}split(t){const d=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber,[p,w,b]=this.tokens.split(d,t.startColumn-1,h,t.endColumn-1);return[new a(this.startLineNumber,p),new a(this.startLineNumber+b,w)]}applyEdit(t,d){const[h,p,w]=m(d);this.acceptEdit(t,h,p,w,d.length>0?d.charCodeAt(0):0)}acceptEdit(t,d,h,p,w){this._acceptDeleteRange(t),this._acceptInsertText(new M.Position(t.startLineNumber,t.startColumn),d,h,p,w),this._updateEndLineNumber()}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return;const d=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;if(h<0){const w=h-d;this.startLineNumber-=w;return}const p=this.tokens.getMaxDeltaLine();if(!(d>=p+1)){if(d<0&&h>=p+1){this.startLineNumber=0,this.tokens.clear();return}if(d<0){const w=-d;this.startLineNumber-=w,this.tokens.acceptDeleteRange(t.startColumn-1,0,0,h,t.endColumn-1)}else this.tokens.acceptDeleteRange(0,d,t.startColumn-1,h,t.endColumn-1)}}_acceptInsertText(t,d,h,p,w){if(d===0&&h===0)return;const b=t.lineNumber-this.startLineNumber;if(b<0){this.startLineNumber+=d;return}const g=this.tokens.getMaxDeltaLine();b>=g+1||this.tokens.acceptInsertText(b,t.column-1,d,h,p,w)}}e.MultilineTokens2=a;class c{constructor(t,d){this.startLineNumber=t,this.tokens=d}}e.MultilineTokens=c;function u(l){return l instanceof Uint32Array?l:new Uint32Array(l)}class r{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(t,d){this._pieces=t||[],this._isComplete=d}setPartial(t,d){let h=t;if(d.length>0){const w=d[0].getRange(),b=d[d.length-1].getRange();if(!w||!b)return t;h=t.plusRange(w).plusRange(b)}let p=null;for(let w=0,b=this._pieces.length;w<b;w++){const g=this._pieces[w];if(g.endLineNumber<h.startLineNumber)continue;if(g.startLineNumber>h.endLineNumber){p=p||{index:w};break}if(g.removeTokens(h),g.isEmpty()){this._pieces.splice(w,1),w--,b--;continue}if(g.endLineNumber<h.startLineNumber)continue;if(g.startLineNumber>h.endLineNumber){p=p||{index:w};continue}const[f,y]=g.split(h);if(f.isEmpty()){p=p||{index:w};continue}y.isEmpty()||(this._pieces.splice(w,1,f,y),w++,b++,p=p||{index:w})}return p=p||{index:this._pieces.length},d.length>0&&(this._pieces=_.arrayInsert(this._pieces,p.index,d)),h}isComplete(){return this._isComplete}addSemanticTokens(t,d){const h=this._pieces;if(h.length===0)return d;const p=r._findFirstPieceWithLine(h,t),w=h[p].getLineTokens(t);if(!w)return d;const b=d.getCount(),g=w.getCount();let f=0,y=[],I=0,N=0;const D=(T,P)=>{T!==N&&(N=T,y[I++]=T,y[I++]=P)};for(let T=0;T<g;T++){const P=w.getStartCharacter(T),R=w.getEndCharacter(T),O=w.getMetadata(T),A=((O&1?2048:0)|(O&2?4096:0)|(O&4?8192:0)|(O&8?8372224:0)|(O&16?4286578688:0))>>>0,F=~A>>>0;for(;f<b&&d.getEndOffset(f)<=P;)D(d.getEndOffset(f),d.getMetadata(f)),f++;for(f<b&&d.getStartOffset(f)<P&&D(P,d.getMetadata(f));f<b&&d.getEndOffset(f)<R;)D(d.getEndOffset(f),d.getMetadata(f)&F|O&A),f++;if(f<b)D(R,d.getMetadata(f)&F|O&A),d.getEndOffset(f)===R&&f++;else{const E=Math.min(Math.max(0,f-1),b-1);D(R,d.getMetadata(E)&F|O&A)}}for(;f<b;)D(d.getEndOffset(f),d.getMetadata(f)),f++;return new k.LineTokens(new Uint32Array(y),d.getLineContent())}static _findFirstPieceWithLine(t,d){let h=0,p=t.length-1;for(;h<p;){let w=h+Math.floor((p-h)/2);if(t[w].endLineNumber<d)h=w+1;else if(t[w].startLineNumber>d)p=w-1;else{for(;w>h&&t[w-1].startLineNumber<=d&&d<=t[w-1].endLineNumber;)w--;return w}}return h}acceptEdit(t,d,h,p,w){for(const b of this._pieces)b.acceptEdit(t,d,h,p,w)}}e.TokensStore2=r;class n{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(t,d,h){let p=null;if(d<this._len&&(p=this._lineTokens[d]),p!==null&&p!==i)return new k.LineTokens(u(p),h);let w=new Uint32Array(2);return w[0]=h.length,w[1]=v(t),new k.LineTokens(w,h)}static _massageTokens(t,d,h){const p=h?u(h):null;if(d===0){let w=!1;if(p&&p.length>1&&(w=S.TokenMetadata.getLanguageId(p[1])!==t),!w)return i}if(!p||p.length===0){const w=new Uint32Array(2);return w[0]=d,w[1]=v(t),w.buffer}return p[p.length-2]=d,p.byteOffset===0&&p.byteLength===p.buffer.byteLength?p.buffer:p}_ensureLine(t){for(;t>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(t,d){d!==0&&(t+d>this._len&&(d=this._len-t),this._lineTokens.splice(t,d),this._len-=d)}_insertLines(t,d){if(d===0)return;let h=[];for(let p=0;p<d;p++)h[p]=null;this._lineTokens=_.arrayInsert(this._lineTokens,t,h),this._len+=d}setTokens(t,d,h,p,w){const b=n._massageTokens(t,h,p);this._ensureLine(d);const g=this._lineTokens[d];return this._lineTokens[d]=b,w?!n._equals(g,b):!1}static _equals(t,d){if(!t||!d)return!t&&!d;const h=u(t),p=u(d);if(h.length!==p.length)return!1;for(let w=0,b=h.length;w<b;w++)if(h[w]!==p[w])return!1;return!0}acceptEdit(t,d,h){this._acceptDeleteRange(t),this._acceptInsertText(new M.Position(t.startLineNumber,t.startColumn),d,h)}_acceptDeleteRange(t){const d=t.startLineNumber-1;if(d>=this._len)return;if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._lineTokens[d]=n._delete(this._lineTokens[d],t.startColumn-1,t.endColumn-1);return}this._lineTokens[d]=n._deleteEnding(this._lineTokens[d],t.startColumn-1);const h=t.endLineNumber-1;let p=null;h<this._len&&(p=n._deleteBeginning(this._lineTokens[h],t.endColumn-1)),this._lineTokens[d]=n._append(this._lineTokens[d],p),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,d,h){if(d===0&&h===0)return;const p=t.lineNumber-1;if(!(p>=this._len)){if(d===0){this._lineTokens[p]=n._insert(this._lineTokens[p],t.column-1,h);return}this._lineTokens[p]=n._deleteEnding(this._lineTokens[p],t.column-1),this._lineTokens[p]=n._insert(this._lineTokens[p],t.column-1,h),this._insertLines(t.lineNumber,d)}}static _deleteBeginning(t,d){return t===null||t===i?t:n._delete(t,0,d)}static _deleteEnding(t,d){if(t===null||t===i)return t;const h=u(t),p=h[h.length-2];return n._delete(t,d,p)}static _delete(t,d,h){if(t===null||t===i||d===h)return t;const p=u(t),w=p.length>>>1;if(d===0&&p[p.length-2]===h)return i;const b=k.LineTokens.findIndexInTokensArray(p,d),g=b>0?p[b-1<<1]:0,f=p[b<<1];if(h<f){const T=h-d;for(let P=b;P<w;P++)p[P<<1]-=T;return t}let y,I;g!==d?(p[b<<1]=d,y=b+1<<1,I=d):(y=b<<1,I=g);const N=h-d;for(let T=b+1;T<w;T++){const P=p[T<<1]-N;P>I&&(p[y++]=P,p[y++]=p[(T<<1)+1],I=P)}if(y===p.length)return t;let D=new Uint32Array(y);return D.set(p.subarray(0,y),0),D.buffer}static _append(t,d){if(d===i)return t;if(t===i)return d;if(t===null)return t;if(d===null)return null;const h=u(t),p=u(d),w=p.length>>>1;let b=new Uint32Array(h.length+p.length);b.set(h,0);let g=h.length;const f=h[h.length-2];for(let y=0;y<w;y++)b[g++]=p[y<<1]+f,b[g++]=p[(y<<1)+1];return b.buffer}static _insert(t,d,h){if(t===null||t===i)return t;const p=u(t),w=p.length>>>1;let b=k.LineTokens.findIndexInTokensArray(p,d);b>0&&p[b-1<<1]===d&&b--;for(let g=b;g<w;g++)p[g<<1]+=h;return t}}e.TokensStore=n}),define(ie[243],ne([0,1,6,8,3,52,221,140,220,2]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class C extends i.Disposable{constructor(o,a,c,u,r,n,l){super();this._onDidChangeContent=this._register(new _.Emitter),this._BOM=a,this._mightContainNonBasicASCII=!n,this._mightContainRTL=u,this._mightContainUnusualLineTerminators=r,this._pieceTree=new S.PieceTreeBase(o,c,l)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(o){return this._pieceTree.createSnapshot(o?this._BOM:"")}getOffsetAt(o,a){return this._pieceTree.getOffsetAt(o,a)}getPositionAt(o){return this._pieceTree.getPositionAt(o)}getRangeAt(o,a){let c=o+a;const u=this.getPositionAt(o),r=this.getPositionAt(c);return new M.Range(u.lineNumber,u.column,r.lineNumber,r.column)}getValueInRange(o,a=0){if(o.isEmpty())return"";const c=this._getEndOfLine(a);return this._pieceTree.getValueInRange(o,c)}getValueLengthInRange(o,a=0){if(o.isEmpty())return 0;if(o.startLineNumber===o.endLineNumber)return o.endColumn-o.startColumn;let c=this.getOffsetAt(o.startLineNumber,o.startColumn);return this.getOffsetAt(o.endLineNumber,o.endColumn)-c}getCharacterCountInRange(o,a=0){if(this._mightContainNonBasicASCII){let c=0;const u=o.startLineNumber,r=o.endLineNumber;for(let n=u;n<=r;n++){const l=this.getLineContent(n),t=n===u?o.startColumn-1:0,d=n===r?o.endColumn-1:l.length;for(let h=t;h<d;h++)k.isHighSurrogate(l.charCodeAt(h))?(c=c+1,h=h+1):c=c+1}return c+=this._getEndOfLine(a).length*(r-u),c}return this.getValueLengthInRange(o,a)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(o){return this._pieceTree.getLineContent(o)}getLineCharCode(o,a){return this._pieceTree.getLineCharCode(o,a)}getLineLength(o){return this._pieceTree.getLineLength(o)}getLineFirstNonWhitespaceColumn(o){const a=k.firstNonWhitespaceIndex(this.getLineContent(o));return a===-1?0:a+1}getLineLastNonWhitespaceColumn(o){const a=k.lastNonWhitespaceIndex(this.getLineContent(o));return a===-1?0:a+2}_getEndOfLine(o){switch(o){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(o){this._pieceTree.setEOL(o)}applyEdits(o,a,c){let u=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,n=this._mightContainNonBasicASCII,l=!0,t=[];for(let f=0;f<o.length;f++){let y=o[f];l&&y._isTracked&&(l=!1);let I=y.range;if(y.text){let R=!0;n||(R=!k.isBasicASCII(y.text),n=R),!u&&R&&(u=k.containsRTL(y.text)),!r&&R&&(r=k.containsUnusualLineTerminators(y.text))}let N="",D=0,T=0,P=0;if(y.text){let R;[D,T,P,R]=m.countEOL(y.text);const O=this.getEOL();R===0||R===(O===`\r
`?2:1)?N=y.text:N=y.text.replace(/\r\n|\r|\n/g,O)}t[f]={sortIndex:f,identifier:y.identifier||null,range:I,rangeOffset:this.getOffsetAt(I.startLineNumber,I.startColumn),rangeLength:this.getValueLengthInRange(I),text:N,eolCount:D,firstLineLength:T,lastLineLength:P,forceMoveMarkers:Boolean(y.forceMoveMarkers),isAutoWhitespaceEdit:y.isAutoWhitespaceEdit||!1}}t.sort(C._sortOpsAscending);let d=!1;for(let f=0,y=t.length-1;f<y;f++){let I=t[f].range.getEndPosition(),N=t[f+1].range.getStartPosition();if(N.isBeforeOrEqual(I)){if(N.isBefore(I))throw new Error("Overlapping ranges are not allowed!");d=!0}}l&&(t=this._reduceOperations(t));let h=c||a?C._getInverseEditRanges(t):[],p=[];if(a)for(let f=0;f<t.length;f++){let y=t[f],I=h[f];if(y.isAutoWhitespaceEdit&&y.range.isEmpty())for(let N=I.startLineNumber;N<=I.endLineNumber;N++){let D="";N===I.startLineNumber&&(D=this.getLineContent(y.range.startLineNumber),k.firstNonWhitespaceIndex(D)!==-1)||p.push({lineNumber:N,oldContent:D})}}let w=null;if(c){let f=0;w=[];for(let y=0;y<t.length;y++){const I=t[y],N=h[y],D=this.getValueInRange(I.range),T=I.rangeOffset+f;f+=I.text.length-D.length,w[y]={sortIndex:I.sortIndex,identifier:I.identifier,range:N,text:D,textChange:new v.TextChange(I.rangeOffset,D,T,I.text)}}d||w.sort((y,I)=>y.sortIndex-I.sortIndex)}this._mightContainRTL=u,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=n;const b=this._doApplyEdits(t);let g=null;if(a&&p.length>0){p.sort((f,y)=>y.lineNumber-f.lineNumber),g=[];for(let f=0,y=p.length;f<y;f++){let I=p[f].lineNumber;if(f>0&&p[f-1].lineNumber===I)continue;let N=p[f].oldContent,D=this.getLineContent(I);D.length===0||D===N||k.firstNonWhitespaceIndex(D)!==-1||g.push(I)}}return this._onDidChangeContent.fire(),new L.ApplyEditsResult(w,b,g)}_reduceOperations(o){return o.length<1e3?o:[this._toSingleEditOperation(o)]}_toSingleEditOperation(o){let a=!1;const c=o[0].range,u=o[o.length-1].range,r=new M.Range(c.startLineNumber,c.startColumn,u.endLineNumber,u.endColumn);let n=c.startLineNumber,l=c.startColumn;const t=[];for(let b=0,g=o.length;b<g;b++){const f=o[b],y=f.range;a=a||f.forceMoveMarkers,t.push(this.getValueInRange(new M.Range(n,l,y.startLineNumber,y.startColumn))),f.text.length>0&&t.push(f.text),n=y.endLineNumber,l=y.endColumn}const d=t.join(""),[h,p,w]=m.countEOL(d);return{sortIndex:0,identifier:o[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:d,eolCount:h,firstLineLength:p,lastLineLength:w,forceMoveMarkers:a,isAutoWhitespaceEdit:!1}}_doApplyEdits(o){o.sort(C._sortOpsDescending);let a=[];for(let c=0;c<o.length;c++){let u=o[c];const r=u.range.startLineNumber,n=u.range.startColumn,l=u.range.endLineNumber,t=u.range.endColumn;if(r===l&&n===t&&u.text.length===0)continue;u.text?(this._pieceTree.delete(u.rangeOffset,u.rangeLength),this._pieceTree.insert(u.rangeOffset,u.text,!0)):this._pieceTree.delete(u.rangeOffset,u.rangeLength);const d=new M.Range(r,n,l,t);a.push({range:d,rangeLength:u.rangeLength,text:u.text,rangeOffset:u.rangeOffset,forceMoveMarkers:u.forceMoveMarkers})}return a}findMatchesLineByLine(o,a,c,u){return this._pieceTree.findMatchesLineByLine(o,a,c,u)}static _getInverseEditRanges(o){let a=[],c=0,u=0,r=null;for(let n=0,l=o.length;n<l;n++){let t=o[n],d,h;r?r.range.endLineNumber===t.range.startLineNumber?(d=c,h=u+(t.range.startColumn-r.range.endColumn)):(d=c+(t.range.startLineNumber-r.range.endLineNumber),h=t.range.startColumn):(d=t.range.startLineNumber,h=t.range.startColumn);let p;if(t.text.length>0){const w=t.eolCount+1;w===1?p=new M.Range(d,h,d,h+t.firstLineLength):p=new M.Range(d,h,d+w-1,t.lastLineLength+1)}else p=new M.Range(d,h,d,h);c=p.endLineNumber,u=p.endColumn,a.push(p),r=t}return a}static _sortOpsAscending(o,a){let c=M.Range.compareRangesUsingEnds(o.range,a.range);return c===0?o.sortIndex-a.sortIndex:c}static _sortOpsDescending(o,a){let c=M.Range.compareRangesUsingEnds(o.range,a.range);return c===0?a.sortIndex-o.sortIndex:-c}}e.PieceTreeTextBuffer=C}),define(ie[548],ne([0,1,8,221,243]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class L{constructor(v,i,C,s,o,a,c,u,r){this._chunks=v,this._bom=i,this._cr=C,this._lf=s,this._crlf=o,this._containsRTL=a,this._containsUnusualLineTerminators=c,this._isBasicASCII=u,this._normalizeEOL=r}_getEOL(v){const i=this._cr+this._lf+this._crlf,C=this._cr+this._crlf;return i===0?v===1?`
`:`\r
`:C>i/2?`\r
`:`
`}create(v){const i=this._getEOL(v);let C=this._chunks;if(this._normalizeEOL&&(i===`\r
`&&(this._cr>0||this._lf>0)||i===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,a=C.length;o<a;o++){let c=C[o].buffer.replace(/\r\n|\r|\n/g,i),u=k.createLineStartsFast(c);C[o]=new k.StringBuffer(c,u)}const s=new M.PieceTreeTextBuffer(C,this._bom,i,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}}e.PieceTreeTextBufferFactory=L;class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(v){if(v.length===0)return;this.chunks.length===0&&_.startsWithUTF8BOM(v)&&(this.BOM=_.UTF8_BOM_CHARACTER,v=v.substr(1));const i=v.charCodeAt(v.length-1);i===13||i>=55296&&i<=56319?(this._acceptChunk1(v.substr(0,v.length-1),!1),this._hasPreviousChar=!0,this._previousChar=i):(this._acceptChunk1(v,!1),this._hasPreviousChar=!1,this._previousChar=i)}_acceptChunk1(v,i){!i&&v.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+v):this._acceptChunk2(v))}_acceptChunk2(v){const i=k.createLineStarts(this._tmpLineStarts,v);this.chunks.push(new k.StringBuffer(v,i.lineStarts)),this.cr+=i.cr,this.lf+=i.lf,this.crlf+=i.crlf,this.isBasicASCII&&(this.isBasicASCII=i.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=_.containsRTL(v)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=_.containsUnusualLineTerminators(v))}finish(v=!0){return this._finish(),new L(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,v)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let v=this.chunks[this.chunks.length-1];v.buffer+=String.fromCharCode(this._previousChar);let i=k.createLineStartsFast(v.buffer);v.lineStarts=i,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(ie[76],ne([0,1,134,18]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenize2=e.nullTokenize=e.NULL_LANGUAGE_IDENTIFIER=e.NULL_MODE_ID=e.NULL_STATE=void 0;class M{clone(){return this}equals(v){return this===v}}e.NULL_STATE=new M,e.NULL_MODE_ID="vs.editor.nullMode",e.NULL_LANGUAGE_IDENTIFIER=new k.LanguageIdentifier(e.NULL_MODE_ID,0);function L(m,v,i,C){return new _.TokenizationResult([new _.Token(C,"",m)],i)}e.nullTokenize=L;function S(m,v,i,C){let s=new Uint32Array(2);return s[0]=C,s[1]=(m<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new _.TokenizationResult2(s,i===null?e.NULL_STATE:i)}e.nullTokenize2=S}),define(ie[549],ne([0,1,19,12,84,13,18,76,2,80,140,17]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class o{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(n){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,n&&this._setBeginState(0,n)}flush(n){this._reset(n)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(n){n<this._len&&(this._valid[n]=!1),n<this._invalidLineStartIndex&&(this._invalidLineStartIndex=n)}_isValid(n){return n<this._len?this._valid[n]:!1}getBeginState(n){return n<this._len?this._beginState[n]:null}_ensureLine(n){for(;n>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(n,l){l!==0&&(n+l>this._len&&(l=this._len-n),this._beginState.splice(n,l),this._valid.splice(n,l),this._len-=l)}_insertLines(n,l){if(l===0)return;let t=[],d=[];for(let h=0;h<l;h++)t[h]=null,d[h]=!1;this._beginState=_.arrayInsert(this._beginState,n,t),this._valid=_.arrayInsert(this._valid,n,d),this._len+=l}_setValid(n,l){this._ensureLine(n),this._valid[n]=l}_setBeginState(n,l){this._ensureLine(n),this._beginState[n]=l}setEndState(n,l,t){if(this._setValid(l,!0),this._invalidLineStartIndex=l+1,l===n-1)return;const d=this.getBeginState(l+1);if(d===null||!t.equals(d)){this._setBeginState(l+1,t),this._invalidateLine(l+1);return}let h=l+1;for(;h<n&&this._isValid(h);)h++;this._invalidLineStartIndex=h}setFakeTokens(n){this._setValid(n,!1)}applyEdits(n,l){const t=n.endLineNumber-n.startLineNumber,h=Math.min(t,l);for(let p=h;p>=0;p--)this._invalidateLine(n.startLineNumber+p-1);this._acceptDeleteRange(n),this._acceptInsertText(new L.Position(n.startLineNumber,n.startColumn),l)}_acceptDeleteRange(n){n.startLineNumber-1>=this._len||this._deleteLines(n.startLineNumber,n.endLineNumber-n.startLineNumber)}_acceptInsertText(n,l){n.lineNumber-1>=this._len||this._insertLines(n.lineNumber,l)}}e.TokenizationStateStore=o;class a extends v.Disposable{constructor(n){super();this._isDisposed=!1,this._textModel=n,this._tokenizationStateStore=new o,this._tokenizationSupport=null,this._register(S.TokenizationRegistry.onDidChange(l=>{const t=this._textModel.getLanguageIdentifier();l.changedLanguages.indexOf(t.language)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(l=>{if(l.isFlush){this._resetTokenizationState();return}for(let t=0,d=l.changes.length;t<d;t++){const h=l.changes[t],[p]=C.countEOL(h.text);this._tokenizationStateStore.applyEdits(h.range,p)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[n,l]=c(this._textModel);this._tokenizationSupport=n,this._tokenizationStateStore.flush(l),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&s.setImmediate(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(n=this._textModel.getLineCount()){const l=1,t=new C.MultilineTokensBuilder,d=i.StopWatch.create(!1);for(;this._hasLinesToTokenize()&&!(d.elapsed()>l||this._tokenizeOneInvalidLine(t)>=n););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens)}tokenizeViewport(n,l){const t=new C.MultilineTokensBuilder;this._tokenizeViewport(t,n,l),this._textModel.setTokens(t.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(n){const l=new C.MultilineTokensBuilder;this._updateTokensUntilLine(l,n),this._textModel.setTokens(l.tokens)}isCheapToTokenize(n){if(!this._tokenizationSupport)return!0;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return n>l?!1:n<l||this._textModel.getLineLength(n)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(n){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(n,l),l}_updateTokensUntilLine(n,l){if(!this._tokenizationSupport)return;const t=this._textModel.getLanguageIdentifier(),d=this._textModel.getLineCount(),h=l-1;for(let p=this._tokenizationStateStore.invalidLineStartIndex;p<=h;p++){const w=this._textModel.getLineContent(p+1),b=this._tokenizationStateStore.getBeginState(p),g=u(t,this._tokenizationSupport,w,!0,b);n.add(p+1,g.tokens),this._tokenizationStateStore.setEndState(d,p,g.endState),p=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(n,l,t){if(!this._tokenizationSupport||t<=this._tokenizationStateStore.invalidLineStartIndex)return;if(l<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(n,t);return}let d=this._textModel.getLineFirstNonWhitespaceColumn(l),h=[],p=null;for(let g=l-1;d>0&&g>=1;g--){let f=this._textModel.getLineFirstNonWhitespaceColumn(g);if(f!==0&&f<d){if(p=this._tokenizationStateStore.getBeginState(g-1),p)break;h.push(this._textModel.getLineContent(g)),d=f}}p||(p=this._tokenizationSupport.getInitialState());const w=this._textModel.getLanguageIdentifier();let b=p;for(let g=h.length-1;g>=0;g--)b=u(w,this._tokenizationSupport,h[g],!1,b).endState;for(let g=l;g<=t;g++){let f=this._textModel.getLineContent(g),y=u(w,this._tokenizationSupport,f,!0,b);n.add(g,y.tokens),this._tokenizationStateStore.setFakeTokens(g-1),b=y.endState}}}e.TextModelTokenization=a;function c(r){const n=r.getLanguageIdentifier();let l=r.isTooLargeForTokenization()?null:S.TokenizationRegistry.get(n.language),t=null;if(l)try{t=l.getInitialState()}catch(d){k.onUnexpectedError(d),l=null}return[l,t]}function u(r,n,l,t,d){let h=null;if(n)try{h=n.tokenize2(l,t,d.clone(),0)}catch(p){k.onUnexpectedError(p)}return h||(h=m.nullTokenize2(r.id,l,d,0)),M.LineTokens.convertToEndOffset(h.tokens,l.length),h}}),define(ie[31],ne([0,1,12,6,2,8,24,35,13,3,21,52,240,379,380,548,111,171,549,135,45,76,172,173,140,29,243,19]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function I(){return new u.PieceTreeTextBufferBuilder}function N(ee){const x=I();return x.acceptChunk(ee),x.finish()}e.createTextBufferFactory=N;function D(ee,x){return(typeof ee=="string"?N(ee):ee).create(x)}e.createTextBuffer=D;let T=0;const P=999;e.LONG_LINE_BOUNDARY=1e4;class R{constructor(x){this._source=x,this._eos=!1}read(){if(this._eos)return null;let x=[],G=0,Q=0;do{let J=this._source.read();if(J===null)return this._eos=!0,G===0?null:x.join("");if(J.length>0&&(x[G++]=J,Q+=J.length),Q>=64*1024)return x.join("")}while(!0)}}const O=()=>{throw new Error("Invalid change accessor")};class A{constructor(){this._searchCanceledBrand=void 0}}A.INSTANCE=new A;function F(ee){return ee instanceof A?null:ee}class E extends M.Disposable{constructor(x,G,Q,J=null,le){super();this._onWillDispose=this._register(new k.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new H(Y=>this.handleBeforeFireDecorationsChangedEvent(Y))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new k.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new k.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new k.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new k.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new k.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new k.Emitter),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new z),this._register(this._eventEmitter.fastEvent(Y=>{this._onDidChangeContentOrInjectedText.fire(Y.rawContentChangedEvent)})),T++,this.id="$model"+T,this.isForSimpleWidget=G.isForSimpleWidget,typeof J=="undefined"||J===null?this._associatedResource=S.URI.parse("inmemory://model/"+T):this._associatedResource=J,this._undoRedoService=le,this._attachedEditorCount=0;const{textBuffer:oe,disposable:he}=D(x,G.defaultEOL);this._buffer=oe,this._bufferDisposable=he,this._options=E.resolveOptions(this._buffer,G);const K=this._buffer.getLineCount(),re=this._buffer.getValueLengthInRange(new i.Range(1,1,K,this._buffer.getLineLength(K)+1),0);G.largeFileOptimizations?this._isTooLargeForTokenization=re>E.LARGE_FILE_SIZE_THRESHOLD||K>E.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=re>E.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=Q||h.NULL_LANGUAGE_IDENTIFIER,this._languageRegistryListener=d.LanguageConfigurationRegistry.onDidChange(Y=>{Y.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=L.singleLetterHash(T),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new q,this._commandManager=new o.EditStack(this,le),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new b.TokensStore,this._tokens2=new b.TokensStore2,this._tokenization=new l.TextModelTokenization(this)}static resolveOptions(x,G){if(G.detectIndentation){const Q=a.guessIndentation(x,G.tabSize,G.insertSpaces);return new s.TextModelResolvedOptions({tabSize:Q.tabSize,indentSize:Q.tabSize,insertSpaces:Q.insertSpaces,trimAutoWhitespace:G.trimAutoWhitespace,defaultEOL:G.defaultEOL})}return new s.TextModelResolvedOptions({tabSize:G.tabSize,indentSize:G.indentSize,insertSpaces:G.insertSpaces,trimAutoWhitespace:G.trimAutoWhitespace,defaultEOL:G.defaultEOL})}onDidChangeContentFast(x){return this._eventEmitter.fastEvent(G=>x(G.contentChangedEvent))}onDidChangeContent(x){return this._eventEmitter.slowEvent(G=>x(G.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const x=new f.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);x.dispose(),this._buffer=x}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(x,G){this._isDisposing||this._eventEmitter.fire(new r.InternalModelContentChangeEvent(x,G))}setValue(x){if(this._assertNotDisposed(),x===null)return;const{textBuffer:G,disposable:Q}=D(x,this._options.defaultEOL);this._setValueFromTextBuffer(G,Q)}_createContentChanged2(x,G,Q,J,le,oe,he){return{changes:[{range:x,rangeOffset:G,rangeLength:Q,text:J}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:le,isRedoing:oe,isFlush:he}}_setValueFromTextBuffer(x,G){this._assertNotDisposed();const Q=this.getFullModelRange(),J=this.getValueLengthInRange(Q),le=this.getLineCount(),oe=this.getLineMaxColumn(le);this._buffer=x,this._bufferDisposable.dispose(),this._bufferDisposable=G,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new q,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,le,oe),0,J,this.getValue(),!1,!1,!0))}setEOL(x){this._assertNotDisposed();const G=x===1?`\r
`:`
`;if(this._buffer.getEOL()===G)return;const Q=this.getFullModelRange(),J=this.getValueLengthInRange(Q),le=this.getLineCount(),oe=this.getLineMaxColumn(le);this._onBeforeEOLChange(),this._buffer.setEOL(G),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,le,oe),0,J,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){const x=this.getVersionId(),G=this._decorationsTree.search(0,!1,!1,x);this._ensureNodesHaveRanges(G)}_onAfterEOLChange(){const x=this.getVersionId(),G=this._decorationsTree.collectNodesPostOrder();for(let Q=0,J=G.length;Q<J;Q++){const le=G[Q],oe=le.cachedAbsoluteStart-le.start,he=this._buffer.getOffsetAt(le.range.startLineNumber,le.range.startColumn),K=this._buffer.getOffsetAt(le.range.endLineNumber,le.range.endColumn);le.cachedAbsoluteStart=he,le.cachedAbsoluteEnd=K,le.cachedVersionId=x,le.start=he-oe,le.end=K-oe,c.recomputeMaxEnd(le)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let x=0,G=0;const Q=this._buffer.getLineCount();for(let J=1;J<=Q;J++){const le=this._buffer.getLineLength(J);le>=e.LONG_LINE_BOUNDARY?G+=le:x+=le}return G>x}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(x){this._assertNotDisposed();let G=typeof x.tabSize!="undefined"?x.tabSize:this._options.tabSize,Q=typeof x.indentSize!="undefined"?x.indentSize:this._options.indentSize,J=typeof x.insertSpaces!="undefined"?x.insertSpaces:this._options.insertSpaces,le=typeof x.trimAutoWhitespace!="undefined"?x.trimAutoWhitespace:this._options.trimAutoWhitespace,oe=new s.TextModelResolvedOptions({tabSize:G,indentSize:Q,insertSpaces:J,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:le});if(this._options.equals(oe))return;let he=this._options.createChangeEvent(oe);this._options=oe,this._onDidChangeOptions.fire(he)}detectIndentation(x,G){this._assertNotDisposed();let Q=a.guessIndentation(this._buffer,G,x);this.updateOptions({insertSpaces:Q.insertSpaces,tabSize:Q.tabSize,indentSize:Q.tabSize})}static _normalizeIndentationFromWhitespace(x,G,Q){let J=0;for(let oe=0;oe<x.length;oe++)x.charAt(oe)==="	"?J+=G:J++;let le="";if(!Q){let oe=Math.floor(J/G);J=J%G;for(let he=0;he<oe;he++)le+="	"}for(let oe=0;oe<J;oe++)le+=" ";return le}static normalizeIndentation(x,G,Q){let J=L.firstNonWhitespaceIndex(x);return J===-1&&(J=x.length),E._normalizeIndentationFromWhitespace(x.substring(0,J),G,Q)+x.substring(J)}normalizeIndentation(x){return this._assertNotDisposed(),E.normalizeIndentation(x,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(x=null){const G=this.findMatches(L.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(x,G.map(Q=>({range:Q.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(x){this._assertNotDisposed();let G=this._validatePosition(x.lineNumber,x.column,0);return this._buffer.getOffsetAt(G.lineNumber,G.column)}getPositionAt(x){this._assertNotDisposed();let G=Math.min(this._buffer.getLength(),Math.max(0,x));return this._buffer.getPositionAt(G)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(x){this._versionId=x}_overwriteAlternativeVersionId(x){this._alternativeVersionId=x}_overwriteInitialUndoRedoSnapshot(x){this._initialUndoRedoSnapshot=x}getValue(x,G=!1){this._assertNotDisposed();const Q=this.getFullModelRange(),J=this.getValueInRange(Q,x);return G?this._buffer.getBOM()+J:J}createSnapshot(x=!1){return new R(this._buffer.createSnapshot(x))}getValueLength(x,G=!1){this._assertNotDisposed();const Q=this.getFullModelRange(),J=this.getValueLengthInRange(Q,x);return G?this._buffer.getBOM().length+J:J}getValueInRange(x,G=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(x),G)}getValueLengthInRange(x,G=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(x),G)}getCharacterCountInRange(x,G=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(x),G)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(x){if(this._assertNotDisposed(),x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(x)}getLineLength(x){if(this._assertNotDisposed(),x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(x)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(x){return this._assertNotDisposed(),1}getLineMaxColumn(x){if(this._assertNotDisposed(),x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(x)+1}getLineFirstNonWhitespaceColumn(x){if(this._assertNotDisposed(),x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(x)}getLineLastNonWhitespaceColumn(x){if(this._assertNotDisposed(),x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(x)}_validateRangeRelaxedNoAllocations(x){const G=this._buffer.getLineCount(),Q=x.startLineNumber,J=x.startColumn;let le=Math.floor(typeof Q=="number"&&!isNaN(Q)?Q:1),oe=Math.floor(typeof J=="number"&&!isNaN(J)?J:1);if(le<1)le=1,oe=1;else if(le>G)le=G,oe=this.getLineMaxColumn(le);else if(oe<=1)oe=1;else{const se=this.getLineMaxColumn(le);oe>=se&&(oe=se)}const he=x.endLineNumber,K=x.endColumn;let re=Math.floor(typeof he=="number"&&!isNaN(he)?he:1),Y=Math.floor(typeof K=="number"&&!isNaN(K)?K:1);if(re<1)re=1,Y=1;else if(re>G)re=G,Y=this.getLineMaxColumn(re);else if(Y<=1)Y=1;else{const se=this.getLineMaxColumn(re);Y>=se&&(Y=se)}return Q===le&&J===oe&&he===re&&K===Y&&x instanceof i.Range&&!(x instanceof C.Selection)?x:new i.Range(le,oe,re,Y)}_isValidPosition(x,G,Q){if(typeof x!="number"||typeof G!="number"||isNaN(x)||isNaN(G)||x<1||G<1||(x|0)!==x||(G|0)!==G)return!1;const J=this._buffer.getLineCount();if(x>J)return!1;if(G===1)return!0;const le=this.getLineMaxColumn(x);if(G>le)return!1;if(Q===1){const oe=this._buffer.getLineCharCode(x,G-2);if(L.isHighSurrogate(oe))return!1}return!0}_validatePosition(x,G,Q){const J=Math.floor(typeof x=="number"&&!isNaN(x)?x:1),le=Math.floor(typeof G=="number"&&!isNaN(G)?G:1),oe=this._buffer.getLineCount();if(J<1)return new v.Position(1,1);if(J>oe)return new v.Position(oe,this.getLineMaxColumn(oe));if(le<=1)return new v.Position(J,1);const he=this.getLineMaxColumn(J);if(le>=he)return new v.Position(J,he);if(Q===1){const K=this._buffer.getLineCharCode(J,le-2);if(L.isHighSurrogate(K))return new v.Position(J,le-1)}return new v.Position(J,le)}validatePosition(x){const G=1;return this._assertNotDisposed(),x instanceof v.Position&&this._isValidPosition(x.lineNumber,x.column,G)?x:this._validatePosition(x.lineNumber,x.column,G)}_isValidRange(x,G){const Q=x.startLineNumber,J=x.startColumn,le=x.endLineNumber,oe=x.endColumn;if(!this._isValidPosition(Q,J,0)||!this._isValidPosition(le,oe,0))return!1;if(G===1){const he=J>1?this._buffer.getLineCharCode(Q,J-2):0,K=oe>1&&oe<=this._buffer.getLineLength(le)?this._buffer.getLineCharCode(le,oe-2):0,re=L.isHighSurrogate(he),Y=L.isHighSurrogate(K);return!re&&!Y}return!0}validateRange(x){const G=1;if(this._assertNotDisposed(),x instanceof i.Range&&!(x instanceof C.Selection)&&this._isValidRange(x,G))return x;const Q=this._validatePosition(x.startLineNumber,x.startColumn,0),J=this._validatePosition(x.endLineNumber,x.endColumn,0),le=Q.lineNumber,oe=Q.column,he=J.lineNumber,K=J.column;if(G===1){const re=oe>1?this._buffer.getLineCharCode(le,oe-2):0,Y=K>1&&K<=this._buffer.getLineLength(he)?this._buffer.getLineCharCode(he,K-2):0,se=L.isHighSurrogate(re),ge=L.isHighSurrogate(Y);return!se&&!ge?new i.Range(le,oe,he,K):le===he&&oe===K?new i.Range(le,oe-1,he,K-1):se&&ge?new i.Range(le,oe-1,he,K+1):se?new i.Range(le,oe-1,he,K):new i.Range(le,oe,he,K+1)}return new i.Range(le,oe,he,K)}modifyPosition(x,G){this._assertNotDisposed();let Q=this.getOffsetAt(x)+G;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,Q)))}getFullModelRange(){this._assertNotDisposed();const x=this.getLineCount();return new i.Range(1,1,x,this.getLineMaxColumn(x))}findMatchesLineByLine(x,G,Q,J){return this._buffer.findMatchesLineByLine(x,G,Q,J)}findMatches(x,G,Q,J,le,oe,he=P){this._assertNotDisposed();let K=null;G!==null&&(Array.isArray(G)||(G=[G]),G.every(se=>i.Range.isIRange(se))&&(K=G.map(se=>this.validateRange(se)))),K===null&&(K=[this.getFullModelRange()]),K=K.sort((se,ge)=>se.startLineNumber-ge.startLineNumber||se.startColumn-ge.startColumn);const re=[];re.push(K.reduce((se,ge)=>i.Range.areIntersecting(se,ge)?se.plusRange(ge):(re.push(se),ge)));let Y;if(!Q&&x.indexOf(`
`)<0){const ge=new n.SearchParams(x,Q,J,le).parseSearchRequest();if(!ge)return[];Y=pe=>this.findMatchesLineByLine(pe,ge,oe,he)}else Y=se=>n.TextModelSearch.findMatches(this,new n.SearchParams(x,Q,J,le),se,oe,he);return re.map(Y).reduce((se,ge)=>se.concat(ge),[])}findNextMatch(x,G,Q,J,le,oe){this._assertNotDisposed();const he=this.validatePosition(G);if(!Q&&x.indexOf(`
`)<0){const re=new n.SearchParams(x,Q,J,le).parseSearchRequest();if(!re)return null;const Y=this.getLineCount();let se=new i.Range(he.lineNumber,he.column,Y,this.getLineMaxColumn(Y)),ge=this.findMatchesLineByLine(se,re,oe,1);return n.TextModelSearch.findNextMatch(this,new n.SearchParams(x,Q,J,le),he,oe),ge.length>0||(se=new i.Range(1,1,he.lineNumber,this.getLineMaxColumn(he.lineNumber)),ge=this.findMatchesLineByLine(se,re,oe,1),ge.length>0)?ge[0]:null}return n.TextModelSearch.findNextMatch(this,new n.SearchParams(x,Q,J,le),he,oe)}findPreviousMatch(x,G,Q,J,le,oe){this._assertNotDisposed();const he=this.validatePosition(G);return n.TextModelSearch.findPreviousMatch(this,new n.SearchParams(x,Q,J,le),he,oe)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(x){if((this.getEOL()===`
`?0:1)!==x)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(x)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(x){return x instanceof s.ValidAnnotatedEditOperation?x:new s.ValidAnnotatedEditOperation(x.identifier||null,this.validateRange(x.range),x.text,x.forceMoveMarkers||!1,x.isAutoWhitespaceEdit||!1,x._isTracked||!1)}_validateEditOperations(x){const G=[];for(let Q=0,J=x.length;Q<J;Q++)G[Q]=this._validateEditOperation(x[Q]);return G}pushEditOperations(x,G,Q){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(x,this._validateEditOperations(G),Q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(x,G,Q){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let J=G.map(oe=>({range:this.validateRange(oe.range),text:oe.text})),le=!0;if(x)for(let oe=0,he=x.length;oe<he;oe++){let K=x[oe],re=!1;for(let Y=0,se=J.length;Y<se;Y++){let ge=J[Y].range,pe=ge.startLineNumber>K.endLineNumber,ve=K.startLineNumber>ge.endLineNumber;if(!pe&&!ve){re=!0;break}}if(!re){le=!1;break}}if(le)for(let oe=0,he=this._trimAutoWhitespaceLines.length;oe<he;oe++){let K=this._trimAutoWhitespaceLines[oe],re=this.getLineMaxColumn(K),Y=!0;for(let se=0,ge=J.length;se<ge;se++){let pe=J[se].range,ve=J[se].text;if(!(K<pe.startLineNumber||K>pe.endLineNumber)&&!(K===pe.startLineNumber&&pe.startColumn===re&&pe.isEmpty()&&ve&&ve.length>0&&ve.charAt(0)===`
`)&&!(K===pe.startLineNumber&&pe.startColumn===1&&pe.isEmpty()&&ve&&ve.length>0&&ve.charAt(ve.length-1)===`
`)){Y=!1;break}}if(Y){const se=new i.Range(K,1,K,re);G.push(new s.ValidAnnotatedEditOperation(null,se,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(x,G,Q)}_applyUndo(x,G,Q,J){const le=x.map(oe=>{const he=this.getPositionAt(oe.newPosition),K=this.getPositionAt(oe.newEnd);return{range:new i.Range(he.lineNumber,he.column,K.lineNumber,K.column),text:oe.oldText}});this._applyUndoRedoEdits(le,G,!0,!1,Q,J)}_applyRedo(x,G,Q,J){const le=x.map(oe=>{const he=this.getPositionAt(oe.oldPosition),K=this.getPositionAt(oe.oldEnd);return{range:new i.Range(he.lineNumber,he.column,K.lineNumber,K.column),text:oe.newText}});this._applyUndoRedoEdits(le,G,!1,!0,Q,J)}_applyUndoRedoEdits(x,G,Q,J,le,oe){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=Q,this._isRedoing=J,this.applyEdits(x,!1),this.setEOL(G),this._overwriteAlternativeVersionId(le)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(oe),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(x,G=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const Q=this._validateEditOperations(x);return this._doApplyEdits(Q,G)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(x,G){const Q=this._buffer.getLineCount(),J=this._buffer.applyEdits(x,this._options.trimAutoWhitespace,G),le=this._buffer.getLineCount(),oe=J.changes;if(this._trimAutoWhitespaceLines=J.trimAutoWhitespaceLineNumbers,oe.length!==0){for(let re=0,Y=oe.length;re<Y;re++){const se=oe[re],[ge,pe,ve]=b.countEOL(se.text);this._tokens.acceptEdit(se.range,ge,pe),this._tokens2.acceptEdit(se.range,ge,pe,ve,se.text.length>0?se.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(se.rangeOffset,se.rangeLength,se.text.length,se.forceMoveMarkers)}let he=[];this._increaseVersionId();let K=Q;for(let re=0,Y=oe.length;re<Y;re++){const se=oe[re],[ge]=b.countEOL(se.text);this._onDidChangeDecorations.fire();const pe=se.range.startLineNumber,ve=se.range.endLineNumber,Le=ve-pe,Ee=ge,Te=Math.min(Le,Ee),De=Ee-Le,Ae=le-K-De+pe,we=Ae,Se=Ae+Ee,ye=this._ensureNodesHaveRanges(this._decorationsTree.getInjectedTextInInterval(this.getOffsetAt(new v.Position(we,1)),this.getOffsetAt(new v.Position(Se,this.getLineMaxColumn(Se))),0,this._versionId)),me=r.LineInjectedText.fromDecorations(ye),ce=new y.ArrayQueue(me);for(let fe=Te;fe>=0;fe--){const Ce=pe+fe,be=Ae+fe;ce.takeFromEndWhile(Ne=>Ne.lineNumber>be);const ke=ce.takeFromEndWhile(Ne=>Ne.lineNumber===be);he.push(new r.ModelRawLineChanged(Ce,this.getLineContent(be),ke))}if(Te<Le){const fe=pe+Te;he.push(new r.ModelRawLinesDeleted(fe+1,ve))}if(Te<Ee){const fe=new y.ArrayQueue(me),Ce=pe+Te,be=Ee-Te,ke=le-K-be+Ce+1;let Ne=[],Re=[];for(let Pe=0;Pe<be;Pe++){let Fe=ke+Pe;Re[Pe]=this.getLineContent(Fe),fe.takeWhile(Oe=>Oe.lineNumber<Fe),Ne[Pe]=fe.takeWhile(Oe=>Oe.lineNumber===Fe)}he.push(new r.ModelRawLinesInserted(Ce+1,pe+Ee,Re,Ne))}K+=De}this._emitContentChangedEvent(new r.ModelRawContentChangedEvent(he,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:oe,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return J.reverseEdits===null?void 0:J.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(x){if(x===null||x.size===0)return;const Q=[...x].map(J=>new r.ModelRawLineChanged(J,this.getLineContent(J),this._getInjectedTextInLine(J)));this._onDidChangeContentOrInjectedText.fire(new r.ModelInjectedTextChangedEvent(Q))}changeDecorations(x,G=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(G,x)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(x,G){let Q={addDecoration:(le,oe)=>this._deltaDecorationsImpl(x,[],[{range:le,options:oe}])[0],changeDecoration:(le,oe)=>{this._changeDecorationImpl(le,oe)},changeDecorationOptions:(le,oe)=>{this._changeDecorationOptionsImpl(le,Z(oe))},removeDecoration:le=>{this._deltaDecorationsImpl(x,[le],[])},deltaDecorations:(le,oe)=>le.length===0&&oe.length===0?[]:this._deltaDecorationsImpl(x,le,oe)},J=null;try{J=G(Q)}catch(le){_.onUnexpectedError(le)}return Q.addDecoration=O,Q.changeDecoration=O,Q.changeDecorationOptions=O,Q.removeDecoration=O,Q.deltaDecorations=O,J}deltaDecorations(x,G,Q=0){if(this._assertNotDisposed(),x||(x=[]),x.length===0&&G.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(Q,x,G)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(x){return this.getDecorationRange(x)}_setTrackedRange(x,G,Q){const J=x?this._decorations[x]:null;if(!J)return G?this._deltaDecorationsImpl(0,[],[{range:G,options:B[Q]}])[0]:null;if(!G)return this._decorationsTree.delete(J),delete this._decorations[J.id],null;const le=this._validateRangeRelaxedNoAllocations(G),oe=this._buffer.getOffsetAt(le.startLineNumber,le.startColumn),he=this._buffer.getOffsetAt(le.endLineNumber,le.endColumn);return this._decorationsTree.delete(J),J.reset(this.getVersionId(),oe,he,le),J.setOptions(B[Q]),this._decorationsTree.insert(J),J.id}removeAllDecorationsWithOwnerId(x){if(this._isDisposed)return;const G=this._decorationsTree.collectNodesFromOwner(x);for(let Q=0,J=G.length;Q<J;Q++){const le=G[Q];this._decorationsTree.delete(le),delete this._decorations[le.id]}}getDecorationOptions(x){const G=this._decorations[x];return G?G.options:null}getDecorationRange(x){const G=this._decorations[x];return G?this._getDecorationRange(G):null}_getDecorationRange(x){const G=this.getVersionId();return x.cachedVersionId!==G&&this._decorationsTree.resolveNode(x,G),x.range===null&&(x.range=this._getRangeAt(x.cachedAbsoluteStart,x.cachedAbsoluteEnd)),x.range}getLineDecorations(x,G=0,Q=!1){return x<1||x>this.getLineCount()?[]:this.getLinesDecorations(x,x,G,Q)}getLinesDecorations(x,G,Q=0,J=!1){let le=this.getLineCount(),oe=Math.min(le,Math.max(1,x)),he=Math.min(le,Math.max(1,G)),K=this.getLineMaxColumn(he);return this._getDecorationsInRange(new i.Range(oe,1,he,K),Q,J)}getDecorationsInRange(x,G=0,Q=!1){let J=this.validateRange(x);return this._getDecorationsInRange(J,G,Q)}getOverviewRulerDecorations(x=0,G=!1){const Q=this.getVersionId(),J=this._decorationsTree.search(x,G,!0,Q);return this._ensureNodesHaveRanges(J)}getInjectedTextDecorations(x=0){const G=this.getVersionId(),Q=this._decorationsTree.getInjectedText(x,G);return this._ensureNodesHaveRanges(Q)}_getInjectedTextInLine(x){const G=this.getVersionId(),Q=this._buffer.getOffsetAt(x,1),J=Q+this._buffer.getLineLength(x),le=this._decorationsTree.getInjectedTextInInterval(Q,J,0,G);return this._ensureNodesHaveRanges(le),r.LineInjectedText.fromDecorations(le).filter(oe=>oe.lineNumber===x)}getAllDecorations(x=0,G=!1){const Q=this.getVersionId(),J=this._decorationsTree.search(x,G,!1,Q);return this._ensureNodesHaveRanges(J)}_getDecorationsInRange(x,G,Q){const J=this._buffer.getOffsetAt(x.startLineNumber,x.startColumn),le=this._buffer.getOffsetAt(x.endLineNumber,x.endColumn),oe=this.getVersionId(),he=this._decorationsTree.intervalSearch(J,le,G,Q,oe);return this._ensureNodesHaveRanges(he)}_ensureNodesHaveRanges(x){for(let G=0,Q=x.length;G<Q;G++){const J=x[G];J.range===null&&(J.range=this._getRangeAt(J.cachedAbsoluteStart,J.cachedAbsoluteEnd))}return x}_getRangeAt(x,G){return this._buffer.getRangeAt(x,G-x)}_changeDecorationImpl(x,G){const Q=this._decorations[x];if(!Q)return;if(Q.options.after){const he=this.getDecorationRange(x);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.endLineNumber)}if(Q.options.before){const he=this.getDecorationRange(x);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.startLineNumber)}const J=this._validateRangeRelaxedNoAllocations(G),le=this._buffer.getOffsetAt(J.startLineNumber,J.startColumn),oe=this._buffer.getOffsetAt(J.endLineNumber,J.endColumn);this._decorationsTree.delete(Q),Q.reset(this.getVersionId(),le,oe,J),this._decorationsTree.insert(Q),this._onDidChangeDecorations.checkAffectedAndFire(Q.options),Q.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(J.endLineNumber),Q.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(J.startLineNumber)}_changeDecorationOptionsImpl(x,G){const Q=this._decorations[x];if(!Q)return;const J=!!(Q.options.overviewRuler&&Q.options.overviewRuler.color),le=!!(G.overviewRuler&&G.overviewRuler.color);this._onDidChangeDecorations.checkAffectedAndFire(Q.options),this._onDidChangeDecorations.checkAffectedAndFire(G),(Q.options.after||G.after)&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Q.range.endLineNumber),(Q.options.before||G.before)&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Q.range.startLineNumber),J!==le?(this._decorationsTree.delete(Q),Q.setOptions(G),this._decorationsTree.insert(Q)):Q.setOptions(G)}_deltaDecorationsImpl(x,G,Q){const J=this.getVersionId(),le=G.length;let oe=0;const he=Q.length;let K=0,re=new Array(he);for(;oe<le||K<he;){let Y=null;if(oe<le){do Y=this._decorations[G[oe++]];while(!Y&&oe<le);if(Y){if(Y.options.after){const se=this._getDecorationRange(Y);this._onDidChangeDecorations.recordLineAffectedByInjectedText(se.endLineNumber)}if(Y.options.before){const se=this._getDecorationRange(Y);this._onDidChangeDecorations.recordLineAffectedByInjectedText(se.startLineNumber)}this._decorationsTree.delete(Y),this._onDidChangeDecorations.checkAffectedAndFire(Y.options)}}if(K<he){if(!Y){const Ee=++this._lastDecorationId,Te=`${this._instanceId};${Ee}`;Y=new c.IntervalNode(Te,0,0),this._decorations[Te]=Y}const se=Q[K],ge=this._validateRangeRelaxedNoAllocations(se.range),pe=Z(se.options),ve=this._buffer.getOffsetAt(ge.startLineNumber,ge.startColumn),Le=this._buffer.getOffsetAt(ge.endLineNumber,ge.endColumn);Y.ownerId=x,Y.reset(J,ve,Le,ge),Y.setOptions(pe),Y.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.endLineNumber),Y.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(pe),this._decorationsTree.insert(Y),re[K]=Y.id,K++}else Y&&delete this._decorations[Y.id]}return re}setTokens(x){if(x.length===0)return;let G=[];for(let Q=0,J=x.length;Q<J;Q++){const le=x[Q];let oe=0,he=0,K=!1;for(let re=0,Y=le.tokens.length;re<Y;re++){const se=le.startLineNumber+re;K?(this._tokens.setTokens(this._languageIdentifier.id,se-1,this._buffer.getLineLength(se),le.tokens[re],!1),he=se):this._tokens.setTokens(this._languageIdentifier.id,se-1,this._buffer.getLineLength(se),le.tokens[re],!0)&&(K=!0,oe=se,he=se)}K&&G.push({fromLineNumber:oe,toLineNumber:he})}G.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:G})}setSemanticTokens(x,G){this._tokens2.set(x,G),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:x!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(x,G){if(this.hasCompleteSemanticTokens())return;const Q=this._tokens2.setPartial(x,G);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:Q.startLineNumber,toLineNumber:Q.endLineNumber}]})}tokenizeViewport(x,G){x=Math.max(1,x),G=Math.min(this._buffer.getLineCount(),G),this._tokenization.tokenizeViewport(x,G)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(x){this._isDisposing||this._onDidChangeTokens.fire(x)}resetTokenization(){this._tokenization.reset()}forceTokenization(x){if(x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(x)}isCheapToTokenize(x){return this._tokenization.isCheapToTokenize(x)}tokenizeIfCheap(x){this.isCheapToTokenize(x)&&this.forceTokenization(x)}getLineTokens(x){if(x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(x)}_getLineTokens(x){const G=this.getLineContent(x),Q=this._tokens.getTokens(this._languageIdentifier.id,x-1,G);return this._tokens2.addSemanticTokens(x,Q)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(x){if(this._languageIdentifier.id===x.id)return;let G={oldLanguage:this._languageIdentifier.language,newLanguage:x.language};this._languageIdentifier=x,this._onDidChangeLanguage.fire(G),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(x,G){const Q=this.validatePosition(new v.Position(x,G)),J=this.getLineTokens(Q.lineNumber);return J.getLanguageId(J.findTokenIndexAtOffset(Q.column-1))}getWordAtPosition(x){this._assertNotDisposed();const G=this.validatePosition(x),Q=this.getLineContent(G.lineNumber),J=this._getLineTokens(G.lineNumber),le=J.findTokenIndexAtOffset(G.column-1),[oe,he]=E._findLanguageBoundaries(J,le),K=t.getWordAtText(G.column,d.LanguageConfigurationRegistry.getWordDefinition(J.getLanguageId(le)),Q.substring(oe,he),oe);if(K&&K.startColumn<=x.column&&x.column<=K.endColumn)return K;if(le>0&&oe===G.column-1){const[re,Y]=E._findLanguageBoundaries(J,le-1),se=t.getWordAtText(G.column,d.LanguageConfigurationRegistry.getWordDefinition(J.getLanguageId(le-1)),Q.substring(re,Y),re);if(se&&se.startColumn<=x.column&&x.column<=se.endColumn)return se}return null}static _findLanguageBoundaries(x,G){const Q=x.getLanguageId(G);let J=0;for(let oe=G;oe>=0&&x.getLanguageId(oe)===Q;oe--)J=x.getStartOffset(oe);let le=x.getLineContent().length;for(let oe=G,he=x.getCount();oe<he&&x.getLanguageId(oe)===Q;oe++)le=x.getEndOffset(oe);return[J,le]}getWordUntilPosition(x){const G=this.getWordAtPosition(x);return G?{word:G.word.substr(0,x.column-G.startColumn),startColumn:G.startColumn,endColumn:x.column}:{word:"",startColumn:x.column,endColumn:x.column}}findMatchingBracketUp(x,G){let Q=x.toLowerCase(),J=this.validatePosition(G),le=this._getLineTokens(J.lineNumber),oe=le.getLanguageId(le.findTokenIndexAtOffset(J.column-1)),he=d.LanguageConfigurationRegistry.getBracketsSupport(oe);if(!he)return null;let K=he.textIsBracket[Q];return K?F(this._findMatchingBracketUp(K,J,null)):null}matchBracket(x){return this._matchBracket(this.validatePosition(x))}_establishBracketSearchOffsets(x,G,Q,J){const le=G.getCount(),oe=G.getLanguageId(J);let he=Math.max(0,x.column-1-Q.maxBracketLength);for(let re=J-1;re>=0;re--){const Y=G.getEndOffset(re);if(Y<=he)break;if(p.ignoreBracketsInToken(G.getStandardTokenType(re))||G.getLanguageId(re)!==oe){he=Y;break}}let K=Math.min(G.getLineContent().length,x.column-1+Q.maxBracketLength);for(let re=J+1;re<le;re++){const Y=G.getStartOffset(re);if(Y>=K)break;if(p.ignoreBracketsInToken(G.getStandardTokenType(re))||G.getLanguageId(re)!==oe){K=Y;break}}return{searchStartOffset:he,searchEndOffset:K}}_matchBracket(x){const G=x.lineNumber,Q=this._getLineTokens(G),J=this._buffer.getLineContent(G),le=Q.findTokenIndexAtOffset(x.column-1);if(le<0)return null;const oe=d.LanguageConfigurationRegistry.getBracketsSupport(Q.getLanguageId(le));if(oe&&!p.ignoreBracketsInToken(Q.getStandardTokenType(le))){let{searchStartOffset:he,searchEndOffset:K}=this._establishBracketSearchOffsets(x,Q,oe,le),re=null;for(;;){const Y=w.BracketsUtils.findNextBracketInRange(oe.forwardRegex,G,J,he,K);if(!Y)break;if(Y.startColumn<=x.column&&x.column<=Y.endColumn){const se=J.substring(Y.startColumn-1,Y.endColumn-1).toLowerCase(),ge=this._matchFoundBracket(Y,oe.textIsBracket[se],oe.textIsOpenBracket[se],null);if(ge){if(ge instanceof A)return null;re=ge}}he=Y.endColumn-1}if(re)return re}if(le>0&&Q.getStartOffset(le)===x.column-1){const he=le-1,K=d.LanguageConfigurationRegistry.getBracketsSupport(Q.getLanguageId(he));if(K&&!p.ignoreBracketsInToken(Q.getStandardTokenType(he))){let{searchStartOffset:re,searchEndOffset:Y}=this._establishBracketSearchOffsets(x,Q,K,he);const se=w.BracketsUtils.findPrevBracketInRange(K.reversedRegex,G,J,re,Y);if(se&&se.startColumn<=x.column&&x.column<=se.endColumn){const ge=J.substring(se.startColumn-1,se.endColumn-1).toLowerCase(),pe=this._matchFoundBracket(se,K.textIsBracket[ge],K.textIsOpenBracket[ge],null);if(pe)return pe instanceof A?null:pe}}}return null}_matchFoundBracket(x,G,Q,J){if(!G)return null;const le=Q?this._findMatchingBracketDown(G,x.getEndPosition(),J):this._findMatchingBracketUp(G,x.getStartPosition(),J);return le?le instanceof A?le:[x,le]:null}_findMatchingBracketUp(x,G,Q){const J=x.languageIdentifier.id,le=x.reversedRegex;let oe=-1,he=0;const K=(re,Y,se,ge)=>{for(;;){if(Q&&++he%100==0&&!Q())return A.INSTANCE;const pe=w.BracketsUtils.findPrevBracketInRange(le,re,Y,se,ge);if(!pe)break;const ve=Y.substring(pe.startColumn-1,pe.endColumn-1).toLowerCase();if(x.isOpen(ve)?oe++:x.isClose(ve)&&oe--,oe===0)return pe;ge=pe.startColumn-1}return null};for(let re=G.lineNumber;re>=1;re--){const Y=this._getLineTokens(re),se=Y.getCount(),ge=this._buffer.getLineContent(re);let pe=se-1,ve=ge.length,Le=ge.length;re===G.lineNumber&&(pe=Y.findTokenIndexAtOffset(G.column-1),ve=G.column-1,Le=G.column-1);let Ee=!0;for(;pe>=0;pe--){const Te=Y.getLanguageId(pe)===J&&!p.ignoreBracketsInToken(Y.getStandardTokenType(pe));if(Te)Ee?ve=Y.getStartOffset(pe):(ve=Y.getStartOffset(pe),Le=Y.getEndOffset(pe));else if(Ee&&ve!==Le){const De=K(re,ge,ve,Le);if(De)return De}Ee=Te}if(Ee&&ve!==Le){const Te=K(re,ge,ve,Le);if(Te)return Te}}return null}_findMatchingBracketDown(x,G,Q){const J=x.languageIdentifier.id,le=x.forwardRegex;let oe=1,he=0;const K=(Y,se,ge,pe)=>{for(;;){if(Q&&++he%100==0&&!Q())return A.INSTANCE;const ve=w.BracketsUtils.findNextBracketInRange(le,Y,se,ge,pe);if(!ve)break;const Le=se.substring(ve.startColumn-1,ve.endColumn-1).toLowerCase();if(x.isOpen(Le)?oe++:x.isClose(Le)&&oe--,oe===0)return ve;ge=ve.endColumn-1}return null},re=this.getLineCount();for(let Y=G.lineNumber;Y<=re;Y++){const se=this._getLineTokens(Y),ge=se.getCount(),pe=this._buffer.getLineContent(Y);let ve=0,Le=0,Ee=0;Y===G.lineNumber&&(ve=se.findTokenIndexAtOffset(G.column-1),Le=G.column-1,Ee=G.column-1);let Te=!0;for(;ve<ge;ve++){const De=se.getLanguageId(ve)===J&&!p.ignoreBracketsInToken(se.getStandardTokenType(ve));if(De)Te||(Le=se.getStartOffset(ve)),Ee=se.getEndOffset(ve);else if(Te&&Le!==Ee){const Ae=K(Y,pe,Le,Ee);if(Ae)return Ae}Te=De}if(Te&&Le!==Ee){const De=K(Y,pe,Le,Ee);if(De)return De}}return null}findPrevBracket(x){const G=this.validatePosition(x);let Q=-1,J=null;for(let le=G.lineNumber;le>=1;le--){const oe=this._getLineTokens(le),he=oe.getCount(),K=this._buffer.getLineContent(le);let re=he-1,Y=K.length,se=K.length;if(le===G.lineNumber){re=oe.findTokenIndexAtOffset(G.column-1),Y=G.column-1,se=G.column-1;const pe=oe.getLanguageId(re);Q!==pe&&(Q=pe,J=d.LanguageConfigurationRegistry.getBracketsSupport(Q))}let ge=!0;for(;re>=0;re--){const pe=oe.getLanguageId(re);if(Q!==pe){if(J&&ge&&Y!==se){const Le=w.BracketsUtils.findPrevBracketInRange(J.reversedRegex,le,K,Y,se);if(Le)return this._toFoundBracket(J,Le);ge=!1}Q=pe,J=d.LanguageConfigurationRegistry.getBracketsSupport(Q)}const ve=!!J&&!p.ignoreBracketsInToken(oe.getStandardTokenType(re));if(ve)ge?Y=oe.getStartOffset(re):(Y=oe.getStartOffset(re),se=oe.getEndOffset(re));else if(J&&ge&&Y!==se){const Le=w.BracketsUtils.findPrevBracketInRange(J.reversedRegex,le,K,Y,se);if(Le)return this._toFoundBracket(J,Le)}ge=ve}if(J&&ge&&Y!==se){const pe=w.BracketsUtils.findPrevBracketInRange(J.reversedRegex,le,K,Y,se);if(pe)return this._toFoundBracket(J,pe)}}return null}findNextBracket(x){const G=this.validatePosition(x),Q=this.getLineCount();let J=-1,le=null;for(let oe=G.lineNumber;oe<=Q;oe++){const he=this._getLineTokens(oe),K=he.getCount(),re=this._buffer.getLineContent(oe);let Y=0,se=0,ge=0;if(oe===G.lineNumber){Y=he.findTokenIndexAtOffset(G.column-1),se=G.column-1,ge=G.column-1;const ve=he.getLanguageId(Y);J!==ve&&(J=ve,le=d.LanguageConfigurationRegistry.getBracketsSupport(J))}let pe=!0;for(;Y<K;Y++){const ve=he.getLanguageId(Y);if(J!==ve){if(le&&pe&&se!==ge){const Ee=w.BracketsUtils.findNextBracketInRange(le.forwardRegex,oe,re,se,ge);if(Ee)return this._toFoundBracket(le,Ee);pe=!1}J=ve,le=d.LanguageConfigurationRegistry.getBracketsSupport(J)}const Le=!!le&&!p.ignoreBracketsInToken(he.getStandardTokenType(Y));if(Le)pe||(se=he.getStartOffset(Y)),ge=he.getEndOffset(Y);else if(le&&pe&&se!==ge){const Ee=w.BracketsUtils.findNextBracketInRange(le.forwardRegex,oe,re,se,ge);if(Ee)return this._toFoundBracket(le,Ee)}pe=Le}if(le&&pe&&se!==ge){const ve=w.BracketsUtils.findNextBracketInRange(le.forwardRegex,oe,re,se,ge);if(ve)return this._toFoundBracket(le,ve)}}return null}findEnclosingBrackets(x,G){let Q;if(typeof G=="undefined")Q=null;else{const pe=Date.now();Q=()=>Date.now()-pe<=G}const J=this.validatePosition(x),le=this.getLineCount(),oe=new Map;let he=[];const K=(pe,ve)=>{if(!oe.has(pe)){let Le=[];for(let Ee=0,Te=ve?ve.brackets.length:0;Ee<Te;Ee++)Le[Ee]=0;oe.set(pe,Le)}he=oe.get(pe)};let re=0;const Y=(pe,ve,Le,Ee,Te)=>{for(;;){if(Q&&++re%100==0&&!Q())return A.INSTANCE;const De=w.BracketsUtils.findNextBracketInRange(pe.forwardRegex,ve,Le,Ee,Te);if(!De)break;const Ae=Le.substring(De.startColumn-1,De.endColumn-1).toLowerCase(),we=pe.textIsBracket[Ae];if(we&&(we.isOpen(Ae)?he[we.index]++:we.isClose(Ae)&&he[we.index]--,he[we.index]===-1))return this._matchFoundBracket(De,we,!1,Q);Ee=De.endColumn-1}return null};let se=-1,ge=null;for(let pe=J.lineNumber;pe<=le;pe++){const ve=this._getLineTokens(pe),Le=ve.getCount(),Ee=this._buffer.getLineContent(pe);let Te=0,De=0,Ae=0;if(pe===J.lineNumber){Te=ve.findTokenIndexAtOffset(J.column-1),De=J.column-1,Ae=J.column-1;const Se=ve.getLanguageId(Te);se!==Se&&(se=Se,ge=d.LanguageConfigurationRegistry.getBracketsSupport(se),K(se,ge))}let we=!0;for(;Te<Le;Te++){const Se=ve.getLanguageId(Te);if(se!==Se){if(ge&&we&&De!==Ae){const me=Y(ge,pe,Ee,De,Ae);if(me)return F(me);we=!1}se=Se,ge=d.LanguageConfigurationRegistry.getBracketsSupport(se),K(se,ge)}const ye=!!ge&&!p.ignoreBracketsInToken(ve.getStandardTokenType(Te));if(ye)we||(De=ve.getStartOffset(Te)),Ae=ve.getEndOffset(Te);else if(ge&&we&&De!==Ae){const me=Y(ge,pe,Ee,De,Ae);if(me)return F(me)}we=ye}if(ge&&we&&De!==Ae){const Se=Y(ge,pe,Ee,De,Ae);if(Se)return F(Se)}}return null}_toFoundBracket(x,G){if(!G)return null;let Q=this.getValueInRange(G);Q=Q.toLowerCase();let J=x.textIsBracket[Q];return J?{range:G,open:J.open,close:J.close,isOpen:x.textIsOpenBracket[Q]}:null}static computeIndentLevel(x,G){let Q=0,J=0,le=x.length;for(;J<le;){let oe=x.charCodeAt(J);if(oe===32)Q++;else if(oe===9)Q=Q-Q%G+G;else break;J++}return J===le?-1:Q}_computeIndentLevel(x){return E.computeIndentLevel(this._buffer.getLineContent(x+1),this._options.tabSize)}getActiveIndentGuide(x,G,Q){this._assertNotDisposed();const J=this.getLineCount();if(x<1||x>J)throw new Error("Illegal value for lineNumber");const le=d.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),oe=Boolean(le&&le.offSide);let he=-2,K=-1,re=-2,Y=-1;const se=me=>{if(he!==-1&&(he===-2||he>me-1)){he=-1,K=-1;for(let ce=me-2;ce>=0;ce--){let fe=this._computeIndentLevel(ce);if(fe>=0){he=ce,K=fe;break}}}if(re===-2){re=-1,Y=-1;for(let ce=me;ce<J;ce++){let fe=this._computeIndentLevel(ce);if(fe>=0){re=ce,Y=fe;break}}}};let ge=-2,pe=-1,ve=-2,Le=-1;const Ee=me=>{if(ge===-2){ge=-1,pe=-1;for(let ce=me-2;ce>=0;ce--){let fe=this._computeIndentLevel(ce);if(fe>=0){ge=ce,pe=fe;break}}}if(ve!==-1&&(ve===-2||ve<me-1)){ve=-1,Le=-1;for(let ce=me;ce<J;ce++){let fe=this._computeIndentLevel(ce);if(fe>=0){ve=ce,Le=fe;break}}}};let Te=0,De=!0,Ae=0,we=!0,Se=0,ye=0;for(let me=0;De||we;me++){const ce=x-me,fe=x+me;me>1&&(ce<1||ce<G)&&(De=!1),me>1&&(fe>J||fe>Q)&&(we=!1),me>5e4&&(De=!1,we=!1);let Ce=-1;if(De){const ke=this._computeIndentLevel(ce-1);ke>=0?(re=ce-1,Y=ke,Ce=Math.ceil(ke/this._options.indentSize)):(se(ce),Ce=this._getIndentLevelForWhitespaceLine(oe,K,Y))}let be=-1;if(we){const ke=this._computeIndentLevel(fe-1);ke>=0?(ge=fe-1,pe=ke,be=Math.ceil(ke/this._options.indentSize)):(Ee(fe),be=this._getIndentLevelForWhitespaceLine(oe,pe,Le))}if(me===0){ye=Ce;continue}if(me===1){if(fe<=J&&be>=0&&ye+1===be){De=!1,Te=fe,Ae=fe,Se=be;continue}if(ce>=1&&Ce>=0&&Ce-1===ye){we=!1,Te=ce,Ae=ce,Se=Ce;continue}if(Te=x,Ae=x,Se=ye,Se===0)return{startLineNumber:Te,endLineNumber:Ae,indent:Se}}De&&(Ce>=Se?Te=ce:De=!1),we&&(be>=Se?Ae=fe:we=!1)}return{startLineNumber:Te,endLineNumber:Ae,indent:Se}}getLinesIndentGuides(x,G){this._assertNotDisposed();const Q=this.getLineCount();if(x<1||x>Q)throw new Error("Illegal value for startLineNumber");if(G<1||G>Q)throw new Error("Illegal value for endLineNumber");const J=d.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),le=Boolean(J&&J.offSide);let oe=new Array(G-x+1),he=-2,K=-1,re=-2,Y=-1;for(let se=x;se<=G;se++){let ge=se-x;const pe=this._computeIndentLevel(se-1);if(pe>=0){he=se-1,K=pe,oe[ge]=Math.ceil(pe/this._options.indentSize);continue}if(he===-2){he=-1,K=-1;for(let ve=se-2;ve>=0;ve--){let Le=this._computeIndentLevel(ve);if(Le>=0){he=ve,K=Le;break}}}if(re!==-1&&(re===-2||re<se-1)){re=-1,Y=-1;for(let ve=se;ve<Q;ve++){let Le=this._computeIndentLevel(ve);if(Le>=0){re=ve,Y=Le;break}}}oe[ge]=this._getIndentLevelForWhitespaceLine(le,K,Y)}return oe}_getIndentLevelForWhitespaceLine(x,G,Q){return G===-1||Q===-1?0:G<Q?1+Math.floor(G/this._options.indentSize):G===Q?Math.ceil(Q/this._options.indentSize):x?Math.ceil(Q/this._options.indentSize):1+Math.floor(Q/this._options.indentSize)}normalizePosition(x,G){return x}getLineIndentColumn(x){return W(this.getLineContent(x))+1}}e.TextModel=E,E.MODEL_SYNC_LIMIT=50*1024*1024,E.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,E.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,E.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:m.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:m.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:m.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:m.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:m.EDITOR_MODEL_DEFAULTS.largeFileOptimizations};function W(ee){let x=0;for(const G of ee)if(G===" "||G==="	")x++;else break;return x}function V(ee){return!!(ee.options.overviewRuler&&ee.options.overviewRuler.color)}function U(ee){return!!ee.options.after||!!ee.options.before}class q{constructor(){this._decorationsTree0=new c.IntervalTree,this._decorationsTree1=new c.IntervalTree,this._injectedTextDecorationsTree=new c.IntervalTree}intervalSearch(x,G,Q,J,le){const oe=this._decorationsTree0.intervalSearch(x,G,Q,J,le),he=this._decorationsTree1.intervalSearch(x,G,Q,J,le),K=this._injectedTextDecorationsTree.intervalSearch(x,G,Q,J,le);return oe.concat(he).concat(K)}getInjectedTextInInterval(x,G,Q,J){return this._injectedTextDecorationsTree.intervalSearch(x,G,Q,!1,J)}getInjectedText(x,G){return this._injectedTextDecorationsTree.search(x,!1,G)}search(x,G,Q,J){if(Q)return this._decorationsTree1.search(x,G,J);{const le=this._decorationsTree0.search(x,G,J),oe=this._decorationsTree1.search(x,G,J),he=this._injectedTextDecorationsTree.search(x,G,J);return le.concat(oe).concat(he)}}collectNodesFromOwner(x){const G=this._decorationsTree0.collectNodesFromOwner(x),Q=this._decorationsTree1.collectNodesFromOwner(x),J=this._injectedTextDecorationsTree.collectNodesFromOwner(x);return G.concat(Q).concat(J)}collectNodesPostOrder(){const x=this._decorationsTree0.collectNodesPostOrder(),G=this._decorationsTree1.collectNodesPostOrder(),Q=this._injectedTextDecorationsTree.collectNodesPostOrder();return x.concat(G).concat(Q)}insert(x){U(x)?this._injectedTextDecorationsTree.insert(x):V(x)?this._decorationsTree1.insert(x):this._decorationsTree0.insert(x)}delete(x){U(x)?this._injectedTextDecorationsTree.delete(x):V(x)?this._decorationsTree1.delete(x):this._decorationsTree0.delete(x)}resolveNode(x,G){U(x)?this._injectedTextDecorationsTree.resolveNode(x,G):V(x)?this._decorationsTree1.resolveNode(x,G):this._decorationsTree0.resolveNode(x,G)}acceptReplace(x,G,Q,J){this._decorationsTree0.acceptReplace(x,G,Q,J),this._decorationsTree1.acceptReplace(x,G,Q,J),this._injectedTextDecorationsTree.acceptReplace(x,G,Q,J)}}function j(ee){return ee.replace(/[^a-z0-9\-_]/gi," ")}class te{constructor(x){this.color=x.color||"",this.darkColor=x.darkColor||""}}class ae extends te{constructor(x){super(x);this._resolvedColor=null,this.position=typeof x.position=="number"?x.position:s.OverviewRulerLane.Center}getColor(x){return this._resolvedColor||(x.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,x):this._resolvedColor=this._resolveColor(this.color,x)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(x,G){if(typeof x=="string")return x;let Q=x?G.getColor(x.id):null;return Q?Q.toString():""}}e.ModelDecorationOverviewRulerOptions=ae;class de extends te{constructor(x){super(x);this.position=x.position}getColor(x){return this._resolvedColor||(x.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,x):this._resolvedColor=this._resolveColor(this.color,x)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(x,G){return typeof x=="string"?g.Color.fromHex(x):G.getColor(x.id)}}e.ModelDecorationMinimapOptions=de;class ue{constructor(x){this.content=x||""}}e.ModelDecorationInjectedTextOptions=ue;class X{constructor(x){this.description=x.description,this.stickiness=x.stickiness||0,this.zIndex=x.zIndex||0,this.className=x.className?j(x.className):null,this.hoverMessage=x.hoverMessage||null,this.glyphMarginHoverMessage=x.glyphMarginHoverMessage||null,this.isWholeLine=x.isWholeLine||!1,this.showIfCollapsed=x.showIfCollapsed||!1,this.collapseOnReplaceEdit=x.collapseOnReplaceEdit||!1,this.overviewRuler=x.overviewRuler?new ae(x.overviewRuler):null,this.minimap=x.minimap?new de(x.minimap):null,this.glyphMarginClassName=x.glyphMarginClassName?j(x.glyphMarginClassName):null,this.linesDecorationsClassName=x.linesDecorationsClassName?j(x.linesDecorationsClassName):null,this.firstLineDecorationClassName=x.firstLineDecorationClassName?j(x.firstLineDecorationClassName):null,this.marginClassName=x.marginClassName?j(x.marginClassName):null,this.inlineClassName=x.inlineClassName?j(x.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=x.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=x.beforeContentClassName?j(x.beforeContentClassName):null,this.afterContentClassName=x.afterContentClassName?j(x.afterContentClassName):null,this.after=x.after?new ue(x.after.content):null,this.before=x.before?new ue(x.before.content):null}static register(x){return new X(x)}static createDynamic(x){return new X(x)}}e.ModelDecorationOptions=X,X.EMPTY=X.register({description:"empty"});const B=[X.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),X.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),X.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),X.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Z(ee){return ee instanceof X?ee:X.createDynamic(ee)}class H extends M.Disposable{constructor(x){super();this.handleBeforeFire=x,this._actual=this._register(new k.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var x;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const G={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(G)}(x=this._affectedInjectedTextLines)===null||x===void 0||x.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(x){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(x)}checkAffectedAndFire(x){this._affectsMinimap||(this._affectsMinimap=!!(x.minimap&&x.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(x.overviewRuler&&x.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=H;class z extends M.Disposable{constructor(){super();this._fastEmitter=this._register(new k.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new k.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(x=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=x;const G=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(G),this._slowEmitter.fire(G)}}fire(x){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(x):this._deferredEvent=x;return}this._fastEmitter.fire(x),this._slowEmitter.fire(x)}}e.DidChangeContentEmitter=z}),define(ie[39],ne([0,1,12,8,13,3,21,31,45]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.CursorColumns=e.EditOperationResult=e.CursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorContext=e.SingleCursorState=e.CursorConfiguration=void 0;const i=()=>!0,C=()=>!1,s=h=>h===" "||h==="	";class o{constructor(p,w,b){this._cursorMoveConfigurationBrand=void 0,this._languageIdentifier=p;const g=b.options,f=g.get(128);this.readOnly=g.get(78),this.tabSize=w.tabSize,this.indentSize=w.indentSize,this.insertSpaces=w.insertSpaces,this.stickyTabStops=g.get(102),this.lineHeight=g.get(56),this.pageSize=Math.max(1,Math.floor(f.height/this.lineHeight)-2),this.useTabStops=g.get(113),this.wordSeparators=g.get(114),this.emptySelectionClipboard=g.get(30),this.copyWithSyntaxHighlighting=g.get(19),this.multiCursorMergeOverlapping=g.get(66),this.multiCursorPaste=g.get(68),this.autoClosingBrackets=g.get(5),this.autoClosingQuotes=g.get(8),this.autoClosingDelete=g.get(6),this.autoClosingOvertype=g.get(7),this.autoSurround=g.get(11),this.autoIndent=g.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:o._getShouldAutoClose(p,this.autoClosingQuotes),bracket:o._getShouldAutoClose(p,this.autoClosingBrackets)},this.autoClosingPairs=v.LanguageConfigurationRegistry.getAutoClosingPairs(p.id);let y=o._getSurroundingPairs(p);if(y)for(const I of y)this.surroundingPairs[I.open]=I.close}static shouldRecreate(p){return p.hasChanged(128)||p.hasChanged(114)||p.hasChanged(30)||p.hasChanged(66)||p.hasChanged(68)||p.hasChanged(5)||p.hasChanged(8)||p.hasChanged(6)||p.hasChanged(7)||p.hasChanged(11)||p.hasChanged(113)||p.hasChanged(56)||p.hasChanged(78)}get electricChars(){if(!this._electricChars){this._electricChars={};let p=o._getElectricCharacters(this._languageIdentifier);if(p)for(const w of p)this._electricChars[w]=!0}return this._electricChars}normalizeIndentation(p){return m.TextModel.normalizeIndentation(p,this.indentSize,this.insertSpaces)}static _getElectricCharacters(p){try{return v.LanguageConfigurationRegistry.getElectricCharacters(p.id)}catch(w){return _.onUnexpectedError(w),null}}static _getShouldAutoClose(p,w){switch(w){case"beforeWhitespace":return s;case"languageDefined":return o._getLanguageDefinedShouldAutoClose(p);case"always":return i;case"never":return C}}static _getLanguageDefinedShouldAutoClose(p){try{const w=v.LanguageConfigurationRegistry.getAutoCloseBeforeSet(p.id);return b=>w.indexOf(b)!==-1}catch(w){return _.onUnexpectedError(w),C}}static _getSurroundingPairs(p){try{return v.LanguageConfigurationRegistry.getSurroundingPairs(p.id)}catch(w){return _.onUnexpectedError(w),null}}}e.CursorConfiguration=o;class a{constructor(p,w,b,g){this._singleCursorStateBrand=void 0,this.selectionStart=p,this.selectionStartLeftoverVisibleColumns=w,this.position=b,this.leftoverVisibleColumns=g,this.selection=a._computeSelection(this.selectionStart,this.position)}equals(p){return this.selectionStartLeftoverVisibleColumns===p.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===p.leftoverVisibleColumns&&this.position.equals(p.position)&&this.selectionStart.equalsRange(p.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(p,w,b,g){return p?new a(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new M.Position(w,b),g):new a(new L.Range(w,b,w,b),g,new M.Position(w,b),g)}static _computeSelection(p,w){let b,g,f,y;return p.isEmpty()?(b=p.startLineNumber,g=p.startColumn,f=w.lineNumber,y=w.column):w.isBeforeOrEqual(p.getStartPosition())?(b=p.endLineNumber,g=p.endColumn,f=w.lineNumber,y=w.column):(b=p.startLineNumber,g=p.startColumn,f=w.lineNumber,y=w.column),new S.Selection(b,g,f,y)}}e.SingleCursorState=a;class c{constructor(p,w,b){this._cursorContextBrand=void 0,this.model=p,this.coordinatesConverter=w,this.cursorConfig=b}}e.CursorContext=c;class u{constructor(p){this.modelState=p,this.viewState=null}}e.PartialModelCursorState=u;class r{constructor(p){this.modelState=null,this.viewState=p}}e.PartialViewCursorState=r;class n{constructor(p,w){this._cursorStateBrand=void 0,this.modelState=p,this.viewState=w}static fromModelState(p){return new u(p)}static fromViewState(p){return new r(p)}static fromModelSelection(p){const w=p.selectionStartLineNumber,b=p.selectionStartColumn,g=p.positionLineNumber,f=p.positionColumn,y=new a(new L.Range(w,b,w,b),0,new M.Position(g,f),0);return n.fromModelState(y)}static fromModelSelections(p){let w=[];for(let b=0,g=p.length;b<g;b++)w[b]=this.fromModelSelection(p[b]);return w}equals(p){return this.viewState.equals(p.viewState)&&this.modelState.equals(p.modelState)}}e.CursorState=n;class l{constructor(p,w,b){this._editOperationResultBrand=void 0,this.type=p,this.commands=w,this.shouldPushStackElementBefore=b.shouldPushStackElementBefore,this.shouldPushStackElementAfter=b.shouldPushStackElementAfter}}e.EditOperationResult=l;class t{static visibleColumnFromColumn(p,w,b){const g=p.length,f=w-1<g?w-1:g;let y=0,I=0;for(;I<f;){const N=k.getNextCodePoint(p,f,I);if(I+=N>=65536?2:1,N===9)y=t.nextRenderTabStop(y,b);else{let D=k.getGraphemeBreakType(N);for(;I<f;){const T=k.getNextCodePoint(p,f,I),P=k.getGraphemeBreakType(T);if(k.breakBetweenGraphemeBreakType(D,P))break;I+=T>=65536?2:1,D=P}k.isFullWidthCharacter(N)||k.isEmojiImprecise(N)?y=y+2:y=y+1}}return y}static visibleColumnsByColumns(p,w){const b=p.length;let g=new Array;g.push(-1);let f=0,y=0;for(;y<b;){const I=k.getNextCodePoint(p,b,y);if(y+=I>=65536?2:1,g.push(f),I>=65536&&g.push(f),I===9)f=t.nextRenderTabStop(f,w);else{let N=k.getGraphemeBreakType(I);for(;y<b;){const D=k.getNextCodePoint(p,b,y),T=k.getGraphemeBreakType(D);if(k.breakBetweenGraphemeBreakType(N,T))break;y+=D>=65536?2:1,g.push(f),I>=65536&&g.push(f),N=T}k.isFullWidthCharacter(I)||k.isEmojiImprecise(I)?f=f+2:f=f+1}}return g.push(f),g}static visibleColumnFromColumn2(p,w,b){return this.visibleColumnFromColumn(w.getLineContent(b.lineNumber),b.column,p.tabSize)}static columnFromVisibleColumn(p,w,b){if(w<=0)return 1;const g=p.length;let f=0,y=1,I=0;for(;I<g;){const N=k.getNextCodePoint(p,g,I);I+=N>=65536?2:1;let D;if(N===9)D=t.nextRenderTabStop(f,b);else{let P=k.getGraphemeBreakType(N);for(;I<g;){const R=k.getNextCodePoint(p,g,I),O=k.getGraphemeBreakType(R);if(k.breakBetweenGraphemeBreakType(P,O))break;I+=R>=65536?2:1,P=O}k.isFullWidthCharacter(N)||k.isEmojiImprecise(N)?D=f+2:D=f+1}const T=I+1;if(D>=w){const P=w-f;return D-w<P?T:y}f=D,y=T}return g+1}static columnFromVisibleColumn2(p,w,b,g){let f=this.columnFromVisibleColumn(w.getLineContent(b),g,p.tabSize),y=w.getLineMinColumn(b);if(f<y)return y;let I=w.getLineMaxColumn(b);return f>I?I:f}static nextRenderTabStop(p,w){return p+w-p%w}static nextIndentTabStop(p,w){return p+w-p%w}static prevRenderTabStop(p,w){return Math.max(0,p-1-(p-1)%w)}static prevIndentTabStop(p,w){return Math.max(0,p-1-(p-1)%w)}}e.CursorColumns=t;function d(h){return h==="'"||h==='"'||h==="`"}e.isQuote=d}),define(ie[184],ne([0,1,8,39,3,21,45]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const m=Object.create(null);function v(C,s){if(s<=0)return"";m[C]||(m[C]=["",C]);const o=m[C];for(let a=o.length;a<=s;a++)o[a]=o[a-1]+C;return o[s]}e.cachedStringRepeat=v;class i{constructor(s,o){this._opts=o,this._selection=s,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(s,o,a,c,u){const r=k.CursorColumns.visibleColumnFromColumn(s,o,a);if(u){const n=v(" ",c),t=k.CursorColumns.prevIndentTabStop(r,c)/c;return v(n,t)}else{const n="	",t=k.CursorColumns.prevRenderTabStop(r,a)/a;return v(n,t)}}static shiftIndent(s,o,a,c,u){const r=k.CursorColumns.visibleColumnFromColumn(s,o,a);if(u){const n=v(" ",c),t=k.CursorColumns.nextIndentTabStop(r,c)/c;return v(n,t)}else{const n="	",t=k.CursorColumns.nextRenderTabStop(r,a)/a;return v(n,t)}}_addEditOperation(s,o,a){this._useLastEditRangeForCursorEndPosition?s.addTrackedEditOperation(o,a):s.addEditOperation(o,a)}getEditOperations(s,o){const a=this._selection.startLineNumber;let c=this._selection.endLineNumber;this._selection.endColumn===1&&a!==c&&(c=c-1);const{tabSize:u,indentSize:r,insertSpaces:n}=this._opts,l=a===c;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(s.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);let t=0,d=0;for(let h=a;h<=c;h++,t=d){d=0;let p=s.getLineContent(h),w=_.firstNonWhitespaceIndex(p);if(this._opts.isUnshift&&(p.length===0||w===0)||!l&&!this._opts.isUnshift&&p.length===0)continue;if(w===-1&&(w=p.length),h>1&&k.CursorColumns.visibleColumnFromColumn(p,w+1,u)%r!=0&&s.isCheapToTokenize(h-1)){let f=S.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,s,new M.Range(h-1,s.getLineMaxColumn(h-1),h-1,s.getLineMaxColumn(h-1)));if(f){if(d=t,f.appendText)for(let y=0,I=f.appendText.length;y<I&&d<r&&f.appendText.charCodeAt(y)===32;y++)d++;f.removeText&&(d=Math.max(0,d-f.removeText));for(let y=0;y<d&&!(w===0||p.charCodeAt(w-1)!==32);y++)w--}}if(this._opts.isUnshift&&w===0)continue;let b;this._opts.isUnshift?b=i.unshiftIndent(p,w+1,u,r,n):b=i.shiftIndent(p,w+1,u,r,n),this._addEditOperation(o,new M.Range(h,1,h,w+1),b),h===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=w+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&s.getLineLength(a)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const t=n?v(" ",r):"	";for(let d=a;d<=c;d++){const h=s.getLineContent(d);let p=_.firstNonWhitespaceIndex(h);if(!(this._opts.isUnshift&&(h.length===0||p===0))&&!(!l&&!this._opts.isUnshift&&h.length===0)&&(p===-1&&(p=h.length),!(this._opts.isUnshift&&p===0)))if(this._opts.isUnshift){p=Math.min(p,r);for(let w=0;w<p;w++)if(h.charCodeAt(w)===9){p=w+1;break}this._addEditOperation(o,new M.Range(d,1,d,p+1),"")}else this._addEditOperation(o,new M.Range(d,1,d,1),t),d===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=o.trackSelection(this._selection)}computeCursorState(s,o){if(this._useLastEditRangeForCursorEndPosition){let c=o.getInverseEditOperations()[0];return new L.Selection(c.range.endLineNumber,c.range.endColumn,c.range.endLineNumber,c.range.endColumn)}const a=o.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let c=this._selection.startColumn;return a.startColumn<=c?a:a.getDirection()===0?new L.Selection(a.startLineNumber,c,a.endLineNumber,a.endColumn):new L.Selection(a.endLineNumber,a.endColumn,a.startLineNumber,c)}return a}}e.ShiftCommand=i}),define(ie[244],ne([0,1,39]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(L,S,m){const v=L.length;let i=0,C=-1,s=-1;for(let o=0;o<v;o++){if(o===S)return[C,s,i];switch(i%m==0&&(C=o,s=i),L.charCodeAt(o)){case 32:i+=1;break;case 9:i=_.CursorColumns.nextRenderTabStop(i,m);break;default:return[-1,-1,-1]}}return S===v?[C,s,i]:[-1,-1,-1]}static atomicPosition(L,S,m,v){const i=L.length,[C,s,o]=k.whitespaceVisibleColumn(L,S,m);if(o===-1)return-1;let a;switch(v){case 0:a=!0;break;case 1:a=!1;break;case 2:if(o%m==0)return S;a=o%m<=m/2;break}if(a){if(C===-1)return-1;let r=s;for(let n=C;n<i;++n){if(r===s+m)return C;switch(L.charCodeAt(n)){case 32:r+=1;break;case 9:r=_.CursorColumns.nextRenderTabStop(r,m);break;default:return-1}}return r===s+m?C:-1}const c=_.CursorColumns.nextRenderTabStop(o,m);let u=o;for(let r=S;r<i;r++){if(u===c)return r;switch(L.charCodeAt(r)){case 32:u+=1;break;case 9:u=_.CursorColumns.nextRenderTabStop(u,m);break;default:return-1}}return u===c?i:-1}}e.AtomicTabMoveOperations=k}),define(ie[550],ne([0,1,39,13,3]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class L{static columnSelect(m,v,i,C,s,o){let a=Math.abs(s-i)+1,c=i>s,u=C>o,r=C<o,n=[];for(let l=0;l<a;l++){let t=i+(c?-l:l),d=_.CursorColumns.columnFromVisibleColumn2(m,v,t,C),h=_.CursorColumns.columnFromVisibleColumn2(m,v,t,o),p=_.CursorColumns.visibleColumnFromColumn2(m,v,new k.Position(t,d)),w=_.CursorColumns.visibleColumnFromColumn2(m,v,new k.Position(t,h));r&&(p>o||w<C)||u&&(w>C||p<o)||n.push(new _.SingleCursorState(new M.Range(t,d,t,d),0,new k.Position(t,h),0))}if(n.length===0)for(let l=0;l<a;l++){const t=i+(c?-l:l),d=v.getLineMaxColumn(t);n.push(new _.SingleCursorState(new M.Range(t,d,t,d),0,new k.Position(t,d),0))}return{viewStates:n,reversed:c,fromLineNumber:i,fromVisualColumn:C,toLineNumber:s,toVisualColumn:o}}static columnSelectLeft(m,v,i){let C=i.toViewVisualColumn;return C>0&&C--,L.columnSelect(m,v,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,C)}static columnSelectRight(m,v,i){let C=0;const s=Math.min(i.fromViewLineNumber,i.toViewLineNumber),o=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let c=s;c<=o;c++){const u=v.getLineMaxColumn(c),r=_.CursorColumns.visibleColumnFromColumn2(m,v,new k.Position(c,u));C=Math.max(C,r)}let a=i.toViewVisualColumn;return a<C&&a++,this.columnSelect(m,v,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(m,v,i,C){const s=C?m.pageSize:1,o=Math.max(1,i.toViewLineNumber-s);return this.columnSelect(m,v,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}static columnSelectDown(m,v,i,C){const s=C?m.pageSize:1,o=Math.min(v.getLineCount(),i.toViewLineNumber+s);return this.columnSelect(m,v,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}}e.ColumnSelection=L}),define(ie[185],ne([0,1,39,13,3,8,244]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class m{constructor(C,s,o){this._cursorPositionBrand=void 0,this.lineNumber=C,this.column=s,this.leftoverVisibleColumns=o}}e.CursorPosition=m;class v{static leftPosition(C,s){if(s.column>C.getLineMinColumn(s.lineNumber))return s.delta(void 0,-L.prevCharLength(C.getLineContent(s.lineNumber),s.column-1));if(s.lineNumber>1){const o=s.lineNumber-1;return new k.Position(o,C.getLineMaxColumn(o))}else return s}static leftPositionAtomicSoftTabs(C,s,o){if(s.column<=C.getLineIndentColumn(s.lineNumber)){const a=C.getLineMinColumn(s.lineNumber),c=C.getLineContent(s.lineNumber),u=S.AtomicTabMoveOperations.atomicPosition(c,s.column-1,o,0);if(u!==-1&&u+1>=a)return new k.Position(s.lineNumber,u+1)}return this.leftPosition(C,s)}static left(C,s,o){const a=C.stickyTabStops?v.leftPositionAtomicSoftTabs(s,o,C.tabSize):v.leftPosition(s,o);return new m(a.lineNumber,a.column,0)}static moveLeft(C,s,o,a,c){let u,r;if(o.hasSelection()&&!a)u=o.selection.startLineNumber,r=o.selection.startColumn;else{const n=o.position.delta(void 0,-(c-1)),l=s.normalizePosition(v.clipPositionColumn(n,s),0),t=v.left(C,s,l);u=t.lineNumber,r=t.column}return o.move(a,u,r,0)}static clipPositionColumn(C,s){return new k.Position(C.lineNumber,v.clipRange(C.column,s.getLineMinColumn(C.lineNumber),s.getLineMaxColumn(C.lineNumber)))}static clipRange(C,s,o){return C<s?s:C>o?o:C}static rightPosition(C,s,o){return o<C.getLineMaxColumn(s)?o=o+L.nextCharLength(C.getLineContent(s),o-1):s<C.getLineCount()&&(s=s+1,o=C.getLineMinColumn(s)),new k.Position(s,o)}static rightPositionAtomicSoftTabs(C,s,o,a,c){if(o<C.getLineIndentColumn(s)){const u=C.getLineContent(s),r=S.AtomicTabMoveOperations.atomicPosition(u,o-1,a,1);if(r!==-1)return new k.Position(s,r+1)}return this.rightPosition(C,s,o)}static right(C,s,o){const a=C.stickyTabStops?v.rightPositionAtomicSoftTabs(s,o.lineNumber,o.column,C.tabSize,C.indentSize):v.rightPosition(s,o.lineNumber,o.column);return new m(a.lineNumber,a.column,0)}static moveRight(C,s,o,a,c){let u,r;if(o.hasSelection()&&!a)u=o.selection.endLineNumber,r=o.selection.endColumn;else{const n=o.position.delta(void 0,c-1),l=s.normalizePosition(v.clipPositionColumn(n,s),1),t=v.right(C,s,l);u=t.lineNumber,r=t.column}return o.move(a,u,r,0)}static down(C,s,o,a,c,u,r){const n=_.CursorColumns.visibleColumnFromColumn(s.getLineContent(o),a,C.tabSize)+c,l=s.getLineCount(),t=o===l&&a===s.getLineMaxColumn(o);return o=o+u,o>l?(o=l,r?a=s.getLineMaxColumn(o):a=Math.min(s.getLineMaxColumn(o),a)):a=_.CursorColumns.columnFromVisibleColumn2(C,s,o,n),t?c=0:c=n-_.CursorColumns.visibleColumnFromColumn(s.getLineContent(o),a,C.tabSize),new m(o,a,c)}static moveDown(C,s,o,a,c){let u,r;o.hasSelection()&&!a?(u=o.selection.endLineNumber,r=o.selection.endColumn):(u=o.position.lineNumber,r=o.position.column);let n=v.down(C,s,u,r,o.leftoverVisibleColumns,c,!0);return o.move(a,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateDown(C,s,o){let a=o.selection,c=v.down(C,s,a.selectionStartLineNumber,a.selectionStartColumn,o.selectionStartLeftoverVisibleColumns,1,!1),u=v.down(C,s,a.positionLineNumber,a.positionColumn,o.leftoverVisibleColumns,1,!1);return new _.SingleCursorState(new M.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new k.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static up(C,s,o,a,c,u,r){const n=_.CursorColumns.visibleColumnFromColumn(s.getLineContent(o),a,C.tabSize)+c,l=o===1&&a===1;return o=o-u,o<1?(o=1,r?a=s.getLineMinColumn(o):a=Math.min(s.getLineMaxColumn(o),a)):a=_.CursorColumns.columnFromVisibleColumn2(C,s,o,n),l?c=0:c=n-_.CursorColumns.visibleColumnFromColumn(s.getLineContent(o),a,C.tabSize),new m(o,a,c)}static moveUp(C,s,o,a,c){let u,r;o.hasSelection()&&!a?(u=o.selection.startLineNumber,r=o.selection.startColumn):(u=o.position.lineNumber,r=o.position.column);let n=v.up(C,s,u,r,o.leftoverVisibleColumns,c,!0);return o.move(a,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateUp(C,s,o){let a=o.selection,c=v.up(C,s,a.selectionStartLineNumber,a.selectionStartColumn,o.selectionStartLeftoverVisibleColumns,1,!1),u=v.up(C,s,a.positionLineNumber,a.positionColumn,o.leftoverVisibleColumns,1,!1);return new _.SingleCursorState(new M.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new k.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static _isBlankLine(C,s){return C.getLineFirstNonWhitespaceColumn(s)===0}static moveToPrevBlankLine(C,s,o,a){let c=o.position.lineNumber;for(;c>1&&this._isBlankLine(s,c);)c--;for(;c>1&&!this._isBlankLine(s,c);)c--;return o.move(a,c,s.getLineMinColumn(c),0)}static moveToNextBlankLine(C,s,o,a){const c=s.getLineCount();let u=o.position.lineNumber;for(;u<c&&this._isBlankLine(s,u);)u++;for(;u<c&&!this._isBlankLine(s,u);)u++;return o.move(a,u,s.getLineMinColumn(u),0)}static moveToBeginningOfLine(C,s,o,a){let c=o.position.lineNumber,u=s.getLineMinColumn(c),r=s.getLineFirstNonWhitespaceColumn(c)||u,n;return o.position.column===r?n=u:n=r,o.move(a,c,n,0)}static moveToEndOfLine(C,s,o,a,c){let u=o.position.lineNumber,r=s.getLineMaxColumn(u);return o.move(a,u,r,c?1073741824-r:0)}static moveToBeginningOfBuffer(C,s,o,a){return o.move(a,1,1,0)}static moveToEndOfBuffer(C,s,o,a){let c=s.getLineCount(),u=s.getLineMaxColumn(c);return o.move(a,c,u,0)}}e.MoveOperations=v}),define(ie[186],ne([0,1,8,95,39,185,3,13]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class v{static deleteRight(C,s,o,a){let c=[],u=C!==3;for(let r=0,n=a.length;r<n;r++){const l=a[r];let t=l;if(t.isEmpty()){let d=l.getPosition(),h=L.MoveOperations.right(s,o,d);t=new S.Range(h.lineNumber,h.column,d.lineNumber,d.column)}if(t.isEmpty()){c[r]=null;continue}t.startLineNumber!==t.endLineNumber&&(u=!0),c[r]=new k.ReplaceCommand(t,"")}return[u,c]}static isAutoClosingPairDelete(C,s,o,a,c,u,r){if(s==="never"&&o==="never"||C==="never")return!1;for(let n=0,l=u.length;n<l;n++){const t=u[n],d=t.getPosition();if(!t.isEmpty())return!1;const h=c.getLineContent(d.lineNumber);if(d.column<2||d.column>=h.length+1)return!1;const p=h.charAt(d.column-2),w=a.get(p);if(!w)return!1;if(M.isQuote(p)){if(o==="never")return!1}else if(s==="never")return!1;const b=h.charAt(d.column-1);let g=!1;for(const f of w)f.open===p&&f.close===b&&(g=!0);if(!g)return!1;if(C==="auto"){let f=!1;for(let y=0,I=r.length;y<I;y++){const N=r[y];if(d.lineNumber===N.startLineNumber&&d.column===N.startColumn){f=!0;break}}if(!f)return!1}}return!0}static _runAutoClosingPairDelete(C,s,o){let a=[];for(let c=0,u=o.length;c<u;c++){const r=o[c].getPosition(),n=new S.Range(r.lineNumber,r.column-1,r.lineNumber,r.column+1);a[c]=new k.ReplaceCommand(n,"")}return[!0,a]}static deleteLeft(C,s,o,a,c){if(this.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,o,a,c))return this._runAutoClosingPairDelete(s,o,a);const u=[];let r=C!==2;for(let n=0,l=a.length;n<l;n++){let t=v.getDeleteRange(a[n],o,s);if(t.isEmpty()){u[n]=null;continue}t.startLineNumber!==t.endLineNumber&&(r=!0),u[n]=new k.ReplaceCommand(t,"")}return[r,u]}static getDeleteRange(C,s,o){if(!C.isEmpty())return C;const a=C.getPosition();if(o.useTabStops&&a.column>1){const c=s.getLineContent(a.lineNumber),u=_.firstNonWhitespaceIndex(c),r=u===-1?c.length+1:u+1;if(a.column<=r){const n=M.CursorColumns.visibleColumnFromColumn2(o,s,a),l=M.CursorColumns.prevIndentTabStop(n,o.indentSize),t=M.CursorColumns.columnFromVisibleColumn2(o,s,a.lineNumber,l);return new S.Range(a.lineNumber,t,a.lineNumber,a.column)}}return S.Range.fromPositions(v.getPositionAfterDeleteLeft(a,s),a)}static getPositionAfterDeleteLeft(C,s){if(C.column>1){const o=_.getLeftDeleteOffset(C.column-1,s.getLineContent(C.lineNumber));return C.with(void 0,o+1)}else if(C.lineNumber>1){const o=C.lineNumber-1;return new m.Position(o,s.getLineMaxColumn(o))}else return C}static cut(C,s,o){let a=[];for(let c=0,u=o.length;c<u;c++){const r=o[c];if(r.isEmpty())if(C.emptySelectionClipboard){let n=r.getPosition(),l,t,d,h;n.lineNumber<s.getLineCount()?(l=n.lineNumber,t=1,d=n.lineNumber+1,h=1):n.lineNumber>1?(l=n.lineNumber-1,t=s.getLineMaxColumn(n.lineNumber-1),d=n.lineNumber,h=s.getLineMaxColumn(n.lineNumber)):(l=n.lineNumber,t=1,d=n.lineNumber,h=s.getLineMaxColumn(n.lineNumber));let p=new S.Range(l,t,d,h);p.isEmpty()?a[c]=null:a[c]=new k.ReplaceCommand(p,"")}else a[c]=null;else a[c]=new k.ReplaceCommand(r,"")}return new M.EditOperationResult(0,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=v}),define(ie[187],ne([0,1,12,8,95,184,377,39,108,3,21,112,45]),function($,e,_,k,M,L,S,m,v,i,C,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class a{static indent(d,h,p){if(h===null||p===null)return[];let w=[];for(let b=0,g=p.length;b<g;b++)w[b]=new L.ShiftCommand(p[b],{isUnshift:!1,tabSize:d.tabSize,indentSize:d.indentSize,insertSpaces:d.insertSpaces,useTabStops:d.useTabStops,autoIndent:d.autoIndent});return w}static outdent(d,h,p){let w=[];for(let b=0,g=p.length;b<g;b++)w[b]=new L.ShiftCommand(p[b],{isUnshift:!0,tabSize:d.tabSize,indentSize:d.indentSize,insertSpaces:d.insertSpaces,useTabStops:d.useTabStops,autoIndent:d.autoIndent});return w}static shiftIndent(d,h,p){return p=p||1,L.ShiftCommand.shiftIndent(h,h.length+p,d.tabSize,d.indentSize,d.insertSpaces)}static unshiftIndent(d,h,p){return p=p||1,L.ShiftCommand.unshiftIndent(h,h.length+p,d.tabSize,d.indentSize,d.insertSpaces)}static _distributedPaste(d,h,p,w){let b=[];for(let g=0,f=p.length;g<f;g++)b[g]=new M.ReplaceCommand(p[g],w[g]);return new m.EditOperationResult(0,b,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(d,h,p,w,b){let g=[];for(let f=0,y=p.length;f<y;f++){const I=p[f];let N=I.getPosition();if(b&&!I.isEmpty()&&(b=!1),b&&w.indexOf(`
`)!==w.length-1&&(b=!1),b){let D=new i.Range(N.lineNumber,1,N.lineNumber,1);g[f]=new M.ReplaceCommandThatPreservesSelection(D,w,I,!0)}else g[f]=new M.ReplaceCommand(I,w)}return new m.EditOperationResult(0,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(d,h,p,w,b){if(w||h.length===1)return null;if(b&&b.length===h.length)return b;if(d.multiCursorPaste==="spread"){p.charCodeAt(p.length-1)===10&&(p=p.substr(0,p.length-1)),p.charCodeAt(p.length-1)===13&&(p=p.substr(0,p.length-1));let g=k.splitLines(p);if(g.length===h.length)return g}return null}static paste(d,h,p,w,b,g){const f=this._distributePasteToCursors(d,p,w,b,g);return f?(p=p.sort(i.Range.compareRangesUsingStarts),this._distributedPaste(d,h,p,f)):this._simplePaste(d,h,p,w,b)}static _goodIndentForLine(d,h,p){let w=null,b="";const g=o.LanguageConfigurationRegistry.getInheritIndentForLine(d.autoIndent,h,p,!1);if(g)w=g.action,b=g.indentation;else if(p>1){let f;for(f=p-1;f>=1;f--){const N=h.getLineContent(f);if(k.lastNonWhitespaceIndex(N)>=0)break}if(f<1)return null;const y=h.getLineMaxColumn(f),I=o.LanguageConfigurationRegistry.getEnterAction(d.autoIndent,h,new i.Range(f,y,f,y));I&&(b=I.indentation+I.appendText)}return w&&(w===s.IndentAction.Indent&&(b=a.shiftIndent(d,b)),w===s.IndentAction.Outdent&&(b=a.unshiftIndent(d,b)),b=d.normalizeIndentation(b)),b||null}static _replaceJumpToNextIndent(d,h,p,w){let b="",g=p.getStartPosition();if(d.insertSpaces){let f=m.CursorColumns.visibleColumnFromColumn2(d,h,g),y=d.indentSize,I=y-f%y;for(let N=0;N<I;N++)b+=" "}else b="	";return new M.ReplaceCommand(p,b,w)}static tab(d,h,p){let w=[];for(let b=0,g=p.length;b<g;b++){const f=p[b];if(f.isEmpty()){let y=h.getLineContent(f.startLineNumber);if(/^\s*$/.test(y)&&h.isCheapToTokenize(f.startLineNumber)){let I=this._goodIndentForLine(d,h,f.startLineNumber);I=I||"	";let N=d.normalizeIndentation(I);if(!y.startsWith(N)){w[b]=new M.ReplaceCommand(new i.Range(f.startLineNumber,1,f.startLineNumber,y.length+1),N,!0);continue}}w[b]=this._replaceJumpToNextIndent(d,h,f,!0)}else{if(f.startLineNumber===f.endLineNumber){let y=h.getLineMaxColumn(f.startLineNumber);if(f.startColumn!==1||f.endColumn!==y){w[b]=this._replaceJumpToNextIndent(d,h,f,!1);continue}}w[b]=new L.ShiftCommand(f,{isUnshift:!1,tabSize:d.tabSize,indentSize:d.indentSize,insertSpaces:d.insertSpaces,useTabStops:d.useTabStops,autoIndent:d.autoIndent})}}return w}static compositionType(d,h,p,w,b,g,f,y){const I=w.map(N=>this._compositionType(p,N,b,g,f,y));return new m.EditOperationResult(4,I,{shouldPushStackElementBefore:r(d,4),shouldPushStackElementAfter:!1})}static _compositionType(d,h,p,w,b,g){if(!h.isEmpty())return null;const f=h.getPosition(),y=Math.max(1,f.column-w),I=Math.min(d.getLineMaxColumn(f.lineNumber),f.column+b),N=new i.Range(f.lineNumber,y,f.lineNumber,I);return d.getValueInRange(N)===p&&g===0?null:new M.ReplaceCommandWithOffsetCursorState(N,p,0,g)}static _typeCommand(d,h,p){return p?new M.ReplaceCommandWithoutChangingPosition(d,h,!0):new M.ReplaceCommand(d,h,!0)}static _enter(d,h,p,w){if(d.autoIndent===0)return a._typeCommand(w,`
`,p);if(!h.isCheapToTokenize(w.getStartPosition().lineNumber)||d.autoIndent===1){let y=h.getLineContent(w.startLineNumber),I=k.getLeadingWhitespace(y).substring(0,w.startColumn-1);return a._typeCommand(w,`
`+d.normalizeIndentation(I),p)}const b=o.LanguageConfigurationRegistry.getEnterAction(d.autoIndent,h,w);if(b){if(b.indentAction===s.IndentAction.None)return a._typeCommand(w,`
`+d.normalizeIndentation(b.indentation+b.appendText),p);if(b.indentAction===s.IndentAction.Indent)return a._typeCommand(w,`
`+d.normalizeIndentation(b.indentation+b.appendText),p);if(b.indentAction===s.IndentAction.IndentOutdent){const y=d.normalizeIndentation(b.indentation),I=d.normalizeIndentation(b.indentation+b.appendText),N=`
`+I+`
`+y;return p?new M.ReplaceCommandWithoutChangingPosition(w,N,!0):new M.ReplaceCommandWithOffsetCursorState(w,N,-1,I.length-y.length,!0)}else if(b.indentAction===s.IndentAction.Outdent){const y=a.unshiftIndent(d,b.indentation);return a._typeCommand(w,`
`+d.normalizeIndentation(y+b.appendText),p)}}const g=h.getLineContent(w.startLineNumber),f=k.getLeadingWhitespace(g).substring(0,w.startColumn-1);if(d.autoIndent>=4){const y=o.LanguageConfigurationRegistry.getIndentForEnter(d.autoIndent,h,w,{unshiftIndent:I=>a.unshiftIndent(d,I),shiftIndent:I=>a.shiftIndent(d,I),normalizeIndentation:I=>d.normalizeIndentation(I)});if(y){let I=m.CursorColumns.visibleColumnFromColumn2(d,h,w.getEndPosition());const N=w.endColumn,D=h.getLineContent(w.endLineNumber),T=k.firstNonWhitespaceIndex(D);if(T>=0?w=w.setEndPosition(w.endLineNumber,Math.max(w.endColumn,T+1)):w=w.setEndPosition(w.endLineNumber,h.getLineMaxColumn(w.endLineNumber)),p)return new M.ReplaceCommandWithoutChangingPosition(w,`
`+d.normalizeIndentation(y.afterEnter),!0);{let P=0;return N<=T+1&&(d.insertSpaces||(I=Math.ceil(I/d.indentSize)),P=Math.min(I+1-d.normalizeIndentation(y.afterEnter).length-1,0)),new M.ReplaceCommandWithOffsetCursorState(w,`
`+d.normalizeIndentation(y.afterEnter),0,P,!0)}}}return a._typeCommand(w,`
`+d.normalizeIndentation(f),p)}static _isAutoIndentType(d,h,p){if(d.autoIndent<4)return!1;for(let w=0,b=p.length;w<b;w++)if(!h.isCheapToTokenize(p[w].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(d,h,p,w){const b=o.LanguageConfigurationRegistry.getIndentationAtPosition(h,p.startLineNumber,p.startColumn),g=o.LanguageConfigurationRegistry.getIndentActionForType(d.autoIndent,h,p,w,{shiftIndent:f=>a.shiftIndent(d,f),unshiftIndent:f=>a.unshiftIndent(d,f)});if(g===null)return null;if(g!==d.normalizeIndentation(b)){const f=h.getLineFirstNonWhitespaceColumn(p.startLineNumber);return f===0?a._typeCommand(new i.Range(p.startLineNumber,1,p.endLineNumber,p.endColumn),d.normalizeIndentation(g)+w,!1):a._typeCommand(new i.Range(p.startLineNumber,1,p.endLineNumber,p.endColumn),d.normalizeIndentation(g)+h.getLineContent(p.startLineNumber).substring(f-1,p.startColumn-1)+w,!1)}return null}static _isAutoClosingOvertype(d,h,p,w,b){if(d.autoClosingOvertype==="never"||!d.autoClosingPairs.autoClosingPairsCloseSingleChar.has(b))return!1;for(let g=0,f=p.length;g<f;g++){const y=p[g];if(!y.isEmpty())return!1;const I=y.getPosition(),N=h.getLineContent(I.lineNumber);if(N.charAt(I.column-1)!==b)return!1;const T=m.isQuote(b);if((I.column>2?N.charCodeAt(I.column-2):0)===92&&T)return!1;if(d.autoClosingOvertype==="auto"){let R=!1;for(let O=0,A=w.length;O<A;O++){const F=w[O];if(I.lineNumber===F.startLineNumber&&I.column===F.startColumn){R=!0;break}}if(!R)return!1}}return!0}static _runAutoClosingOvertype(d,h,p,w,b){let g=[];for(let f=0,y=w.length;f<y;f++){const N=w[f].getPosition(),D=new i.Range(N.lineNumber,N.column,N.lineNumber,N.column+1);g[f]=new M.ReplaceCommand(D,b)}return new m.EditOperationResult(4,g,{shouldPushStackElementBefore:r(d,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(d,h){const p=h.charAt(0),w=d.autoClosingPairs.autoClosingPairsOpenByStart.get(p)||[],b=d.autoClosingPairs.autoClosingPairsCloseByStart.get(p)||[],g=w.some(y=>h.startsWith(y.open)),f=b.some(y=>h.startsWith(y.close));return!g&&f}static _findAutoClosingPairOpen(d,h,p,w){const b=d.autoClosingPairs.autoClosingPairsOpenByEnd.get(w);if(!b)return null;let g=null;for(const f of b)if(g===null||f.open.length>g.open.length){let y=!0;for(const I of p)if(h.getValueInRange(new i.Range(I.lineNumber,I.column-f.open.length+1,I.lineNumber,I.column))+w!==f.open){y=!1;break}y&&(g=f)}return g}static _findSubAutoClosingPairClose(d,h){if(h.open.length<=1)return"";const p=h.close.charAt(h.close.length-1),w=d.autoClosingPairs.autoClosingPairsCloseByEnd.get(p)||[];let b=null;for(const g of w)g.open!==h.open&&h.open.includes(g.open)&&h.close.endsWith(g.close)&&(!b||g.open.length>b.open.length)&&(b=g);return b?b.close:""}static _getAutoClosingPairClose(d,h,p,w,b){const g=m.isQuote(w),f=g?d.autoClosingQuotes:d.autoClosingBrackets;if(f==="never")return null;const y=this._findAutoClosingPairOpen(d,h,p.map(T=>T.getPosition()),w);if(!y)return null;const I=this._findSubAutoClosingPairClose(d,y);let N=!0;const D=g?d.shouldAutoCloseBefore.quote:d.shouldAutoCloseBefore.bracket;for(let T=0,P=p.length;T<P;T++){const R=p[T];if(!R.isEmpty())return null;const O=R.getPosition(),A=h.getLineContent(O.lineNumber),F=A.substring(O.column-1);if(F.startsWith(I)||(N=!1),A.length>O.column-1){const V=A.charAt(O.column-1);if(!a._isBeforeClosingBrace(d,F)&&!D(V))return null}if(!h.isCheapToTokenize(O.lineNumber))return null;if(y.open.length===1&&g&&f!=="always"){const V=v.getMapForWordSeparators(d.wordSeparators);if(b&&O.column>1&&V.get(A.charCodeAt(O.column-2))===0||!b&&O.column>2&&V.get(A.charCodeAt(O.column-3))===0)return null}h.forceTokenization(O.lineNumber);const E=h.getLineTokens(O.lineNumber);let W=!1;try{W=o.LanguageConfigurationRegistry.shouldAutoClosePair(y,E,b?O.column:O.column-1)}catch(V){_.onUnexpectedError(V)}if(!W)return null}return N?y.close.substring(0,y.close.length-I.length):y.close}static _runAutoClosingOpenCharType(d,h,p,w,b,g,f){let y=[];for(let I=0,N=w.length;I<N;I++){const D=w[I];y[I]=new c(D,b,g,f)}return new m.EditOperationResult(4,y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(d,h){return m.isQuote(h)?d.autoSurround==="quotes"||d.autoSurround==="languageDefined":d.autoSurround==="brackets"||d.autoSurround==="languageDefined"}static _isSurroundSelectionType(d,h,p,w){if(!a._shouldSurroundChar(d,w)||!d.surroundingPairs.hasOwnProperty(w))return!1;const b=m.isQuote(w);for(let g=0,f=p.length;g<f;g++){const y=p[g];if(y.isEmpty())return!1;let I=!0;for(let N=y.startLineNumber;N<=y.endLineNumber;N++){const D=h.getLineContent(N),T=N===y.startLineNumber?y.startColumn-1:0,P=N===y.endLineNumber?y.endColumn-1:D.length,R=D.substring(T,P);if(/[^ \t]/.test(R)){I=!1;break}}if(I)return!1;if(b&&y.startLineNumber===y.endLineNumber&&y.startColumn+1===y.endColumn){const N=h.getValueInRange(y);if(m.isQuote(N))return!1}}return!0}static _runSurroundSelectionType(d,h,p,w,b){let g=[];for(let f=0,y=w.length;f<y;f++){const I=w[f],N=h.surroundingPairs[b];g[f]=new S.SurroundSelectionCommand(I,b,N)}return new m.EditOperationResult(0,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(d,h,p){return!!(p.length===1&&h.isCheapToTokenize(p[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(d,h,p,w,b){if(!h.electricChars.hasOwnProperty(b)||!w.isEmpty())return null;let g=w.getPosition();p.forceTokenization(g.lineNumber);let f=p.getLineTokens(g.lineNumber),y;try{y=o.LanguageConfigurationRegistry.onElectricCharacter(b,f,g.column)}catch(I){return _.onUnexpectedError(I),null}if(!y)return null;if(y.matchOpenBracket){let I=(f.getLineContent()+b).lastIndexOf(y.matchOpenBracket)+1,N=p.findMatchingBracketUp(y.matchOpenBracket,{lineNumber:g.lineNumber,column:I});if(N){if(N.startLineNumber===g.lineNumber)return null;let D=p.getLineContent(N.startLineNumber),T=k.getLeadingWhitespace(D),P=h.normalizeIndentation(T),R=p.getLineContent(g.lineNumber),O=p.getLineFirstNonWhitespaceColumn(g.lineNumber)||g.column,A=R.substring(O-1,g.column-1),F=P+A+b,E=new i.Range(g.lineNumber,1,g.lineNumber,g.column);const W=new M.ReplaceCommand(E,F);return new m.EditOperationResult(u(F,d),[W],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(d,h,p,w,b,g){if(!w||C.Selection.selectionsArrEqual(w,b))return null;let f=null;for(const I of b){if(!I.isEmpty())return null;const N=I.getPosition(),D=p.getValueInRange(new i.Range(N.lineNumber,N.column-1,N.lineNumber,N.column));if(f===null)f=D;else if(f!==D)return null}if(!f)return null;if(this._isAutoClosingOvertype(h,p,b,g,f)){const I=b.map(N=>new M.ReplaceCommand(new i.Range(N.positionLineNumber,N.positionColumn,N.positionLineNumber,N.positionColumn+1),"",!1));return new m.EditOperationResult(4,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const y=this._getAutoClosingPairClose(h,p,b,f,!1);return y!==null?this._runAutoClosingOpenCharType(d,h,p,b,f,!1,y):null}static typeWithInterceptors(d,h,p,w,b,g,f){if(!d&&f===`
`){let N=[];for(let D=0,T=b.length;D<T;D++)N[D]=a._enter(p,w,!1,b[D]);return new m.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!d&&this._isAutoIndentType(p,w,b)){let N=[],D=!1;for(let T=0,P=b.length;T<P;T++)if(N[T]=this._runAutoIndentType(p,w,b[T],f),!N[T]){D=!0;break}if(!D)return new m.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!d&&this._isAutoClosingOvertype(p,w,b,g,f))return this._runAutoClosingOvertype(h,p,w,b,f);if(!d){const N=this._getAutoClosingPairClose(p,w,b,f,!0);if(N)return this._runAutoClosingOpenCharType(h,p,w,b,f,!0,N)}if(this._isSurroundSelectionType(p,w,b,f))return this._runSurroundSelectionType(h,p,w,b,f);if(!d&&this._isTypeInterceptorElectricChar(p,w,b)){const N=this._typeInterceptorElectricChar(h,p,w,b[0],f);if(N)return N}let y=[];for(let N=0,D=b.length;N<D;N++)y[N]=new M.ReplaceCommand(b[N],f);const I=u(f,h);return new m.EditOperationResult(I,y,{shouldPushStackElementBefore:r(h,I),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(d,h,p,w,b){let g=[];for(let y=0,I=w.length;y<I;y++)g[y]=new M.ReplaceCommand(w[y],b);const f=u(b,d);return new m.EditOperationResult(f,g,{shouldPushStackElementBefore:r(d,f),shouldPushStackElementAfter:!1})}static lineInsertBefore(d,h,p){if(h===null||p===null)return[];let w=[];for(let b=0,g=p.length;b<g;b++){let f=p[b].positionLineNumber;if(f===1)w[b]=new M.ReplaceCommandWithoutChangingPosition(new i.Range(1,1,1,1),`
`);else{f--;let y=h.getLineMaxColumn(f);w[b]=this._enter(d,h,!1,new i.Range(f,y,f,y))}}return w}static lineInsertAfter(d,h,p){if(h===null||p===null)return[];let w=[];for(let b=0,g=p.length;b<g;b++){const f=p[b].positionLineNumber;let y=h.getLineMaxColumn(f);w[b]=this._enter(d,h,!1,new i.Range(f,y,f,y))}return w}static lineBreakInsert(d,h,p){let w=[];for(let b=0,g=p.length;b<g;b++)w[b]=this._enter(d,h,!0,p[b]);return w}}e.TypeOperations=a;class c extends M.ReplaceCommandWithOffsetCursorState{constructor(d,h,p,w){super(d,(p?h:"")+w,0,-w.length);this._openCharacter=h,this._closeCharacter=w,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(d,h){let w=h.getInverseEditOperations()[0].range;return this.closeCharacterRange=new i.Range(w.startLineNumber,w.endColumn-this._closeCharacter.length,w.endLineNumber,w.endColumn),this.enclosingRange=new i.Range(w.startLineNumber,w.endColumn-this._openCharacter.length-this._closeCharacter.length,w.endLineNumber,w.endColumn),super.computeCursorState(d,h)}}e.TypeWithAutoClosingCommand=c;function u(t,d){return t===" "?d===5||d===6?6:5:4}function r(t,d){return l(t)&&!l(d)?!0:t===5?!1:n(t)!==n(d)}function n(t){return t===6||t===5?"space":t}function l(t){return t===4||t===5||t===6}}),define(ie[141],ne([0,1,8,39,186,108,13,3]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class v{static _createWord(o,a,c,u,r){return{start:u,end:r,wordType:a,nextCharClass:c}}static _findPreviousWordOnLine(o,a,c){let u=a.getLineContent(c.lineNumber);return this._doFindPreviousWordOnLine(u,o,c)}static _doFindPreviousWordOnLine(o,a,c){let u=0;for(let r=c.column-2;r>=0;r--){let n=o.charCodeAt(r),l=a.get(n);if(l===0){if(u===2)return this._createWord(o,u,l,r+1,this._findEndOfWord(o,a,u,r+1));u=1}else if(l===2){if(u===1)return this._createWord(o,u,l,r+1,this._findEndOfWord(o,a,u,r+1));u=2}else if(l===1&&u!==0)return this._createWord(o,u,l,r+1,this._findEndOfWord(o,a,u,r+1))}return u!==0?this._createWord(o,u,1,0,this._findEndOfWord(o,a,u,0)):null}static _findEndOfWord(o,a,c,u){let r=o.length;for(let n=u;n<r;n++){let l=o.charCodeAt(n),t=a.get(l);if(t===1||c===1&&t===2||c===2&&t===0)return n}return r}static _findNextWordOnLine(o,a,c){let u=a.getLineContent(c.lineNumber);return this._doFindNextWordOnLine(u,o,c)}static _doFindNextWordOnLine(o,a,c){let u=0,r=o.length;for(let n=c.column-1;n<r;n++){let l=o.charCodeAt(n),t=a.get(l);if(t===0){if(u===2)return this._createWord(o,u,t,this._findStartOfWord(o,a,u,n-1),n);u=1}else if(t===2){if(u===1)return this._createWord(o,u,t,this._findStartOfWord(o,a,u,n-1),n);u=2}else if(t===1&&u!==0)return this._createWord(o,u,t,this._findStartOfWord(o,a,u,n-1),n)}return u!==0?this._createWord(o,u,1,this._findStartOfWord(o,a,u,r-1),r):null}static _findStartOfWord(o,a,c,u){for(let r=u;r>=0;r--){let n=o.charCodeAt(r),l=a.get(n);if(l===1||c===1&&l===2||c===2&&l===0)return r+1}return 0}static moveWordLeft(o,a,c,u){let r=c.lineNumber,n=c.column;n===1&&r>1&&(r=r-1,n=a.getLineMaxColumn(r));let l=v._findPreviousWordOnLine(o,a,new S.Position(r,n));if(u===0)return new S.Position(r,l?l.start+1:1);if(u===1)return l&&l.wordType===2&&l.end-l.start==1&&l.nextCharClass===0&&(l=v._findPreviousWordOnLine(o,a,new S.Position(r,l.start+1))),new S.Position(r,l?l.start+1:1);if(u===3){for(;l&&l.wordType===2;)l=v._findPreviousWordOnLine(o,a,new S.Position(r,l.start+1));return new S.Position(r,l?l.start+1:1)}return l&&n<=l.end+1&&(l=v._findPreviousWordOnLine(o,a,new S.Position(r,l.start+1))),new S.Position(r,l?l.end+1:1)}static _moveWordPartLeft(o,a){const c=a.lineNumber,u=o.getLineMaxColumn(c);if(a.column===1)return c>1?new S.Position(c-1,o.getLineMaxColumn(c-1)):a;const r=o.getLineContent(c);for(let n=a.column-1;n>1;n--){const l=r.charCodeAt(n-2),t=r.charCodeAt(n-1);if(l===95&&t!==95)return new S.Position(c,n);if(_.isLowerAsciiLetter(l)&&_.isUpperAsciiLetter(t))return new S.Position(c,n);if(_.isUpperAsciiLetter(l)&&_.isUpperAsciiLetter(t)&&n+1<u){const d=r.charCodeAt(n);if(_.isLowerAsciiLetter(d))return new S.Position(c,n)}}return new S.Position(c,1)}static moveWordRight(o,a,c,u){let r=c.lineNumber,n=c.column,l=!1;n===a.getLineMaxColumn(r)&&r<a.getLineCount()&&(l=!0,r=r+1,n=1);let t=v._findNextWordOnLine(o,a,new S.Position(r,n));if(u===2)t&&t.wordType===2&&t.end-t.start==1&&t.nextCharClass===0&&(t=v._findNextWordOnLine(o,a,new S.Position(r,t.end+1))),t?n=t.end+1:n=a.getLineMaxColumn(r);else if(u===3){for(l&&(n=0);t&&(t.wordType===2||t.start+1<=n);)t=v._findNextWordOnLine(o,a,new S.Position(r,t.end+1));t?n=t.start+1:n=a.getLineMaxColumn(r)}else t&&!l&&n>=t.start+1&&(t=v._findNextWordOnLine(o,a,new S.Position(r,t.end+1))),t?n=t.start+1:n=a.getLineMaxColumn(r);return new S.Position(r,n)}static _moveWordPartRight(o,a){const c=a.lineNumber,u=o.getLineMaxColumn(c);if(a.column===u)return c<o.getLineCount()?new S.Position(c+1,1):a;const r=o.getLineContent(c);for(let n=a.column+1;n<u;n++){const l=r.charCodeAt(n-2),t=r.charCodeAt(n-1);if(l!==95&&t===95)return new S.Position(c,n);if(_.isLowerAsciiLetter(l)&&_.isUpperAsciiLetter(t))return new S.Position(c,n);if(_.isUpperAsciiLetter(l)&&_.isUpperAsciiLetter(t)&&n+1<u){const d=r.charCodeAt(n);if(_.isLowerAsciiLetter(d))return new S.Position(c,n)}}return new S.Position(c,u)}static _deleteWordLeftWhitespace(o,a){const c=o.getLineContent(a.lineNumber),u=a.column-2,r=_.lastNonWhitespaceIndex(c,u);return r+1<u?new m.Range(a.lineNumber,r+2,a.lineNumber,a.column):null}static deleteWordLeft(o,a){const c=o.wordSeparators,u=o.model,r=o.selection,n=o.whitespaceHeuristics;if(!r.isEmpty())return r;if(M.DeleteOperations.isAutoClosingPairDelete(o.autoClosingDelete,o.autoClosingBrackets,o.autoClosingQuotes,o.autoClosingPairs.autoClosingPairsOpenByEnd,o.model,[o.selection],o.autoClosedCharacters)){const p=o.selection.getPosition();return new m.Range(p.lineNumber,p.column-1,p.lineNumber,p.column+1)}const l=new S.Position(r.positionLineNumber,r.positionColumn);let t=l.lineNumber,d=l.column;if(t===1&&d===1)return null;if(n){let p=this._deleteWordLeftWhitespace(u,l);if(p)return p}let h=v._findPreviousWordOnLine(c,u,l);return a===0?h?d=h.start+1:d>1?d=1:(t--,d=u.getLineMaxColumn(t)):(h&&d<=h.end+1&&(h=v._findPreviousWordOnLine(c,u,new S.Position(t,h.start+1))),h?d=h.end+1:d>1?d=1:(t--,d=u.getLineMaxColumn(t))),new m.Range(t,d,l.lineNumber,l.column)}static deleteInsideWord(o,a,c){if(!c.isEmpty())return c;const u=new S.Position(c.positionLineNumber,c.positionColumn);let r=this._deleteInsideWordWhitespace(a,u);return r||this._deleteInsideWordDetermineDeleteRange(o,a,u)}static _charAtIsWhitespace(o,a){const c=o.charCodeAt(a);return c===32||c===9}static _deleteInsideWordWhitespace(o,a){const c=o.getLineContent(a.lineNumber),u=c.length;if(u===0)return null;let r=Math.max(a.column-2,0);if(!this._charAtIsWhitespace(c,r))return null;let n=Math.min(a.column-1,u-1);if(!this._charAtIsWhitespace(c,n))return null;for(;r>0&&this._charAtIsWhitespace(c,r-1);)r--;for(;n+1<u&&this._charAtIsWhitespace(c,n+1);)n++;return new m.Range(a.lineNumber,r+1,a.lineNumber,n+2)}static _deleteInsideWordDetermineDeleteRange(o,a,c){const u=a.getLineContent(c.lineNumber),r=u.length;if(r===0)return c.lineNumber>1?new m.Range(c.lineNumber-1,a.getLineMaxColumn(c.lineNumber-1),c.lineNumber,1):c.lineNumber<a.getLineCount()?new m.Range(c.lineNumber,1,c.lineNumber+1,1):new m.Range(c.lineNumber,1,c.lineNumber,1);const n=p=>p.start+1<=c.column&&c.column<=p.end+1,l=(p,w)=>(p=Math.min(p,c.column),w=Math.max(w,c.column),new m.Range(c.lineNumber,p,c.lineNumber,w)),t=p=>{let w=p.start+1,b=p.end+1,g=!1;for(;b-1<r&&this._charAtIsWhitespace(u,b-1);)g=!0,b++;if(!g)for(;w>1&&this._charAtIsWhitespace(u,w-2);)w--;return l(w,b)},d=v._findPreviousWordOnLine(o,a,c);if(d&&n(d))return t(d);const h=v._findNextWordOnLine(o,a,c);return h&&n(h)?t(h):d&&h?l(d.end+1,h.start+1):d?l(d.start+1,d.end+1):h?l(h.start+1,h.end+1):l(1,r+1)}static _deleteWordPartLeft(o,a){if(!a.isEmpty())return a;const c=a.getPosition(),u=v._moveWordPartLeft(o,c);return new m.Range(c.lineNumber,c.column,u.lineNumber,u.column)}static _findFirstNonWhitespaceChar(o,a){let c=o.length;for(let u=a;u<c;u++){let r=o.charAt(u);if(r!==" "&&r!=="	")return u}return c}static _deleteWordRightWhitespace(o,a){const c=o.getLineContent(a.lineNumber),u=a.column-1,r=this._findFirstNonWhitespaceChar(c,u);return u+1<r?new m.Range(a.lineNumber,a.column,a.lineNumber,r+1):null}static deleteWordRight(o,a){const c=o.wordSeparators,u=o.model,r=o.selection,n=o.whitespaceHeuristics;if(!r.isEmpty())return r;const l=new S.Position(r.positionLineNumber,r.positionColumn);let t=l.lineNumber,d=l.column;const h=u.getLineCount(),p=u.getLineMaxColumn(t);if(t===h&&d===p)return null;if(n){let b=this._deleteWordRightWhitespace(u,l);if(b)return b}let w=v._findNextWordOnLine(c,u,l);return a===2?w?d=w.end+1:d<p||t===h?d=p:(t++,w=v._findNextWordOnLine(c,u,new S.Position(t,1)),w?d=w.start+1:d=u.getLineMaxColumn(t)):(w&&d>=w.start+1&&(w=v._findNextWordOnLine(c,u,new S.Position(t,w.end+1))),w?d=w.start+1:d<p||t===h?d=p:(t++,w=v._findNextWordOnLine(c,u,new S.Position(t,1)),w?d=w.start+1:d=u.getLineMaxColumn(t))),new m.Range(t,d,l.lineNumber,l.column)}static _deleteWordPartRight(o,a){if(!a.isEmpty())return a;const c=a.getPosition(),u=v._moveWordPartRight(o,c);return new m.Range(c.lineNumber,c.column,u.lineNumber,u.column)}static _createWordAtPosition(o,a,c){const u=new m.Range(a,c.start+1,a,c.end+1);return{word:o.getValueInRange(u),startColumn:u.startColumn,endColumn:u.endColumn}}static getWordAtPosition(o,a,c){const u=L.getMapForWordSeparators(a),r=v._findPreviousWordOnLine(u,o,c);if(r&&r.wordType===1&&r.start<=c.column-1&&c.column-1<=r.end)return v._createWordAtPosition(o,c.lineNumber,r);const n=v._findNextWordOnLine(u,o,c);return n&&n.wordType===1&&n.start<=c.column-1&&c.column-1<=n.end?v._createWordAtPosition(o,c.lineNumber,n):null}static word(o,a,c,u,r){const n=L.getMapForWordSeparators(o.wordSeparators);let l=v._findPreviousWordOnLine(n,a,r),t=v._findNextWordOnLine(n,a,r);if(!u){let b,g;return l&&l.wordType===1&&l.start<=r.column-1&&r.column-1<=l.end?(b=l.start+1,g=l.end+1):t&&t.wordType===1&&t.start<=r.column-1&&r.column-1<=t.end?(b=t.start+1,g=t.end+1):(l?b=l.end+1:b=1,t?g=t.start+1:g=a.getLineMaxColumn(r.lineNumber)),new k.SingleCursorState(new m.Range(r.lineNumber,b,r.lineNumber,g),0,new S.Position(r.lineNumber,g),0)}let d,h;l&&l.wordType===1&&l.start<r.column-1&&r.column-1<l.end?(d=l.start+1,h=l.end+1):t&&t.wordType===1&&t.start<r.column-1&&r.column-1<t.end?(d=t.start+1,h=t.end+1):(d=r.column,h=r.column);let p=r.lineNumber,w;if(c.selectionStart.containsPosition(r))w=c.selectionStart.endColumn;else if(r.isBeforeOrEqual(c.selectionStart.getStartPosition())){w=d;let b=new S.Position(p,w);c.selectionStart.containsPosition(b)&&(w=c.selectionStart.endColumn)}else{w=h;let b=new S.Position(p,w);c.selectionStart.containsPosition(b)&&(w=c.selectionStart.startColumn)}return c.move(!0,p,w,0)}}e.WordOperations=v;class i extends v{static deleteWordPartLeft(o){const a=C([v.deleteWordLeft(o,0),v.deleteWordLeft(o,2),v._deleteWordPartLeft(o.model,o.selection)]);return a.sort(m.Range.compareRangesUsingEnds),a[2]}static deleteWordPartRight(o){const a=C([v.deleteWordRight(o,0),v.deleteWordRight(o,2),v._deleteWordPartRight(o.model,o.selection)]);return a.sort(m.Range.compareRangesUsingStarts),a[0]}static moveWordPartLeft(o,a,c){const u=C([v.moveWordLeft(o,a,c,0),v.moveWordLeft(o,a,c,2),v._moveWordPartLeft(a,c)]);return u.sort(S.Position.compare),u[2]}static moveWordPartRight(o,a,c){const u=C([v.moveWordRight(o,a,c,0),v.moveWordRight(o,a,c,2),v._moveWordPartRight(a,c)]);return u.sort(S.Position.compare),u[0]}}e.WordPartOperations=i;function C(s){return s.filter(o=>Boolean(o))}}),define(ie[245],ne([0,1,20,39,185,141,13,3]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class v{static addCursorDown(s,o,a){let c=[],u=0;for(let r=0,n=o.length;r<n;r++){const l=o[r];c[u++]=new k.CursorState(l.modelState,l.viewState),a?c[u++]=k.CursorState.fromModelState(M.MoveOperations.translateDown(s.cursorConfig,s.model,l.modelState)):c[u++]=k.CursorState.fromViewState(M.MoveOperations.translateDown(s.cursorConfig,s,l.viewState))}return c}static addCursorUp(s,o,a){let c=[],u=0;for(let r=0,n=o.length;r<n;r++){const l=o[r];c[u++]=new k.CursorState(l.modelState,l.viewState),a?c[u++]=k.CursorState.fromModelState(M.MoveOperations.translateUp(s.cursorConfig,s.model,l.modelState)):c[u++]=k.CursorState.fromViewState(M.MoveOperations.translateUp(s.cursorConfig,s,l.viewState))}return c}static moveToBeginningOfLine(s,o,a){let c=[];for(let u=0,r=o.length;u<r;u++){const n=o[u];c[u]=this._moveToLineStart(s,n,a)}return c}static _moveToLineStart(s,o,a){const c=o.viewState.position.column,u=o.modelState.position.column,r=c===u,n=o.viewState.position.lineNumber,l=s.getLineFirstNonWhitespaceColumn(n);return!r&&!(c===l)?this._moveToLineStartByView(s,o,a):this._moveToLineStartByModel(s,o,a)}static _moveToLineStartByView(s,o,a){return k.CursorState.fromViewState(M.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s,o.viewState,a))}static _moveToLineStartByModel(s,o,a){return k.CursorState.fromModelState(M.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s.model,o.modelState,a))}static moveToEndOfLine(s,o,a,c){let u=[];for(let r=0,n=o.length;r<n;r++){const l=o[r];u[r]=this._moveToLineEnd(s,l,a,c)}return u}static _moveToLineEnd(s,o,a,c){const u=o.viewState.position,r=s.getLineMaxColumn(u.lineNumber),n=u.column===r,l=o.modelState.position,t=s.model.getLineMaxColumn(l.lineNumber),d=r-u.column==t-l.column;return n||d?this._moveToLineEndByModel(s,o,a,c):this._moveToLineEndByView(s,o,a,c)}static _moveToLineEndByView(s,o,a,c){return k.CursorState.fromViewState(M.MoveOperations.moveToEndOfLine(s.cursorConfig,s,o.viewState,a,c))}static _moveToLineEndByModel(s,o,a,c){return k.CursorState.fromModelState(M.MoveOperations.moveToEndOfLine(s.cursorConfig,s.model,o.modelState,a,c))}static expandLineSelection(s,o){let a=[];for(let c=0,u=o.length;c<u;c++){const r=o[c],n=r.modelState.selection.startLineNumber,l=s.model.getLineCount();let t=r.modelState.selection.endLineNumber,d;t===l?d=s.model.getLineMaxColumn(l):(t++,d=1),a[c]=k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(n,1,n,1),0,new S.Position(t,d),0))}return a}static moveToBeginningOfBuffer(s,o,a){let c=[];for(let u=0,r=o.length;u<r;u++){const n=o[u];c[u]=k.CursorState.fromModelState(M.MoveOperations.moveToBeginningOfBuffer(s.cursorConfig,s.model,n.modelState,a))}return c}static moveToEndOfBuffer(s,o,a){let c=[];for(let u=0,r=o.length;u<r;u++){const n=o[u];c[u]=k.CursorState.fromModelState(M.MoveOperations.moveToEndOfBuffer(s.cursorConfig,s.model,n.modelState,a))}return c}static selectAll(s,o){const a=s.model.getLineCount(),c=s.model.getLineMaxColumn(a);return k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(1,1,1,1),0,new S.Position(a,c),0))}static line(s,o,a,c,u){const r=s.model.validatePosition(c),n=u?s.coordinatesConverter.validateViewPosition(new S.Position(u.lineNumber,u.column),r):s.coordinatesConverter.convertModelPositionToViewPosition(r);if(!a||!o.modelState.hasSelection()){const t=s.model.getLineCount();let d=r.lineNumber+1,h=1;return d>t&&(d=t,h=s.model.getLineMaxColumn(d)),k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(r.lineNumber,1,d,h),0,new S.Position(d,h),0))}const l=o.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<l)return k.CursorState.fromViewState(o.viewState.move(o.modelState.hasSelection(),n.lineNumber,1,0));if(r.lineNumber>l){const t=s.getLineCount();let d=n.lineNumber+1,h=1;return d>t&&(d=t,h=s.getLineMaxColumn(d)),k.CursorState.fromViewState(o.viewState.move(o.modelState.hasSelection(),d,h,0))}else{const t=o.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(o.modelState.move(o.modelState.hasSelection(),t.lineNumber,t.column,0))}}static word(s,o,a,c){const u=s.model.validatePosition(c);return k.CursorState.fromModelState(L.WordOperations.word(s.cursorConfig,s.model,o.modelState,a,u))}static cancelSelection(s,o){if(!o.modelState.hasSelection())return new k.CursorState(o.modelState,o.viewState);const a=o.viewState.position.lineNumber,c=o.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new m.Range(a,c,a,c),0,new S.Position(a,c),0))}static moveTo(s,o,a,c,u){const r=s.model.validatePosition(c),n=u?s.coordinatesConverter.validateViewPosition(new S.Position(u.lineNumber,u.column),r):s.coordinatesConverter.convertModelPositionToViewPosition(r);return k.CursorState.fromViewState(o.viewState.move(a,n.lineNumber,n.column,0))}static simpleMove(s,o,a,c,u,r){switch(a){case 0:return r===4?this._moveHalfLineLeft(s,o,c):this._moveLeft(s,o,c,u);case 1:return r===4?this._moveHalfLineRight(s,o,c):this._moveRight(s,o,c,u);case 2:return r===2?this._moveUpByViewLines(s,o,c,u):this._moveUpByModelLines(s,o,c,u);case 3:return r===2?this._moveDownByViewLines(s,o,c,u):this._moveDownByModelLines(s,o,c,u);case 4:return r===2?o.map(n=>k.CursorState.fromViewState(M.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s,n.viewState,c))):o.map(n=>k.CursorState.fromModelState(M.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s.model,n.modelState,c)));case 5:return r===2?o.map(n=>k.CursorState.fromViewState(M.MoveOperations.moveToNextBlankLine(s.cursorConfig,s,n.viewState,c))):o.map(n=>k.CursorState.fromModelState(M.MoveOperations.moveToNextBlankLine(s.cursorConfig,s.model,n.modelState,c)));case 6:return this._moveToViewMinColumn(s,o,c);case 7:return this._moveToViewFirstNonWhitespaceColumn(s,o,c);case 8:return this._moveToViewCenterColumn(s,o,c);case 9:return this._moveToViewMaxColumn(s,o,c);case 10:return this._moveToViewLastNonWhitespaceColumn(s,o,c);default:return null}}static viewportMove(s,o,a,c,u){const r=s.getCompletelyVisibleViewRange(),n=s.coordinatesConverter.convertViewRangeToModelRange(r);switch(a){case 11:{const l=this._firstLineNumberInRange(s.model,n,u),t=s.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(s,o[0],c,l,t)]}case 13:{const l=this._lastLineNumberInRange(s.model,n,u),t=s.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(s,o[0],c,l,t)]}case 12:{const l=Math.round((n.startLineNumber+n.endLineNumber)/2),t=s.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(s,o[0],c,l,t)]}case 14:{let l=[];for(let t=0,d=o.length;t<d;t++){const h=o[t];l[t]=this.findPositionInViewportIfOutside(s,h,r,c)}return l}default:return null}}static findPositionInViewportIfOutside(s,o,a,c){let u=o.viewState.position.lineNumber;if(a.startLineNumber<=u&&u<=a.endLineNumber-1)return new k.CursorState(o.modelState,o.viewState);{u>a.endLineNumber-1&&(u=a.endLineNumber-1),u<a.startLineNumber&&(u=a.startLineNumber);const r=s.getLineFirstNonWhitespaceColumn(u);return this._moveToViewPosition(s,o,c,u,r)}}static _firstLineNumberInRange(s,o,a){let c=o.startLineNumber;return o.startColumn!==s.getLineMinColumn(c)&&c++,Math.min(o.endLineNumber,c+a-1)}static _lastLineNumberInRange(s,o,a){let c=o.startLineNumber;return o.startColumn!==s.getLineMinColumn(c)&&c++,Math.max(c,o.endLineNumber-a+1)}static _moveLeft(s,o,a,c){return o.map(u=>k.CursorState.fromViewState(M.MoveOperations.moveLeft(s.cursorConfig,s,u.viewState,a,c)))}static _moveHalfLineLeft(s,o,a){let c=[];for(let u=0,r=o.length;u<r;u++){const n=o[u],l=n.viewState.position.lineNumber,t=Math.round(s.getLineContent(l).length/2);c[u]=k.CursorState.fromViewState(M.MoveOperations.moveLeft(s.cursorConfig,s,n.viewState,a,t))}return c}static _moveRight(s,o,a,c){return o.map(u=>k.CursorState.fromViewState(M.MoveOperations.moveRight(s.cursorConfig,s,u.viewState,a,c)))}static _moveHalfLineRight(s,o,a){let c=[];for(let u=0,r=o.length;u<r;u++){const n=o[u],l=n.viewState.position.lineNumber,t=Math.round(s.getLineContent(l).length/2);c[u]=k.CursorState.fromViewState(M.MoveOperations.moveRight(s.cursorConfig,s,n.viewState,a,t))}return c}static _moveDownByViewLines(s,o,a,c){let u=[];for(let r=0,n=o.length;r<n;r++){const l=o[r];u[r]=k.CursorState.fromViewState(M.MoveOperations.moveDown(s.cursorConfig,s,l.viewState,a,c))}return u}static _moveDownByModelLines(s,o,a,c){let u=[];for(let r=0,n=o.length;r<n;r++){const l=o[r];u[r]=k.CursorState.fromModelState(M.MoveOperations.moveDown(s.cursorConfig,s.model,l.modelState,a,c))}return u}static _moveUpByViewLines(s,o,a,c){let u=[];for(let r=0,n=o.length;r<n;r++){const l=o[r];u[r]=k.CursorState.fromViewState(M.MoveOperations.moveUp(s.cursorConfig,s,l.viewState,a,c))}return u}static _moveUpByModelLines(s,o,a,c){let u=[];for(let r=0,n=o.length;r<n;r++){const l=o[r];u[r]=k.CursorState.fromModelState(M.MoveOperations.moveUp(s.cursorConfig,s.model,l.modelState,a,c))}return u}static _moveToViewPosition(s,o,a,c,u){return k.CursorState.fromViewState(o.viewState.move(a,c,u,0))}static _moveToModelPosition(s,o,a,c,u){return k.CursorState.fromModelState(o.modelState.move(a,c,u,0))}static _moveToViewMinColumn(s,o,a){let c=[];for(let u=0,r=o.length;u<r;u++){const n=o[u],l=n.viewState.position.lineNumber,t=s.getLineMinColumn(l);c[u]=this._moveToViewPosition(s,n,a,l,t)}return c}static _moveToViewFirstNonWhitespaceColumn(s,o,a){let c=[];for(let u=0,r=o.length;u<r;u++){const n=o[u],l=n.viewState.position.lineNumber,t=s.getLineFirstNonWhitespaceColumn(l);c[u]=this._moveToViewPosition(s,n,a,l,t)}return c}static _moveToViewCenterColumn(s,o,a){let c=[];for(let u=0,r=o.length;u<r;u++){const n=o[u],l=n.viewState.position.lineNumber,t=Math.round((s.getLineMaxColumn(l)+s.getLineMinColumn(l))/2);c[u]=this._moveToViewPosition(s,n,a,l,t)}return c}static _moveToViewMaxColumn(s,o,a){let c=[];for(let u=0,r=o.length;u<r;u++){const n=o[u],l=n.viewState.position.lineNumber,t=s.getLineMaxColumn(l);c[u]=this._moveToViewPosition(s,n,a,l,t)}return c}static _moveToViewLastNonWhitespaceColumn(s,o,a){let c=[];for(let u=0,r=o.length;u<r;u++){const n=o[u],l=n.viewState.position.lineNumber,t=s.getLineLastNonWhitespaceColumn(l);c[u]=this._moveToViewPosition(s,n,a,l,t)}return c}}e.CursorMoveCommands=v;var i;(function(C){const s=function(a){if(!_.isObject(a))return!1;let c=a;return!(!_.isString(c.to)||!_.isUndefined(c.select)&&!_.isBoolean(c.select)||!_.isUndefined(c.by)&&!_.isString(c.by)||!_.isUndefined(c.value)&&!_.isNumber(c.value))};C.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:s,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},C.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},C.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function o(a){if(!a.to)return null;let c;switch(a.to){case C.RawDirection.Left:c=0;break;case C.RawDirection.Right:c=1;break;case C.RawDirection.Up:c=2;break;case C.RawDirection.Down:c=3;break;case C.RawDirection.PrevBlankLine:c=4;break;case C.RawDirection.NextBlankLine:c=5;break;case C.RawDirection.WrappedLineStart:c=6;break;case C.RawDirection.WrappedLineFirstNonWhitespaceCharacter:c=7;break;case C.RawDirection.WrappedLineColumnCenter:c=8;break;case C.RawDirection.WrappedLineEnd:c=9;break;case C.RawDirection.WrappedLineLastNonWhitespaceCharacter:c=10;break;case C.RawDirection.ViewPortTop:c=11;break;case C.RawDirection.ViewPortBottom:c=13;break;case C.RawDirection.ViewPortCenter:c=12;break;case C.RawDirection.ViewPortIfOutside:c=14;break;default:return null}let u=0;switch(a.by){case C.RawUnit.Line:u=1;break;case C.RawUnit.WrappedLine:u=2;break;case C.RawUnit.Character:u=3;break;case C.RawUnit.HalfLine:u=4;break}return{direction:c,unit:u,select:!!a.select,value:a.value||1}}C.parse=o})(i=e.CursorMove||(e.CursorMove={}))}),define(ie[551],ne([0,1,39,13,3,21]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class S{constructor(v){this._selTrackedRange=null,this._trackSelection=!0,this._setState(v,new _.SingleCursorState(new M.Range(1,1,1,1),0,new k.Position(1,1),0),new _.SingleCursorState(new M.Range(1,1,1,1),0,new k.Position(1,1),0))}dispose(v){this._removeTrackedRange(v)}startTrackingSelection(v){this._trackSelection=!0,this._updateTrackedRange(v)}stopTrackingSelection(v){this._trackSelection=!1,this._removeTrackedRange(v)}_updateTrackedRange(v){!this._trackSelection||(this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(v){this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new _.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(v){const i=v.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new L.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new L.Selection(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}ensureValidState(v){this._setState(v,this.modelState,this.viewState)}setState(v,i,C){this._setState(v,i,C)}_setState(v,i,C){if(i){const s=v.model.validateRange(i.selectionStart),o=i.selectionStart.equalsRange(s)?i.selectionStartLeftoverVisibleColumns:0,a=v.model.validatePosition(i.position),c=i.position.equals(a)?i.leftoverVisibleColumns:0;i=new _.SingleCursorState(s,o,a,c)}else{if(!C)return;const s=v.model.validateRange(v.coordinatesConverter.convertViewRangeToModelRange(C.selectionStart)),o=v.model.validatePosition(v.coordinatesConverter.convertViewPositionToModelPosition(C.position));i=new _.SingleCursorState(s,C.selectionStartLeftoverVisibleColumns,o,C.leftoverVisibleColumns)}if(C){const s=v.coordinatesConverter.validateViewRange(C.selectionStart,i.selectionStart),o=v.coordinatesConverter.validateViewPosition(C.position,i.position);C=new _.SingleCursorState(s,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}else{const s=v.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(i.selectionStart.startLineNumber,i.selectionStart.startColumn)),o=v.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(i.selectionStart.endLineNumber,i.selectionStart.endColumn)),a=new M.Range(s.lineNumber,s.column,o.lineNumber,o.column),c=v.coordinatesConverter.convertModelPositionToViewPosition(i.position);C=new _.SingleCursorState(a,i.selectionStartLeftoverVisibleColumns,c,i.leftoverVisibleColumns)}this.modelState=i,this.viewState=C,this._updateTrackedRange(v)}}e.Cursor=S}),define(ie[552],ne([0,1,39,551,21]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class L{constructor(m){this.context=m,this.primaryCursor=new k.Cursor(m),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let m=0,v=this.secondaryCursors.length;m<v;m++)this.secondaryCursors[m].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let m=0,v=this.secondaryCursors.length;m<v;m++)this.secondaryCursors[m].stopTrackingSelection(this.context)}updateContext(m){this.context=m}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let m=0,v=this.secondaryCursors.length;m<v;m++)this.secondaryCursors[m].ensureValidState(this.context)}readSelectionFromMarkers(){let m=[];m[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let v=0,i=this.secondaryCursors.length;v<i;v++)m[v+1]=this.secondaryCursors[v].readSelectionFromMarkers(this.context);return m}getAll(){let m=[];m[0]=this.primaryCursor.asCursorState();for(let v=0,i=this.secondaryCursors.length;v<i;v++)m[v+1]=this.secondaryCursors[v].asCursorState();return m}getViewPositions(){let m=[];m[0]=this.primaryCursor.viewState.position;for(let v=0,i=this.secondaryCursors.length;v<i;v++)m[v+1]=this.secondaryCursors[v].viewState.position;return m}getTopMostViewPosition(){let m=this.primaryCursor.viewState.position;for(let v=0,i=this.secondaryCursors.length;v<i;v++){const C=this.secondaryCursors[v].viewState.position;C.isBefore(m)&&(m=C)}return m}getBottomMostViewPosition(){let m=this.primaryCursor.viewState.position;for(let v=0,i=this.secondaryCursors.length;v<i;v++){const C=this.secondaryCursors[v].viewState.position;m.isBeforeOrEqual(C)&&(m=C)}return m}getSelections(){let m=[];m[0]=this.primaryCursor.modelState.selection;for(let v=0,i=this.secondaryCursors.length;v<i;v++)m[v+1]=this.secondaryCursors[v].modelState.selection;return m}getViewSelections(){let m=[];m[0]=this.primaryCursor.viewState.selection;for(let v=0,i=this.secondaryCursors.length;v<i;v++)m[v+1]=this.secondaryCursors[v].viewState.selection;return m}setSelections(m){this.setStates(_.CursorState.fromModelSelections(m))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(m){m!==null&&(this.primaryCursor.setState(this.context,m[0].modelState,m[0].viewState),this._setSecondaryStates(m.slice(1)))}_setSecondaryStates(m){const v=this.secondaryCursors.length,i=m.length;if(v<i){let C=i-v;for(let s=0;s<C;s++)this._addSecondaryCursor()}else if(v>i){let C=v-i;for(let s=0;s<C;s++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let C=0;C<i;C++)this.secondaryCursors[C].setState(this.context,m[C].modelState,m[C].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new k.Cursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(m){this.lastAddedCursorIndex>=m+1&&this.lastAddedCursorIndex--,this.secondaryCursors[m].dispose(this.context),this.secondaryCursors.splice(m,1)}_getAll(){let m=[];m[0]=this.primaryCursor;for(let v=0,i=this.secondaryCursors.length;v<i;v++)m[v+1]=this.secondaryCursors[v];return m}normalize(){if(this.secondaryCursors.length===0)return;let m=this._getAll(),v=[];for(let i=0,C=m.length;i<C;i++)v.push({index:i,selection:m[i].modelState.selection});v.sort((i,C)=>i.selection.startLineNumber===C.selection.startLineNumber?i.selection.startColumn-C.selection.startColumn:i.selection.startLineNumber-C.selection.startLineNumber);for(let i=0;i<v.length-1;i++){const C=v[i],s=v[i+1],o=C.selection,a=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let c;if(a.isEmpty()||o.isEmpty()?c=a.getStartPosition().isBeforeOrEqual(o.getEndPosition()):c=a.getStartPosition().isBefore(o.getEndPosition()),c){const u=C.index<s.index?i:i+1,r=C.index<s.index?i+1:i,n=v[r].index,l=v[u].index,t=v[r].selection,d=v[u].selection;if(!t.equalsSelection(d)){const h=t.plusRange(d),p=t.selectionStartLineNumber===t.startLineNumber&&t.selectionStartColumn===t.startColumn,w=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn;let b;n===this.lastAddedCursorIndex?(b=p,this.lastAddedCursorIndex=l):b=w;let g;b?g=new M.Selection(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn):g=new M.Selection(h.endLineNumber,h.endColumn,h.startLineNumber,h.startColumn),v[u].selection=g;const f=_.CursorState.fromModelSelection(g);m[l].setState(this.context,f.modelState,f.viewState)}for(const h of v)h.index>n&&h.index--;m.splice(n,1),v.splice(r,1),this._removeSecondaryCursor(n-1),i--}}}}e.CursorCollection=L}),define(ie[246],ne([0,1,12,8,552,39,186,187,3,21,175,2,177]),function($,e,_,k,M,L,S,m,v,i,C,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=e.CursorModelState=void 0;class a{constructor(l,t){this.modelVersionId=l.getVersionId(),this.cursorState=t.getCursorStates()}equals(l){if(!l||this.modelVersionId!==l.modelVersionId||this.cursorState.length!==l.cursorState.length)return!1;for(let t=0,d=this.cursorState.length;t<d;t++)if(!this.cursorState[t].equals(l.cursorState[t]))return!1;return!0}}e.CursorModelState=a;class c{constructor(l,t,d){this._model=l,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=d}static getAllAutoClosedCharacters(l){let t=[];for(const d of l)t=t.concat(d.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let l=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const d=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);d&&l.push(d)}return l}isValid(l){let t=[];for(let d=0;d<this._autoClosedEnclosingDecorations.length;d++){const h=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[d]);if(h&&(t.push(h),h.startLineNumber!==h.endLineNumber))return!1}t.sort(v.Range.compareRangesUsingStarts),l.sort(v.Range.compareRangesUsingStarts);for(let d=0;d<l.length;d++)if(d>=t.length||!t[d].strictContainsRange(l[d]))return!1;return!0}}class u extends s.Disposable{constructor(l,t,d,h){super();this._model=l,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=d,this.context=new L.CursorContext(this._model,this._coordinatesConverter,h),this._cursors=new M.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=s.dispose(this._autoClosedActions),super.dispose()}updateConfiguration(l){this.context=new L.CursorContext(this._model,this._coordinatesConverter,l),this._cursors.updateContext(this.context)}onLineMappingChanged(l){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(l,"viewModel",0,this.getCursorStates())}setHasFocus(l){this._hasFocus=l}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let l=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const d=this._autoClosedActions[t];d.isValid(l)||(d.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(l,t,d,h){let p=!1;h!==null&&h.length>u.MAX_CURSOR_COUNT&&(h=h.slice(0,u.MAX_CURSOR_COUNT),p=!0);const w=new a(this._model,this);return this._cursors.setStates(h),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,t,d,w,p)}setCursorColumnSelectData(l){this._columnSelectData=l}revealPrimary(l,t,d,h){const p=this._cursors.getViewPositions();if(p.length>1){this._emitCursorRevealRange(l,t,null,this._cursors.getViewSelections(),0,d,h);return}else{const w=p[0],b=new v.Range(w.lineNumber,w.column,w.lineNumber,w.column);this._emitCursorRevealRange(l,t,b,null,0,d,h)}}_revealPrimaryCursor(l,t,d,h,p){const w=this._cursors.getViewPositions();if(w.length>1)this._emitCursorRevealRange(l,t,null,this._cursors.getViewSelections(),d,h,p);else{const b=w[0],g=new v.Range(b.lineNumber,b.column,b.lineNumber,b.column);this._emitCursorRevealRange(l,t,g,null,d,h,p)}}_emitCursorRevealRange(l,t,d,h,p,w,b){l.emitViewEvent(new C.ViewRevealRangeRequestEvent(t,d,h,p,w,b))}saveState(){let l=[];const t=this._cursors.getSelections();for(let d=0,h=t.length;d<h;d++){const p=t[d];l.push({inSelectionMode:!p.isEmpty(),selectionStart:{lineNumber:p.selectionStartLineNumber,column:p.selectionStartColumn},position:{lineNumber:p.positionLineNumber,column:p.positionColumn}})}return l}restoreState(l,t){let d=[];for(let h=0,p=t.length;h<p;h++){const w=t[h];let b=1,g=1;w.position&&w.position.lineNumber&&(b=w.position.lineNumber),w.position&&w.position.column&&(g=w.position.column);let f=b,y=g;w.selectionStart&&w.selectionStart.lineNumber&&(f=w.selectionStart.lineNumber),w.selectionStart&&w.selectionStart.column&&(y=w.selectionStart.column),d.push({selectionStartLineNumber:f,selectionStartColumn:y,positionLineNumber:b,positionColumn:g})}this.setStates(l,"restoreState",0,L.CursorState.fromModelSelections(d)),this.revealPrimary(l,"restoreState",!0,1)}onModelContentChanged(l,t){if(this._knownModelVersionId=t.versionId,this._isHandling)return;const d=t.containsEvent(1);if(this._prevEditOperationType=0,d)this._cursors.dispose(),this._cursors=new M.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const h=L.CursorState.fromModelSelections(t.resultingSelection);this.setStates(l,"modelChange",t.isUndoing?5:t.isRedoing?6:2,h)&&this._revealPrimaryCursor(l,"modelChange",0,!0,0)}else{const h=this._cursors.readSelectionFromMarkers();this.setStates(l,"modelChange",2,L.CursorState.fromModelSelections(h))}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const l=this._cursors.getPrimaryCursor(),t=l.viewState.selectionStart.getStartPosition(),d=l.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:L.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:d.lineNumber,toViewVisualColumn:L.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,d)}}getSelections(){return this._cursors.getSelections()}setSelections(l,t,d,h){this.setStates(l,t,h,L.CursorState.fromModelSelections(d))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(l){this._prevEditOperationType=l}_pushAutoClosedAction(l,t){let d=[],h=[];for(let b=0,g=l.length;b<g;b++)d.push({range:l[b],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),h.push({range:t[b],options:{description:"auto-closed-enclosing",stickiness:1}});const p=this._model.deltaDecorations([],d),w=this._model.deltaDecorations([],h);this._autoClosedActions.push(new c(this._model,p,w))}_executeEditOperation(l){if(!l)return;l.shouldPushStackElementBefore&&this._model.pushStackElement();const t=r.executeCommands(this._model,this._cursors.getSelections(),l.commands);if(t){this._interpretCommandResult(t);let d=[],h=[];for(let p=0;p<l.commands.length;p++){const w=l.commands[p];w instanceof m.TypeWithAutoClosingCommand&&w.enclosingRange&&w.closeCharacterRange&&(d.push(w.closeCharacterRange),h.push(w.enclosingRange))}d.length>0&&this._pushAutoClosedAction(d,h),this._prevEditOperationType=l.type}l.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(l){(!l||l.length===0)&&(l=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(l),this._cursors.normalize()}_emitStateChangedIfNecessary(l,t,d,h,p){const w=new a(this._model,this);if(w.equals(h))return!1;const b=this._cursors.getSelections(),g=this._cursors.getViewSelections();if(l.emitViewEvent(new C.ViewCursorStateChangedEvent(g,b)),!h||h.cursorState.length!==w.cursorState.length||w.cursorState.some((f,y)=>!f.modelState.equals(h.cursorState[y].modelState))){const f=h?h.cursorState.map(I=>I.modelState.selection):null,y=h?h.modelVersionId:0;l.emitOutgoingEvent(new o.CursorStateChangedEvent(f,b,y,w.modelVersionId,t||"keyboard",d,p))}return!0}_findAutoClosingPairs(l){if(!l.length)return null;let t=[];for(let d=0,h=l.length;d<h;d++){const p=l[d];if(!p.text||p.text.indexOf(`
`)>=0)return null;const w=p.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!w)return null;const b=w[1],g=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(b);if(!g||g.length!==1)return null;const f=g[0].open,y=p.text.length-w[2].length-1,I=p.text.lastIndexOf(f,y-1);if(I===-1)return null;t.push([I,y])}return t}executeEdits(l,t,d,h){let p=null;t==="snippet"&&(p=this._findAutoClosingPairs(d)),p&&(d[0]._isTracked=!0);let w=[],b=[];const g=this._model.pushEditOperations(this.getSelections(),d,f=>{if(p)for(let I=0,N=p.length;I<N;I++){const[D,T]=p[I],P=f[I],R=P.range.startLineNumber,O=P.range.startColumn-1+D,A=P.range.startColumn-1+T;w.push(new v.Range(R,A+1,R,A+2)),b.push(new v.Range(R,O+1,R,A+2))}const y=h(f);return y&&(this._isHandling=!0),y});g&&(this._isHandling=!1,this.setSelections(l,t,g,0)),w.length>0&&this._pushAutoClosedAction(w,b)}_executeEdit(l,t,d,h=0){if(this.context.cursorConfig.readOnly)return;const p=new a(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),l()}catch(w){_.onUnexpectedError(w)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,d,h,p,!1)&&this._revealPrimaryCursor(t,d,0,!0,0)}setIsDoingComposition(l){this._isDoingComposition=l}getAutoClosedCharacters(){return c.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(l){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(l,t){this._executeEdit(()=>{t==="keyboard"&&(this._executeEditOperation(m.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},l,t)}type(l,t,d){this._executeEdit(()=>{if(d==="keyboard"){const h=t.length;let p=0;for(;p<h;){const w=k.nextCharLength(t,p),b=t.substr(p,w);this._executeEditOperation(m.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),b)),p+=w}}else this._executeEditOperation(m.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},l,d)}compositionType(l,t,d,h,p,w){if(t.length===0&&d===0&&h===0){if(p!==0){const b=this.getSelections().map(g=>{const f=g.getPosition();return new i.Selection(f.lineNumber,f.column+p,f.lineNumber,f.column+p)});this.setSelections(l,w,b,0)}return}this._executeEdit(()=>{this._executeEditOperation(m.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,d,h,p))},l,w)}paste(l,t,d,h,p){this._executeEdit(()=>{this._executeEditOperation(m.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),t,d,h||[]))},l,p,4)}cut(l,t){this._executeEdit(()=>{this._executeEditOperation(S.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},l,t)}executeCommand(l,t,d){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new L.EditOperationResult(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},l,d)}executeCommands(l,t,d){this._executeEdit(()=>{this._executeEditOperation(new L.EditOperationResult(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},l,d)}}e.CursorsController=u,u.MAX_CURSOR_COUNT=1e4;class r{static executeCommands(l,t,d){const h={model:l,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},p=this._innerExecuteCommands(h,d);for(let w=0,b=h.trackedRanges.length;w<b;w++)h.model._setTrackedRange(h.trackedRanges[w],null,0);return p}static _innerExecuteCommands(l,t){if(this._arrayIsEmpty(t))return null;const d=this._getEditOperations(l,t);if(d.operations.length===0)return null;const h=d.operations,p=this._getLoserCursorMap(h);if(p.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let w=[];for(let f=0,y=h.length;f<y;f++)p.hasOwnProperty(h[f].identifier.major.toString())||w.push(h[f]);d.hadTrackedEditOperation&&w.length>0&&(w[0]._isTracked=!0);let b=l.model.pushEditOperations(l.selectionsBefore,w,f=>{let y=[];for(let D=0;D<l.selectionsBefore.length;D++)y[D]=[];for(const D of f)!D.identifier||y[D.identifier.major].push(D);const I=(D,T)=>D.identifier.minor-T.identifier.minor;let N=[];for(let D=0;D<l.selectionsBefore.length;D++)y[D].length>0?(y[D].sort(I),N[D]=t[D].computeCursorState(l.model,{getInverseEditOperations:()=>y[D],getTrackedSelection:T=>{const P=parseInt(T,10),R=l.model._getTrackedRange(l.trackedRanges[P]);return l.trackedRangesDirection[P]===0?new i.Selection(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn):new i.Selection(R.endLineNumber,R.endColumn,R.startLineNumber,R.startColumn)}})):N[D]=l.selectionsBefore[D];return N});b||(b=l.selectionsBefore);let g=[];for(let f in p)p.hasOwnProperty(f)&&g.push(parseInt(f,10));g.sort((f,y)=>y-f);for(const f of g)b.splice(f,1);return b}static _arrayIsEmpty(l){for(let t=0,d=l.length;t<d;t++)if(l[t])return!1;return!0}static _getEditOperations(l,t){let d=[],h=!1;for(let p=0,w=t.length;p<w;p++){const b=t[p];if(b){const g=this._getEditOperationsFromCommand(l,p,b);d=d.concat(g.operations),h=h||g.hadTrackedEditOperation}}return{operations:d,hadTrackedEditOperation:h}}static _getEditOperationsFromCommand(l,t,d){let h=[],p=0;const w=(I,N,D=!1)=>{v.Range.isEmpty(I)&&N===""||h.push({identifier:{major:t,minor:p++},range:I,text:N,forceMoveMarkers:D,isAutoWhitespaceEdit:d.insertsAutoWhitespace})};let b=!1;const y={addEditOperation:w,addTrackedEditOperation:(I,N,D)=>{b=!0,w(I,N,D)},trackSelection:(I,N)=>{const D=i.Selection.liftSelection(I);let T;if(D.isEmpty())if(typeof N=="boolean")N?T=2:T=3;else{const O=l.model.getLineMaxColumn(D.startLineNumber);D.startColumn===O?T=2:T=3}else T=1;const P=l.trackedRanges.length,R=l.model._setTrackedRange(null,D,T);return l.trackedRanges[P]=R,l.trackedRangesDirection[P]=D.getDirection(),P.toString()}};try{d.getEditOperations(l.model,y)}catch(I){return _.onUnexpectedError(I),{operations:[],hadTrackedEditOperation:!1}}return{operations:h,hadTrackedEditOperation:b}}static _getLoserCursorMap(l){l=l.slice(0),l.sort((d,h)=>-v.Range.compareRangesUsingEnds(d.range,h.range));let t={};for(let d=1;d<l.length;d++){const h=l[d-1],p=l[d];if(v.Range.getStartPosition(h.range).isBefore(v.Range.getEndPosition(p.range))){let w;h.identifier.major>p.identifier.major?w=h.identifier.major:w=p.identifier.major,t[w.toString()]=!0;for(let b=0;b<l.length;b++)l[b].identifier.major===w&&(l.splice(b,1),b<d&&d--,b--);d>0&&d--}}return t}}}),define(ie[247],ne([0,1,8,84,76]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeLineToHTML=e.tokenizeToString=void 0;const L={getInitialState:()=>M.NULL_STATE,tokenize2:(i,C,s,o)=>M.nullTokenize2(0,i,s,o)};function S(i,C=L){return v(i,C||L)}e.tokenizeToString=S;function m(i,C,s,o,a,c,u){let r="<div>",n=o,l=0;for(let t=0,d=C.getCount();t<d;t++){const h=C.getEndOffset(t);if(h<=o)continue;let p="";for(;n<h&&n<a;n++){const w=i.charCodeAt(n);switch(w){case 9:let b=c-(n+l)%c;for(l+=b-1;b>0;)p+=u?"&#160;":" ",b--;break;case 60:p+="&lt;";break;case 62:p+="&gt;";break;case 38:p+="&amp;";break;case 0:p+="&#00;";break;case 65279:case 8232:case 8233:case 133:p+="\uFFFD";break;case 13:p+="&#8203";break;case 32:p+=u?"&#160;":" ";break;default:p+=String.fromCharCode(w)}}if(r+=`<span style="${C.getInlineStyle(t,s)}">${p}</span>`,h>a||n>=a)break}return r+="</div>",r}e.tokenizeLineToHTML=m;function v(i,C){let s='<div class="monaco-tokenized-source">',o=_.splitLines(i),a=C.getInitialState();for(let c=0,u=o.length;c<u;c++){let r=o[c];c>0&&(s+="<br/>");let n=C.tokenize2(r,!0,a,0);k.LineTokens.convertToEndOffset(n.tokens,r.length);let t=new k.LineTokens(n.tokens,r).inflate(),d=0;for(let h=0,p=t.getCount();h<p;h++){const w=t.getClassName(h),b=t.getEndOffset(h);s+=`<span class="${w}">${_.escape(r.substring(d,b))}</span>`,d=b}a=n.endState}return s+="</div>",s}}),define(ie[67],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=_.createDecorator("textModelService")}),define(ie[142],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=_.createDecorator("textResourceConfigurationService"),e.ITextResourcePropertiesService=_.createDecorator("textResourcePropertiesService")}),define(ie[248],ne([0,1,6,218,18]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class L{constructor(){this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),M.TokenizationRegistry.onDidChange(m=>{m.changedColorMap&&this._updateColorMap()})}static getInstance(){return this._INSTANCE||(this._INSTANCE=new L),this._INSTANCE}_updateColorMap(){const m=M.TokenizationRegistry.getColorMap();if(!m){this._colors=[k.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[k.RGBA8.Empty];for(let i=1;i<m.length;i++){const C=m[i].rgba;this._colors[i]=new k.RGBA8(C.r,C.g,C.b,Math.round(C.a*255))}let v=m[2].getRelativeLuminance();this._backgroundIsLight=v>=.5,this._onDidChange.fire(void 0)}getColor(m){return(m<1||m>=this._colors.length)&&(m=2),this._colors[m]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=L,L._INSTANCE=null}),define(ie[553],ne([0,1,19,84,13,3,31,175,224,62,111]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityLinesCollection=e.IdentityCoordinatesConverter=e.SplitLine=e.SplitLinesCollection=e.CoordinatesConverter=void 0;class s{constructor(g){this._lines=g}convertViewPositionToModelPosition(g){return this._lines.convertViewPositionToModelPosition(g.lineNumber,g.column)}convertViewRangeToModelRange(g){return this._lines.convertViewRangeToModelRange(g)}validateViewPosition(g,f){return this._lines.validateViewPosition(g.lineNumber,g.column,f)}validateViewRange(g,f){return this._lines.validateViewRange(g,f)}convertModelPositionToViewPosition(g){return this._lines.convertModelPositionToViewPosition(g.lineNumber,g.column)}convertModelRangeToViewRange(g){return this._lines.convertModelRangeToViewRange(g)}modelPositionIsVisible(g){return this._lines.modelPositionIsVisible(g.lineNumber,g.column)}getModelLineViewLineCount(g){return this._lines.getModelLineViewLineCount(g)}}e.CoordinatesConverter=s;class o{constructor(g){this._counts=g,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(g){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,g-1)}_ensureValid(){if(!this._isValid){for(let g=this._validEndIndex+1,f=this._counts.length;g<f;g++){const y=this._counts[g],I=g>0?this._modelToView[g-1]:0;this._modelToView[g]=I+y;for(let N=0;N<y;N++)this._viewToModel[I+N]=g}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(g,f){this._counts[g]!==f&&(this._counts[g]=f,this._invalidate(g))}removeValues(g,f){this._counts.splice(g,f),this._invalidate(g)}insertValues(g,f){this._counts=_.arrayInsert(this._counts,g,f),this._invalidate(g)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(g){return this._ensureValid(),this._modelToView[g]}getIndexOf(g){this._ensureValid();const f=this._viewToModel[g],y=f>0?this._modelToView[f-1]:0;return new v.PrefixSumIndexOfResult(f,g-y)}}class a{constructor(g,f,y,I,N,D,T,P,R){this._editorId=g,this.model=f,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=y,this._monospaceLineBreaksComputerFactory=I,this.fontInfo=N,this.tabSize=D,this.wrappingStrategy=T,this.wrappingColumn=P,this.wrappingIndent=R,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new s(this)}_constructLines(g,f){this.lines=[],g&&(this.hiddenAreasIds=[]);const y=this.model.getLinesContent(),I=this.model.getInjectedTextDecorations(this._editorId),N=C.LineInjectedText.fromDecorations(I),D=y.length,T=this.createLineBreaksComputer(),P=N.length;let R=0,O=R<P?N[R].lineNumber:D+1;for(let j=0;j<D;j++){let te=null;if(j+1===O)for(te=[];j+1===O&&R<P;)te.push(N[R]),R++,O=R<P?N[R].lineNumber:D+1;T.addRequest(y[j],te,f?f[j]:null)}const A=T.finalize();let F=[],E=this.hiddenAreasIds.map(j=>this.model.getDecorationRange(j)).sort(L.Range.compareRangesUsingStarts),W=1,V=0,U=-1,q=U+1<E.length?V+1:D+2;for(let j=0;j<D;j++){let te=j+1;te===q&&(U++,W=E[U].startLineNumber,V=E[U].endLineNumber,q=U+1<E.length?V+1:D+2);let ae=te>=W&&te<=V,de=d(A[j],!ae);F[j]=de.getViewLineCount(),this.lines[j]=de}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new o(F)}getHiddenAreas(){return this.hiddenAreasIds.map(g=>this.model.getDecorationRange(g))}_reduceRanges(g){if(g.length===0)return[];let f=g.map(D=>this.model.validateRange(D)).sort(L.Range.compareRangesUsingStarts),y=[],I=f[0].startLineNumber,N=f[0].endLineNumber;for(let D=1,T=f.length;D<T;D++){let P=f[D];P.startLineNumber>N+1?(y.push(new L.Range(I,1,N,1)),I=P.startLineNumber,N=P.endLineNumber):P.endLineNumber>N&&(N=P.endLineNumber)}return y.push(new L.Range(I,1,N,1)),y}setHiddenAreas(g){let f=this._reduceRanges(g),y=this.hiddenAreasIds.map(A=>this.model.getDecorationRange(A)).sort(L.Range.compareRangesUsingStarts);if(f.length===y.length){let A=!1;for(let F=0;F<f.length;F++)if(!f[F].equalsRange(y[F])){A=!0;break}if(!A)return!1}let I=[];for(const A of f)I.push({range:A,options:S.ModelDecorationOptions.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,I);let N=f,D=1,T=0,P=-1,R=P+1<N.length?T+1:this.lines.length+2,O=!1;for(let A=0;A<this.lines.length;A++){let F=A+1;F===R&&(P++,D=N[P].startLineNumber,T=N[P].endLineNumber,R=P+1<N.length?T+1:this.lines.length+2);let E=!1;if(F>=D&&F<=T?this.lines[A].isVisible()&&(this.lines[A]=this.lines[A].setVisible(!1),E=!0):(O=!0,this.lines[A].isVisible()||(this.lines[A]=this.lines[A].setVisible(!0),E=!0)),E){let W=this.lines[A].getViewLineCount();this.prefixSumComputer.changeValue(A,W)}}return O||this.setHiddenAreas([]),!0}modelPositionIsVisible(g,f){return g<1||g>this.lines.length?!1:this.lines[g-1].isVisible()}getModelLineViewLineCount(g){return g<1||g>this.lines.length?1:this.lines[g-1].getViewLineCount()}setTabSize(g){return this.tabSize===g?!1:(this.tabSize=g,this._constructLines(!1,null),!0)}setWrappingSettings(g,f,y,I){const N=this.fontInfo.equals(g),D=this.wrappingStrategy===f,T=this.wrappingColumn===y,P=this.wrappingIndent===I;if(N&&D&&T&&P)return!1;const R=N&&D&&!T&&P;this.fontInfo=g,this.wrappingStrategy=f,this.wrappingColumn=y,this.wrappingIndent=I;let O=null;if(R){O=[];for(let A=0,F=this.lines.length;A<F;A++)O[A]=this.lines[A].getLineBreakData()}return this._constructLines(!1,O),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(g,f,y){if(!g||g<=this._validModelVersionId)return null;let I=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,N=this.prefixSumComputer.getAccumulatedValue(y-1);return this.lines.splice(f-1,y-f+1),this.prefixSumComputer.removeValues(f-1,y-f+1),new m.ViewLinesDeletedEvent(I,N)}onModelLinesInserted(g,f,y,I){if(!g||g<=this._validModelVersionId)return null;const N=f>2&&!this.lines[f-2].isVisible();let D=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,T=0,P=[],R=[];for(let O=0,A=I.length;O<A;O++){let F=d(I[O],!N);P.push(F);let E=F.getViewLineCount();T+=E,R[O]=E}return this.lines=this.lines.slice(0,f-1).concat(P).concat(this.lines.slice(f-1)),this.prefixSumComputer.insertValues(f-1,R),new m.ViewLinesInsertedEvent(D,D+T-1)}onModelLineChanged(g,f,y){if(g!==null&&g<=this._validModelVersionId)return[!1,null,null,null];let I=f-1,N=this.lines[I].getViewLineCount(),D=this.lines[I].isVisible(),T=d(y,D);this.lines[I]=T;let P=this.lines[I].getViewLineCount(),R=!1,O=0,A=-1,F=0,E=-1,W=0,V=-1;N>P?(O=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,A=O+P-1,W=A+1,V=W+(N-P)-1,R=!0):N<P?(O=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,A=O+N-1,F=A+1,E=F+(P-N)-1,R=!0):(O=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,A=O+P-1),this.prefixSumComputer.changeValue(I,P);const U=O<=A?new m.ViewLinesChangedEvent(O,A):null,q=F<=E?new m.ViewLinesInsertedEvent(F,E):null,j=W<=V?new m.ViewLinesDeletedEvent(W,V):null;return[R,U,q,j]}acceptVersionId(g){this._validModelVersionId=g,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(g){if(g<1)return 1;const f=this.getViewLineCount();return g>f?f:g|0}getActiveIndentGuide(g,f,y){g=this._toValidViewLineNumber(g),f=this._toValidViewLineNumber(f),y=this._toValidViewLineNumber(y);const I=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),N=this.convertViewPositionToModelPosition(f,this.getViewLineMinColumn(f)),D=this.convertViewPositionToModelPosition(y,this.getViewLineMinColumn(y)),T=this.model.getActiveIndentGuide(I.lineNumber,N.lineNumber,D.lineNumber),P=this.convertModelPositionToViewPosition(T.startLineNumber,1),R=this.convertModelPositionToViewPosition(T.endLineNumber,this.model.getLineMaxColumn(T.endLineNumber));return{startLineNumber:P.lineNumber,endLineNumber:R.lineNumber,indent:T.indent}}getViewLinesIndentGuides(g,f){g=this._toValidViewLineNumber(g),f=this._toValidViewLineNumber(f);const y=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),I=this.convertViewPositionToModelPosition(f,this.getViewLineMaxColumn(f));let N=[],D=[],T=[];const P=y.lineNumber-1,R=I.lineNumber-1;let O=null;for(let W=P;W<=R;W++){const V=this.lines[W];if(V.isVisible()){let U=V.getViewLineNumberOfModelPosition(0,W===P?y.column:1),q=V.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(W+1)),j=q-U+1,te=0;j>1&&V.getViewLineMinColumn(this.model,W+1,q)===1&&(te=U===0?1:2),D.push(j),T.push(te),O===null&&(O=new M.Position(W+1,0))}else O!==null&&(N=N.concat(this.model.getLinesIndentGuides(O.lineNumber,W)),O=null)}O!==null&&(N=N.concat(this.model.getLinesIndentGuides(O.lineNumber,I.lineNumber)),O=null);const A=f-g+1;let F=new Array(A),E=0;for(let W=0,V=N.length;W<V;W++){let U=N[W],q=Math.min(A-E,D[W]),j=T[W],te;j===2?te=0:j===1?te=1:te=q;for(let ae=0;ae<q;ae++)ae===te&&(U=0),F[E++]=U}return F}getViewLineContent(g){g=this._toValidViewLineNumber(g);let f=this.prefixSumComputer.getIndexOf(g-1),y=f.index,I=f.remainder;return this.lines[y].getViewLineContent(this.model,y+1,I)}getViewLineLength(g){g=this._toValidViewLineNumber(g);let f=this.prefixSumComputer.getIndexOf(g-1),y=f.index,I=f.remainder;return this.lines[y].getViewLineLength(this.model,y+1,I)}getViewLineMinColumn(g){g=this._toValidViewLineNumber(g);let f=this.prefixSumComputer.getIndexOf(g-1),y=f.index,I=f.remainder;return this.lines[y].getViewLineMinColumn(this.model,y+1,I)}getViewLineMaxColumn(g){g=this._toValidViewLineNumber(g);let f=this.prefixSumComputer.getIndexOf(g-1),y=f.index,I=f.remainder;return this.lines[y].getViewLineMaxColumn(this.model,y+1,I)}getViewLineData(g){g=this._toValidViewLineNumber(g);let f=this.prefixSumComputer.getIndexOf(g-1),y=f.index,I=f.remainder;return this.lines[y].getViewLineData(this.model,y+1,I)}getViewLinesData(g,f,y){g=this._toValidViewLineNumber(g),f=this._toValidViewLineNumber(f);let I=this.prefixSumComputer.getIndexOf(g-1),N=g,D=I.index,T=I.remainder,P=[];for(let R=D,O=this.model.getLineCount();R<O;R++){let A=this.lines[R];if(!A.isVisible())continue;let F=R===D?T:0,E=A.getViewLineCount()-F,W=!1;N+E>f&&(W=!0,E=f-N+1);let V=F+E;if(A.getViewLinesData(this.model,R+1,F,V,N-g,y,P),N+=E,W)break}return P}validateViewPosition(g,f,y){g=this._toValidViewLineNumber(g);let I=this.prefixSumComputer.getIndexOf(g-1),N=I.index,D=I.remainder,T=this.lines[N],P=T.getViewLineMinColumn(this.model,N+1,D),R=T.getViewLineMaxColumn(this.model,N+1,D);f<P&&(f=P),f>R&&(f=R);let O=T.getModelColumnOfViewPosition(D,f);return this.model.validatePosition(new M.Position(N+1,O)).equals(y)?new M.Position(g,f):this.convertModelPositionToViewPosition(y.lineNumber,y.column)}validateViewRange(g,f){const y=this.validateViewPosition(g.startLineNumber,g.startColumn,f.getStartPosition()),I=this.validateViewPosition(g.endLineNumber,g.endColumn,f.getEndPosition());return new L.Range(y.lineNumber,y.column,I.lineNumber,I.column)}convertViewPositionToModelPosition(g,f){g=this._toValidViewLineNumber(g);let y=this.prefixSumComputer.getIndexOf(g-1),I=y.index,N=y.remainder,D=this.lines[I].getModelColumnOfViewPosition(N,f);return this.model.validatePosition(new M.Position(I+1,D))}convertViewRangeToModelRange(g){const f=this.convertViewPositionToModelPosition(g.startLineNumber,g.startColumn),y=this.convertViewPositionToModelPosition(g.endLineNumber,g.endColumn);return new L.Range(f.lineNumber,f.column,y.lineNumber,y.column)}convertModelPositionToViewPosition(g,f){const y=this.model.validatePosition(new M.Position(g,f)),I=y.lineNumber,N=y.column;let D=I-1,T=!1;for(;D>0&&!this.lines[D].isVisible();)D--,T=!0;if(D===0&&!this.lines[D].isVisible())return new M.Position(1,1);const P=1+(D===0?0:this.prefixSumComputer.getAccumulatedValue(D-1));let R;return T?R=this.lines[D].getViewPositionOfModelPosition(P,this.model.getLineMaxColumn(D+1)):R=this.lines[I-1].getViewPositionOfModelPosition(P,N),R}convertModelRangeToViewRange(g){let f=this.convertModelPositionToViewPosition(g.startLineNumber,g.startColumn),y=this.convertModelPositionToViewPosition(g.endLineNumber,g.endColumn);return g.startLineNumber===g.endLineNumber&&f.lineNumber!==y.lineNumber&&y.column===this.getViewLineMinColumn(y.lineNumber)?new L.Range(f.lineNumber,f.column,y.lineNumber-1,this.getViewLineMaxColumn(y.lineNumber-1)):new L.Range(f.lineNumber,f.column,y.lineNumber,y.column)}_getViewLineNumberForModelPosition(g,f){let y=g-1;if(this.lines[y].isVisible()){const N=1+(y===0?0:this.prefixSumComputer.getAccumulatedValue(y-1));return this.lines[y].getViewLineNumberOfModelPosition(N,f)}for(;y>0&&!this.lines[y].isVisible();)y--;if(y===0&&!this.lines[y].isVisible())return 1;const I=1+(y===0?0:this.prefixSumComputer.getAccumulatedValue(y-1));return this.lines[y].getViewLineNumberOfModelPosition(I,this.model.getLineMaxColumn(y+1))}getAllOverviewRulerDecorations(g,f,y){const I=this.model.getOverviewRulerDecorations(g,f),N=new w;for(const D of I){const T=D.options.overviewRuler,P=T?T.position:0;if(P===0)continue;const R=T.getColor(y),O=this._getViewLineNumberForModelPosition(D.range.startLineNumber,D.range.startColumn),A=this._getViewLineNumberForModelPosition(D.range.endLineNumber,D.range.endColumn);N.accept(R,O,A,P)}return N.result}getDecorationsInRange(g,f,y){const I=this.convertViewPositionToModelPosition(g.startLineNumber,g.startColumn),N=this.convertViewPositionToModelPosition(g.endLineNumber,g.endColumn);if(N.lineNumber-I.lineNumber<=g.endLineNumber-g.startLineNumber)return this.model.getDecorationsInRange(new L.Range(I.lineNumber,1,N.lineNumber,N.column),f,y);let D=[];const T=I.lineNumber-1,P=N.lineNumber-1;let R=null;for(let E=T;E<=P;E++)if(this.lines[E].isVisible())R===null&&(R=new M.Position(E+1,E===T?I.column:1));else if(R!==null){const V=this.model.getLineMaxColumn(E);D=D.concat(this.model.getDecorationsInRange(new L.Range(R.lineNumber,R.column,E,V),f,y)),R=null}R!==null&&(D=D.concat(this.model.getDecorationsInRange(new L.Range(R.lineNumber,R.column,N.lineNumber,N.column),f,y)),R=null),D.sort((E,W)=>{const V=L.Range.compareRangesUsingStarts(E.range,W.range);return V===0?E.id<W.id?-1:E.id>W.id?1:0:V});let O=[],A=0,F=null;for(const E of D){const W=E.id;F!==W&&(F=W,O[A++]=E)}return O}normalizePosition(g,f){const y=this._toValidViewLineNumber(g.lineNumber),I=this.prefixSumComputer.getIndexOf(y-1),N=I.index,D=I.remainder;return this.lines[N].normalizePosition(this.model,N+1,D,g,f)}getLineIndentColumn(g){const f=this._toValidViewLineNumber(g),y=this.prefixSumComputer.getIndexOf(f-1),I=y.index;return y.remainder===0?this.model.getLineIndentColumn(I+1):0}}e.SplitLinesCollection=a;class c{constructor(){}isVisible(){return!0}setVisible(g){return g?this:u.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(g,f,y){return g.getLineContent(f)}getViewLineLength(g,f,y){return g.getLineLength(f)}getViewLineMinColumn(g,f,y){return g.getLineMinColumn(f)}getViewLineMaxColumn(g,f,y){return g.getLineMaxColumn(f)}getViewLineData(g,f,y){let I=g.getLineTokens(f),N=I.getLineContent();return new i.ViewLineData(N,!1,1,N.length+1,0,I.inflate())}getViewLinesData(g,f,y,I,N,D,T){if(!D[N]){T[N]=null;return}T[N]=this.getViewLineData(g,f,0)}getModelColumnOfViewPosition(g,f){return f}getViewPositionOfModelPosition(g,f){return new M.Position(g,f)}getViewLineNumberOfModelPosition(g,f){return g}normalizePosition(g,f,y,I,N){return I}}c.INSTANCE=new c;class u{constructor(){}isVisible(){return!1}setVisible(g){return g?c.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(g,f,y){throw new Error("Not supported")}getViewLineLength(g,f,y){throw new Error("Not supported")}getViewLineMinColumn(g,f,y){throw new Error("Not supported")}getViewLineMaxColumn(g,f,y){throw new Error("Not supported")}getViewLineData(g,f,y){throw new Error("Not supported")}getViewLinesData(g,f,y,I,N,D,T){throw new Error("Not supported")}getModelColumnOfViewPosition(g,f){throw new Error("Not supported")}getViewPositionOfModelPosition(g,f){throw new Error("Not supported")}getViewLineNumberOfModelPosition(g,f){throw new Error("Not supported")}normalizePosition(g,f,y,I,N){throw new Error("Not supported")}}u.INSTANCE=new u;class r{constructor(g,f){this._lineBreakData=g,this._isVisible=f}isVisible(){return this._isVisible}setVisible(g){return this._isVisible=g,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(g){return this._lineBreakData.getInputOffsetOfOutputPosition(g,0)}getInputEndOffsetOfOutputLineIndex(g,f,y){return y+1===this._lineBreakData.breakOffsets.length?g.getLineMaxColumn(f)-1:this._lineBreakData.getInputOffsetOfOutputPosition(y+1,0)}getViewLineContent(g,f,y){if(!this._isVisible)throw new Error("Not supported");let I=this.getInputStartOffsetOfOutputLineIndex(y),N=this.getInputEndOffsetOfOutputLineIndex(g,f,y),D=g.getValueInRange({startLineNumber:f,startColumn:I+1,endLineNumber:f,endColumn:N+1});return y>0&&(D=l(this._lineBreakData.wrappedTextIndentLength)+D),D}getViewLineLength(g,f,y){if(!this._isVisible)throw new Error("Not supported");const I=y>0?this._lineBreakData.breakOffsets[y-1]:0;let D=(y<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[y]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-I;return y>0&&(D=this._lineBreakData.wrappedTextIndentLength+D),D}getViewLineMinColumn(g,f,y){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(y)}_getViewLineMinColumn(g){return g>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(g,f,y){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(g,f,y)+1}getViewLineData(g,f,y){if(!this._isVisible)throw new Error("Not supported");const I=this._lineBreakData,N=y>0?I.wrappedTextIndentLength:0,D=I.injectionOffsets,T=I.injectionTexts;let P,R;if(D){const W=g.getLineTokens(f).withInserted(D.map((q,j)=>({offset:q,text:T[j],tokenMetadata:k.LineTokens.defaultTokenMetadata}))),V=y>0?I.breakOffsets[y-1]:0,U=I.breakOffsets[y];P=W.getLineContent().substring(V,U),R=W.sliceAndInflate(V,U,N)}else{const W=this.getInputStartOffsetOfOutputLineIndex(y),V=this.getInputEndOffsetOfOutputLineIndex(g,f,y),U=g.getLineTokens(f);P=g.getValueInRange({startLineNumber:f,startColumn:W+1,endLineNumber:f,endColumn:V+1}),R=U.sliceAndInflate(W,V,N)}y>0&&(P=l(I.wrappedTextIndentLength)+P);const O=y>0?I.wrappedTextIndentLength+1:1,A=P.length+1,F=y+1<this.getViewLineCount(),E=y===0?0:I.breakOffsetsVisibleColumn[y-1];return new i.ViewLineData(P,F,O,A,E,R)}getViewLinesData(g,f,y,I,N,D,T){if(!this._isVisible)throw new Error("Not supported");for(let P=y;P<I;P++){let R=N+P-y;if(!D[R]){T[R]=null;continue}T[R]=this.getViewLineData(g,f,P)}}getModelColumnOfViewPosition(g,f){if(!this._isVisible)throw new Error("Not supported");let y=f-1;return g>0&&(y<this._lineBreakData.wrappedTextIndentLength?y=0:y-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(g,y)+1}getViewPositionOfModelPosition(g,f){if(!this._isVisible)throw new Error("Not supported");let y=this._lineBreakData.getOutputPositionOfInputOffset(f-1),I=y.outputLineIndex,N=y.outputOffset+1;return I>0&&(N+=this._lineBreakData.wrappedTextIndentLength),new M.Position(g+I,N)}getViewLineNumberOfModelPosition(g,f){if(!this._isVisible)throw new Error("Not supported");const y=this._lineBreakData.getOutputPositionOfInputOffset(f-1);return g+y.outputLineIndex}normalizePosition(g,f,y,I,N){if(N===0){if(y>0&&I.column===this._getViewLineMinColumn(y))return new M.Position(I.lineNumber-1,this.getViewLineMaxColumn(g,f,y-1))}else if(N===1){const D=this.getViewLineCount()-1;if(y<D&&I.column===this.getViewLineMaxColumn(g,f,y))return new M.Position(I.lineNumber+1,this._getViewLineMinColumn(y+1))}return I}}e.SplitLine=r;let n=[""];function l(b){if(b>=n.length)for(let g=1;g<=b;g++)n[g]=t(g);return n[b]}function t(b){return new Array(b+1).join(" ")}function d(b,g){return b===null?g?c.INSTANCE:u.INSTANCE:new r(b,g)}class h{constructor(g){this._lines=g}_validPosition(g){return this._lines.model.validatePosition(g)}_validRange(g){return this._lines.model.validateRange(g)}convertViewPositionToModelPosition(g){return this._validPosition(g)}convertViewRangeToModelRange(g){return this._validRange(g)}validateViewPosition(g,f){return this._validPosition(f)}validateViewRange(g,f){return this._validRange(f)}convertModelPositionToViewPosition(g){return this._validPosition(g)}convertModelRangeToViewRange(g){return this._validRange(g)}modelPositionIsVisible(g){const f=this._lines.model.getLineCount();return!(g.lineNumber<1||g.lineNumber>f)}getModelLineViewLineCount(g){return 1}}e.IdentityCoordinatesConverter=h;class p{constructor(g){this.model=g}dispose(){}createCoordinatesConverter(){return new h(this)}getHiddenAreas(){return[]}setHiddenAreas(g){return!1}setTabSize(g){return!1}setWrappingSettings(g,f,y,I){return!1}createLineBreaksComputer(){let g=[];return{addRequest:(f,y,I)=>{g.push(null)},finalize:()=>g}}onModelFlushed(){}onModelLinesDeleted(g,f,y){return new m.ViewLinesDeletedEvent(f,y)}onModelLinesInserted(g,f,y,I){return new m.ViewLinesInsertedEvent(f,y)}onModelLineChanged(g,f,y){return[!1,new m.ViewLinesChangedEvent(f,f),null,null]}acceptVersionId(g){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(g,f,y){return{startLineNumber:g,endLineNumber:g,indent:0}}getViewLinesIndentGuides(g,f){const y=f-g+1;let I=new Array(y);for(let N=0;N<y;N++)I[N]=0;return I}getViewLineContent(g){return this.model.getLineContent(g)}getViewLineLength(g){return this.model.getLineLength(g)}getViewLineMinColumn(g){return this.model.getLineMinColumn(g)}getViewLineMaxColumn(g){return this.model.getLineMaxColumn(g)}getViewLineData(g){let f=this.model.getLineTokens(g),y=f.getLineContent();return new i.ViewLineData(y,!1,1,y.length+1,0,f.inflate())}getViewLinesData(g,f,y){const I=this.model.getLineCount();g=Math.min(Math.max(1,g),I),f=Math.min(Math.max(1,f),I);let N=[];for(let D=g;D<=f;D++){let T=D-g;y[T]||(N[T]=null),N[T]=this.getViewLineData(D)}return N}getAllOverviewRulerDecorations(g,f,y){const I=this.model.getOverviewRulerDecorations(g,f),N=new w;for(const D of I){const T=D.options.overviewRuler,P=T?T.position:0;if(P===0)continue;const R=T.getColor(y),O=D.range.startLineNumber,A=D.range.endLineNumber;N.accept(R,O,A,P)}return N.result}getDecorationsInRange(g,f,y){return this.model.getDecorationsInRange(g,f,y)}normalizePosition(g,f){return this.model.normalizePosition(g,f)}getLineIndentColumn(g){return this.model.getLineIndentColumn(g)}}e.IdentityLinesCollection=p;class w{constructor(){this.result=Object.create(null)}accept(g,f,y,I){let N=this.result[g];if(N){const D=N[N.length-3],T=N[N.length-1];if(D===I&&T+1>=f){y>T&&(N[N.length-1]=y);return}N.push(I,f,y)}else this.result[g]=[I,f,y]}}}),define(ie[554],ne([0,1,29,2,8,35,13,3,111,18,247,248,175,407,553,62,465,15,17,246,39,177]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const p=!0;class w extends k.Disposable{constructor(g,f,y,I,N,D){super();if(this._editorId=g,this._configuration=f,this.model=y,this._eventDispatcher=new h.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new d.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new n.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new n.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,p&&this.model.isTooLargeForTokenization())this._lines=new c.IdentityLinesCollection(this.model);else{const T=this._configuration.options,P=T.get(40),R=T.get(122),O=T.get(129),A=T.get(121);this._lines=new c.SplitLinesCollection(this._editorId,this.model,I,N,P,this.model.getOptions().tabSize,R,O.wrappingColumn,A)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new t.CursorsController(y,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new a.ViewLayout(this._configuration,this.getLineCount(),D)),this._register(this.viewLayout.onDidScroll(T=>{T.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new o.ViewScrollChangedEvent(T)),this._eventDispatcher.emitOutgoingEvent(new h.ScrollChangedEvent(T.oldScrollWidth,T.oldScrollLeft,T.oldScrollHeight,T.oldScrollTop,T.scrollWidth,T.scrollLeft,T.scrollHeight,T.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(T=>{this._eventDispatcher.emitOutgoingEvent(T)})),this._decorations=new r.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(T=>{try{const P=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(P,T)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(s.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new o.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(g){this._eventDispatcher.addViewEventHandler(g)}removeViewEventHandler(g){this._eventDispatcher.removeViewEventHandler(g)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const g=this.viewLayout.getLinesViewportData(),f=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.startLineNumber,1)),y=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.endLineNumber,1));this.model.tokenizeViewport(f.lineNumber,y.lineNumber)}setHasFocus(g){this._hasFocus=g,this._cursor.setHasFocus(g),this._eventDispatcher.emitSingleViewEvent(new o.ViewFocusChangedEvent(g)),this._eventDispatcher.emitOutgoingEvent(new h.FocusChangedEvent(!g,g))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new o.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new o.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new o.ViewThemeChangedEvent)}_onConfigurationChanged(g,f){let y=null;if(this._viewportStartLine!==-1){let O=new S.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));y=this.coordinatesConverter.convertViewPositionToModelPosition(O)}let I=!1;const N=this._configuration.options,D=N.get(40),T=N.get(122),P=N.get(129),R=N.get(121);if(this._lines.setWrappingSettings(D,T,P.wrappingColumn,R)&&(g.emitViewEvent(new o.ViewFlushedEvent),g.emitViewEvent(new o.ViewLineMappingChangedEvent),g.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(g),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(I=!0),this._updateConfigurationViewLineCount.schedule()),f.hasChanged(78)&&(this._decorations.reset(),g.emitViewEvent(new o.ViewDecorationsChangedEvent(null))),g.emitViewEvent(new o.ViewConfigurationChangedEvent(f)),this.viewLayout.onConfigurationChanged(f),I&&y){const O=this.coordinatesConverter.convertModelPositionToViewPosition(y),A=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber);this.viewLayout.setScrollPosition({scrollTop:A+this._viewportStartLineDelta},1)}d.CursorConfiguration.shouldRecreate(f)&&(this.cursorConfig=new d.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(g=>{try{const f=this._eventDispatcher.beginEmitViewEvents();let y=!1,I=!1;const N=g.changes,D=g instanceof v.ModelRawContentChangedEvent?g.versionId:null,T=this._lines.createLineBreaksComputer();for(const O of N)switch(O.changeType){case 4:{for(let A=0;A<O.detail.length;A++){const F=O.detail[A];let E=O.injectedTexts[A];E&&(E=E.filter(W=>!W.ownerId||W.ownerId===this._editorId)),T.addRequest(F,E,null)}break}case 2:{let A=null;O.injectedText&&(A=O.injectedText.filter(F=>!F.ownerId||F.ownerId===this._editorId)),T.addRequest(O.detail,A,null);break}}const P=T.finalize();let R=0;for(const O of N)switch(O.changeType){case 1:{this._lines.onModelFlushed(),f.emitViewEvent(new o.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),y=!0;break}case 3:{const A=this._lines.onModelLinesDeleted(D,O.fromLineNumber,O.toLineNumber);A!==null&&(f.emitViewEvent(A),this.viewLayout.onLinesDeleted(A.fromLineNumber,A.toLineNumber)),y=!0;break}case 4:{const A=P.slice(R,R+O.detail.length);R+=O.detail.length;const F=this._lines.onModelLinesInserted(D,O.fromLineNumber,O.toLineNumber,A);F!==null&&(f.emitViewEvent(F),this.viewLayout.onLinesInserted(F.fromLineNumber,F.toLineNumber)),y=!0;break}case 2:{const A=P[R];R++;const[F,E,W,V]=this._lines.onModelLineChanged(D,O.lineNumber,A);I=F,E&&f.emitViewEvent(E),W&&(f.emitViewEvent(W),this.viewLayout.onLinesInserted(W.fromLineNumber,W.toLineNumber)),V&&(f.emitViewEvent(V),this.viewLayout.onLinesDeleted(V.fromLineNumber,V.toLineNumber));break}case 5:break}D!==null&&this._lines.acceptVersionId(D),this.viewLayout.onHeightMaybeChanged(),!y&&I&&(f.emitViewEvent(new o.ViewLineMappingChangedEvent),f.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const f=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(f){const y=this.coordinatesConverter.convertModelPositionToViewPosition(f.getStartPosition()),I=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber);this.viewLayout.setScrollPosition({scrollTop:I+this._viewportStartLineDelta},1)}}if(g instanceof v.ModelRawContentChangedEvent)try{const f=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(f,g)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(g=>{let f=[];for(let y=0,I=g.ranges.length;y<I;y++){const N=g.ranges[y],D=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(N.fromLineNumber,1)).lineNumber,T=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(N.toLineNumber,this.model.getLineMaxColumn(N.toLineNumber))).lineNumber;f[y]={fromLineNumber:D,toLineNumber:T}}this._eventDispatcher.emitSingleViewEvent(new o.ViewTokensChangedEvent(f)),g.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(g=>{this._eventDispatcher.emitSingleViewEvent(new o.ViewLanguageConfigurationEvent),this.cursorConfig=new d.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(g=>{this.cursorConfig=new d.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(g=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const f=this._eventDispatcher.beginEmitViewEvents();f.emitViewEvent(new o.ViewFlushedEvent),f.emitViewEvent(new o.ViewLineMappingChangedEvent),f.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new d.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(g=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new o.ViewDecorationsChangedEvent(g))}))}setHiddenAreas(g){try{const f=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(g)&&(f.emitViewEvent(new o.ViewFlushedEvent),f.emitViewEvent(new o.ViewLineMappingChangedEvent),f.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const g=this._configuration.options.get(128),f=this._configuration.options.get(56),y=Math.max(20,Math.round(g.height/f)),I=this.viewLayout.getLinesViewportData(),N=Math.max(1,I.completelyVisibleStartLineNumber-y),D=Math.min(this.getLineCount(),I.completelyVisibleEndLineNumber+y);return this._toModelVisibleRanges(new m.Range(N,this.getLineMinColumn(N),D,this.getLineMaxColumn(D)))}getVisibleRanges(){const g=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(g)}_toModelVisibleRanges(g){const f=this.coordinatesConverter.convertViewRangeToModelRange(g),y=this._lines.getHiddenAreas();if(y.length===0)return[f];let I=[],N=0,D=f.startLineNumber,T=f.startColumn,P=f.endLineNumber,R=f.endColumn;for(let O=0,A=y.length;O<A;O++){const F=y[O].startLineNumber,E=y[O].endLineNumber;E<D||F>P||(D<F&&(I[N++]=new m.Range(D,T,F-1,this.model.getLineMaxColumn(F-1))),D=E+1,T=1)}return(D<P||D===P&&T<R)&&(I[N++]=new m.Range(D,T,P,R)),I}getCompletelyVisibleViewRange(){const g=this.viewLayout.getLinesViewportData(),f=g.completelyVisibleStartLineNumber,y=g.completelyVisibleEndLineNumber;return new m.Range(f,this.getLineMinColumn(f),y,this.getLineMaxColumn(y))}getCompletelyVisibleViewRangeAtScrollTop(g){const f=this.viewLayout.getLinesViewportDataAtScrollTop(g),y=f.completelyVisibleStartLineNumber,I=f.completelyVisibleEndLineNumber;return new m.Range(y,this.getLineMinColumn(y),I,this.getLineMaxColumn(I))}saveState(){const g=this.viewLayout.saveState(),f=g.scrollTop,y=this.viewLayout.getLineNumberAtVerticalOffset(f),I=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(y,this.getLineMinColumn(y))),N=this.viewLayout.getVerticalOffsetForLineNumber(y)-f;return{scrollLeft:g.scrollLeft,firstPosition:I,firstPositionDeltaTop:N}}reduceRestoreState(g){if(typeof g.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(g);const f=this.model.validatePosition(g.firstPosition),y=this.coordinatesConverter.convertModelPositionToViewPosition(f),I=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber)-g.firstPositionDeltaTop;return{scrollLeft:g.scrollLeft,scrollTop:I}}_reduceRestoreStateCompatibility(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(g,f,y){this._viewportStartLine=g;let I=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g,this.getLineMinColumn(g)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new m.Range(I.lineNumber,I.column,I.lineNumber,I.column),1);const N=this.viewLayout.getVerticalOffsetForLineNumber(g),D=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=D-N}getActiveIndentGuide(g,f,y){return this._lines.getActiveIndentGuide(g,f,y)}getLinesIndentGuides(g,f){return this._lines.getViewLinesIndentGuides(g,f)}getLineContent(g){return this._lines.getViewLineContent(g)}getLineLength(g){return this._lines.getViewLineLength(g)}getLineMinColumn(g){return this._lines.getViewLineMinColumn(g)}getLineMaxColumn(g){return this._lines.getViewLineMaxColumn(g)}getLineFirstNonWhitespaceColumn(g){const f=M.firstNonWhitespaceIndex(this.getLineContent(g));return f===-1?0:f+1}getLineLastNonWhitespaceColumn(g){const f=M.lastNonWhitespaceIndex(this.getLineContent(g));return f===-1?0:f+2}getDecorationsInViewport(g){return this._decorations.getDecorationsViewportData(g).decorations}getViewLineRenderingData(g,f){let y=this.model.mightContainRTL(),I=this.model.mightContainNonBasicASCII(),N=this.getTabSize(),D=this._lines.getViewLineData(f),P=this._decorations.getDecorationsViewportData(g).inlineDecorations[f-g.startLineNumber];return new u.ViewLineRenderingData(D.minColumn,D.maxColumn,D.content,D.continuesWithWrappedLine,y,I,D.tokens,P,N,D.startVisibleColumn)}getViewLineData(g){return this._lines.getViewLineData(g)}getMinimapLinesRenderingData(g,f,y){let I=this._lines.getViewLinesData(g,f,y);return new u.MinimapLinesRenderingData(this.getTabSize(),I)}getAllOverviewRulerDecorations(g){return this._lines.getAllOverviewRulerDecorations(this._editorId,L.filterValidationDecorations(this._configuration.options),g)}invalidateOverviewRulerColorCache(){const g=this.model.getOverviewRulerDecorations();for(const f of g){const y=f.options.overviewRuler;y&&y.invalidateCachedColor()}}invalidateMinimapColorCache(){const g=this.model.getAllDecorations();for(const f of g){const y=f.options.minimap;y&&y.invalidateCachedColor()}}getValueInRange(g,f){const y=this.coordinatesConverter.convertViewRangeToModelRange(g);return this.model.getValueInRange(y,f)}getModelLineMaxColumn(g){return this.model.getLineMaxColumn(g)}validateModelPosition(g){return this.model.validatePosition(g)}validateModelRange(g){return this.model.validateRange(g)}deduceModelPositionRelativeToViewPosition(g,f,y){const I=this.coordinatesConverter.convertViewPositionToModelPosition(g);this.model.getEOL().length===2&&(f<0?f-=y:f+=y);const D=this.model.getOffsetAt(I)+f;return this.model.getPositionAt(D)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(g,f,y){const I=y?`\r
`:this.model.getEOL();g=g.slice(0),g.sort(m.Range.compareRangesUsingStarts);let N=!1,D=!1;for(const P of g)P.isEmpty()?N=!0:D=!0;if(!D){if(!f)return"";const P=g.map(O=>O.startLineNumber);let R="";for(let O=0;O<P.length;O++)O>0&&P[O-1]===P[O]||(R+=this.model.getLineContent(P[O])+I);return R}if(N&&f){let P=[],R=0;for(const O of g){const A=O.startLineNumber;O.isEmpty()?A!==R&&P.push(this.model.getLineContent(A)):P.push(this.model.getValueInRange(O,y?2:0)),R=A}return P.length===1?P[0]:P}let T=[];for(const P of g)P.isEmpty()||T.push(this.model.getValueInRange(P,y?2:0));return T.length===1?T[0]:T}getRichTextToCopy(g,f){const y=this.model.getLanguageIdentifier();if(y.id===1||g.length!==1)return null;let I=g[0];if(I.isEmpty()){if(!f)return null;const O=I.startLineNumber;I=new m.Range(O,this.model.getLineMinColumn(O),O,this.model.getLineMaxColumn(O))}const N=this._configuration.options.get(40),D=this._getColorMap(),P=/[:;\\\/<>]/.test(N.fontFamily)||N.fontFamily===L.EDITOR_FONT_DEFAULTS.fontFamily;let R;return P?R=L.EDITOR_FONT_DEFAULTS.fontFamily:(R=N.fontFamily,R=R.replace(/"/g,"'"),/[,']/.test(R)||/[+ ]/.test(R)&&(R=`'${R}'`),R=`${R}, ${L.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:y.language,html:`<div style="color: ${D[1]};background-color: ${D[2]};font-family: ${R};font-weight: ${N.fontWeight};font-size: ${N.fontSize}px;line-height: ${N.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(I,D)+"</div>"}}_getHTMLToCopy(g,f){const y=g.startLineNumber,I=g.startColumn,N=g.endLineNumber,D=g.endColumn,T=this.getTabSize();let P="";for(let R=y;R<=N;R++){const O=this.model.getLineTokens(R),A=O.getLineContent(),F=R===y?I-1:0,E=R===N?D-1:A.length;A===""?P+="<br>":P+=C.tokenizeLineToHTML(A,O.inflate(),f,F,E,T,l.isWindows)}return P}_getColorMap(){let g=i.TokenizationRegistry.getColorMap(),f=["#000000"];if(g)for(let y=1,I=g.length;y<I;y++)f[y]=_.Color.Format.CSS.formatHex(g[y]);return f}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(g,f,y){this._withViewEventsCollector(I=>this._cursor.setStates(I,g,f,y))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(g){this._cursor.setCursorColumnSelectData(g)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(g){this._cursor.setPrevEditOperationType(g)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(g,f,y=0){this._withViewEventsCollector(I=>this._cursor.setSelections(I,g,f,y))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(g){this._withViewEventsCollector(f=>this._cursor.restoreState(f,g))}_executeCursorEdit(g){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new h.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(g)}executeEdits(g,f,y){this._executeCursorEdit(I=>this._cursor.executeEdits(I,g,f,y))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(g=>this._cursor.startComposition(g))}endComposition(g){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(f=>this._cursor.endComposition(f,g))}type(g,f){this._executeCursorEdit(y=>this._cursor.type(y,g,f))}compositionType(g,f,y,I,N){this._executeCursorEdit(D=>this._cursor.compositionType(D,g,f,y,I,N))}paste(g,f,y,I){this._executeCursorEdit(N=>this._cursor.paste(N,g,f,y,I))}cut(g){this._executeCursorEdit(f=>this._cursor.cut(f,g))}executeCommand(g,f){this._executeCursorEdit(y=>this._cursor.executeCommand(y,g,f))}executeCommands(g,f){this._executeCursorEdit(y=>this._cursor.executeCommands(y,g,f))}revealPrimaryCursor(g,f){this._withViewEventsCollector(y=>this._cursor.revealPrimary(y,g,f,0))}revealTopMostCursor(g){const f=this._cursor.getTopMostViewPosition(),y=new m.Range(f.lineNumber,f.column,f.lineNumber,f.column);this._withViewEventsCollector(I=>I.emitViewEvent(new o.ViewRevealRangeRequestEvent(g,y,null,0,!0,0)))}revealBottomMostCursor(g){const f=this._cursor.getBottomMostViewPosition(),y=new m.Range(f.lineNumber,f.column,f.lineNumber,f.column);this._withViewEventsCollector(I=>I.emitViewEvent(new o.ViewRevealRangeRequestEvent(g,y,null,0,!0,0)))}revealRange(g,f,y,I,N){this._withViewEventsCollector(D=>D.emitViewEvent(new o.ViewRevealRangeRequestEvent(g,y,null,I,f,N)))}getVerticalOffsetForLineNumber(g){return this.viewLayout.getVerticalOffsetForLineNumber(g)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(g,f){this.viewLayout.setScrollPosition({scrollTop:g},f)}setScrollPosition(g,f){this.viewLayout.setScrollPosition(g,f)}deltaScrollNow(g,f){this.viewLayout.deltaScrollNow(g,f)}changeWhitespace(g){this.viewLayout.changeWhitespace(g)&&(this._eventDispatcher.emitSingleViewEvent(new o.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new h.ViewZonesChangedEvent))}setMaxLineWidth(g){this.viewLayout.setMaxLineWidth(g)}_withViewEventsCollector(g){try{const f=this._eventDispatcher.beginEmitViewEvents();g(f)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(g,f){return this._lines.normalizePosition(g,f)}getLineIndentColumn(g){return this._lines.getLineIndentColumn(g)}}e.ViewModel=w}),define(ie[249],ne([0,1,19,23,12,50,3,18,53,139]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class C{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(u,r){let n;typeof u=="string"?n=`${r.id}/${u}`:(n=`${r.id}/${u.name}`,r.children.get(n)!==void 0&&(n=`${r.id}/${u.name}_${u.range.startLineNumber}_${u.range.startColumn}`));let l=n;for(let t=0;r.children.get(l)!==void 0;t++)l=`${n}_${t}`;return l}static empty(u){return u.children.size===0}}e.TreeElement=C;class s extends C{constructor(u,r,n){super();this.id=u,this.parent=r,this.symbol=n,this.children=new Map}}e.OutlineElement=s;class o extends C{constructor(u,r,n,l){super();this.id=u,this.parent=r,this.label=n,this.order=l,this.children=new Map}}e.OutlineGroup=o;class a extends C{constructor(u){super();this.uri=u,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(u,r){let n=this._keys.for(u,!0),l=a._requests.get(n);if(!l){let t=new k.CancellationTokenSource;l={promiseCnt:0,source:t,promise:a._create(u,t.token),model:void 0},a._requests.set(n,l);const d=Date.now();l.promise.then(()=>{this._requestDurations.update(u,Date.now()-d)})}return l.model?Promise.resolve(l.model):(l.promiseCnt+=1,r.onCancellationRequested(()=>{--l.promiseCnt==0&&(l.source.cancel(),a._requests.delete(n))}),new Promise((t,d)=>{l.promise.then(h=>{l.model=h,t(h)},h=>{a._requests.delete(n),d(h)})}))}static _create(u,r){const n=new k.CancellationTokenSource(r),l=new a(u.uri),t=m.DocumentSymbolProviderRegistry.ordered(u),d=t.map((p,w)=>{var b;let g=C.findId(`provider_${w}`,l),f=new o(g,l,(b=p.displayName)!==null&&b!==void 0?b:"Unknown Outline Provider",w);return Promise.resolve(p.provideDocumentSymbols(u,n.token)).then(y=>{for(const I of y||[])a._makeOutlineElement(I,f);return f},y=>(M.onUnexpectedExternalError(y),f)).then(y=>{C.empty(y)?y.remove():l._groups.set(g,y)})}),h=m.DocumentSymbolProviderRegistry.onDidChange(()=>{const p=m.DocumentSymbolProviderRegistry.ordered(u);_.equals(p,t)||n.cancel()});return Promise.all(d).then(()=>n.token.isCancellationRequested&&!r.isCancellationRequested?a._create(u,r):l._compact()).finally(()=>{h.dispose()})}static _makeOutlineElement(u,r){let n=C.findId(u,r),l=new s(n,r,u);if(u.children)for(const t of u.children)a._makeOutlineElement(t,l);r.children.set(l.id,l)}_compact(){let u=0;for(const[r,n]of this._groups)n.children.size===0?this._groups.delete(r):u+=1;if(u!==1)this.children=this._groups;else{let r=v.Iterable.first(this._groups.values());for(let[,n]of r.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const u=[];for(const r of this.children.values())r instanceof s?u.push(r.symbol):u.push(...v.Iterable.map(r.children.values(),n=>n.symbol));return u.sort((r,n)=>S.Range.compareRangesUsingStarts(r.range,n.range))}asListOfDocumentSymbols(){const u=this.getTopLevelSymbols(),r=[];return a._flattenDocumentSymbols(r,u,""),r.sort((n,l)=>S.Range.compareRangesUsingStarts(n.range,l.range))}static _flattenDocumentSymbols(u,r,n){for(const l of r)u.push({kind:l.kind,tags:l.tags,name:l.name,detail:l.detail,containerName:l.containerName||n,range:l.range,selectionRange:l.selectionRange,children:void 0}),l.children&&a._flattenDocumentSymbols(u,l.children,l.name)}}e.OutlineModel=a,a._requestDurations=new i.LanguageFeatureRequestDelays(m.DocumentSymbolProviderRegistry,350),a._requests=new L.LRUCache(9,.75),a._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(c,u){return`${c.id}/${u?c.getVersionId():""}/${this._hash(m.DocumentSymbolProviderRegistry.all(c))}`}_hash(c){let u="";for(const r of c){let n=this._data.get(r);typeof n=="undefined"&&(n=this._counter++,this._data.set(r,n)),u+=n}return u}}}),define(ie[555],ne([0,1,178,31,45]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const L=5e3;e.ID_INDENT_PROVIDER="indent";class S{constructor(C){this.editorModel=C,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(C){let s=M.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id),o=s&&!!s.offSide,a=s&&s.markers;return Promise.resolve(v(this.editorModel,o,a))}}e.IndentRangeProvider=S;class m{constructor(C){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=C}insertFirst(C,s,o){if(C>_.MAX_LINE_NUMBER||s>_.MAX_LINE_NUMBER)return;let a=this._length;this._startIndexes[a]=C,this._endIndexes[a]=s,this._length++,o<1e3&&(this._indentOccurrences[o]=(this._indentOccurrences[o]||0)+1)}toIndentRanges(C){if(this._length<=this._foldingRangesLimit){let s=new Uint32Array(this._length),o=new Uint32Array(this._length);for(let a=this._length-1,c=0;a>=0;a--,c++)s[c]=this._startIndexes[a],o[c]=this._endIndexes[a];return new _.FoldingRegions(s,o)}else{let s=0,o=this._indentOccurrences.length;for(let r=0;r<this._indentOccurrences.length;r++){let n=this._indentOccurrences[r];if(n){if(n+s>this._foldingRangesLimit){o=r;break}s+=n}}const a=C.getOptions().tabSize;let c=new Uint32Array(this._foldingRangesLimit),u=new Uint32Array(this._foldingRangesLimit);for(let r=this._length-1,n=0;r>=0;r--){let l=this._startIndexes[r],t=C.getLineContent(l),d=k.TextModel.computeIndentLevel(t,a);(d<o||d===o&&s++<this._foldingRangesLimit)&&(c[n]=l,u[n]=this._endIndexes[r],n++)}return new _.FoldingRegions(c,u)}}}e.RangesCollector=m;function v(i,C,s,o=L){const a=i.getOptions().tabSize;let c=new m(o),u;s&&(u=new RegExp(`(${s.start.source})|(?:${s.end.source})`));let r=[],n=i.getLineCount()+1;r.push({indent:-1,endAbove:n,line:n});for(let l=i.getLineCount();l>0;l--){let t=i.getLineContent(l),d=k.TextModel.computeIndentLevel(t,a),h=r[r.length-1];if(d===-1){C&&(h.endAbove=l);continue}let p;if(u&&(p=t.match(u)))if(p[1]){let w=r.length-1;for(;w>0&&r[w].indent!==-2;)w--;if(w>0){r.length=w+1,h=r[w],c.insertFirst(l,h.line,d),h.line=l,h.indent=d,h.endAbove=l;continue}}else{r.push({indent:-2,endAbove:l,line:l});continue}if(h.indent>d){do r.pop(),h=r[r.length-1];while(h.indent>d);let w=h.endAbove-1;w-l>=1&&c.insertFirst(l,w,d)}h.indent===d?h.endAbove=l:r.push({indent:d,endAbove:l,line:l})}return c.toIndentRanges(i)}e.computeRanges=v}),define(ie[556],ne([0,1,8,184,3,21,112,45,232]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class i{constructor(s,o,a){this._selection=s,this._isMovingDown=o,this._autoIndent=a,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(s,o){let a=s.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===a){this._selectionId=o.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=o.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let c=this._selection;c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,s.getLineMaxColumn(c.endLineNumber-1)));const{tabSize:u,indentSize:r,insertSpaces:n}=s.getOptions();let l=this.buildIndentConverter(u,r,n),t={getLineTokens:d=>s.getLineTokens(d),getLanguageIdentifier:()=>s.getLanguageIdentifier(),getLanguageIdAtPosition:(d,h)=>s.getLanguageIdAtPosition(d,h),getLineContent:null};if(c.startLineNumber===c.endLineNumber&&s.getLineMaxColumn(c.startLineNumber)===1){let d=c.startLineNumber,h=this._isMovingDown?d+1:d-1;s.getLineMaxColumn(h)===1?o.addEditOperation(new M.Range(1,1,1,1),null):(o.addEditOperation(new M.Range(d,1,d,1),s.getLineContent(h)),o.addEditOperation(new M.Range(h,1,h,s.getLineMaxColumn(h)),null)),c=new L.Selection(h,1,h,1)}else{let d,h;if(this._isMovingDown){d=c.endLineNumber+1,h=s.getLineContent(d),o.addEditOperation(new M.Range(d-1,s.getLineMaxColumn(d-1),d,s.getLineMaxColumn(d)),null);let p=h;if(this.shouldAutoIndent(s,c)){let w=this.matchEnterRule(s,l,u,d,c.startLineNumber-1);if(w!==null){let g=_.getLeadingWhitespace(s.getLineContent(d)),f=w+v.getSpaceCnt(g,u);p=v.generateIndent(f,u,n)+this.trimLeft(h)}else{t.getLineContent=f=>f===c.startLineNumber?s.getLineContent(d):s.getLineContent(f);let g=m.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,s.getLanguageIdAtPosition(d,1),c.startLineNumber,l);if(g!==null){let f=_.getLeadingWhitespace(s.getLineContent(d)),y=v.getSpaceCnt(g,u),I=v.getSpaceCnt(f,u);y!==I&&(p=v.generateIndent(y,u,n)+this.trimLeft(h))}}o.addEditOperation(new M.Range(c.startLineNumber,1,c.startLineNumber,1),p+`
`);let b=this.matchEnterRuleMovingDown(s,l,u,c.startLineNumber,d,p);if(b!==null)b!==0&&this.getIndentEditsOfMovingBlock(s,o,c,u,n,b);else{t.getLineContent=f=>f===c.startLineNumber?p:f>=c.startLineNumber+1&&f<=c.endLineNumber+1?s.getLineContent(f-1):s.getLineContent(f);let g=m.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,s.getLanguageIdAtPosition(d,1),c.startLineNumber+1,l);if(g!==null){const f=_.getLeadingWhitespace(s.getLineContent(c.startLineNumber)),y=v.getSpaceCnt(g,u),I=v.getSpaceCnt(f,u);if(y!==I){const N=y-I;this.getIndentEditsOfMovingBlock(s,o,c,u,n,N)}}}}else o.addEditOperation(new M.Range(c.startLineNumber,1,c.startLineNumber,1),p+`
`)}else if(d=c.startLineNumber-1,h=s.getLineContent(d),o.addEditOperation(new M.Range(d,1,d+1,1),null),o.addEditOperation(new M.Range(c.endLineNumber,s.getLineMaxColumn(c.endLineNumber),c.endLineNumber,s.getLineMaxColumn(c.endLineNumber)),`
`+h),this.shouldAutoIndent(s,c)){t.getLineContent=w=>w===d?s.getLineContent(c.startLineNumber):s.getLineContent(w);let p=this.matchEnterRule(s,l,u,c.startLineNumber,c.startLineNumber-2);if(p!==null)p!==0&&this.getIndentEditsOfMovingBlock(s,o,c,u,n,p);else{let w=m.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,s.getLanguageIdAtPosition(c.startLineNumber,1),d,l);if(w!==null){let b=_.getLeadingWhitespace(s.getLineContent(c.startLineNumber)),g=v.getSpaceCnt(w,u),f=v.getSpaceCnt(b,u);if(g!==f){let y=g-f;this.getIndentEditsOfMovingBlock(s,o,c,u,n,y)}}}}}this._selectionId=o.trackSelection(c)}buildIndentConverter(s,o,a){return{shiftIndent:c=>k.ShiftCommand.shiftIndent(c,c.length+1,s,o,a),unshiftIndent:c=>k.ShiftCommand.unshiftIndent(c,c.length+1,s,o,a)}}parseEnterResult(s,o,a,c,u){if(u){let r=u.indentation;u.indentAction===S.IndentAction.None||u.indentAction===S.IndentAction.Indent?r=u.indentation+u.appendText:u.indentAction===S.IndentAction.IndentOutdent?r=u.indentation:u.indentAction===S.IndentAction.Outdent&&(r=o.unshiftIndent(u.indentation)+u.appendText);let n=s.getLineContent(c);if(this.trimLeft(n).indexOf(this.trimLeft(r))>=0){let l=_.getLeadingWhitespace(s.getLineContent(c)),t=_.getLeadingWhitespace(r),d=m.LanguageConfigurationRegistry.getIndentMetadata(s,c);d!==null&&d&2&&(t=o.unshiftIndent(t));let h=v.getSpaceCnt(t,a),p=v.getSpaceCnt(l,a);return h-p}}return null}matchEnterRuleMovingDown(s,o,a,c,u,r){if(_.lastNonWhitespaceIndex(r)>=0){let n=s.getLineMaxColumn(u),l=m.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,s,new M.Range(u,n,u,n));return this.parseEnterResult(s,o,a,c,l)}else{let n=c-1;for(;n>=1;){let d=s.getLineContent(n);if(_.lastNonWhitespaceIndex(d)>=0)break;n--}if(n<1||c>s.getLineCount())return null;let l=s.getLineMaxColumn(n),t=m.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,s,new M.Range(n,l,n,l));return this.parseEnterResult(s,o,a,c,t)}}matchEnterRule(s,o,a,c,u,r){let n=u;for(;n>=1;){let d;if(n===u&&r!==void 0?d=r:d=s.getLineContent(n),_.lastNonWhitespaceIndex(d)>=0)break;n--}if(n<1||c>s.getLineCount())return null;let l=s.getLineMaxColumn(n),t=m.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,s,new M.Range(n,l,n,l));return this.parseEnterResult(s,o,a,c,t)}trimLeft(s){return s.replace(/^\s+/,"")}shouldAutoIndent(s,o){if(this._autoIndent<4||!s.isCheapToTokenize(o.startLineNumber))return!1;let a=s.getLanguageIdAtPosition(o.startLineNumber,1),c=s.getLanguageIdAtPosition(o.endLineNumber,1);return!(a!==c||m.LanguageConfigurationRegistry.getIndentRulesSupport(a)===null)}getIndentEditsOfMovingBlock(s,o,a,c,u,r){for(let n=a.startLineNumber;n<=a.endLineNumber;n++){let l=s.getLineContent(n),t=_.getLeadingWhitespace(l),h=v.getSpaceCnt(t,c)+r,p=v.generateIndent(h,c,u);p!==t&&(o.addEditOperation(new M.Range(n,1,n,t.length+1),p),n===a.endLineNumber&&a.endColumn<=t.length+1&&p===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(s,o){let a=o.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(a=a.setEndPosition(a.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&a.startLineNumber<a.endLineNumber&&(a=a.setEndPosition(a.endLineNumber,2)),a}}e.MoveLinesCommand=i}),define(ie[557],ne([0,1,7,106,29,125,2,42,3,31,363]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const C=new M.Color(new M.RGBA(0,122,204)),s={showArrow:!0,showFrame:!0,className:"",frameColor:C,arrowColor:C,keepEditorSelection:!1},o="vs.editor.contrib.zoneWidget";class a{constructor(l,t,d,h,p,w){this.id="",this.domNode=l,this.afterLineNumber=t,this.afterColumn=d,this.heightInLines=h,this._onDomNodeTop=p,this._onComputedHeight=w}onDomNodeTop(l){this._onDomNodeTop(l)}onComputedHeight(l){this._onComputedHeight(l)}}e.ViewZoneDelegate=a;class c{constructor(l,t){this._id=l,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=c;class u{constructor(l){this._editor=l,this._ruleName=u._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),_.removeCSSRulesContainingSelector(this._ruleName)}set color(l){this._color!==l&&(this._color=l,this._updateStyle())}set height(l){this._height!==l&&(this._height=l,this._updateStyle())}_updateStyle(){_.removeCSSRulesContainingSelector(this._ruleName),_.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(l){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:v.Range.fromPositions(l),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}u._IdGenerator=new L.IdGenerator(".arrow-decoration-");class r{constructor(l,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=l,this.options=m.deepClone(t),m.mixin(this.options,s,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(d=>{const h=this._getWidth(d);this.domNode.style.width=h+"px",this.domNode.style.left=this._getLeft(d)+"px",this._onWidth(h)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(l=>{this._viewZone&&l.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new u(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(l){l.frameColor&&(this.options.frameColor=l.frameColor),l.arrowColor&&(this.options.arrowColor=l.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let l=this.options.frameColor.toString();this.container.style.borderTopColor=l,this.container.style.borderBottomColor=l}if(this._arrow&&this.options.arrowColor){let l=this.options.arrowColor.toString();this._arrow.color=l}}_getWidth(l){return l.width-l.minimap.minimapWidth-l.verticalScrollbarWidth}_getLeft(l){return l.minimap.minimapWidth>0&&l.minimap.minimapLeft===0?l.minimap.minimapWidth:0}_onViewZoneTop(l){this.domNode.style.top=l+"px"}_onViewZoneHeight(l){if(this.domNode.style.height=`${l}px`,this.container){let t=l-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const d=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(d))}this._resizeSash&&this._resizeSash.layout()}get position(){const[l]=this._positionMarkerId;if(!l)return;const t=this.editor.getModel();if(!t)return;const d=t.getDecorationRange(l);if(!!d)return d.getStartPosition()}show(l,t){const d=v.Range.isIRange(l)?v.Range.lift(l):v.Range.fromPositions(l);this._isShowing=!0,this._showImpl(d,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:d,options:i.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(l=>{this._viewZone&&l.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let l=this.editor.getOption(56),t=0;if(this.options.showArrow){let d=Math.round(l/3);t+=2*d}if(this.options.showFrame){let d=Math.round(l/9);t+=2*d}return t}_showImpl(l,t){const d=l.getStartPosition(),h=this.editor.getLayoutInfo(),p=this._getWidth(h);this.domNode.style.width=`${p}px`,this.domNode.style.left=this._getLeft(h)+"px";const w=document.createElement("div");w.style.overflow="hidden";const b=this.editor.getOption(56),g=Math.max(12,this.editor.getLayoutInfo().height/b*.8);t=Math.min(t,g);let f=0,y=0;if(this._arrow&&this.options.showArrow&&(f=Math.round(b/3),this._arrow.height=f,this._arrow.show(d)),this.options.showFrame&&(y=Math.round(b/9)),this.editor.changeViewZones(D=>{this._viewZone&&D.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new a(w,d.lineNumber,d.column,t,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T)),this._viewZone.id=D.addZone(this._viewZone),this._overlayWidget=new c(o+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const D=this.options.frameWidth?this.options.frameWidth:y;this.container.style.borderTopWidth=D+"px",this.container.style.borderBottomWidth=D+"px"}let I=t*b-this._decoratingElementsHeight();this.container&&(this.container.style.top=f+"px",this.container.style.height=I+"px",this.container.style.overflow="hidden"),this._doLayout(I,p),this.options.keepEditorSelection||this.editor.setSelection(l);const N=this.editor.getModel();if(N){const D=l.endLineNumber+1;D<=N.getLineCount()?this.revealLine(D,!1):this.revealLine(N.getLineCount(),!0)}}revealLine(l,t){t?this.editor.revealLineInCenter(l,0):this.editor.revealLine(l,0)}setCssClass(l,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(l))}_onWidth(l){}_doLayout(l,t){}_relayout(l){this._viewZone&&this._viewZone.heightInLines!==l&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=l,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let l;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(l={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{l=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(l){let d=(t.currentY-l.startY)/this.editor.getOption(56),h=d<0?Math.ceil(d):Math.floor(d),p=l.heightInLines+h;p>5&&p<35&&this._relayout(p)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const l=this.editor.getLayoutInfo();return l.width-l.minimap.minimapWidth}}e.ZoneWidget=r}),define(ie[250],ne([0,1,134,18,76,237]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizationSupport=e.MonarchTokenizer=void 0;const S=5;class m{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,t){return this._INSTANCE.create(l,t)}create(l,t){if(l!==null&&l.depth>=this._maxCacheDepth)return new v(l,t);let d=v.getStackElementId(l);d.length>0&&(d+="|"),d+=t;let h=this._entries[d];return h||(h=new v(l,t),this._entries[d]=h,h)}}m._INSTANCE=new m(S);class v{constructor(l,t){this.parent=l,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(l){let t="";for(;l!==null;)t.length>0&&(t+="|"),t+=l.state,l=l.parent;return t}static _equals(l,t){for(;l!==null&&t!==null;){if(l===t)return!0;if(l.state!==t.state)return!1;l=l.parent,t=t.parent}return l===null&&t===null}equals(l){return v._equals(this,l)}push(l){return m.create(this,l)}pop(){return this.parent}popall(){let l=this;for(;l.parent;)l=l.parent;return l}switchTo(l){return m.create(this.parent,l)}}class i{constructor(l,t){this.modeId=l,this.state=t}equals(l){return this.modeId===l.modeId&&this.state.equals(l.state)}clone(){return this.state.clone()===this.state?this:new i(this.modeId,this.state)}}class C{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,t){return this._INSTANCE.create(l,t)}create(l,t){if(t!==null)return new s(l,t);if(l!==null&&l.depth>=this._maxCacheDepth)return new s(l,t);let d=v.getStackElementId(l),h=this._entries[d];return h||(h=new s(l,null),this._entries[d]=h,h)}}C._INSTANCE=new C(S);class s{constructor(l,t){this.stack=l,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:C.create(this.stack,this.embeddedModeData)}equals(l){return!(l instanceof s)||!this.stack.equals(l.stack)?!1:this.embeddedModeData===null&&l.embeddedModeData===null?!0:this.embeddedModeData===null||l.embeddedModeData===null?!1:this.embeddedModeData.equals(l.embeddedModeData)}}class o{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(l,t){this._language=t}emit(l,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new _.Token(l,t,this._language)))}nestedModeTokenize(l,t,d,h){const p=d.modeId,w=d.state,b=k.TokenizationRegistry.get(p);if(!b)return this.enterMode(h,p),this.emit(h,""),w;let g=b.tokenize(l,t,w,h);return this._tokens=this._tokens.concat(g.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,g.endState}finalize(l){return new _.TokenizationResult(this._tokens,l)}}class a{constructor(l,t){this._modeService=l,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(l,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(l,t){let d=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==d&&(this._lastTokenMetadata=d,this._tokens.push(l),this._tokens.push(d))}static _merge(l,t,d){let h=l!==null?l.length:0,p=t.length,w=d!==null?d.length:0;if(h===0&&p===0&&w===0)return new Uint32Array(0);if(h===0&&p===0)return d;if(p===0&&w===0)return l;let b=new Uint32Array(h+p+w);l!==null&&b.set(l);for(let g=0;g<p;g++)b[h+g]=t[g];return d!==null&&b.set(d,h+p),b}nestedModeTokenize(l,t,d,h){const p=d.modeId,w=d.state,b=k.TokenizationRegistry.get(p);if(!b)return this.enterMode(h,p),this.emit(h,""),w;let g=b.tokenize2(l,t,w,h);return this._prependTokens=a._merge(this._prependTokens,this._tokens,g.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,g.endState}finalize(l){return new _.TokenizationResult2(a._merge(this._prependTokens,this._tokens,null),l)}}class c{constructor(l,t,d,h){this._modeService=l,this._standaloneThemeService=t,this._modeId=d,this._lexer=h,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let p=!1;this._tokenizationRegistryListener=k.TokenizationRegistry.onDidChange(w=>{if(p)return;let b=!1;for(let g=0,f=w.changedLanguages.length;g<f;g++){let y=w.changedLanguages[g];if(this._embeddedModes[y]){b=!0;break}}b&&(p=!0,k.TokenizationRegistry.fire([this._modeId]),p=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let l=[];for(let t in this._embeddedModes){const d=k.TokenizationRegistry.get(t);if(d){if(d instanceof c){const p=d.getLoadStatus();p.loaded===!1&&l.push(p.promise)}continue}const h=k.TokenizationRegistry.getPromise(t);h&&l.push(h)}return l.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(l).then(t=>{})}}getInitialState(){let l=m.create(null,this._lexer.start);return C.create(l,null)}tokenize(l,t,d,h){let p=new o,w=this._tokenize(l,t,d,h,p);return p.finalize(w)}tokenize2(l,t,d,h){let p=new a(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),w=this._tokenize(l,t,d,h,p);return p.finalize(w)}_tokenize(l,t,d,h,p){return d.embeddedModeData?this._nestedTokenize(l,t,d,h,p):this._myTokenize(l,t,d,h,p)}_findLeavingNestedModeOffset(l,t){let d=this._lexer.tokenizer[t.stack.state];if(!d&&(d=L.findRules(this._lexer,t.stack.state),!d))throw L.createError(this._lexer,"tokenizer state is not defined: "+t.stack.state);let h=-1,p=!1;for(const w of d){if(!L.isIAction(w.action)||w.action.nextEmbedded!=="@pop")continue;p=!0;let b=w.regex,g=w.regex.source;if(g.substr(0,4)==="^(?:"&&g.substr(g.length-1,1)===")"){let y=(b.ignoreCase?"i":"")+(b.unicode?"u":"");b=new RegExp(g.substr(4,g.length-5),y)}let f=l.search(b);f===-1||f!==0&&w.matchOnlyAtLineStart||(h===-1||f<h)&&(h=f)}if(!p)throw L.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return h}_nestedTokenize(l,t,d,h,p){let w=this._findLeavingNestedModeOffset(l,d);if(w===-1){let f=p.nestedModeTokenize(l,t,d.embeddedModeData,h);return C.create(d.stack,new i(d.embeddedModeData.modeId,f))}let b=l.substring(0,w);b.length>0&&p.nestedModeTokenize(b,!1,d.embeddedModeData,h);let g=l.substring(w);return this._myTokenize(g,t,d,h+w,p)}_safeRuleName(l){return l?l.name:"(unknown)"}_myTokenize(l,t,d,h,p){p.enterMode(h,this._modeId);const w=l.length,b=t&&this._lexer.includeLF?l+`
`:l,g=b.length;let f=d.embeddedModeData,y=d.stack,I=0,N=null,D=!0;for(;D||I<g;){const T=I,P=y.depth,R=N?N.groups.length:0,O=y.state;let A=null,F=null,E=null,W=null,V=null;if(N){A=N.matches;const j=N.groups.shift();F=j.matched,E=j.action,W=N.rule,N.groups.length===0&&(N=null)}else{if(!D&&I>=g)break;D=!1;let j=this._lexer.tokenizer[O];if(!j&&(j=L.findRules(this._lexer,O),!j))throw L.createError(this._lexer,"tokenizer state is not defined: "+O);let te=b.substr(I);for(const ae of j)if((I===0||!ae.matchOnlyAtLineStart)&&(A=te.match(ae.regex),A)){F=A[0],E=ae.action;break}}if(A||(A=[""],F=""),E||(I<g&&(A=[b.charAt(I)],F=A[0]),E=this._lexer.defaultToken),F===null)break;for(I+=F.length;L.isFuzzyAction(E)&&L.isIAction(E)&&E.test;)E=E.test(F,A,O,I===g);let U=null;if(typeof E=="string"||Array.isArray(E))U=E;else if(E.group)U=E.group;else if(E.token!==null&&E.token!==void 0){if(E.tokenSubst?U=L.substituteMatches(this._lexer,E.token,F,A,O):U=E.token,E.nextEmbedded)if(E.nextEmbedded==="@pop"){if(!f)throw L.createError(this._lexer,"cannot pop embedded mode if not inside one");f=null}else{if(f)throw L.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");V=L.substituteMatches(this._lexer,E.nextEmbedded,F,A,O)}if(E.goBack&&(I=Math.max(0,I-E.goBack)),E.switchTo&&typeof E.switchTo=="string"){let j=L.substituteMatches(this._lexer,E.switchTo,F,A,O);if(j[0]==="@"&&(j=j.substr(1)),L.findRules(this._lexer,j))y=y.switchTo(j);else throw L.createError(this._lexer,"trying to switch to a state '"+j+"' that is undefined in rule: "+this._safeRuleName(W))}else{if(E.transform&&typeof E.transform=="function")throw L.createError(this._lexer,"action.transform not supported");if(E.next)if(E.next==="@push"){if(y.depth>=this._lexer.maxStack)throw L.createError(this._lexer,"maximum tokenizer stack size reached: ["+y.state+","+y.parent.state+",...]");y=y.push(O)}else if(E.next==="@pop"){if(y.depth<=1)throw L.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(W));y=y.pop()}else if(E.next==="@popall")y=y.popall();else{let j=L.substituteMatches(this._lexer,E.next,F,A,O);if(j[0]==="@"&&(j=j.substr(1)),L.findRules(this._lexer,j))y=y.push(j);else throw L.createError(this._lexer,"trying to set a next state '"+j+"' that is undefined in rule: "+this._safeRuleName(W))}}E.log&&typeof E.log=="string"&&L.log(this._lexer,this._lexer.languageId+": "+L.substituteMatches(this._lexer,E.log,F,A,O))}if(U===null)throw L.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(W));const q=j=>{let te=this._modeService.getModeIdForLanguageName(j);te&&(j=te);const ae=this._getNestedEmbeddedModeData(j);if(I<g){const de=l.substr(I);return this._nestedTokenize(de,t,C.create(y,ae),h+I,p)}else return C.create(y,ae)};if(Array.isArray(U)){if(N&&N.groups.length>0)throw L.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(W));if(A.length!==U.length+1)throw L.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(W));let j=0;for(let te=1;te<A.length;te++)j+=A[te].length;if(j!==F.length)throw L.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(W));N={rule:W,matches:A,groups:[]};for(let te=0;te<U.length;te++)N.groups[te]={action:U[te],matched:A[te+1]};I-=F.length;continue}else{if(U==="@rematch"&&(I-=F.length,F="",A=null,U="",V!==null))return q(V);if(F.length===0){if(g===0||P!==y.depth||O!==y.state||(N?N.groups.length:0)!==R)continue;throw L.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(W))}let j=null;if(L.isString(U)&&U.indexOf("@brackets")===0){let te=U.substr("@brackets".length),ae=u(this._lexer,F);if(!ae)throw L.createError(this._lexer,"@brackets token returned but no bracket defined as: "+F);j=L.sanitize(ae.token+te)}else{let te=U===""?"":U+this._lexer.tokenPostfix;j=L.sanitize(te)}T<w&&p.emit(T+h,j)}if(V!==null)return q(V)}return C.create(y,f)}_getNestedEmbeddedModeData(l){let t=this._locateMode(l);if(t){let d=k.TokenizationRegistry.get(t);if(d)return new i(t,d.getInitialState())}return new i(t||M.NULL_MODE_ID,M.NULL_STATE)}_locateMode(l){if(!l||!this._modeService.isRegisteredMode(l))return null;if(l===this._modeId)return l;let t=this._modeService.getModeId(l);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}e.MonarchTokenizer=c;function u(n,l){if(!l)return null;l=L.fixCase(n,l);let t=n.brackets;for(const d of t){if(d.open===l)return{token:d.token,bracketType:1};if(d.close===l)return{token:d.token,bracketType:-1}}return null}function r(n,l,t,d){return new c(n,l,t,d)}e.createTokenizationSupport=r}),define(ie[558],ne([0,1,15,8,84,18,114,62,250]),function($,e,_,k,M,L,S,m,v){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const C=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("standaloneColorizer",{createHTML:u=>u});class s{static colorizeElement(r,n,l,t){t=t||{};let d=t.theme||"vs",h=t.mimeType||l.getAttribute("lang")||l.getAttribute("data-lang");if(!h)return console.error("Mode not detected"),Promise.resolve();r.setTheme(d);let p=l.firstChild?l.firstChild.nodeValue:"";l.className+=" "+d;let w=b=>{var g;const f=(g=C==null?void 0:C.createHTML(b))!==null&&g!==void 0?g:b;l.innerHTML=f};return this.colorize(n,p||"",h,t).then(w,b=>console.error(b))}static colorize(r,n,l,t){let d=4;t&&typeof t.tabSize=="number"&&(d=t.tabSize),k.startsWithUTF8BOM(n)&&(n=n.substr(1));let h=k.splitLines(n),p=r.getModeId(l);if(!p)return Promise.resolve(a(h,d));r.triggerMode(p);const w=L.TokenizationRegistry.get(p);if(w)return o(h,d,w);const b=L.TokenizationRegistry.getPromise(p);return b?new Promise((g,f)=>{b.then(y=>{o(h,d,y).then(g,f)},f)}):new Promise((g,f)=>{let y=null,I=null;const N=()=>{y&&(y.dispose(),y=null),I&&(I.dispose(),I=null);const D=L.TokenizationRegistry.get(p);if(D){o(h,d,D).then(g,f);return}g(a(h,d))};I=new _.TimeoutTimer,I.cancelAndSet(N,500),y=L.TokenizationRegistry.onDidChange(D=>{D.changedLanguages.indexOf(p)>=0&&N()})})}static colorizeLine(r,n,l,t,d=4){const h=m.ViewLineRenderingData.isBasicASCII(r,n),p=m.ViewLineRenderingData.containsRTL(r,h,l);return S.renderViewLine2(new S.RenderLineInput(!1,!0,r,!1,h,p,0,t,[],d,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,n,l=4){let t=r.getLineContent(n);r.forceTokenization(n);let h=r.getLineTokens(n).inflate();return this.colorizeLine(t,r.mightContainNonBasicASCII(),r.mightContainRTL(),h,l)}}e.Colorizer=s;function o(u,r,n){return new Promise((l,t)=>{const d=()=>{const h=c(u,r,n);if(n instanceof v.MonarchTokenizer){const p=n.getLoadStatus();if(p.loaded===!1){p.promise.then(d,t);return}}l(h)};d()})}function a(u,r){let n=[];const l=(0<<11|1<<14|2<<23)>>>0,t=new Uint32Array(2);t[0]=0,t[1]=l;for(let d=0,h=u.length;d<h;d++){let p=u[d];t[0]=p.length;const w=new M.LineTokens(t,p),b=m.ViewLineRenderingData.isBasicASCII(p,!0),g=m.ViewLineRenderingData.containsRTL(p,b,!0);let f=S.renderViewLine2(new S.RenderLineInput(!1,!0,p,!1,b,g,0,w,[],r,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(f.html),n.push("<br/>")}return n.join("")}function c(u,r,n){let l=[],t=n.getInitialState();for(let d=0,h=u.length;d<h;d++){let p=u[d],w=n.tokenize2(p,!0,t,0);M.LineTokens.convertToEndOffset(w.tokens,p.length);let b=new M.LineTokens(w.tokens,p);const g=m.ViewLineRenderingData.isBasicASCII(p,!0),f=m.ViewLineRenderingData.containsRTL(p,g,!0);let y=S.renderViewLine2(new S.RenderLineInput(!1,!0,p,!1,g,f,0,b.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));l=l.concat(y.html),l.push("<br/>"),t=w.endState}return l.join("")}}),define(ie[119],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=_.createDecorator("themeService")}),define(ie[85],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=_.createDecorator("clipboardService")}),define(ie[26],ne([0,1,2,20,9,6,71,53]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=M.createDecorator("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new L.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(v,i){if(!v)throw new Error("invalid command");if(typeof v=="string"){if(!i)throw new Error("invalid command");return this.registerCommand({id:v,handler:i})}if(v.description){const c=[];for(let r of v.description.args)c.push(r.constraint);const u=v.handler;v.handler=function(r,...n){return k.validateConstraints(n,c),u(r,...n)}}const{id:C}=v;let s=this._commands.get(C);s||(s=new S.LinkedList,this._commands.set(C,s));let o=s.unshift(v),a=_.toDisposable(()=>{o();const c=this._commands.get(C);(c==null?void 0:c.isEmpty())&&this._commands.delete(C)});return this._onDidRegisterCommand.fire(C),a}registerCommandAlias(v,i){return e.CommandsRegistry.registerCommand(v,(C,...s)=>C.get(e.ICommandService).executeCommand(i,...s))}getCommand(v){const i=this._commands.get(v);if(!(!i||i.isEmpty()))return m.Iterable.first(i)}getCommands(){const v=new Map;for(const i of this._commands.keys()){const C=this.getCommand(i);C&&v.set(i,C)}return v}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ie[251],ne([0,1,23,12,24,18,36,26,20,392,3]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function s(r){return r&&!!r.data}e.isSemanticTokens=s;function o(r){return r&&Array.isArray(r.edits)}e.isSemanticTokensEdits=o;function a(r,n,l){const t=c(r);return t?{provider:t,request:Promise.resolve(t.provideDocumentSemanticTokens(r,n,l))}:null}e.getDocumentSemanticTokens=a;function c(r){const n=L.DocumentSemanticTokensProviderRegistry.ordered(r);return n.length>0?n[0]:null}function u(r){const n=L.DocumentRangeSemanticTokensProviderRegistry.ordered(r);return n.length>0?n[0]:null}e.getDocumentRangeSemanticTokensProvider=u,m.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[l]=n;v.assertType(l instanceof M.URI);const t=r.get(S.IModelService).getModel(l);if(!t)return;const d=c(t);return d?d.getLegend():r.get(m.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",l)})),m.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[l]=n;v.assertType(l instanceof M.URI);const t=r.get(S.IModelService).getModel(l);if(!t)return;const d=a(t,null,_.CancellationToken.None);if(!d)return r.get(m.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",l,t.getFullModelRange());const{provider:h,request:p}=d;let w;try{w=yield p}catch(g){k.onUnexpectedExternalError(g);return}if(!w||!s(w))return;const b=i.encodeSemanticTokensDto({id:0,type:"full",data:w.data});return w.resultId&&h.releaseDocumentSemanticTokens(w.resultId),b})),m.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[l]=n;v.assertType(l instanceof M.URI);const t=r.get(S.IModelService).getModel(l);if(!t)return;const d=u(t);if(!!d)return d.getLegend()})),m.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[l,t]=n;v.assertType(l instanceof M.URI),v.assertType(C.Range.isIRange(t));const d=r.get(S.IModelService).getModel(l);if(!d)return;const h=u(d);if(!h)return;let p;try{p=yield h.provideDocumentRangeSemanticTokens(d,C.Range.lift(t),_.CancellationToken.None)}catch(w){k.onUnexpectedExternalError(w);return}if(!(!p||!s(p)))return i.encodeSemanticTokensDto({id:0,type:"full",data:p.data})}))}),define(ie[252],ne([0,1,23,12,24,18,36,2,26,20]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class C{constructor(){this.lenses=[],this._disposables=new m.DisposableStore}dispose(){this._disposables.dispose()}add(a,c){this._disposables.add(a);for(const u of a.lenses)this.lenses.push({symbol:u,provider:c})}}e.CodeLensModel=C;function s(o,a){return Ie(this,void 0,void 0,function*(){const c=L.CodeLensProviderRegistry.ordered(o),u=new Map,r=new C,n=c.map((l,t)=>Ie(this,void 0,void 0,function*(){u.set(l,t);try{const d=yield Promise.resolve(l.provideCodeLenses(o,a));d&&r.add(d,l)}catch(d){k.onUnexpectedExternalError(d)}}));return yield Promise.all(n),r.lenses=r.lenses.sort((l,t)=>l.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:l.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:u.get(l.provider)<u.get(t.provider)?-1:u.get(l.provider)>u.get(t.provider)?1:l.symbol.range.startColumn<t.symbol.range.startColumn?-1:l.symbol.range.startColumn>t.symbol.range.startColumn?1:0),r})}e.getCodeLensModel=s,v.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(o,...a){let[c,u]=a;i.assertType(M.URI.isUri(c)),i.assertType(typeof u=="number"||!u);const r=o.get(S.IModelService).getModel(c);if(!r)throw k.illegalArgument();const n=[],l=new m.DisposableStore;return s(r,_.CancellationToken.None).then(t=>{l.add(t);let d=[];for(const h of t.lenses)u==null||Boolean(h.symbol.command)?n.push(h.symbol):u-- >0&&h.provider.resolveCodeLens&&d.push(Promise.resolve(h.provider.resolveCodeLens(r,h.symbol,_.CancellationToken.None)).then(p=>n.push(p||h.symbol)));return Promise.all(d)}).then(()=>n).finally(()=>{setTimeout(()=>l.dispose(),100)})})}),define(ie[253],ne([0,1,23,12,24,3,18,36,26]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function i(s,o){const a=[],u=S.ColorProviderRegistry.ordered(s).reverse().map(r=>Promise.resolve(r.provideDocumentColors(s,o)).then(n=>{if(Array.isArray(n))for(let l of n)a.push({colorInfo:l,provider:r})}));return Promise.all(u).then(()=>a)}e.getColors=i;function C(s,o,a,c){return Promise.resolve(a.provideColorPresentations(s,o,c))}e.getColorPresentations=C,v.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(s,...o){const[a]=o;if(!(a instanceof M.URI))throw k.illegalArgument();const c=s.get(m.IModelService).getModel(a);if(!c)throw k.illegalArgument();const u=[],n=S.ColorProviderRegistry.ordered(c).reverse().map(l=>Promise.resolve(l.provideDocumentColors(c,_.CancellationToken.None)).then(t=>{if(Array.isArray(t))for(let d of t)u.push({range:d.range,color:[d.color.red,d.color.green,d.color.blue,d.color.alpha]})}));return Promise.all(n).then(()=>u)}),v.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(s,...o){const[a,c]=o,{uri:u,range:r}=c;if(!(u instanceof M.URI)||!Array.isArray(a)||a.length!==4||!L.Range.isIRange(r))throw k.illegalArgument();const[n,l,t,d]=a,h=s.get(m.IModelService).getModel(u);if(!h)throw k.illegalArgument();const p={range:r,color:{red:n,green:l,blue:t,alpha:d}},w=[],g=S.ColorProviderRegistry.ordered(h).reverse().map(f=>Promise.resolve(f.provideColorPresentations(h,p,_.CancellationToken.None)).then(y=>{Array.isArray(y)&&w.push(...y)}));return Promise.all(g).then(()=>w)})}),define(ie[559],ne([0,1,24,36,23,67,249,26,20]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function i(C,s,o){return Ie(this,void 0,void 0,function*(){const a=yield S.OutlineModel.create(C,o);return s?a.asListOfDocumentSymbols():a.getTopLevelSymbols()})}e.getDocumentSymbols=i,m.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(C,...s){return Ie(this,void 0,void 0,function*(){const[o]=s;v.assertType(_.URI.isUri(o));const a=C.get(k.IModelService).getModel(o);if(a)return i(a,!1,M.CancellationToken.None);const c=yield C.get(L.ITextModelService).createModelReference(o);try{return yield i(c.object.textEditorModel,!1,M.CancellationToken.None)}finally{c.dispose()}})})}),define(ie[560],ne([0,1,23,12,24,3,18,36,26,2,19,20]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class o{constructor(r,n){this._link=r,this._provider=n}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(r){return Ie(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,r)).then(n=>(this._link=n||this._link,this._link.url?this.resolve(r):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=o;class a{constructor(r){this._disposables=new i.DisposableStore;let n=[];for(const[l,t]of r){const d=l.links.map(h=>new o(h,t));n=a._union(n,d),i.isDisposable(l)&&this._disposables.add(l)}this.links=n}dispose(){this._disposables.dispose(),this.links.length=0}static _union(r,n){let l=[],t,d,h,p;for(t=0,h=0,d=r.length,p=n.length;t<d&&h<p;){const w=r[t],b=n[h];if(L.Range.areIntersectingOrTouching(w.range,b.range)){t++;continue}L.Range.compareRangesUsingStarts(w.range,b.range)<0?(l.push(w),t++):(l.push(b),h++)}for(;t<d;t++)l.push(r[t]);for(;h<p;h++)l.push(n[h]);return l}}e.LinksList=a;function c(u,r){const n=[],l=S.LinkProviderRegistry.ordered(u).reverse().map((t,d)=>Promise.resolve(t.provideLinks(u,r)).then(h=>{h&&(n[d]=[h,t])},k.onUnexpectedExternalError));return Promise.all(l).then(()=>{const t=new a(C.coalesce(n));return r.isCancellationRequested?(t.dispose(),new a([])):t})}e.getLinks=c,v.CommandsRegistry.registerCommand("_executeLinkProvider",(u,...r)=>Ie(void 0,void 0,void 0,function*(){let[n,l]=r;s.assertType(n instanceof M.URI),typeof l!="number"&&(l=0);const t=u.get(m.IModelService).getModel(n);if(!t)return[];const d=yield c(t,_.CancellationToken.None);if(!d)return[];for(let p=0;p<Math.min(l,d.links.length);p++)yield d.links[p].resolve(_.CancellationToken.None);const h=d.links.slice(0);return d.dispose(),h}))}),define(ie[16],ne([0,1,8,9,17]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=void 0;let L=M.userAgent||"";const S=new Map;S.set("false",!1),S.set("true",!0),S.set("isMac",M.isMacintosh),S.set("isLinux",M.isLinux),S.set("isWindows",M.isWindows),S.set("isWeb",M.isWeb),S.set("isMacNative",M.isMacintosh&&!M.isWeb),S.set("isEdge",L.indexOf("Edg/")>=0),S.set("isFirefox",L.indexOf("Firefox")>=0),S.set("isChrome",L.indexOf("Chrome")>=0),S.set("isSafari",L.indexOf("Safari")>=0);const m=Object.prototype.hasOwnProperty;class v{static has(D){return o.create(D)}static equals(D,T){return a.create(D,T)}static regex(D,T){return p.create(D,T)}static not(D){return n.create(D)}static and(...D){return b.create(D)}static or(...D){return g.create(D)}static deserialize(D,T=!1){if(!!D)return this._deserializeOrExpression(D,T)}static _deserializeOrExpression(D,T){let P=D.split("||");return g.create(P.map(R=>this._deserializeAndExpression(R,T)))}static _deserializeAndExpression(D,T){let P=D.split("&&");return b.create(P.map(R=>this._deserializeOne(R,T)))}static _deserializeOne(D,T){if(D=D.trim(),D.indexOf("!=")>=0){let P=D.split("!=");return r.create(P[0].trim(),this._deserializeValue(P[1],T))}if(D.indexOf("==")>=0){let P=D.split("==");return a.create(P[0].trim(),this._deserializeValue(P[1],T))}if(D.indexOf("=~")>=0){let P=D.split("=~");return p.create(P[0].trim(),this._deserializeRegexValue(P[1],T))}if(D.indexOf(" in ")>=0){let P=D.split(" in ");return c.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(D)){const P=D.split(">=");return t.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(D)){const P=D.split(">");return l.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(D)){const P=D.split("<=");return h.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(D)){const P=D.split("<");return d.create(P[0].trim(),P[1].trim())}return/^\!\s*/.test(D)?n.create(D.substr(1).trim()):o.create(D)}static _deserializeValue(D,T){if(D=D.trim(),D==="true")return!0;if(D==="false")return!1;let P=/^'([^']*)'$/.exec(D);return P?P[1].trim():D}static _deserializeRegexValue(D,T){if(_.isFalsyOrWhitespace(D)){if(T)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let P=D.indexOf("/"),R=D.lastIndexOf("/");if(P===R||P<0){if(T)throw new Error(`bad regexp-value '${D}', missing /-enclosure`);return console.warn(`bad regexp-value '${D}', missing /-enclosure`),null}let O=D.slice(P+1,R),A=D[R+1]==="i"?"i":"";try{return new RegExp(O,A)}catch(F){if(T)throw new Error(`bad regexp-value '${D}', parse error: ${F}`);return console.warn(`bad regexp-value '${D}', parse error: ${F}`),null}}}e.ContextKeyExpr=v;function i(N,D){return N.cmp(D)}class C{constructor(){this.type=0}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}evaluate(D){return!1}serialize(){return"false"}keys(){return[]}negate(){return s.INSTANCE}}e.ContextKeyFalseExpr=C,C.INSTANCE=new C;class s{constructor(){this.type=1}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}evaluate(D){return!0}serialize(){return"true"}keys(){return[]}negate(){return C.INSTANCE}}e.ContextKeyTrueExpr=s,s.INSTANCE=new s;class o{constructor(D){this.key=D,this.type=2}static create(D){const T=S.get(D);return typeof T=="boolean"?T?s.INSTANCE:C.INSTANCE:new o(D)}cmp(D){return D.type!==this.type?this.type-D.type:y(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}evaluate(D){return!!D.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return n.create(this.key)}}e.ContextKeyDefinedExpr=o;class a{constructor(D,T){this.key=D,this.value=T,this.type=4}static create(D,T){if(typeof T=="boolean")return T?o.create(D):n.create(D);const P=S.get(D);return typeof P=="boolean"?T===(P?"true":"false")?s.INSTANCE:C.INSTANCE:new a(D,T)}cmp(D){return D.type!==this.type?this.type-D.type:I(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return D.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return r.create(this.key,this.value)}}e.ContextKeyEqualsExpr=a;class c{constructor(D,T){this.key=D,this.valueKey=T,this.type=10}static create(D,T){return new c(D,T)}cmp(D){return D.type!==this.type?this.type-D.type:I(this.key,this.valueKey,D.key,D.valueKey)}equals(D){return D.type===this.type?this.key===D.key&&this.valueKey===D.valueKey:!1}evaluate(D){const T=D.getValue(this.valueKey),P=D.getValue(this.key);return Array.isArray(T)?T.indexOf(P)>=0:typeof P=="string"&&typeof T=="object"&&T!==null?m.call(T,P):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return u.create(this)}}e.ContextKeyInExpr=c;class u{constructor(D){this._actual=D,this.type=11}static create(D){return new u(D)}cmp(D){return D.type!==this.type?this.type-D.type:this._actual.cmp(D._actual)}equals(D){return D.type===this.type?this._actual.equals(D._actual):!1}evaluate(D){return!this._actual.evaluate(D)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=u;class r{constructor(D,T){this.key=D,this.value=T,this.type=5}static create(D,T){if(typeof T=="boolean")return T?n.create(D):o.create(D);const P=S.get(D);return typeof P=="boolean"?T===(P?"true":"false")?C.INSTANCE:s.INSTANCE:new r(D,T)}cmp(D){return D.type!==this.type?this.type-D.type:I(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return D.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return a.create(this.key,this.value)}}e.ContextKeyNotEqualsExpr=r;class n{constructor(D){this.key=D,this.type=3}static create(D){const T=S.get(D);return typeof T=="boolean"?T?C.INSTANCE:s.INSTANCE:new n(D)}cmp(D){return D.type!==this.type?this.type-D.type:y(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}evaluate(D){return!D.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return o.create(this.key)}}e.ContextKeyNotExpr=n;class l{constructor(D,T){this.key=D,this.value=T,this.type=12}static create(D,T){return new l(D,T)}cmp(D){return D.type!==this.type?this.type-D.type:I(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return h.create(this.key,this.value)}}e.ContextKeyGreaterExpr=l;class t{constructor(D,T){this.key=D,this.value=T,this.type=13}static create(D,T){return new t(D,T)}cmp(D){return D.type!==this.type?this.type-D.type:I(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return d.create(this.key,this.value)}}e.ContextKeyGreaterEqualsExpr=t;class d{constructor(D,T){this.key=D,this.value=T,this.type=14}static create(D,T){return new d(D,T)}cmp(D){return D.type!==this.type?this.type-D.type:I(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return t.create(this.key,this.value)}}e.ContextKeySmallerExpr=d;class h{constructor(D,T){this.key=D,this.value=T,this.type=15}static create(D,T){return new h(D,T)}cmp(D){return D.type!==this.type?this.type-D.type:I(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return l.create(this.key,this.value)}}e.ContextKeySmallerEqualsExpr=h;class p{constructor(D,T){this.key=D,this.regexp=T,this.type=7}static create(D,T){return new p(D,T)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.key<D.key)return-1;if(this.key>D.key)return 1;const T=this.regexp?this.regexp.source:"",P=D.regexp?D.regexp.source:"";return T<P?-1:T>P?1:0}equals(D){if(D.type===this.type){const T=this.regexp?this.regexp.source:"",P=D.regexp?D.regexp.source:"";return this.key===D.key&&T===P}return!1}evaluate(D){let T=D.getValue(this.key);return this.regexp?this.regexp.test(T):!1}serialize(){const D=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${D}`}keys(){return[this.key]}negate(){return w.create(this)}}e.ContextKeyRegexExpr=p;class w{constructor(D){this._actual=D,this.type=8}static create(D){return new w(D)}cmp(D){return D.type!==this.type?this.type-D.type:this._actual.cmp(D._actual)}equals(D){return D.type===this.type?this._actual.equals(D._actual):!1}evaluate(D){return!this._actual.evaluate(D)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=w;class b{constructor(D){this.expr=D,this.type=6}static create(D){return b._normalizeArr(D)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let T=0,P=this.expr.length;T<P;T++){const R=i(this.expr[T],D.expr[T]);if(R!==0)return R}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let T=0,P=this.expr.length;T<P;T++)if(!this.expr[T].equals(D.expr[T]))return!1;return!0}return!1}evaluate(D){for(let T=0,P=this.expr.length;T<P;T++)if(!this.expr[T].evaluate(D))return!1;return!0}static _normalizeArr(D){const T=[];let P=!1;for(const R of D)if(!!R){if(R.type===1){P=!0;continue}if(R.type===0)return C.INSTANCE;if(R.type===6){T.push(...R.expr);continue}T.push(R)}if(T.length===0&&P)return s.INSTANCE;if(T.length!==0){if(T.length===1)return T[0];for(T.sort(i);T.length>1;){const R=T[T.length-1];if(R.type!==9)break;T.pop();const O=T.pop(),A=g.create(R.expr.map(F=>b.create([F,O])));A&&(T.push(A),T.sort(i))}return T.length===1?T[0]:new b(T)}}serialize(){return this.expr.map(D=>D.serialize()).join(" && ")}keys(){const D=[];for(let T of this.expr)D.push(...T.keys());return D}negate(){let D=[];for(let T of this.expr)D.push(T.negate());return g.create(D)}}e.ContextKeyAndExpr=b;class g{constructor(D){this.expr=D,this.type=9}static create(D){const T=g._normalizeArr(D);if(T.length!==0)return T.length===1?T[0]:new g(T)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let T=0,P=this.expr.length;T<P;T++){const R=i(this.expr[T],D.expr[T]);if(R!==0)return R}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let T=0,P=this.expr.length;T<P;T++)if(!this.expr[T].equals(D.expr[T]))return!1;return!0}return!1}evaluate(D){for(let T=0,P=this.expr.length;T<P;T++)if(this.expr[T].evaluate(D))return!0;return!1}static _normalizeArr(D){let T=[],P=!1;if(D){for(let R=0,O=D.length;R<O;R++){const A=D[R];if(!!A){if(A.type===0){P=!0;continue}if(A.type===1)return[s.INSTANCE];if(A.type===9){T=T.concat(A.expr);continue}T.push(A)}}if(T.length===0&&P)return[C.INSTANCE];T.sort(i)}return T}serialize(){return this.expr.map(D=>D.serialize()).join(" || ")}keys(){const D=[];for(let T of this.expr)D.push(...T.keys());return D}negate(){let D=[];for(let P of this.expr)D.push(P.negate());const T=P=>P.type===9?P.expr:[P];for(;D.length>1;){const P=D.shift(),R=D.shift(),O=[];for(const A of T(P))for(const F of T(R))O.push(v.and(A,F));D.unshift(v.or(...O))}return D[0]}}e.ContextKeyOrExpr=g;class f extends o{constructor(D,T,P){super(D);this._defaultValue=T,typeof P=="object"?f._info.push(Object.assign(Object.assign({},P),{key:D})):P!==!0&&f._info.push({key:D,description:P,type:T!=null?typeof T:void 0})}static all(){return f._info.values()}bindTo(D){return D.createKey(this.key,this._defaultValue)}getValue(D){return D.getContextKeyValue(this.key)}toNegated(){return v.not(this.key)}isEqualTo(D){return v.equals(this.key,D)}}e.RawContextKey=f,f._info=[],e.IContextKeyService=k.createDecorator("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function y(N,D){return N<D?-1:N>D?1:0}function I(N,D,T,P){return N<T?-1:N>T?1:D<P?-1:D>P?1:0}}),define(ie[25],ne([0,1,466,16]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var M;(function(L){L.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),L.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,_.localize(0,null)),L.focus=new k.RawContextKey("editorFocus",!1,_.localize(1,null)),L.textInputFocus=new k.RawContextKey("textInputFocus",!1,_.localize(2,null)),L.readOnly=new k.RawContextKey("editorReadonly",!1,_.localize(3,null)),L.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,_.localize(4,null)),L.columnSelection=new k.RawContextKey("editorColumnSelection",!1,_.localize(5,null)),L.writable=L.readOnly.toNegated(),L.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,_.localize(6,null)),L.hasOnlyEmptySelection=L.hasNonEmptySelection.toNegated(),L.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,_.localize(7,null)),L.hasSingleSelection=L.hasMultipleSelections.toNegated(),L.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,_.localize(8,null)),L.tabDoesNotMoveFocus=L.tabMovesFocus.toNegated(),L.isInWalkThroughSnippet=new k.RawContextKey("isInEmbeddedEditor",!1,!0),L.canUndo=new k.RawContextKey("canUndo",!1,!0),L.canRedo=new k.RawContextKey("canRedo",!1,!0),L.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,_.localize(9,null)),L.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,_.localize(10,null)),L.notInCompositeEditor=L.inCompositeEditor.toNegated(),L.languageId=new k.RawContextKey("editorLangId","",_.localize(11,null)),L.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,_.localize(12,null)),L.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,_.localize(13,null)),L.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,_.localize(14,null)),L.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,_.localize(15,null)),L.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,_.localize(16,null)),L.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,_.localize(17,null)),L.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,_.localize(18,null)),L.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,_.localize(19,null)),L.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,_.localize(20,null)),L.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,_.localize(21,null)),L.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,_.localize(22,null)),L.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,_.localize(23,null)),L.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,_.localize(24,null)),L.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,_.localize(25,null)),L.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,_.localize(26,null)),L.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,_.localize(27,null)),L.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,_.localize(28,null)),L.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,_.localize(29,null))})(M=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(ie[188],ne([0,1,12,13,18,16,23,26,24,20,67]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new L.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new L.RawContextKey("parameterHintsMultipleSignatures",!1)};function s(o,a,c,u){return Ie(this,void 0,void 0,function*(){const r=M.SignatureHelpProviderRegistry.ordered(o);for(const n of r)try{const l=yield n.provideSignatureHelp(o,a,u,c);if(l)return l}catch(l){_.onUnexpectedExternalError(l)}})}e.provideSignatureHelp=s,m.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(o,...a)=>Ie(void 0,void 0,void 0,function*(){const[c,u,r]=a;i.assertType(v.URI.isUri(c)),i.assertType(k.Position.isIPosition(u)),i.assertType(typeof r=="string"||!r);const n=yield o.get(C.ITextModelService).createModelReference(c);try{const l=yield s(n.object.textEditorModel,k.Position.lift(u),{triggerKind:M.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:r},S.CancellationToken.None);return l?(setTimeout(()=>l.dispose(),0),l.value):void 0}finally{n.dispose()}}))}),define(ie[561],ne([0,1,15,12,6,2,94,18,188]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var i;(function(o){o.Default={type:0};class a{constructor(r,n){this.request=r,this.previouslyActiveHints=n,this.type=2}}o.Pending=a;class c{constructor(r){this.hints=r,this.type=1}}o.Active=c})(i||(i={}));class C extends L.Disposable{constructor(a,c=C.DEFAULT_DELAY){super();this._onChangedHints=this._register(new M.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=i.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new L.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=a,this.throttledDelayer=new _.Delayer(c),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(u=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(u=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(u=>this.onCursorChange(u))),this._register(this.editor.onDidChangeModelContent(u=>this.onModelContentChange())),this._register(m.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(u=>this.onDidType(u))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(a){this._state.type===2&&this._state.request.cancel(),this._state=a}cancel(a=!1){this.state=i.Default,this.throttledDelayer.cancel(),a||this._onChangedHints.fire(void 0)}trigger(a,c){const u=this.editor.getModel();if(!u||!m.SignatureHelpProviderRegistry.has(u))return;const r=++this.triggerId;this._pendingTriggers.push(a),this.throttledDelayer.trigger(()=>this.doTrigger(r),c).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const a=this.state.hints.signatures.length,c=this.state.hints.activeSignature,u=c%a==a-1,r=this.editor.getOption(73).cycle;if((a<2||u)&&!r){this.cancel();return}this.updateActiveSignature(u&&r?0:c+1)}previous(){if(this.state.type!==1)return;const a=this.state.hints.signatures.length,c=this.state.hints.activeSignature,u=c===0,r=this.editor.getOption(73).cycle;if((a<2||u)&&!r){this.cancel();return}this.updateActiveSignature(u&&r?a-1:c-1)}updateActiveSignature(a){this.state.type===1&&(this.state=new i.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:a})),this._onChangedHints.fire(this.state.hints))}doTrigger(a){return Ie(this,void 0,void 0,function*(){const c=this.state.type===1||this.state.type===2,u=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(s);this._pendingTriggers=[];const n={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:c,activeSignatureHelp:u};if(!this.editor.hasModel())return!1;const l=this.editor.getModel(),t=this.editor.getPosition();this.state=new i.Pending(_.createCancelablePromise(d=>v.provideSignatureHelp(l,t,n,d)),u);try{const d=yield this.state.request;return a!==this.triggerId?(d==null||d.dispose(),!1):!d||!d.value.signatures||d.value.signatures.length===0?(d==null||d.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new i.Active(d.value),this._lastSignatureHelpResult.value=d,this._onChangedHints.fire(this.state.hints),!0)}catch(d){return a===this.triggerId&&(this.state=i.Default),k.onUnexpectedError(d),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet;const a=this.editor.getModel();if(!!a)for(const c of m.SignatureHelpProviderRegistry.ordered(a)){for(const u of c.signatureHelpTriggerCharacters||[])this.triggerChars.add(u.charCodeAt(0)),this.retriggerChars.add(u.charCodeAt(0));for(const u of c.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(u.charCodeAt(0))}}onDidType(a){if(!this.triggerOnType)return;const c=a.length-1,u=a.charCodeAt(c);(this.triggerChars.has(u)||this.isTriggered&&this.retriggerChars.has(u))&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:a.charAt(c)})}onCursorChange(a){a.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(73).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=C,C.DEFAULT_DELAY=120;function s(o,a){switch(a.triggerKind){case m.SignatureHelpTriggerKind.Invoke:return a;case m.SignatureHelpTriggerKind.ContentChange:return o;case m.SignatureHelpTriggerKind.TriggerCharacter:default:return a}}});var _e=this&&this.__param||function($,e){return function(_,k){e(_,k,$)}};define(ie[562],ne([0,1,16]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let k=class lt{constructor(L,S){this._editor=L,this._index=0,this._ckOtherSuggestions=lt.OtherSuggestions.bindTo(S)}dispose(){this.reset()}reset(){var L;this._ckOtherSuggestions.reset(),(L=this._listener)===null||L===void 0||L.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:L,index:S},m){if(L.items.length===0){this.reset();return}if(lt._moveIndex(!0,L,S)===S){this.reset();return}this._acceptNext=m,this._model=L,this._index=S,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(L,S,m){let v=m;for(;v=(v+S.items.length+(L?1:-1))%S.items.length,!(v===m||!S.items[v].completion.additionalTextEdits););return v}next(){this._move(!0)}prev(){this._move(!1)}_move(L){if(!!this._model)try{this._ignore=!0,this._index=lt._moveIndex(L,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};k.OtherSuggestions=new _.RawContextKey("hasOtherSuggestions",!1),k=Me([_e(1,_.IContextKeyService)],k),e.SuggestAlternatives=k}),define(ie[563],ne([0,1,16]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let k=class Rt{constructor(L,S){this._editor=L,this._enabled=!1,this._ckAtEnd=Rt.AtEnd.bindTo(S),this._configListener=this._editor.onDidChangeConfiguration(m=>m.hasChanged(109)&&this._update()),this._update()}dispose(){var L;this._configListener.dispose(),(L=this._selectionListener)===null||L===void 0||L.dispose(),this._ckAtEnd.reset()}_update(){const L=this._editor.getOption(109)==="on";if(this._enabled!==L)if(this._enabled=L,this._enabled){const S=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const m=this._editor.getModel(),v=this._editor.getSelection(),i=m.getWordAtPosition(v.getStartPosition());if(!i){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(i.endColumn===v.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(S),S()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};k.AtEnd=new _.RawContextKey("atEndOfWord",!1),k=Me([_e(1,_.IContextKeyService)],k),e.WordContextKey=k}),define(ie[64],ne([0,1,9,16]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=_.createDecorator("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new k.RawContextKey("accessibilityModeEnabled",!1)}),define(ie[254],ne([0,1,535,16,17]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContextKey=e.IsWindowsContext=void 0,e.IsWindowsContext=new k.RawContextKey("isWindows",M.isWindows,_.localize(0,null)),e.InputFocusedContextKey="inputFocus"}),define(ie[68],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=_.createDecorator("contextViewService"),e.IContextMenuService=_.createDecorator("contextMenuService")}),define(ie[120],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=_.createDecorator("dialogService")}),define(ie[143],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class _{constructor(...M){this._entries=new Map;for(let[L,S]of M)this.set(L,S)}set(M,L){const S=this._entries.get(M);return this._entries.set(M,L),S}has(M){return this._entries.has(M)}get(M){return this._entries.get(M)}}e.ServiceCollection=_}),define(ie[564],ne([0,1,12,547,242,9,143,15]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const v=!1;class i extends Error{constructor(a){var c;super("cyclic dependency between services");this.message=(c=a.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${a.toString()}`}}class C{constructor(a=new S.ServiceCollection,c=!1,u){this._activeInstantiations=new Set,this._services=a,this._strict=c,this._parent=u,this._services.set(L.IInstantiationService,this)}createChild(a){return new C(a,this._strict,this)}invokeFunction(a,...c){let u=s.traceInvocation(a),r=!1;try{return a({get:(l,t)=>{if(r)throw _.illegalState("service accessor is only valid during the invocation of its target method");const d=this._getOrCreateServiceInstance(l,u);if(!d&&t!==L.optional)throw new Error(`[invokeFunction] unknown service '${l}'`);return d}},...c)}finally{r=!0,u.stop()}}createInstance(a,...c){let u,r;return a instanceof M.SyncDescriptor?(u=s.traceCreation(a.ctor),r=this._createInstance(a.ctor,a.staticArguments.concat(c),u)):(u=s.traceCreation(a),r=this._createInstance(a,c,u)),u.stop(),r}_createInstance(a,c=[],u){let r=L._util.getServiceDependencies(a).sort((t,d)=>t.index-d.index),n=[];for(const t of r){let d=this._getOrCreateServiceInstance(t.id,u);if(!d&&this._strict&&!t.optional)throw new Error(`[createInstance] ${a.name} depends on UNKNOWN service ${t.id}.`);n.push(d)}let l=r.length>0?r[0].index:c.length;if(c.length!==l){console.warn(`[createInstance] First service dependency of ${a.name} at position ${l+1} conflicts with ${c.length} static arguments`);let t=l-c.length;t>0?c=c.concat(new Array(t)):c=c.slice(0,l)}return new a(...[...c,...n])}_setServiceInstance(a,c){if(this._services.get(a)instanceof M.SyncDescriptor)this._services.set(a,c);else if(this._parent)this._parent._setServiceInstance(a,c);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(a){let c=this._services.get(a);return!c&&this._parent?this._parent._getServiceInstanceOrDescriptor(a):c}_getOrCreateServiceInstance(a,c){let u=this._getServiceInstanceOrDescriptor(a);return u instanceof M.SyncDescriptor?this._safeCreateAndCacheServiceInstance(a,u,c.branch(a,!0)):(c.branch(a,!1),u)}_safeCreateAndCacheServiceInstance(a,c,u){if(this._activeInstantiations.has(a))throw new Error(`illegal state - RECURSIVELY instantiating service '${a}'`);this._activeInstantiations.add(a);try{return this._createAndCacheServiceInstance(a,c,u)}finally{this._activeInstantiations.delete(a)}}_createAndCacheServiceInstance(a,c,u){const r=new k.Graph(t=>t.id.toString());let n=0;const l=[{id:a,desc:c,_trace:u}];for(;l.length;){const t=l.pop();if(r.lookupOrInsertNode(t),n++>1e3)throw new i(r);for(let d of L._util.getServiceDependencies(t.desc.ctor)){let h=this._getServiceInstanceOrDescriptor(d.id);if(!h&&!d.optional&&console.warn(`[createInstance] ${a} depends on ${d.id} which is NOT registered.`),h instanceof M.SyncDescriptor){const p={id:d.id,desc:h,_trace:t._trace.branch(d.id,!0)};r.insertEdge(t,p),l.push(p)}}}for(;;){const t=r.roots();if(t.length===0){if(!r.isEmpty())throw new i(r);break}for(const{data:d}of t){if(this._getServiceInstanceOrDescriptor(d.id)instanceof M.SyncDescriptor){const p=this._createServiceInstanceWithOwner(d.id,d.desc.ctor,d.desc.staticArguments,d.desc.supportsDelayedInstantiation,d._trace);this._setServiceInstance(d.id,p)}r.removeNode(d)}}return this._getServiceInstanceOrDescriptor(a)}_createServiceInstanceWithOwner(a,c,u=[],r,n){if(this._services.get(a)instanceof M.SyncDescriptor)return this._createServiceInstance(c,u,r,n);if(this._parent)return this._parent._createServiceInstanceWithOwner(a,c,u,r,n);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}_createServiceInstance(a,c=[],u,r){if(u){const n=new m.IdleValue(()=>this._createInstance(a,c,r));return new Proxy(Object.create(null),{get(l,t){if(t in l)return l[t];let d=n.value,h=d[t];return typeof h!="function"||(h=h.bind(d),l[t]=h),h},set(l,t,d){return n.value[t]=d,!0}})}else return this._createInstance(a,c,r)}}e.InstantiationService=C;class s{constructor(a,c){this.type=a,this.name=c,this._start=Date.now(),this._dep=[]}static traceInvocation(a){return v?new s(1,a.name||a.toString().substring(0,42).replace(/\n/g,"")):s._None}static traceCreation(a){return v?new s(0,a.name):s._None}branch(a,c){let u=new s(2,a.toString());return this._dep.push([a,c,u]),u}stop(){let a=Date.now()-this._start;s._totals+=a;let c=!1;function u(n,l){let t=[],d=new Array(n+1).join("	");for(const[h,p,w]of l._dep)if(p&&w){c=!0,t.push(`${d}CREATES -> ${h}`);let b=u(n+1,w);b&&t.push(b)}else t.push(`${d}uses -> ${h}`);return t.join(`
`)}let r=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${u(1,this)}`,`DONE, took ${a.toFixed(2)}ms (grand total ${s._totals.toFixed(2)}ms)`];(a>2||c)&&console.log(r.join(`
`))}}s._None=new class extends s{constructor(){super(-1,null)}stop(){}branch(){return this}},s._totals=0}),define(ie[565],ne([0,1,536,15,6,2]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const S=/^(cursor|delete)/;class m extends L.Disposable{constructor(i,C,s,o,a){super();this._contextKeyService=i,this._commandService=C,this._telemetryService=s,this._notificationService=o,this._logService=a,this._onDidUpdateKeybindings=this._register(new M.Emitter),this._currentChord=null,this._currentChordChecker=new k.IntervalTimer,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new k.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:M.Event.None}dispose(){super.dispose()}_log(i){this._logging&&this._logService.info(`[KeybindingService]: ${i}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(i,C){const s=this._getResolver().lookupPrimaryKeybinding(i,C||this._contextKeyService);if(!!s)return s.resolvedKeybinding}dispatchEvent(i,C){return this._dispatch(i,C)}softDispatch(i,C){const s=this.resolveKeyboardEvent(i);if(s.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[o]=s.getDispatchParts();if(o===null)return null;const a=this._contextKeyService.getContext(C),c=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(a,c,o)}_enterChordMode(i,C){this._currentChord={keypress:i,label:C},this._currentChordStatusMessage=this._notificationService.status(_.localize(0,null,C));const s=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-s>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(i,C){return this._doDispatch(this.resolveKeyboardEvent(i),C,!1)}_singleModifierDispatch(i,C){const s=this.resolveKeyboardEvent(i),[o]=s.getSingleModifierDispatchParts();return o!==null&&this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${o}.`),this._currentSingleModifier=o,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):o!==null&&o===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${o} ${o}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(s,C,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(i,C,s=!1){let o=!1;if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let a=null,c=null;if(s){const[l]=i.getSingleModifierDispatchParts();a=l,c=l}else[a]=i.getDispatchParts(),c=this._currentChord?this._currentChord.keypress:null;if(a===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),o;const u=this._contextKeyService.getContext(C),r=i.getLabel(),n=this._getResolver().resolve(u,c,a);return this._logService.trace("KeybindingService#dispatch",r,n==null?void 0:n.commandId),n&&n.enterChord?(o=!0,this._enterChordMode(a,r),o):(this._currentChord&&(!n||!n.commandId)&&(this._notificationService.status(_.localize(1,null,this._currentChord.label,r),{hideAfter:10*1e3}),o=!0),this._leaveChordMode(),n&&n.commandId&&(n.bubble||(o=!0),typeof n.commandArgs=="undefined"?this._commandService.executeCommand(n.commandId).then(void 0,l=>this._notificationService.warn(l)):this._commandService.executeCommand(n.commandId,n.commandArgs).then(void 0,l=>this._notificationService.warn(l)),S.test(n.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:n.commandId,from:"keybinding"})),o)}mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30}}e.AbstractKeybindingService=m}),define(ie[566],ne([0,1,12,182,41]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class L extends M.ResolvedKeybinding{constructor(m,v){super();if(v.length===0)throw _.illegalArgument("parts");this._os=m,this._parts=v}getLabel(){return k.UILabelProvider.toLabel(this._os,this._parts,m=>this._getLabel(m))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._parts,m=>this._getAriaLabel(m))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(m=>this._getPart(m))}_getPart(m){return new M.ResolvedKeybindingPart(m.ctrlKey,m.shiftKey,m.altKey,m.metaKey,this._getLabel(m),this._getAriaLabel(m))}getDispatchParts(){return this._parts.map(m=>this._getDispatchPart(m))}getSingleModifierDispatchParts(){return this._parts.map(m=>this._getSingleModifierDispatchPart(m))}}e.BaseResolvedKeybinding=L}),define(ie[37],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=_.createDecorator("keybindingService")}),define(ie[255],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class _{constructor(S,m,v){this._log=v,this._defaultKeybindings=S,this._defaultBoundCommands=new Map;for(let i=0,C=S.length;i<C;i++){const s=S[i].command;s&&this._defaultBoundCommands.set(s,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=_.combine(S,m);for(let i=0,C=this._keybindings.length;i<C;i++){let s=this._keybindings[i];s.keypressParts.length!==0&&(s.when&&s.when.type===0||this._addKeyPress(s.keypressParts[0],s))}}static _isTargetedForRemoval(S,m,v,i,C){return!(S.command!==i||m&&S.keypressParts[0]!==m||v&&S.keypressParts[1]!==v||C&&(!S.when||!C.equals(S.when)))}static combine(S,m){S=S.slice(0);let v=[];for(const i of m){if(!i.command||i.command.length===0||i.command.charAt(0)!=="-"){v.push(i);continue}const C=i.command.substr(1),s=i.keypressParts[0],o=i.keypressParts[1],a=i.when;for(let c=S.length-1;c>=0;c--)this._isTargetedForRemoval(S[c],s,o,C,a)&&S.splice(c,1)}return S.concat(v)}_addKeyPress(S,m){const v=this._map.get(S);if(typeof v=="undefined"){this._map.set(S,[m]),this._addToLookupMap(m);return}for(let i=v.length-1;i>=0;i--){let C=v[i];if(C.command===m.command)continue;const s=C.keypressParts.length>1,o=m.keypressParts.length>1;s&&o&&C.keypressParts[1]!==m.keypressParts[1]||_.whenIsEntirelyIncluded(C.when,m.when)&&this._removeFromLookupMap(C)}v.push(m),this._addToLookupMap(m)}_addToLookupMap(S){if(!S.command)return;let m=this._lookupMap.get(S.command);typeof m=="undefined"?(m=[S],this._lookupMap.set(S.command,m)):m.push(S)}_removeFromLookupMap(S){if(!S.command)return;let m=this._lookupMap.get(S.command);if(typeof m!="undefined"){for(let v=0,i=m.length;v<i;v++)if(m[v]===S){m.splice(v,1);return}}}static whenIsEntirelyIncluded(S,m){return!m||m.type===1?!0:!S||S.type===1?!1:this._implies(S,m)}static _implies(S,m){const v=S.negate(),i=s=>s.type===9?s.expr:[s];let C=i(v).concat(i(m));for(let s=0;s<C.length;s++){const a=C[s].negate();for(let c=s+1;c<C.length;c++){const u=C[c];if(a.equals(u))return!0}}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(S,m){const v=this._lookupMap.get(S);if(typeof v=="undefined"||v.length===0)return null;if(v.length===1)return v[0];for(let i=v.length-1;i>=0;i--){const C=v[i];if(m.contextMatchesRules(C.when))return C}return v[v.length-1]}resolve(S,m,v){this._log(`| Resolving ${v}${m?` chorded from ${m}`:""}`);let i=null;if(m!==null){const s=this._map.get(m);if(typeof s=="undefined")return this._log("\\ No keybinding entries."),null;i=[];for(let o=0,a=s.length;o<a;o++){let c=s[o];c.keypressParts[1]===v&&i.push(c)}}else{const s=this._map.get(v);if(typeof s=="undefined")return this._log("\\ No keybinding entries."),null;i=s}let C=this._findCommand(S,i);return C?m===null&&C.keypressParts.length>1&&C.keypressParts[1]!==null?(this._log(`\\ From ${i.length} keybinding entries, matched chord, when: ${k(C.when)}, source: ${M(C)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${i.length} keybinding entries, matched ${C.command}, when: ${k(C.when)}, source: ${M(C)}.`),{enterChord:!1,leaveChord:C.keypressParts.length>1,commandId:C.command,commandArgs:C.commandArgs,bubble:C.bubble}):(this._log(`\\ From ${i.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(S,m){for(let v=m.length-1;v>=0;v--){let i=m[v];if(!!_.contextMatchesRules(S,i.when))return i}return null}static contextMatchesRules(S,m){return m?m.evaluate(S):!0}}e.KeybindingResolver=_;function k(L){return L?`${L.serialize()}`:"no when condition"}function M(L){return L.extensionId?L.isBuiltinExtension?`built-in extension ${L.extensionId}`:`user extension ${L.extensionId}`:L.isDefault?"built-in":"user"}}),define(ie[567],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class _{constructor(L,S,m,v,i,C,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=L,this.keypressParts=L?k(L.getDispatchParts()):[],L&&this.keypressParts.length===0&&(this.keypressParts=k(L.getSingleModifierDispatchParts())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=m,this.when=v,this.isDefault=i,this.extensionId=C,this.isBuiltinExtension=s}}e.ResolvedKeybindingItem=_;function k(M){let L=[];for(let S=0,m=M.length;S<m;S++){const v=M[S];if(!v)return L;L.push(v)}return L}e.removeElementsAfterNulls=k}),define(ie[568],ne([0,1,41,566]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class M extends k.BaseResolvedKeybinding{constructor(S,m){super(m,S.parts)}_keyCodeToUILabel(S){if(this._os===2)switch(S){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return _.KeyCodeUtils.toString(S)}_getLabel(S){return S.isDuplicateModifierCase()?"":this._keyCodeToUILabel(S.keyCode)}_getAriaLabel(S){return S.isDuplicateModifierCase()?"":_.KeyCodeUtils.toString(S.keyCode)}_getDispatchPart(S){return M.getDispatchStr(S)}static getDispatchStr(S){if(S.isModifierKey())return null;let m="";return S.ctrlKey&&(m+="ctrl+"),S.shiftKey&&(m+="shift+"),S.altKey&&(m+="alt+"),S.metaKey&&(m+="meta+"),m+=_.KeyCodeUtils.toString(S.keyCode),m}_getSingleModifierDispatchPart(S){return S.keyCode===5&&!S.shiftKey&&!S.altKey&&!S.metaKey?"ctrl":S.keyCode===4&&!S.ctrlKey&&!S.altKey&&!S.metaKey?"shift":S.keyCode===6&&!S.ctrlKey&&!S.shiftKey&&!S.metaKey?"alt":S.keyCode===57&&!S.ctrlKey&&!S.shiftKey&&!S.altKey?"meta":null}}e.USLayoutResolvedKeybinding=M}),define(ie[121],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=_.createDecorator("labelService")}),define(ie[144],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=_.createDecorator("layoutService")}),define(ie[569],ne([0,1,207,2,144]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let L=class extends k.Disposable{constructor(m){super();this.layoutService=m,this.currentViewDisposable=k.Disposable.None,this.container=m.container,this.contextView=this._register(new _.ContextView(this.container,1)),this.layout(),this._register(m.onDidLayout(()=>this.layout()))}setContainer(m,v){this.contextView.setContainer(m,v||1)}showContextView(m,v,i){v?v!==this.container&&(this.container=v,this.setContainer(v,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(m);const C=k.toDisposable(()=>{this.currentViewDisposable===C&&this.hideContextView()});return this.currentViewDisposable=C,C}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(m){this.contextView.hide(m)}};L=Me([_e(0,M.ILayoutService)],L),e.ContextViewService=L}),define(ie[69],ne([0,1,9,2,6]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=_.createDecorator("logService");var L;(function(i){i[i.Trace=0]="Trace",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warning=3]="Warning",i[i.Error=4]="Error",i[i.Critical=5]="Critical",i[i.Off=6]="Off"})(L=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=L.Info;class S extends k.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new M.Emitter)}setLevel(C){this.level!==C&&(this.level=C,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=S;class m extends S{constructor(C=e.DEFAULT_LOG_LEVEL){super();this.setLevel(C)}trace(C,...s){this.getLevel()<=L.Trace&&console.log("%cTRACE","color: #888",C,...s)}debug(C,...s){this.getLevel()<=L.Debug&&console.log("%cDEBUG","background: #eee; color: #888",C,...s)}info(C,...s){this.getLevel()<=L.Info&&console.log("%c INFO","color: #33f",C,...s)}error(C,...s){this.getLevel()<=L.Error&&console.log("%c  ERR","color: #f33",C,...s)}dispose(){}}e.ConsoleLogger=m;class v extends k.Disposable{constructor(C){super();this.logger=C,this._register(C)}getLevel(){return this.logger.getLevel()}trace(C,...s){this.logger.trace(C,...s)}debug(C,...s){this.logger.debug(C,...s)}info(C,...s){this.logger.info(C,...s)}error(C,...s){this.logger.error(C,...s)}}e.LogService=v}),define(ie[256],ne([0,1,15,2,204,302,3,18,45,398,36,142,8,19,69,80,12]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerServiceImpl=void 0;const n=60*1e3,l=5*60*1e3;function t(y,I){let N=y.getModel(I);return!(!N||N.isTooLargeForSyncing())}let d=class extends k.Disposable{constructor(I,N,D){super();this._modelService=I,this._workerManager=this._register(new p(this._modelService)),this._logService=D,this._register(m.LinkProviderRegistry.register("*",{provideLinks:(T,P)=>t(this._modelService,T.uri)?this._workerManager.withWorker().then(R=>R.computeLinks(T.uri)).then(R=>R&&{links:R}):Promise.resolve({links:[]})})),this._register(m.CompletionProviderRegistry.register("*",new h(this._workerManager,N,this._modelService)))}dispose(){super.dispose()}canComputeDiff(I,N){return t(this._modelService,I)&&t(this._modelService,N)}computeDiff(I,N,D,T){return this._workerManager.withWorker().then(P=>P.computeDiff(I,N,D,T))}computeMoreMinimalEdits(I,N){if(a.isNonEmptyArray(N)){if(!t(this._modelService,I))return Promise.resolve(N);const D=u.StopWatch.create(!0),T=this._workerManager.withWorker().then(P=>P.computeMoreMinimalEdits(I,N));return T.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",I.toString(!0),D.elapsed())),Promise.race([T,_.timeout(1e3).then(()=>N)])}else return Promise.resolve(void 0)}canNavigateValueSet(I){return t(this._modelService,I)}navigateValueSet(I,N,D){return this._workerManager.withWorker().then(T=>T.navigateValueSet(I,N,D))}canComputeWordRanges(I){return t(this._modelService,I)}computeWordRanges(I,N){return this._workerManager.withWorker().then(D=>D.computeWordRanges(I,N))}};d=Me([_e(0,C.IModelService),_e(1,s.ITextResourceConfigurationService),_e(2,c.ILogService)],d),e.EditorWorkerServiceImpl=d;class h{constructor(I,N,D){this._debugDisplayName="wordbasedCompletions",this._workerManager=I,this._configurationService=N,this._modelService=D}provideCompletionItems(I,N){return Ie(this,void 0,void 0,function*(){const D=this._configurationService.getValue(I.uri,N,"editor");if(!D.wordBasedSuggestions)return;const T=[];if(D.wordBasedSuggestionsMode==="currentDocument")t(this._modelService,I.uri)&&T.push(I.uri);else for(const W of this._modelService.getModels())!t(this._modelService,W.uri)||(W===I?T.unshift(W.uri):(D.wordBasedSuggestionsMode==="allDocuments"||W.getLanguageIdentifier().id===I.getLanguageIdentifier().id)&&T.push(W.uri));if(T.length===0)return;const P=v.LanguageConfigurationRegistry.getWordDefinition(I.getLanguageIdentifier().id),R=I.getWordAtPosition(N),O=R?new S.Range(N.lineNumber,R.startColumn,N.lineNumber,R.endColumn):S.Range.fromPositions(N),A=O.setEndPosition(N.lineNumber,N.column),E=yield(yield this._workerManager.withWorker()).textualSuggest(T,R==null?void 0:R.word,P);if(!!E)return{duration:E.duration,suggestions:E.words.map(W=>({kind:18,label:W,insertText:W,range:{insert:A,replace:O}}))}})}}class p extends k.Disposable{constructor(I){super();this._modelService=I,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new _.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(l/2)),this._register(this._modelService.onModelRemoved(D=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>l&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new f(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class w extends k.Disposable{constructor(I,N,D){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=I,this._modelService=N,!D){let T=new _.IntervalTimer;T.cancelAndSet(()=>this._checkStopModelSync(),Math.round(n/2)),this._register(T)}}dispose(){for(let I in this._syncedModels)k.dispose(this._syncedModels[I]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(I){for(const N of I){let D=N.toString();this._syncedModels[D]||this._beginModelSync(N),this._syncedModels[D]&&(this._syncedModelsLastUsedTime[D]=new Date().getTime())}}_checkStopModelSync(){let I=new Date().getTime(),N=[];for(let D in this._syncedModelsLastUsedTime)I-this._syncedModelsLastUsedTime[D]>n&&N.push(D);for(const D of N)this._stopModelSync(D)}_beginModelSync(I){let N=this._modelService.getModel(I);if(!N||N.isTooLargeForSyncing())return;let D=I.toString();this._proxy.acceptNewModel({url:N.uri.toString(),lines:N.getLinesContent(),EOL:N.getEOL(),versionId:N.getVersionId()});const T=new k.DisposableStore;T.add(N.onDidChangeContent(P=>{this._proxy.acceptModelChanged(D.toString(),P)})),T.add(N.onWillDispose(()=>{this._stopModelSync(D)})),T.add(k.toDisposable(()=>{this._proxy.acceptRemovedModel(D)})),this._syncedModels[D]=T}_stopModelSync(I){let N=this._syncedModels[I];delete this._syncedModels[I],delete this._syncedModelsLastUsedTime[I],k.dispose(N)}}class b{constructor(I){this._instance=I,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class g{constructor(I){this._workerClient=I}fhr(I,N){return this._workerClient.fhr(I,N)}}e.EditorWorkerHost=g;class f extends k.Disposable{constructor(I,N,D){super();this._disposed=!1,this._modelService=I,this._keepIdleModels=N,this._workerFactory=new L.DefaultWorkerFactory(D),this._worker=null,this._modelManager=null}fhr(I,N){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new M.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new g(this)))}catch(I){M.logOnceWebWorkerWarning(I),this._worker=new b(new i.EditorSimpleWorker(new g(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,I=>(M.logOnceWebWorkerWarning(I),this._worker=new b(new i.EditorSimpleWorker(new g(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(I){return this._modelManager||(this._modelManager=this._register(new w(I,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(I){return this._disposed?Promise.reject(r.canceled()):this._getProxy().then(N=>(this._getOrCreateModelManager(N).ensureSyncedResources(I),N))}computeDiff(I,N,D,T){return this._withSyncedResources([I,N]).then(P=>P.computeDiff(I.toString(),N.toString(),D,T))}computeMoreMinimalEdits(I,N){return this._withSyncedResources([I]).then(D=>D.computeMoreMinimalEdits(I.toString(),N))}computeLinks(I){return this._withSyncedResources([I]).then(N=>N.computeLinks(I.toString()))}textualSuggest(I,N,D){return Ie(this,void 0,void 0,function*(){const T=yield this._withSyncedResources(I),P=D.source,R=o.regExpFlags(D);return T.textualSuggest(I.map(O=>O.toString()),N,P,R)})}computeWordRanges(I,N){return this._withSyncedResources([I]).then(D=>{let T=this._modelService.getModel(I);if(!T)return Promise.resolve(null);let P=v.LanguageConfigurationRegistry.getWordDefinition(T.getLanguageIdentifier().id),R=P.source,O=o.regExpFlags(P);return D.computeWordRanges(I.toString(),N,R,O)})}navigateValueSet(I,N,D){return this._withSyncedResources([I]).then(T=>{let P=this._modelService.getModel(I);if(!P)return null;let R=v.LanguageConfigurationRegistry.getWordDefinition(P.getLanguageIdentifier().id),O=R.source,A=o.regExpFlags(R);return T.navigateValueSet(I.toString(),N,D,O,A)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=f}),define(ie[257],ne([0,1,18,69,140]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;class L{constructor(C,s,o){this._legend=C,this._themeService=s,this._logService=o,this._hashTable=new v,this._hasWarnedOverlappingTokens=!1}getMetadata(C,s,o){const a=this._hashTable.get(C,s,o.id);let c;if(a)c=a.metadata,this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${C} / ${s}: foreground ${_.TokenMetadata.getForeground(c)}, fontStyle ${_.TokenMetadata.getFontStyle(c).toString(2)}`);else{let u=this._legend.tokenTypes[C];const r=[];if(u){let n=s;for(let t=0;n>0&&t<this._legend.tokenModifiers.length;t++)n&1&&r.push(this._legend.tokenModifiers[t]),n=n>>1;n>0&&this._logService.getLevel()===k.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${s.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const l=this._themeService.getColorTheme().getTokenStyleMetadata(u,r,o.language);typeof l=="undefined"?c=2147483647:(c=0,typeof l.italic!="undefined"&&(c|=(l.italic?1:0)<<11|1),typeof l.bold!="undefined"&&(c|=(l.bold?2:0)<<11|2),typeof l.underline!="undefined"&&(c|=(l.underline?4:0)<<11|4),l.foreground&&(c|=l.foreground<<14|8),c===0&&(c=2147483647))}else this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${C} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),c=2147483647,u="not-in-legend";this._hashTable.add(C,s,o.id,c),this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${C} (${u}) / ${s} (${r.join(" ")}): foreground ${_.TokenMetadata.getForeground(c)}, fontStyle ${_.TokenMetadata.getFontStyle(c).toString(2)}`)}return c}warnOverlappingSemanticTokens(C,s){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${C}, column ${s}`))}}e.SemanticTokensProviderStyling=L;function S(i,C,s){const o=i.data,a=i.data.length/5|0,c=Math.max(Math.ceil(a/1024),400),u=[];let r=0,n=1,l=0;for(;r<a;){const t=r;let d=Math.min(t+c,a);if(d<a){let I=d;for(;I-1>t&&o[5*I]===0;)I--;if(I-1===t){let N=d;for(;N+1<a&&o[5*N]===0;)N++;d=N}else d=I}let h=new Uint32Array((d-t)*4),p=0,w=0,b=0,g=0,f=0;for(;r<d;){const I=5*r,N=o[I],D=o[I+1],T=n+N,P=N===0?l+D:D,R=o[I+2],O=o[I+3],A=o[I+4],F=C.getMetadata(O,A,s);F!==2147483647&&(w===0&&(w=T),b===T&&f>P&&(C.warnOverlappingSemanticTokens(T,P+1),g<P?h[p-4+2]=P:p-=4),h[p]=T-w,h[p+1]=P,h[p+2]=P+R,h[p+3]=F,p+=4,b=T,g=P,f=P+R),n=T,l=P,r++}p!==h.length&&(h=h.subarray(0,p));const y=new M.MultilineTokens2(w,new M.SparseEncodedTokens(h));u.push(y)}return u}e.toMultilineTokens2=S;class m{constructor(C,s,o,a){this.tokenTypeIndex=C,this.tokenModifierSet=s,this.languageId=o,this.metadata=a,this.next=null}}class v{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(C,s){for(let o=0;o<s;o++)C[o]=null}_hash2(C,s){return(C<<5)-C+s|0}_hashFunc(C,s,o){return this._hash2(this._hash2(C,s),o)%this._currentLength}get(C,s,o){const a=this._hashFunc(C,s,o);let c=this._elements[a];for(;c;){if(c.tokenTypeIndex===C&&c.tokenModifierSet===s&&c.languageId===o)return c;c=c.next}return null}add(C,s,o,a){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const c=this._elements;this._currentLengthIndex++,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength);for(const u of c){let r=u;for(;r;){const n=r.next;r.next=null,this._add(r),r=n}}}this._add(new m(C,s,o,a))}_add(C){const s=this._hashFunc(C.tokenTypeIndex,C.tokenModifierSet,C.languageId);C.next=this._elements[s],this._elements[s]=C}}v._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ie[570],ne([0,1,256,20]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function M(S,m){return new L(S,m)}e.createWebWorker=M;class L extends _.EditorWorkerClient{constructor(m,v){super(m,v.keepIdleModels||!1,v.label);this._foreignModuleId=v.moduleId,this._foreignModuleCreateData=v.createData||null,this._foreignModuleHost=v.host||null,this._foreignProxy=null}fhr(m,v){if(!this._foreignModuleHost||typeof this._foreignModuleHost[m]!="function")return Promise.reject(new Error("Missing method "+m+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[m].apply(this._foreignModuleHost,v))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(m=>{const v=this._foreignModuleHost?k.getAllMethodNames(this._foreignModuleHost):[];return m.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,v).then(i=>{this._foreignModuleCreateData=null;const C=(a,c)=>m.fmr(a,c),s=(a,c)=>function(){const u=Array.prototype.slice.call(arguments,0);return c(a,u)};let o={};for(const a of i)o[a]=s(a,C);return o})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(m){return this._withSyncedResources(m).then(v=>this.getProxy())}}}),define(ie[86],ne([0,1,9,538,73]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var L;(function(m){m[m.Hint=1]="Hint",m[m.Info=2]="Info",m[m.Warning=4]="Warning",m[m.Error=8]="Error"})(L=e.MarkerSeverity||(e.MarkerSeverity={})),function(m){function v(a,c){return c-a}m.compare=v;const i=Object.create(null);i[m.Error]=k.localize(0,null),i[m.Warning]=k.localize(1,null),i[m.Info]=k.localize(2,null);function C(a){return i[a]||""}m.toString=C;function s(a){switch(a){case M.default.Error:return m.Error;case M.default.Warning:return m.Warning;case M.default.Info:return m.Info;case M.default.Ignore:return m.Hint}}m.fromSeverity=s;function o(a){switch(a){case m.Error:return M.default.Error;case m.Warning:return M.default.Warning;case m.Info:return M.default.Info;case m.Hint:return M.default.Ignore}}m.toSeverity=o}(L=e.MarkerSeverity||(e.MarkerSeverity={}));var S;(function(m){const v="";function i(s){return C(s,!0)}m.makeKey=i;function C(s,o){let a=[v];return s.source?a.push(s.source.replace("\xA6","\\\xA6")):a.push(v),s.code?typeof s.code=="string"?a.push(s.code.replace("\xA6","\\\xA6")):a.push(s.code.value.replace("\xA6","\\\xA6")):a.push(v),s.severity!==void 0&&s.severity!==null?a.push(L.toString(s.severity)):a.push(v),s.message&&o?a.push(s.message.replace("\xA6","\\\xA6")):a.push(v),s.startLineNumber!==void 0&&s.startLineNumber!==null?a.push(s.startLineNumber.toString()):a.push(v),s.startColumn!==void 0&&s.startColumn!==null?a.push(s.startColumn.toString()):a.push(v),s.endLineNumber!==void 0&&s.endLineNumber!==null?a.push(s.endLineNumber.toString()):a.push(v),s.endColumn!==void 0&&s.endColumn!==null?a.push(s.endColumn.toString()):a.push(v),a.push(v),a.join("\xA6")}m.makeKeyOptionalMessage=C})(S=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=_.createDecorator("markerService")}),define(ie[571],ne([0,1,86,24,6,2,3,8,19,9,74,71]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class o{constructor(r,n,l){this.marker=r,this.index=n,this.total=l}}e.MarkerCoordinate=o;let a=class At{constructor(r,n){this._markerService=n,this._onDidChange=new M.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new L.DisposableStore,this._markers=[],this._nextIdx=-1,k.URI.isUri(r)?this._resourceFilter=t=>t.toString()===r.toString():r&&(this._resourceFilter=r);const l=()=>{this._markers=this._markerService.read({resource:k.URI.isUri(r)?r:void 0,severities:_.MarkerSeverity.Error|_.MarkerSeverity.Warning|_.MarkerSeverity.Info}),typeof r=="function"&&(this._markers=this._markers.filter(t=>this._resourceFilter(t.resource))),this._markers.sort(At._compareMarker)};l(),this._dispoables.add(n.onMarkerChanged(t=>{(!this._resourceFilter||t.some(d=>this._resourceFilter(d)))&&(l(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(r){return!this._resourceFilter&&!r?!0:!this._resourceFilter||!r?!1:this._resourceFilter(r)}get selected(){const r=this._markers[this._nextIdx];return r&&new o(r,this._nextIdx+1,this._markers.length)}_initIdx(r,n,l){let t=!1,d=this._markers.findIndex(h=>h.resource.toString()===r.uri.toString());d<0&&(d=v.binarySearch(this._markers,{resource:r.uri},(h,p)=>m.compare(h.resource.toString(),p.resource.toString())),d<0&&(d=~d));for(let h=d;h<this._markers.length;h++){let p=S.Range.lift(this._markers[h]);if(p.isEmpty()){const w=r.getWordAtPosition(p.getStartPosition());w&&(p=new S.Range(p.startLineNumber,w.startColumn,p.startLineNumber,w.endColumn))}if(n&&(p.containsPosition(n)||n.isBeforeOrEqual(p.getStartPosition()))){this._nextIdx=h,t=!0;break}if(this._markers[h].resource.toString()!==r.uri.toString())break}t||(this._nextIdx=l?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(r,n,l){if(this._markers.length===0)return!1;let t=this._nextIdx;return this._nextIdx===-1?this._initIdx(n,l,r):r?this._nextIdx=(this._nextIdx+1)%this._markers.length:r||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),t!==this._nextIdx}find(r,n){let l=this._markers.findIndex(t=>t.resource.toString()===r.toString());if(!(l<0)){for(;l<this._markers.length;l++)if(S.Range.containsPosition(this._markers[l],n))return new o(this._markers[l],l+1,this._markers.length)}}static _compareMarker(r,n){let l=m.compare(r.resource.toString(),n.resource.toString());return l===0&&(l=_.MarkerSeverity.compare(r.severity,n.severity)),l===0&&(l=S.Range.compareRangesUsingStarts(r,n)),l}};a=Me([_e(1,_.IMarkerService)],a),e.MarkerList=a,e.IMarkerNavigationService=i.createDecorator("IMarkerNavigationService");let c=class{constructor(r){this._markerService=r,this._provider=new s.LinkedList}getMarkerList(r){for(let n of this._provider){const l=n.getMarkerList(r);if(l)return l}return new a(r,this._markerService)}};c=Me([_e(0,_.IMarkerService)],c),C.registerSingleton(e.IMarkerNavigationService,c,!0)}),define(ie[572],ne([0,1,19,46,24,6,86,50,53]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class i{constructor(){this._byResource=new m.ResourceMap,this._byOwner=new Map}set(a,c,u){let r=this._byResource.get(a);r||(r=new Map,this._byResource.set(a,r)),r.set(c,u);let n=this._byOwner.get(c);n||(n=new m.ResourceMap,this._byOwner.set(c,n)),n.set(a,u)}get(a,c){let u=this._byResource.get(a);return u==null?void 0:u.get(c)}delete(a,c){let u=!1,r=!1,n=this._byResource.get(a);n&&(u=n.delete(c));let l=this._byOwner.get(c);if(l&&(r=l.delete(a)),u!==r)throw new Error("illegal state");return u&&r}values(a){var c,u,r,n;return typeof a=="string"?(u=(c=this._byOwner.get(a))===null||c===void 0?void 0:c.values())!==null&&u!==void 0?u:v.Iterable.empty():M.URI.isUri(a)?(n=(r=this._byResource.get(a))===null||r===void 0?void 0:r.values())!==null&&n!==void 0?n:v.Iterable.empty():v.Iterable.map(v.Iterable.concat(...this._byOwner.values()),l=>l[1])}}class C{constructor(a){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new m.ResourceMap,this._service=a,this._subscription=a.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(a){for(const c of a){const u=this._data.get(c);u&&this._substract(u);const r=this._resourceStats(c);this._add(r),this._data.set(c,r)}}_resourceStats(a){const c={errors:0,warnings:0,infos:0,unknowns:0};if(a.scheme===k.Schemas.inMemory||a.scheme===k.Schemas.walkThrough||a.scheme===k.Schemas.walkThroughSnippet)return c;for(const{severity:u}of this._service.read({resource:a}))u===S.MarkerSeverity.Error?c.errors+=1:u===S.MarkerSeverity.Warning?c.warnings+=1:u===S.MarkerSeverity.Info?c.infos+=1:c.unknowns+=1;return c}_substract(a){this.errors-=a.errors,this.warnings-=a.warnings,this.infos-=a.infos,this.unknowns-=a.unknowns}_add(a){this.errors+=a.errors,this.warnings+=a.warnings,this.infos+=a.infos,this.unknowns+=a.unknowns}}class s{constructor(){this._onMarkerChanged=new L.DebounceEmitter({delay:0,merge:s._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new i,this._stats=new C(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(a,c){for(const u of c||[])this.changeOne(a,u,[])}changeOne(a,c,u){if(_.isFalsyOrEmpty(u))this._data.delete(c,a)&&this._onMarkerChanged.fire([c]);else{const r=[];for(const n of u){const l=s._toMarker(a,c,n);l&&r.push(l)}this._data.set(c,a,r),this._onMarkerChanged.fire([c])}}static _toMarker(a,c,u){let{code:r,severity:n,message:l,source:t,startLineNumber:d,startColumn:h,endLineNumber:p,endColumn:w,relatedInformation:b,tags:g}=u;if(!!l)return d=d>0?d:1,h=h>0?h:1,p=p>=d?p:d,w=w>0?w:h,{resource:c,owner:a,code:r,severity:n,message:l,source:t,startLineNumber:d,startColumn:h,endLineNumber:p,endColumn:w,relatedInformation:b,tags:g}}read(a=Object.create(null)){let{owner:c,resource:u,severities:r,take:n}=a;if((!n||n<0)&&(n=-1),c&&u){const l=this._data.get(u,c);if(l){const t=[];for(const d of l)if(s._accept(d,r)){const h=t.push(d);if(n>0&&h===n)break}return t}else return[]}else if(!c&&!u){const l=[];for(let t of this._data.values())for(let d of t)if(s._accept(d,r)){const h=l.push(d);if(n>0&&h===n)return l}return l}else{const l=this._data.values(u??c),t=[];for(const d of l)for(const h of d)if(s._accept(h,r)){const p=t.push(h);if(n>0&&p===n)return t}return t}}static _accept(a,c){return c===void 0||(c&a.severity)===a.severity}static _merge(a){const c=new m.ResourceMap;for(let u of a)for(let r of u)c.set(r,!0);return Array.from(c.keys())}}e.MarkerService=s}),define(ie[34],ne([0,1,73,9]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=_.default,e.INotificationService=k.createDecorator("notificationService");class M{}e.NoOpNotification=M}),define(ie[58],ne([0,1,2,8,24,9]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=L.createDecorator("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return _.Disposable.None},registerValidator(){return _.Disposable.None},registerExternalUriResolver(){return _.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return _.Disposable.None},open(){return Ie(this,void 0,void 0,function*(){return!1})},resolveExternalUri(m){return Ie(this,void 0,void 0,function*(){return{resolved:m,dispose(){}}})}});function S(m,v){return M.URI.isUri(m)?k.equalsIgnoreCase(m.scheme,v):k.startsWithIgnoreCase(m,v+":")}e.matchesScheme=S}),define(ie[145],ne([0,1,299,58,57,12,247,6,2,18]),function($,e,_,k,M,L,S,m,v,i){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let s=class Pt{constructor(a,c,u){this._options=a,this._modeService=c,this._openerService=u,this._onDidRenderAsync=new m.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(a,c,u){const r=new v.DisposableStore;let n;return a?n=_.renderMarkdown(a,Object.assign(Object.assign({},this._getRenderOptions(a,r)),c),u):n=document.createElement("span"),{element:n,dispose:()=>r.dispose()}}_getRenderOptions(a,c){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(u,r)=>Ie(this,void 0,void 0,function*(){var n,l,t,d;let h;u?h=this._modeService.getModeIdForLanguageName(u):this._options.editor&&(h=(n=this._options.editor.getModel())===null||n===void 0?void 0:n.getLanguageIdentifier().language),h||(h="plaintext"),this._modeService.triggerMode(h);const p=(l=yield i.TokenizationRegistry.getPromise(h))!==null&&l!==void 0?l:void 0,w=document.createElement("span");w.innerHTML=(d=(t=Pt._ttpTokenizer)===null||t===void 0?void 0:t.createHTML(r,p))!==null&&d!==void 0?d:S.tokenizeToString(r,p);let b=this._options.codeBlockFontFamily;return this._options.editor&&(b=this._options.editor.getOption(40).fontFamily),b&&(w.style.fontFamily=b),w}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:u=>this._openerService.open(u,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:a.isTrusted}).catch(L.onUnexpectedError),disposeables:c}}}};s._ttpTokenizer=(C=window.trustedTypes)===null||C===void 0?void 0:C.createPolicy("tokenizeToString",{createHTML(o,a){return S.tokenizeToString(o,a)}}),s=Me([_e(1,M.IModeService),_e(2,k.IOpenerService)],s),e.MarkdownRenderer=s}),define(ie[573],ne([0,1,7,23,71,50,202,46,43,24,28,26,545,58]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let c=class{constructor(l){this._commandService=l}open(l,t){return Ie(this,void 0,void 0,function*(){if(!a.matchesScheme(l,m.Schemas.command))return!1;if(!(t==null?void 0:t.allowCommands))return!0;typeof l=="string"&&(l=i.URI.parse(l));let d=[];try{d=S.parse(decodeURIComponent(l.query))}catch(h){try{d=S.parse(l.query)}catch(p){}}return Array.isArray(d)||(d=[d]),yield this._commandService.executeCommand(l.path,...d),!0})}};c=Me([_e(0,s.ICommandService)],c);let u=class{constructor(l){this._editorService=l}open(l,t){return Ie(this,void 0,void 0,function*(){typeof l=="string"&&(l=i.URI.parse(l));let d;const h=/^L?(\d+)(?:,(\d+))?/.exec(l.fragment);return h&&(d={startLineNumber:parseInt(h[1]),startColumn:h[2]?parseInt(h[2]):1},l=l.with({fragment:""})),l.scheme===m.Schemas.file&&(l=v.normalizePath(l)),yield this._editorService.openCodeEditor({resource:l,options:Object.assign({selection:d,context:(t==null?void 0:t.fromUserGesture)?o.EditorOpenContext.USER:o.EditorOpenContext.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};u=Me([_e(0,C.ICodeEditorService)],u);let r=class{constructor(l,t){this._openers=new M.LinkedList,this._validators=new M.LinkedList,this._resolvers=new M.LinkedList,this._resolvedUriTargets=new L.ResourceMap(d=>d.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new M.LinkedList,this._defaultExternalOpener={openExternal:d=>Ie(this,void 0,void 0,function*(){return a.matchesScheme(d,m.Schemas.http)||a.matchesScheme(d,m.Schemas.https)?_.windowOpenNoOpener(d):window.location.href=d,!0})},this._openers.push({open:(d,h)=>Ie(this,void 0,void 0,function*(){return(h==null?void 0:h.openExternal)||a.matchesScheme(d,m.Schemas.mailto)||a.matchesScheme(d,m.Schemas.http)||a.matchesScheme(d,m.Schemas.https)?(yield this._doOpenExternal(d,h),!0):!1})}),this._openers.push(new c(t)),this._openers.push(new u(l))}registerOpener(l){return{dispose:this._openers.unshift(l)}}registerValidator(l){return{dispose:this._validators.push(l)}}registerExternalUriResolver(l){return{dispose:this._resolvers.push(l)}}setDefaultExternalOpener(l){this._defaultExternalOpener=l}registerExternalOpener(l){return{dispose:this._externalOpeners.push(l)}}open(l,t){var d;return Ie(this,void 0,void 0,function*(){const h=typeof l=="string"?i.URI.parse(l):l,p=(d=this._resolvedUriTargets.get(h))!==null&&d!==void 0?d:l;for(const w of this._validators)if(!(yield w.shouldOpen(p)))return!1;for(const w of this._openers)if(yield w.open(l,t))return!0;return!1})}resolveExternalUri(l,t){return Ie(this,void 0,void 0,function*(){for(const d of this._resolvers)try{const h=yield d.resolveExternalUri(l,t);if(h)return this._resolvedUriTargets.has(h.resolved)||this._resolvedUriTargets.set(h.resolved,l),h}catch(h){}throw new Error("Could not resolve external URI: "+l.toString())})}_doOpenExternal(l,t){return Ie(this,void 0,void 0,function*(){const d=typeof l=="string"?i.URI.parse(l):l;let h;try{h=(yield this.resolveExternalUri(d,t)).resolved}catch(w){h=d}let p;if(typeof l=="string"&&d.toString()===h.toString()?p=l:p=encodeURI(h.toString(!0)),t==null?void 0:t.allowContributedOpeners){const w=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const b of this._externalOpeners)if(yield b.openExternal(p,{sourceUri:d,preferredOpenerId:w},k.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(p,{sourceUri:d},k.CancellationToken.None)})}dispose(){this._validators.clear()}};r=Me([_e(0,C.ICodeEditorService),_e(1,s.ICommandService)],r),e.OpenerService=r}),define(ie[574],ne([0,1,7,81,2,230,417,145,58,19]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesGlyphHoverWidget=void 0;class C{constructor(a){this._editor=a,this._lineNumber=-1,this._result=[]}setLineNumber(a){this._lineNumber=a,this._result=[]}clearResult(){this._result=[]}computeSync(){const a=r=>({value:r}),c=this._editor.getLineDecorations(this._lineNumber),u=[];if(!c)return u;for(const r of c){if(!r.options.glyphMarginClassName)continue;const n=r.options.glyphMarginHoverMessage;!n||k.isEmptyMarkdownString(n)||u.push(...i.asArray(n).map(a))}return u}onResult(a,c){this._result=this._result.concat(a)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class s extends S.GlyphHoverWidget{constructor(a,c,u=v.NullOpenerService){super(s.ID,a);this._renderDisposeables=this._register(new M.DisposableStore),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new m.MarkdownRenderer({editor:this._editor},c,u)),this._computer=new C(this._editor),this._hoverOperation=new L.HoverOperation(this._computer,r=>this._withResult(r),void 0,r=>this._withResult(r),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(a){this._lastLineNumber!==a&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=a,this._computer.setLineNumber(a),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(a){this._messages=a,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(a,c){this._renderDisposeables.clear();const u=document.createDocumentFragment();for(const r of c){const n=this._markdownRenderer.render(r.value);this._renderDisposeables.add(n),u.appendChild(_.$("div.hover-row",void 0,n.element))}this.updateContents(u),this.showAt(a)}}e.ModesGlyphHoverWidget=s,s.ID="editor.contrib.modesGlyphHoverWidget"}),define(ie[258],ne([0,1,523,2,7,61,145,81,27,6,236,9]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function o(u){return!!u&&Boolean(u.completion.documentation||u.completion.detail&&u.completion.detail!==u.completion.label)}e.canExpandCompletionItem=o;let a=class{constructor(r,n){this._editor=r,this._onDidClose=new i.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new i.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new k.DisposableStore,this._renderDisposeable=new k.DisposableStore,this._borderWidth=1,this._size=new M.Dimension(330,0),this.domNode=M.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance(S.MarkdownRenderer,{editor:r}),this._body=M.$(".body"),this._scrollbar=new L.DomScrollableElement(this._body,{}),M.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=M.append(this._body,M.$(".header")),this._close=M.append(this._header,M.$("span"+v.Codicon.close.cssSelector)),this._close.title=_.localize(0,null),this._type=M.append(this._header,M.$("p.type")),this._docs=M.append(this._body,M.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(40)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const r=this._editor.getOptions(),n=r.get(40),l=n.fontFamily,t=r.get(105)||n.fontSize,d=r.get(106)||n.lineHeight,h=n.fontWeight,p=`${t}px`,w=`${d}px`;this.domNode.style.fontSize=p,this.domNode.style.lineHeight=w,this.domNode.style.fontWeight=h,this.domNode.style.fontFeatureSettings=n.fontFeatureSettings,this._type.style.fontFamily=l,this._close.style.height=w,this._close.style.width=w}getLayoutInfo(){const r=this._editor.getOption(106)||this._editor.getOption(40).lineHeight,n=this._borderWidth,l=n*2;return{lineHeight:r,borderWidth:n,borderHeight:l,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=_.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(r,n){var l,t;this._renderDisposeable.clear();let{detail:d,documentation:h}=r.completion;if(n){let p="";p+=`score: ${r.score[0]}
`,p+=`prefix: ${(l=r.word)!==null&&l!==void 0?l:"(no prefix)"}
`,p+=`word: ${r.completion.filterText?r.completion.filterText+" (filterText)":r.textLabel}
`,p+=`distance: ${r.distance} (localityBonus-setting)
`,p+=`index: ${r.idx}, based on ${r.completion.sortText&&`sortText: "${r.completion.sortText}"`||"label"}
`,p+=`commit_chars: ${(t=r.completion.commitCharacters)===null||t===void 0?void 0:t.join("")}
`,h=new m.MarkdownString().appendCodeblock("empty",p),d=`Provider: ${r.provider._debugDisplayName}`}if(!n&&!o(r)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),d){const p=d.length>1e5?`${d.substr(0,1e5)}\u2026`:d;this._type.textContent=p,this._type.title=p,M.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(p))}else M.clearNode(this._type),this._type.title="",M.hide(this._type),this.domNode.classList.add("no-type");if(M.clearNode(this._docs),typeof h=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=h;else if(h){this._docs.classList.add("markdown-docs"),M.clearNode(this._docs);const p=this._markdownRenderer.render(h);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(r,n){const l=new M.Dimension(r,n);M.Dimension.equals(l,this._size)||(this._size=l,M.size(this.domNode,r,n)),this._scrollbar.scanDomNode()}scrollDown(r=8){this._body.scrollTop+=r}scrollUp(r=8){this._body.scrollTop-=r}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(r){this._borderWidth=r}get borderWidth(){return this._borderWidth}};a=Me([_e(1,s.IInstantiationService)],a),e.SuggestDetailsWidget=a;class c{constructor(r,n){this.widget=r,this._editor=n,this._disposables=new k.DisposableStore,this._added=!1,this._resizable=new C.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(r.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let l,t,d=0,h=0;this._disposables.add(this._resizable.onDidWillResize(()=>{l=this._topLeft,t=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(l&&t){this.widget.layout(p.dimension.width,p.dimension.height);let w=!1;p.west&&(h=t.width-p.dimension.width,w=!0),p.north&&(d=t.height-p.dimension.height,w=!0),w&&this._applyTopLeft({top:l.top+d,left:l.left+h})}p.done&&(l=void 0,t=void 0,d=0,h=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(p=this._userSize)!==null&&p!==void 0?p:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(r=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),r&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(r){var n;const l=M.getDomNodePagePosition(r);this._anchorBox=l,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size)}_placeAtAnchor(r,n){const l=M.getClientArea(document.body),t=this.widget.getLayoutInfo();let d,h,p=new M.Dimension(220,2*t.lineHeight),w=0,b=r.top,g=r.top+r.height-t.borderHeight,f,y,I=l.width-(r.left+r.width+t.borderWidth+t.horizontalPadding);w=-t.borderWidth+r.left+r.width,y=!0,d=new M.Dimension(I,l.height-r.top-t.borderHeight-t.verticalPadding),h=d.with(void 0,r.top+r.height-t.borderHeight-t.verticalPadding),n.width>I&&(r.left>I&&(I=r.left-t.borderWidth-t.horizontalPadding,y=!1,w=Math.max(t.horizontalPadding,r.left-n.width-t.borderWidth),d=d.with(I),h=d.with(void 0,h.height)),r.width>I*1.3&&l.height-(r.top+r.height)>r.height&&(I=r.width,w=r.left,b=-t.borderWidth+r.top+r.height,d=new M.Dimension(r.width-t.borderHeight,l.height-r.top-r.height-t.verticalPadding),h=d.with(void 0,r.top-t.verticalPadding),p=p.with(d.width)));let N=n.height,D=Math.max(d.height,h.height);N>D&&(N=D);let T;N<=d.height?(f=!0,T=d):(f=!1,T=h),this._applyTopLeft({left:w,top:f?b:g-N}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!f,y,f,!y),this._resizable.minSize=p,this._resizable.maxSize=T,this._resizable.layout(N,Math.min(T.width,n.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(r){this._topLeft=r,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=c}),define(ie[59],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=void 0;class k{constructor(L){this.callback=L}report(L){this._value=L,this.callback(this._value)}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=_.createDecorator("editorProgressService")}),define(ie[575],ne([0,1,23,2,15]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var L;(function(i){i[i.NO_ACTION=0]="NO_ACTION",i[i.CLOSE_PICKER=1]="CLOSE_PICKER",i[i.REFRESH_PICKER=2]="REFRESH_PICKER",i[i.REMOVE_ITEM=3]="REMOVE_ITEM"})(L=e.TriggerAction||(e.TriggerAction={}));function S(i){const C=i;return Array.isArray(C.items)}function m(i){const C=i;return!!C.picks&&C.additionalPicks instanceof Promise}class v extends k.Disposable{constructor(C,s){super();this.prefix=C,this.options=s}provide(C,s){var o;const a=new k.DisposableStore;C.canAcceptInBackground=!!((o=this.options)===null||o===void 0?void 0:o.canAcceptInBackground),C.matchOnLabel=C.matchOnDescription=C.matchOnDetail=C.sortByLabel=!1;let c;const u=a.add(new k.MutableDisposable),r=()=>Ie(this,void 0,void 0,function*(){const n=u.value=new k.DisposableStore;c==null||c.dispose(!0),C.busy=!1,c=new _.CancellationTokenSource(s);const l=c.token,t=C.value.substr(this.prefix.length).trim(),d=this._getPicks(t,n,l),h=(p,w)=>{var b;let g,f;if(S(p)?(g=p.items,f=p.active):g=p,g.length===0){if(w)return!1;t.length>0&&((b=this.options)===null||b===void 0?void 0:b.noResultsPick)&&(g=[this.options.noResultsPick])}return C.items=g,f&&(C.activeItems=[f]),!0};if(d!==null)if(m(d)){let p=!1,w=!1;yield Promise.all([(()=>Ie(this,void 0,void 0,function*(){yield M.timeout(v.FAST_PICKS_RACE_DELAY),!l.isCancellationRequested&&(w||(p=h(d.picks,!0)))}))(),(()=>Ie(this,void 0,void 0,function*(){C.busy=!0;try{const b=yield d.additionalPicks;if(l.isCancellationRequested)return;let g,f;S(d.picks)?(g=d.picks.items,f=d.picks.active):g=d.picks;let y,I;if(S(b)?(y=b.items,I=b.active):y=b,y.length>0||!p){let N;if(!f&&!I){const D=C.activeItems[0];D&&g.indexOf(D)!==-1&&(N=D)}h({items:[...g,...y],active:f||I||N})}}finally{l.isCancellationRequested||(C.busy=!1),w=!0}}))()])}else if(!(d instanceof Promise))h(d);else{C.busy=!0;try{const p=yield d;if(l.isCancellationRequested)return;h(p)}finally{l.isCancellationRequested||(C.busy=!1)}}});return a.add(C.onDidChangeValue(()=>r())),r(),a.add(C.onDidAccept(n=>{const[l]=C.selectedItems;typeof(l==null?void 0:l.accept)=="function"&&(n.inBackground||C.hide(),l.accept(C.keyMods,n))})),a.add(C.onDidTriggerItemButton(({button:n,item:l})=>Ie(this,void 0,void 0,function*(){var t,d;if(typeof l.trigger=="function"){const h=(d=(t=l.buttons)===null||t===void 0?void 0:t.indexOf(n))!==null&&d!==void 0?d:-1;if(h>=0){const p=l.trigger(h,C.keyMods),w=typeof p=="number"?p:yield p;if(s.isCancellationRequested)return;switch(w){case L.NO_ACTION:break;case L.CLOSE_PICKER:C.hide();break;case L.REFRESH_PICKER:r();break;case L.REMOVE_ITEM:const b=C.items.indexOf(l);if(b!==-1){const g=C.items.slice();g.splice(b,1),C.items=g}break}}}}))),a}}e.PickerQuickAccessProvider=v,v.FAST_PICKS_RACE_DELAY=200});var pt=this&&this.__createBinding||(Object.create?function($,e,_,k){k===void 0&&(k=_),Object.defineProperty($,k,{enumerable:!0,get:function(){return e[_]}})}:function($,e,_,k){k===void 0&&(k=_),$[k]=e[_]}),Ct=this&&this.__exportStar||function($,e){for(var _ in $)_!=="default"&&!Object.prototype.hasOwnProperty.call(e,_)&&pt(e,$,_)};define(ie[77],ne([0,1,9,205]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,Ct(k,e),e.IQuickInputService=_.createDecorator("quickInputService")}),define(ie[32],ne([0,1,20,198]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class M{constructor(){this.data=new Map}add(S,m){k.ok(_.isString(S)),k.ok(_.isObject(m)),k.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,m)}as(S){return this.data.get(S)||null}}e.Registry=new M}),define(ie[146],ne([0,1,468,6,18,45,32,105]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_LANGUAGE_IDENTIFIER=e.PLAINTEXT_EXTENSION=e.PLAINTEXT_MODE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class v{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(C){return this._languages.push(C),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let s=0,o=this._languages.length;s<o;s++)if(this._languages[s]===C){this._languages.splice(s,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}e.EditorModesRegistry=v,e.ModesRegistry=new v,S.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.PLAINTEXT_LANGUAGE_IDENTIFIER=new M.LanguageIdentifier(e.PLAINTEXT_MODE_ID,1),e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[_.localize(0,null),"text"],mimetypes:[m.Mimes.text]}),L.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0)}),define(ie[576],ne([0,1,46,43,146,241]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.detectModeId=e.getIconClasses=void 0;function S(i,C,s,o){const a=o===L.FileKind.ROOT_FOLDER?["rootfolder-icon"]:o===L.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(s){let c;if(s.scheme===_.Schemas.data?c=k.DataUri.parseMetaData(s).get(k.DataUri.META_DATA_LABEL):c=v(k.basenameOrAuthority(s).toLowerCase()),o===L.FileKind.FOLDER)a.push(`${c}-name-folder-icon`);else{if(c){if(a.push(`${c}-name-file-icon`),c.length<=255){const r=c.split(".");for(let n=1;n<r.length;n++)a.push(`${r.slice(n).join(".")}-ext-file-icon`)}a.push("ext-file-icon")}const u=m(i,C,s);u&&a.push(`${v(u)}-lang-file-icon`)}}return a}e.getIconClasses=S;function m(i,C,s){if(!s)return null;let o=null;if(s.scheme===_.Schemas.data){const c=k.DataUri.parseMetaData(s).get(k.DataUri.META_DATA_MIME);c&&(o=C.getModeId(c))}else{const a=i.getModel(s);a&&(o=a.getModeId())}return o&&o!==M.PLAINTEXT_MODE_ID?o:C.getModeIdByFilepathOrFirstLine(s)}e.detectModeId=m;function v(i){return i.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=v}),define(ie[189],ne([0,1,32,6]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function M(m){return m.length>0&&m.charAt(m.length-1)==="#"?m.substring(0,m.length-1):m}class L{constructor(){this._onDidChangeSchema=new k.Emitter,this.schemasById={}}registerSchema(v,i){this.schemasById[M(v)]=i,this._onDidChangeSchema.fire(v)}notifySchemaChanged(v){this._onDidChangeSchema.fire(v)}}const S=new L;_.Registry.add(e.Extensions.JSONContribution,S)}),define(ie[97],ne([0,1,533,6,32,20,189]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const m=M.Registry.as(S.Extensions.JSONContribution);class v{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:_.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},m.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(u,r=!0){this.registerConfigurations([u],r)}registerConfigurations(u,r=!0){const n=[];u.forEach(l=>{n.push(...this.validateAndRegisterProperties(l,r,l.extensionInfo)),this.configurationContributors.push(l),this.registerJSONConfiguration(l)}),m.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(n)}registerOverrideIdentifiers(u){for(const r of u)this.overrideIdentifiers.add(r);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(u,r=!0,n,l=3){var t;l=L.isUndefinedOrNull(u.scope)?l:u.scope;let d=[],h=u.properties;if(h)for(let w in h){if(r&&a(w)){delete h[w];continue}const b=h[w];if(this.updatePropertyDefaultValue(w,b),e.OVERRIDE_PROPERTY_PATTERN.test(w)?b.scope=void 0:(b.scope=L.isUndefinedOrNull(b.scope)?l:b.scope,b.restricted=L.isUndefinedOrNull(b.restricted)?!!((t=n==null?void 0:n.restrictedConfigurations)===null||t===void 0?void 0:t.includes(w)):b.restricted),h[w].hasOwnProperty("included")&&!h[w].included){this.excludedConfigurationProperties[w]=h[w],delete h[w];continue}else this.configurationProperties[w]=h[w];!h[w].deprecationMessage&&h[w].markdownDeprecationMessage&&(h[w].deprecationMessage=h[w].markdownDeprecationMessage),d.push(w)}let p=u.allOf;if(p)for(let w of p)d.push(...this.validateAndRegisterProperties(w,r,n,l));return d}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(u){const r=n=>{let l=n.properties;if(l)for(const d in l)this.updateSchema(d,l[d]);let t=n.allOf;t&&t.forEach(r)};r(u)}updateSchema(u,r){switch(e.allSettings.properties[u]=r,r.scope){case 1:e.applicationSettings.properties[u]=r;break;case 2:e.machineSettings.properties[u]=r;break;case 6:e.machineOverridableSettings.properties[u]=r;break;case 3:e.windowSettings.properties[u]=r;break;case 4:e.resourceSettings.properties[u]=r;break;case 5:e.resourceSettings.properties[u]=r,this.resourceLanguageSettingsSchema.properties[u]=r;break}}updateOverridePropertyPatternKey(){for(const u of this.overrideIdentifiers.values()){const r=`[${u}]`,n={type:"object",description:_.localize(1,null),errorMessage:_.localize(2,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(r,n),e.allSettings.properties[r]=n,e.applicationSettings.properties[r]=n,e.machineSettings.properties[r]=n,e.machineOverridableSettings.properties[r]=n,e.windowSettings.properties[r]=n,e.resourceSettings.properties[r]=n}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(u,r){let n=this.defaultValues[u];L.isUndefined(n)&&(n=r.default),L.isUndefined(n)&&(n=s(r.type)),r.default=n}}const i="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(i);function C(c){return c.substring(1,c.length-1)}e.overrideIdentifierFromKey=C;function s(c){switch(Array.isArray(c)?c[0]:c){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=s;const o=new v;M.Registry.add(e.Extensions.Configuration,o);function a(c){return c.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(c)?_.localize(4,null,c):o.getConfigurationProperties()[c]!==void 0?_.localize(5,null,c):null:_.localize(3,null)}e.validateProperty=a}),define(ie[190],ne([0,1,463,6,2,42,19,35,133,168,97,32,199]),function($,e,_,k,M,L,S,m,v,i,C,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=e.CommonEditorConfiguration=e.ComputedEditorOptions=e.TabFocus=void 0,e.TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new k.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(y){this._tabFocus!==y&&(this._tabFocus=y,this._onDidChangeTabFocus.fire(this._tabFocus))}};const a=Object.hasOwnProperty;class c{constructor(){this._values=[]}_read(I){return this._values[I]}get(I){return this._values[I]}_write(I,N){this._values[I]=N}}e.ComputedEditorOptions=c;class u{constructor(){this._values=[]}_read(I){return this._values[I]}_write(I,N){this._values[I]=N}}class r{static readOptions(I){const N=I,D=new u;for(const T of m.editorOptionsRegistry){const P=T.name==="_never_"?void 0:N[T.name];D._write(T.id,P)}return D}static validateOptions(I){const N=new m.ValidatedEditorOptions;for(const D of m.editorOptionsRegistry)N._write(D.id,D.validate(I._read(D.id)));return N}static computeOptions(I,N){const D=new c;for(const T of m.editorOptionsRegistry)D._write(T.id,T.compute(N,D,I._read(T.id)));return D}static _deepEquals(I,N){if(typeof I!="object"||typeof N!="object")return I===N;if(Array.isArray(I)||Array.isArray(N))return Array.isArray(I)&&Array.isArray(N)?S.equals(I,N):!1;for(let D in I)if(!r._deepEquals(I[D],N[D]))return!1;return!0}static checkEquals(I,N){const D=[];let T=!1;for(const P of m.editorOptionsRegistry){const R=!r._deepEquals(I._read(P.id),N._read(P.id));D[P.id]=R,R&&(T=!0)}return T?new m.ConfigurationChangedEvent(D):null}}function n(y){const I=y.wordWrap;I===!0?y.wordWrap="on":I===!1&&(y.wordWrap="off");const N=y.lineNumbers;N===!0?y.lineNumbers="on":N===!1&&(y.lineNumbers="off"),y.autoClosingBrackets===!1&&(y.autoClosingBrackets="never",y.autoClosingQuotes="never",y.autoSurround="never"),y.cursorBlinking==="visible"&&(y.cursorBlinking="solid");const P=y.renderWhitespace;P===!0?y.renderWhitespace="boundary":P===!1&&(y.renderWhitespace="none");const R=y.renderLineHighlight;R===!0?y.renderLineHighlight="line":R===!1&&(y.renderLineHighlight="none");const O=y.acceptSuggestionOnEnter;O===!0?y.acceptSuggestionOnEnter="on":O===!1&&(y.acceptSuggestionOnEnter="off");const A=y.tabCompletion;A===!1?y.tabCompletion="off":A===!0&&(y.tabCompletion="onlySnippets");const F=y.suggest;if(F&&typeof F.filteredTypes=="object"&&F.filteredTypes){const q={};q.method="showMethods",q.function="showFunctions",q.constructor="showConstructors",q.deprecated="showDeprecated",q.field="showFields",q.variable="showVariables",q.class="showClasses",q.struct="showStructs",q.interface="showInterfaces",q.module="showModules",q.property="showProperties",q.event="showEvents",q.operator="showOperators",q.unit="showUnits",q.value="showValues",q.constant="showConstants",q.enum="showEnums",q.enumMember="showEnumMembers",q.keyword="showKeywords",q.text="showWords",q.color="showColors",q.file="showFiles",q.reference="showReferences",q.folder="showFolders",q.typeParameter="showTypeParameters",q.snippet="showSnippets",o.forEach(q,j=>{const te=F.filteredTypes[j.key];te===!1&&(F[j.value]=te)})}const E=y.hover;E===!0?y.hover={enabled:!0}:E===!1&&(y.hover={enabled:!1});const W=y.parameterHints;W===!0?y.parameterHints={enabled:!0}:W===!1&&(y.parameterHints={enabled:!1});const V=y.autoIndent;V===!0?y.autoIndent="full":V===!1&&(y.autoIndent="advanced");const U=y.matchBrackets;U===!0?y.matchBrackets="always":U===!1&&(y.matchBrackets="never")}function l(y){const I=L.deepClone(y);return n(I),I}class t extends M.Disposable{constructor(I,N){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new k.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=I,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new m.ComputeOptionsMemory,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=l(N),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._register(v.EditorZoom.onDidChangeZoomLevel(D=>this._recomputeOptions())),this._register(e.TabFocus.onDidChangeTabFocus(D=>this._recomputeOptions()))}observeReferenceElement(I){}updatePixelRatio(){}_recomputeOptions(){const I=this.options,N=this._computeInternalOptions();if(!I)this.options=N;else{const D=r.checkEquals(I,N);if(D===null)return;this.options=N,this._onDidChangeFast.fire(D),this._onDidChange.fire(D)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const I=this._getEnvConfiguration(),N=i.BareFontInfo.createFromValidatedSettings(this._validatedOptions,I.zoomLevel,I.pixelRatio,this.isSimpleWidget),D={memory:this._computeOptionsMemory,outerWidth:I.outerWidth,outerHeight:I.outerHeight,fontInfo:this.readConfiguration(N),extraEditorClassName:I.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:I.emptySelectionClipboard,pixelRatio:I.pixelRatio,tabFocusMode:e.TabFocus.getTabFocusMode(),accessibilitySupport:I.accessibilitySupport};return r.computeOptions(this._validatedOptions,D)}static _subsetEquals(I,N){for(const D in N)if(a.call(N,D)){const T=N[D],P=I[D];if(P===T)continue;if(Array.isArray(P)&&Array.isArray(T)){if(!S.equals(P,T))return!1;continue}if(P&&typeof P=="object"&&T&&typeof T=="object"){if(!this._subsetEquals(P,T))return!1;continue}return!1}return!0}updateOptions(I){if(typeof I=="undefined")return;const N=l(I);t._subsetEquals(this._rawOptions,N)||(this._rawOptions=L.mixin(this._rawOptions,N||{}),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(I){this._isDominatedByLongLines=I,this._recomputeOptions()}setMaxLineNumber(I){const N=t._digitCount(I);this._lineNumbersDigitCount!==N&&(this._lineNumbersDigitCount=N,this._recomputeOptions())}setViewLineCount(I){this._viewLineCount!==I&&(this._viewLineCount=I,this._recomputeOptions())}static _digitCount(I){let N=0;for(;I;)I=Math.floor(I/10),N++;return N||1}}e.CommonEditorConfiguration=t,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:_.localize(0,null),scope:5});const d=s.Registry.as(C.Extensions.Configuration),h=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:m.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:_.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:_.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:_.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:_.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:_.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:_.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[_.localize(7,null),_.localize(8,null),_.localize(9,null)],description:_.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[_.localize(11,null),_.localize(12,null),_.localize(13,null)],default:"configuredByTheme",description:_.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:_.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:_.localize(16,null)},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:_.localize(17,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:_.localize(18,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:_.localize(19,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:_.localize(20,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:_.localize(21,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[_.localize(22,null),_.localize(23,null),_.localize(24,null)]}}});function p(y){return typeof y.type!="undefined"||typeof y.anyOf!="undefined"}for(const y of m.editorOptionsRegistry){const I=y.schema;if(typeof I!="undefined")if(p(I))h.properties[`editor.${y.name}`]=I;else for(let N in I)a.call(I,N)&&(h.properties[N]=I[N])}let w=null;function b(){return w===null&&(w=Object.create(null),Object.keys(h.properties).forEach(y=>{w[y]=!0})),w}function g(y){return b()[`editor.${y}`]||!1}e.isEditorConfigurationKey=g;function f(y){return b()[`diffEditor.${y}`]||!1}e.isDiffEditorConfigurationKey=f,d.registerConfiguration(h)}),define(ie[65],ne([0,1,38,6,2,17,371,214,190,35,168]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=e.clearAllFontInfos=void 0;class s{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(r){const n=r.getId();return!!this._values[n]}get(r){const n=r.getId();return this._values[n]}put(r,n){const l=r.getId();this._keys[l]=r,this._values[l]=n}remove(r){const n=r.getId();delete this._keys[n],delete this._values[n]}getValues(){return Object.keys(this._keys).map(r=>this._values[r])}}function o(){a.INSTANCE.clearCache()}e.clearAllFontInfos=o;class a extends M.Disposable{constructor(){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new s,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new s,this._onDidChange.fire()}_writeToCache(r,n){this._cache.put(r,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const r=this._cache.getValues();let n=!1;for(const l of r)l.isTrusted||(n=!0,this._cache.remove(l));n&&this._onDidChange.fire()}readConfiguration(r){if(!this._cache.has(r)){let n=a._actualReadConfiguration(r);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new C.FontInfo({zoomLevel:_.getZoomLevel(),pixelRatio:_.getPixelRatio(),fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(r,n)}return this._cache.get(r)}static createRequest(r,n,l,t){const d=new S.CharWidthRequest(r,n);return l.push(d),t&&t.push(d),d}static _actualReadConfiguration(r){const n=[],l=[],t=this.createRequest("n",0,n,l),d=this.createRequest("\uFF4D",0,n,null),h=this.createRequest(" ",0,n,l),p=this.createRequest("0",0,n,l),w=this.createRequest("1",0,n,l),b=this.createRequest("2",0,n,l),g=this.createRequest("3",0,n,l),f=this.createRequest("4",0,n,l),y=this.createRequest("5",0,n,l),I=this.createRequest("6",0,n,l),N=this.createRequest("7",0,n,l),D=this.createRequest("8",0,n,l),T=this.createRequest("9",0,n,l),P=this.createRequest("\u2192",0,n,l),R=this.createRequest("\uFFEB",0,n,null),O=this.createRequest("\xB7",0,n,l),A=this.createRequest(String.fromCharCode(11825),0,n,null);this.createRequest("|",0,n,l),this.createRequest("/",0,n,l),this.createRequest("-",0,n,l),this.createRequest("_",0,n,l),this.createRequest("i",0,n,l),this.createRequest("l",0,n,l),this.createRequest("m",0,n,l),this.createRequest("|",1,n,l),this.createRequest("_",1,n,l),this.createRequest("i",1,n,l),this.createRequest("l",1,n,l),this.createRequest("m",1,n,l),this.createRequest("n",1,n,l),this.createRequest("|",2,n,l),this.createRequest("_",2,n,l),this.createRequest("i",2,n,l),this.createRequest("l",2,n,l),this.createRequest("m",2,n,l),this.createRequest("n",2,n,l),S.readCharWidths(r,n);const F=Math.max(p.width,w.width,b.width,g.width,f.width,y.width,I.width,N.width,D.width,T.width);let E=r.fontFeatureSettings===i.EditorFontLigatures.OFF;const W=l[0].width;for(let q=1,j=l.length;E&&q<j;q++){const te=W-l[q].width;if(te<-.001||te>.001){E=!1;break}}let V=!0;E&&R.width!==W&&(V=!1),R.width>P.width&&(V=!1);const U=_.getTimeSinceLastZoomLevelChanged()>2e3;return new C.FontInfo({zoomLevel:_.getZoomLevel(),pixelRatio:_.getPixelRatio(),fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:E,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:d.width,canUseHalfwidthRightwardsArrow:V,spaceWidth:h.width,middotWidth:O.width,wsmiddotWidth:A.width,maxDigitWidth:F},U)}}a.INSTANCE=new a;class c extends v.CommonEditorConfiguration{constructor(r,n,l=null,t){super(r,n);this.accessibilityService=t,this._elementSizeObserver=this._register(new m.ElementSizeObserver(l,n.dimension,()=>this._recomputeOptions())),this._register(a.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(_.onDidChangeZoomLevel(d=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(r,n){r.style.fontFamily=n.getMassagedFontFamily(),r.style.fontWeight=n.fontWeight,r.style.fontSize=n.fontSize+"px",r.style.fontFeatureSettings=n.fontFeatureSettings,r.style.lineHeight=n.lineHeight+"px",r.style.letterSpacing=n.letterSpacing+"px"}static applyFontInfo(r,n){r.setFontFamily(n.getMassagedFontFamily()),r.setFontWeight(n.fontWeight),r.setFontSize(n.fontSize),r.setFontFeatureSettings(n.fontFeatureSettings),r.setLineHeight(n.lineHeight),r.setLetterSpacing(n.letterSpacing)}observeReferenceElement(r){this._elementSizeObserver.observe(r)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let r="";return!_.isSafari&&!_.isWebkitWebView&&(r+="no-user-select "),_.isSafari&&(r+="no-minimap-shadow "),L.isMacintosh&&(r+="mac "),r}_getEnvConfiguration(){return{extraEditorClassName:c._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:_.isWebKit||_.isFirefox,pixelRatio:_.getPixelRatio(),zoomLevel:_.getZoomLevel(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(r){return a.INSTANCE.readConfiguration(r)}}e.Configuration=c}),define(ie[577],ne([0,1,82,8,65,62,111]),function($,e,_,k,M,L,S){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const v=(m=window.trustedTypes)===null||m===void 0?void 0:m.createPolicy("domLineBreaksComputer",{createHTML:u=>u});class i{static create(){return new i}constructor(){}createLineBreaksComputer(r,n,l,t){n=n|0,l=+l;let d=[],h=[];return{addRequest:(p,w,b)=>{d.push(p),h.push(w)},finalize:()=>C(d,r,n,l,t,h)}}}e.DOMLineBreaksComputerFactory=i;function C(u,r,n,l,t,d){var h;function p(F){const E=d[F];if(E){const W=S.LineInjectedText.applyInjectedText(u[F],E),V=E.map(q=>q.text),U=E.map(q=>q.column-1);return new L.LineBreakData([W.length],[],0,V,U)}else return null}if(l===-1){const F=[];for(let E=0,W=u.length;E<W;E++)F[E]=p(E);return F}const w=Math.round(l*r.typicalHalfwidthCharacterWidth);(t===2||t===3)&&(t=1);const b=document.createElement("div");M.Configuration.applyFontInfoSlow(b,r);const g=_.createStringBuilder(1e4),f=[],y=[],I=[],N=[],D=[];for(let F=0;F<u.length;F++){const E=S.LineInjectedText.applyInjectedText(u[F],d[F]);let W=0,V=0,U=w;if(t!==0)if(W=k.firstNonWhitespaceIndex(E),W===-1)W=0;else{for(let ae=0;ae<W;ae++)V+=E.charCodeAt(ae)===9?n-V%n:1;const te=Math.ceil(r.spaceWidth*V);te+r.typicalFullwidthCharacterWidth>w?(W=0,V=0):U=w-te}const q=E.substr(W),j=s(q,V,n,U,g);f[F]=W,y[F]=V,I[F]=q,N[F]=j[0],D[F]=j[1]}const T=g.build(),P=(h=v==null?void 0:v.createHTML(T))!==null&&h!==void 0?h:T;b.innerHTML=P,b.style.position="absolute",b.style.top="10000",b.style.wordWrap="break-word",document.body.appendChild(b);let R=document.createRange();const O=Array.prototype.slice.call(b.children,0);let A=[];for(let F=0;F<u.length;F++){const E=O[F],W=o(R,E,I[F],N[F]);if(W===null){A[F]=p(F);continue}const V=f[F],U=y[F],q=D[F],j=[];for(let ue=0,X=W.length;ue<X;ue++)j[ue]=q[W[ue]];if(V!==0)for(let ue=0,X=W.length;ue<X;ue++)W[ue]+=V;let te,ae;const de=d[F];de?(te=de.map(ue=>ue.text),ae=de.map(ue=>ue.column-1)):(te=null,ae=null),A[F]=new L.LineBreakData(W,j,U,te,ae)}return document.body.removeChild(b),A}function s(u,r,n,l,t){t.appendASCIIString('<div style="width:'),t.appendASCIIString(String(l)),t.appendASCIIString('px;">');const d=u.length;let h=r,p=0,w=[],b=[],g=0<d?u.charCodeAt(0):0;t.appendASCIIString("<span>");for(let f=0;f<d;f++){f!==0&&f%16384==0&&t.appendASCIIString("</span><span>"),w[f]=p,b[f]=h;const y=g;g=f+1<d?u.charCodeAt(f+1):0;let I=1,N=1;switch(y){case 9:I=n-h%n,N=I;for(let D=1;D<=I;D++)D<I?t.write1(160):t.appendASCII(32);break;case 32:g===32?t.write1(160):t.appendASCII(32);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:k.isFullWidthCharacter(y)&&N++,y<32?t.write1(9216+y):t.write1(y)}p+=I,h+=N}return t.appendASCIIString("</span>"),w[u.length]=p,b[u.length]=h,t.appendASCIIString("</div>"),[w,b]}function o(u,r,n,l){if(n.length<=1)return null;const t=Array.prototype.slice.call(r.children,0),d=[];try{a(u,t,l,0,null,n.length-1,null,d)}catch(h){return console.log(h),null}return d.length===0?null:(d.push(n.length),d)}function a(u,r,n,l,t,d,h,p){if(l===d||(t=t||c(u,r,n[l],n[l+1]),h=h||c(u,r,n[d],n[d+1]),Math.abs(t[0].top-h[0].top)<=.1))return;if(l+1===d){p.push(d);return}const w=l+(d-l)/2|0,b=c(u,r,n[w],n[w+1]);a(u,r,n,l,t,w,b,p),a(u,r,n,w,b,d,h,p)}function c(u,r,n,l){return u.setStart(r[n/16384|0].firstChild,n%16384),u.setEnd(r[l/16384|0].firstChild,l%16384),u.getClientRects()}}),define(ie[578],ne([0,1,30,65,170,47]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends L.ViewPart{constructor(s){super(s);this._visibleLines=new M.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let s=0,o=this._dynamicOverlays.length;s<o;s++)if(this._dynamicOverlays[s].shouldRender())return!0;return!1}dispose(){super.dispose();for(let s=0,o=this._dynamicOverlays.length;s<o;s++)this._dynamicOverlays[s].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new m(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(s){this._dynamicOverlays.push(s)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s);const o=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let c=o;c<=a;c++)this._visibleLines.getVisibleLine(c).onConfigurationChanged(s);return!0}onFlushed(s){return this._visibleLines.onFlushed(s)}onFocusChanged(s){return this._isFocused=s.isFocused,!0}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onScrollChanged(s){return this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._visibleLines.onZonesChanged(s)}prepareRender(s){const o=this._dynamicOverlays.filter(a=>a.shouldRender());for(let a=0,c=o.length;a<c;a++){const u=o[a];u.prepareRender(s),u.onDidRender()}}render(s){this._viewOverlaysRender(s),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(s){this._visibleLines.renderLines(s.viewportData)}}e.ViewOverlays=S;class m{constructor(s,o){this._configuration=s,this._lineHeight=this._configuration.options.get(56),this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(s){this._domNode=_.createFastDomNode(s)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(s){this._lineHeight=this._configuration.options.get(56)}renderLine(s,o,a,c){let u="";for(let r=0,n=this._dynamicOverlays.length;r<n;r++)u+=this._dynamicOverlays[r].render(a.startLineNumber,s);return this._renderedContent===u?!1:(this._renderedContent=u,c.appendASCIIString('<div style="position:absolute;top:'),c.appendASCIIString(String(o)),c.appendASCIIString("px;width:100%;height:"),c.appendASCIIString(String(this._lineHeight)),c.appendASCIIString('px;">'),c.appendASCIIString(u),c.appendASCIIString("</div>"),!0)}layoutLine(s,o){this._domNode&&(this._domNode.setTop(o),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=m;class v extends S{constructor(s){super(s);const a=this._context.configuration.options.get(128);this._contentWidth=a.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(s){const a=this._context.configuration.options.get(128);return this._contentWidth=a.contentWidth,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollWidthChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s),this.domNode.setWidth(Math.max(s.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=v;class i extends S{constructor(s){super(s);const o=this._context.configuration.options,a=o.get(128);this._contentLeft=a.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),k.Configuration.applyFontInfo(this.domNode,o.get(40))}onConfigurationChanged(s){const o=this._context.configuration.options;k.Configuration.applyFontInfo(this.domNode,o.get(40));const a=o.get(128);return this._contentLeft=a.contentLeft,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollHeightChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s);const o=Math.min(s.scrollHeight,1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=i}),define(ie[579],ne([0,1,7,30,8,65,35,13,3,131]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class C{constructor(a,c,u,r,n,l){this.top=a,this.left=c,this.width=u,this.height=r,this.textContent=n,this.textContentClassName=l}}class s{constructor(a){this._context=a;const c=this._context.configuration.options,u=c.get(40);this._cursorStyle=c.get(22),this._lineHeight=c.get(56),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=k.createFastDomNode(document.createElement("div")),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),L.Configuration.applyFontInfo(this._domNode,u),this._domNode.setDisplay("none"),this._position=new m.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(a){const c=this._context.configuration.options,u=c.get(40);return this._cursorStyle=c.get(22),this._lineHeight=c.get(56),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),L.Configuration.applyFontInfo(this._domNode,u),!0}onCursorPositionChanged(a){return this._position=a,!0}_prepareRender(a){let c="";if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const b=a.visibleRangeForPosition(this._position);if(!b||b.outsideRenderedLine)return null;let g;if(this._cursorStyle===S.TextEditorCursorStyle.Line){if(g=_.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),g>2){const I=this._context.model.getLineContent(this._position.lineNumber),N=M.nextCharLength(I,this._position.column-1);c=I.substr(this._position.column-1,N)}}else g=_.computeScreenAwareSize(1);let f=b.left;g>=2&&f>=1&&(f-=1);const y=a.getVerticalOffsetForLineNumber(this._position.lineNumber)-a.bigNumbersDelta;return new C(y,f,g,this._lineHeight,c,"")}const u=this._context.model.getLineContent(this._position.lineNumber),r=M.nextCharLength(u,this._position.column-1),n=a.linesVisibleRangesForRange(new v.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+r),!1);if(!n||n.length===0)return null;const l=n[0];if(l.outsideRenderedLine||l.ranges.length===0)return null;const t=l.ranges[0],d=t.width<1?this._typicalHalfwidthCharacterWidth:t.width;let h="";if(this._cursorStyle===S.TextEditorCursorStyle.Block){const b=this._context.model.getViewLineData(this._position.lineNumber);c=u.substr(this._position.column-1,r);const g=b.tokens.findTokenIndexAtOffset(this._position.column-1);h=b.tokens.getClassName(g)}let p=a.getVerticalOffsetForLineNumber(this._position.lineNumber)-a.bigNumbersDelta,w=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(p+=this._lineHeight-2,w=2),new C(p,t.left,d,w,c,h)}prepareRender(a){this._renderData=this._prepareRender(a)}render(a){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=s}),define(ie[580],ne([0,1,12,6,2,105,8,18,146,76,97,32]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=void 0;const o=Object.prototype.hasOwnProperty;class a extends M.Disposable{constructor(u=!0,r=!1){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=r,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},u&&(this._initializeFromRegistry(),this._register(v.ModesRegistry.onDidChangeLanguages(n=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const u=v.ModesRegistry.getLanguages();this._registerLanguages(u)}_registerLanguages(u){for(const r of u)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{let n=this._languages[r];n.name&&(this._nameMap[n.name]=n.identifier),n.aliases.forEach(l=>{this._lowercaseNameMap[l.toLowerCase()]=n.identifier}),n.mimetypes.forEach(l=>{this._mimeTypesMap[l]=n.identifier})}),s.Registry.as(C.Extensions.Configuration).registerOverrideIdentifiers(v.ModesRegistry.getLanguages().map(r=>r.id)),this._onDidChange.fire()}_getLanguageId(u){if(this._languageToLanguageId[u])return this._languageToLanguageId[u];const r=this._nextLanguageId2++;return this._languageIdToLanguage[r]=u,this._languageToLanguageId[u]=r,r}_registerLanguage(u){const r=u.id;let n;if(o.call(this._languages,r))n=this._languages[r];else{const l=this._getLanguageId(r);n={identifier:new m.LanguageIdentifier(r,l),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[r]=n}this._mergeLanguage(n,u)}_mergeLanguage(u,r){const n=r.id;let l=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(u.mimetypes.push(...r.mimetypes),l=r.mimetypes[0]),l||(l=`text/x-${n}`,u.mimetypes.push(l)),Array.isArray(r.extensions)){r.configuration?u.extensions=r.extensions.concat(u.extensions):u.extensions=u.extensions.concat(r.extensions);for(let h of r.extensions)L.registerTextMime({id:n,mime:l,extension:h},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(let h of r.filenames)L.registerTextMime({id:n,mime:l,filename:h},this._warnOnOverwrite),u.filenames.push(h);if(Array.isArray(r.filenamePatterns))for(let h of r.filenamePatterns)L.registerTextMime({id:n,mime:l,filepattern:h},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let h=r.firstLine;h.charAt(0)!=="^"&&(h="^"+h);try{let p=new RegExp(h);S.regExpLeadsToEndlessLoop(p)||L.registerTextMime({id:n,mime:l,firstline:p},this._warnOnOverwrite)}catch(p){_.onUnexpectedError(p)}}u.aliases.push(n);let t=null;if(typeof r.aliases!="undefined"&&Array.isArray(r.aliases)&&(r.aliases.length===0?t=[null]:t=r.aliases),t!==null)for(const h of t)!h||h.length===0||u.aliases.push(h);let d=t!==null&&t.length>0;if(!(d&&t[0]===null)){let h=(d?t[0]:null)||n;(d||!u.name)&&(u.name=h)}r.configuration&&u.configurationFiles.push(r.configuration)}isRegisteredMode(u){return o.call(this._mimeTypesMap,u)?!0:o.call(this._languages,u)}getModeIdForLanguageNameLowercase(u){return o.call(this._lowercaseNameMap,u)?this._lowercaseNameMap[u].language:null}extractModeIds(u){return u?u.split(",").map(r=>r.trim()).map(r=>o.call(this._mimeTypesMap,r)?this._mimeTypesMap[r].language:r).filter(r=>o.call(this._languages,r)):[]}getLanguageIdentifier(u){if(u===i.NULL_MODE_ID||u===0)return i.NULL_LANGUAGE_IDENTIFIER;let r;if(typeof u=="string")r=u;else if(r=this._languageIdToLanguage[u],!r)return null;return o.call(this._languages,r)?this._languages[r].identifier:null}getModeIdsFromFilepathOrFirstLine(u,r){if(!u&&!r)return[];let n=L.guessMimeTypes(u,r);return this.extractModeIds(n.join(","))}}e.LanguagesRegistry=a}),define(ie[581],ne([0,1,6,2,382,76,580,19]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeServiceImpl=void 0;class v{constructor(s,o){this._selector=o,this.languageIdentifier=this._selector();let a;this._onDidChange=new _.Emitter({onFirstListenerAdd:()=>{a=s(()=>this._evaluate())},onLastListenerRemove:()=>{a.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let s=this._selector();s.id!==this.languageIdentifier.id&&(this.languageIdentifier=s,this._onDidChange.fire(this.languageIdentifier))}}class i extends k.Disposable{constructor(s=!1){super();this._onDidCreateMode=this._register(new _.Emitter),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new _.Emitter({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new S.LanguagesRegistry(!0,s)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(s){return this._registry.isRegisteredMode(s)}getModeIdForLanguageName(s){return this._registry.getModeIdForLanguageNameLowercase(s)}getModeIdByFilepathOrFirstLine(s,o){const a=this._registry.getModeIdsFromFilepathOrFirstLine(s,o);return m.firstOrDefault(a,null)}getModeId(s){const o=this._registry.extractModeIds(s);return m.firstOrDefault(o,null)}getLanguageIdentifier(s){return this._registry.getLanguageIdentifier(s)}create(s){return new v(this.onLanguagesMaybeChanged,()=>{const o=this.getModeId(s);return this._createModeAndGetLanguageIdentifier(o)})}createByFilepathOrFirstLine(s,o){return new v(this.onLanguagesMaybeChanged,()=>{const a=this.getModeIdByFilepathOrFirstLine(s,o);return this._createModeAndGetLanguageIdentifier(a)})}_createModeAndGetLanguageIdentifier(s){const o=this.getLanguageIdentifier(s||"plaintext")||L.NULL_LANGUAGE_IDENTIFIER;return this._getOrCreateMode(o.language),o}triggerMode(s){const o=this.getModeId(s);this._getOrCreateMode(o||"plaintext")}_getOrCreateMode(s){if(!this._instantiatedModes.hasOwnProperty(s)){let o=this.getLanguageIdentifier(s)||L.NULL_LANGUAGE_IDENTIFIER;this._instantiatedModes[s]=new M.FrankensteinMode(o),this._onDidCreateMode.fire(this._instantiatedModes[s])}return this._instantiatedModes[s]}}e.ModeServiceImpl=i}),define(ie[40],ne([0,1,32,9,97]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultValues=e.getConfigurationKeys=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=k.createDecorator("configurationService");function L(o,a){const c=Object.create(null);for(let u in o)S(c,u,o[u],a);return c}e.toValuesTree=L;function S(o,a,c,u){const r=a.split("."),n=r.pop();let l=o;for(let t=0;t<r.length;t++){let d=r[t],h=l[d];switch(typeof h){case"undefined":h=l[d]=Object.create(null);break;case"object":break;default:u(`Ignoring ${a} as ${r.slice(0,t+1).join(".")} is ${JSON.stringify(h)}`);return}l=h}if(typeof l=="object"&&l!==null)try{l[n]=c}catch(t){u(`Ignoring ${a} as ${r.join(".")} is ${JSON.stringify(l)}`)}else u(`Ignoring ${a} as ${r.join(".")} is ${JSON.stringify(l)}`)}e.addToValueTree=S;function m(o,a){const c=a.split(".");v(o,c)}e.removeFromValueTree=m;function v(o,a){const c=a.shift();if(a.length===0){delete o[c];return}if(Object.keys(o).indexOf(c)!==-1){const u=o[c];typeof u=="object"&&!Array.isArray(u)&&(v(u,a),Object.keys(u).length===0&&delete o[c])}}function i(o,a,c){function u(l,t){let d=l;for(const h of t){if(typeof d!="object"||d===null)return;d=d[h]}return d}const r=a.split("."),n=u(o,r);return typeof n=="undefined"?c:n}e.getConfigurationValue=i;function C(){const o=_.Registry.as(M.Extensions.Configuration).getConfigurationProperties();return Object.keys(o)}e.getConfigurationKeys=C;function s(){const o=Object.create(null),a=_.Registry.as(M.Extensions.Configuration).getConfigurationProperties();for(let c in a){let u=a[c].default;S(o,c,u,r=>console.error(`Conflict in default settings: ${r}`))}return o}e.getDefaultValues=s}),define(ie[582],ne([0,1,2,64,6,16,40]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let m=class extends _.Disposable{constructor(i,C){super();this._contextKeyService=i,this._configurationService=C,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new M.Emitter,this._accessibilityModeEnabledContext=k.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const s=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("editor.accessibilitySupport")&&(s(),this._onDidChangeScreenReaderOptimized.fire())})),s(),this.onDidChangeScreenReaderOptimized(()=>s())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};m=Me([_e(0,L.IContextKeyService),_e(1,S.IConfigurationService)],m),e.AccessibilityService=m}),define(ie[583],ne([0,1,50,19,20,42,24,97,40]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class i{constructor(c={},u=[],r=[]){this._contents=c,this._keys=u,this._overrides=r,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(c){return c?v.getConfigurationValue(this.contents,c):this.contents}override(c){const u=this.getContentsForOverrideIdentifer(c);if(!u||typeof u!="object"||!Object.keys(u).length)return this;let r={};for(const n of k.distinct([...Object.keys(this.contents),...Object.keys(u)])){let l=this.contents[n],t=u[n];t&&(typeof l=="object"&&typeof t=="object"?(l=L.deepClone(l),this.mergeContents(l,t)):l=t),r[n]=l}return new i(r,this.keys,this.overrides)}merge(...c){const u=L.deepClone(this.contents),r=L.deepClone(this.overrides),n=[...this.keys];for(const l of c){this.mergeContents(u,l.contents);for(const t of l.overrides){const[d]=r.filter(h=>k.equals(h.identifiers,t.identifiers));d?this.mergeContents(d.contents,t.contents):r.push(L.deepClone(t))}for(const t of l.keys)n.indexOf(t)===-1&&n.push(t)}return new i(u,n,r)}freeze(){return this.isFrozen=!0,this}mergeContents(c,u){for(const r of Object.keys(u)){if(r in c&&M.isObject(c[r])&&M.isObject(u[r])){this.mergeContents(c[r],u[r]);continue}c[r]=L.deepClone(u[r])}}checkAndFreeze(c){return this.isFrozen&&!Object.isFrozen(c)?L.deepFreeze(c):c}getContentsForOverrideIdentifer(c){for(const u of this.overrides)if(u.identifiers.indexOf(c)!==-1)return u.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(c,u){this.addKey(c),v.addToValueTree(this.contents,c,u,r=>{throw new Error(r)})}removeValue(c){this.removeKey(c)&&v.removeFromValueTree(this.contents,c)}addKey(c){let u=this.keys.length;for(let r=0;r<u;r++)c.indexOf(this.keys[r])===0&&(u=r);this.keys.splice(u,1,c)}removeKey(c){let u=this.keys.indexOf(c);return u!==-1?(this.keys.splice(u,1),!0):!1}}e.ConfigurationModel=i;class C extends i{constructor(){const c=v.getDefaultValues(),u=v.getConfigurationKeys(),r=[];for(const n of Object.keys(c))m.OVERRIDE_PROPERTY_PATTERN.test(n)&&r.push({identifiers:[m.overrideIdentifierFromKey(n).trim()],keys:Object.keys(c[n]),contents:v.toValuesTree(c[n],l=>console.error(`Conflict in default settings file: ${l}`))});super(c,u,r)}}e.DefaultConfigurationModel=C;class s{constructor(c,u,r=new i,n=new i,l=new _.ResourceMap,t=new i,d=new _.ResourceMap,h=!0){this._defaultConfiguration=c,this._localUserConfiguration=u,this._remoteUserConfiguration=r,this._workspaceConfiguration=n,this._folderConfigurations=l,this._memoryConfiguration=t,this._memoryConfigurationByResource=d,this._freeze=h,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new _.ResourceMap,this._userConfiguration=null}getValue(c,u,r){return this.getConsolidateConfigurationModel(u,r).getValue(c)}updateValue(c,u,r={}){let n;r.resource?(n=this._memoryConfigurationByResource.get(r.resource),n||(n=new i,this._memoryConfigurationByResource.set(r.resource,n))):n=this._memoryConfiguration,u===void 0?n.removeValue(c):n.setValue(c,u),r.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(c,u){let r=this.getConsolidatedConfigurationModelForResource(c,u);return c.overrideIdentifier?r.override(c.overrideIdentifier):r}getConsolidatedConfigurationModelForResource({resource:c},u){let r=this.getWorkspaceConsolidatedConfiguration();if(u&&c){const n=u.getFolder(c);n&&(r=this.getFolderConsolidatedConfiguration(n.uri)||r);const l=this._memoryConfigurationByResource.get(c);l&&(r=r.merge(l))}return r}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(c){let u=this._foldersConsolidatedConfigurations.get(c);if(!u){const r=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(c);n?(u=r.merge(n),this._freeze&&(u=u.freeze()),this._foldersConsolidatedConfigurations.set(c,u)):u=r}return u}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((c,u)=>{const{contents:r,overrides:n,keys:l}=this._folderConfigurations.get(u);return c.push([u,{contents:r,overrides:n,keys:l}]),c},[])}}static parse(c){const u=this.parseConfigurationModel(c.defaults),r=this.parseConfigurationModel(c.user),n=this.parseConfigurationModel(c.workspace),l=c.folders.reduce((t,d)=>(t.set(S.URI.revive(d[0]),this.parseConfigurationModel(d[1])),t),new _.ResourceMap);return new s(u,r,new i,n,l,new i,new _.ResourceMap,!1)}static parseConfigurationModel(c){return new i(c.contents,c.keys,c.overrides).freeze()}}e.Configuration=s;class o{constructor(c,u,r,n){this.change=c,this.previous=u,this.currentConfiguraiton=r,this.currentWorkspace=n,this._previousConfiguration=void 0;const l=new Set;c.keys.forEach(d=>l.add(d)),c.overrides.forEach(([,d])=>d.forEach(h=>l.add(h))),this.affectedKeys=[...l.values()];const t=new i;this.affectedKeys.forEach(d=>t.setValue(d,{})),this.affectedKeysTree=t.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=s.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(c,u){var r;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,c)){if(u){const n=this.previousConfiguration?this.previousConfiguration.getValue(c,u,(r=this.previous)===null||r===void 0?void 0:r.workspace):void 0,l=this.currentConfiguraiton.getValue(c,u,this.currentWorkspace);return!L.equals(n,l)}return!0}return!1}doesAffectedKeysTreeContains(c,u){let r=v.toValuesTree({[u]:!0},()=>{}),n;for(;typeof r=="object"&&(n=Object.keys(r)[0]);){if(c=c[n],!c)return!1;r=r[n]}return!0}}e.ConfigurationChangeEvent=o}),define(ie[584],ne([0,1,6,53,2,50,534,26,40,16,255]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const s="data-keybinding-context";class o{constructor(b,g){this._id=b,this._parent=g,this._value=Object.create(null),this._value._contextId=b}setValue(b,g){return this._value[b]!==g?(this._value[b]=g,!0):!1}removeValue(b){return b in this._value?(delete this._value[b],!0):!1}getValue(b){const g=this._value[b];return typeof g=="undefined"&&this._parent?this._parent.getValue(b):g}}e.Context=o;class a extends o{constructor(){super(-1,null)}setValue(b,g){return!1}removeValue(b){return!1}getValue(b){}}a.INSTANCE=new a;class c extends o{constructor(b,g,f){super(b,null);this._configurationService=g,this._values=L.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(y=>{if(y.source===6){const I=Array.from(k.Iterable.map(this._values,([N])=>N));this._values.clear(),f.fire(new n(I))}else{const I=[];for(const N of y.affectedKeys){const D=`config.${N}`,T=this._values.findSuperstr(D);T!==void 0&&(I.push(...k.Iterable.map(T,([P])=>P)),this._values.deleteSuperstr(D)),this._values.has(D)&&(I.push(D),this._values.delete(D))}f.fire(new n(I))}})}dispose(){this._listener.dispose()}getValue(b){if(b.indexOf(c._keyPrefix)!==0)return super.getValue(b);if(this._values.has(b))return this._values.get(b);const g=b.substr(c._keyPrefix.length),f=this._configurationService.getValue(g);let y;switch(typeof f){case"number":case"boolean":case"string":y=f;break;default:Array.isArray(f)?y=JSON.stringify(f):y=f}return this._values.set(b,y),y}setValue(b,g){return super.setValue(b,g)}removeValue(b){return super.removeValue(b)}}c._keyPrefix="config.";class u{constructor(b,g,f){this._service=b,this._key=g,this._defaultValue=f,this.reset()}set(b){this._service.setContext(this._key,b)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class r{constructor(b){this.key=b}affectsSome(b){return b.has(this.key)}}class n{constructor(b){this.keys=b}affectsSome(b){for(const g of this.keys)if(b.has(g))return!0;return!1}}class l{constructor(b){this.events=b}affectsSome(b){for(const g of this.events)if(g.affectsSome(b))return!0;return!1}}class t{constructor(b){this._onDidChangeContext=new _.PauseableEmitter({merge:g=>new l(g)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=b}createKey(b,g){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new u(this,b,g)}bufferChangeEvents(b){this._onDidChangeContext.pause();try{b()}finally{this._onDidChangeContext.resume()}}createScoped(b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h(this,b)}contextMatchesRules(b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const g=this.getContextValuesContainer(this._myContextId);return C.KeybindingResolver.contextMatchesRules(g,b)}getContextKeyValue(b){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(b)}setContext(b,g){if(this._isDisposed)return;const f=this.getContextValuesContainer(this._myContextId);!f||f.setValue(b,g)&&this._onDidChangeContext.fire(new r(b))}removeContext(b){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(b)&&this._onDidChangeContext.fire(new r(b))}getContext(b){return this._isDisposed?a.INSTANCE:this.getContextValuesContainer(p(b))}}e.AbstractContextKeyService=t;let d=class extends t{constructor(b){super(0);this._contexts=new Map,this._toDispose=new M.DisposableStore,this._lastContextId=0;const g=new c(this._myContextId,b,this._onDidChangeContext);this._contexts.set(this._myContextId,g),this._toDispose.add(g)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(b){return this._isDisposed?a.INSTANCE:this._contexts.get(b)||a.INSTANCE}createChildContext(b=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let g=++this._lastContextId;return this._contexts.set(g,new o(g,this.getContextValuesContainer(b))),g}disposeContext(b){this._isDisposed||this._contexts.delete(b)}};d=Me([_e(0,v.IConfigurationService)],d),e.ContextKeyService=d;class h extends t{constructor(b,g){super(b.createChildContext());if(this._parentChangeListener=new M.MutableDisposable,this._parent=b,this._updateParentChangeListener(),this._domNode=g,this._domNode.hasAttribute(s)){let f="";this._domNode.classList&&(f=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${f?": "+f:""}`)}this._domNode.setAttribute(s,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(s),this._isDisposed=!0)}getContextValuesContainer(b){return this._isDisposed?a.INSTANCE:this._parent.getContextValuesContainer(b)}createChildContext(b=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(b)}disposeContext(b){this._isDisposed||this._parent.disposeContext(b)}}function p(w){for(;w;){if(w.hasAttribute(s)){const b=w.getAttribute(s);return b?parseInt(b,10):NaN}w=w.parentElement}return 0}m.CommandsRegistry.registerCommand(i.SET_CONTEXT_COMMAND_ID,function(w,b,g){w.get(i.IContextKeyService).createKey(String(b),g)}),m.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...i.RawContextKey.all()].sort((w,b)=>w.key.localeCompare(b.key))},description:{description:S.localize(0,null),args:[]}}),m.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const w=[],b=new Set;for(let g of i.RawContextKey.all())b.has(g.key)||(b.add(g.key),w.push(g));w.sort((g,f)=>g.key.localeCompare(f.key)),console.log(JSON.stringify(w,void 0,2))})}),define(ie[87],ne([0,1,41,17,26,32]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class S{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(i){if(k.OS===1){if(i&&i.win)return i.win}else if(k.OS===2){if(i&&i.mac)return i.mac}else if(i&&i.linux)return i.linux;return i}registerKeybindingRule(i){const C=S.bindToCurrentPlatform(i);if(C&&C.primary){const s=_.createKeybinding(C.primary,k.OS);s&&this._registerDefaultKeybinding(s,i.id,i.args,i.weight,0,i.when)}if(C&&Array.isArray(C.secondary))for(let s=0,o=C.secondary.length;s<o;s++){const a=C.secondary[s],c=_.createKeybinding(a,k.OS);c&&this._registerDefaultKeybinding(c,i.id,i.args,i.weight,-s-1,i.when)}}registerCommandAndKeybindingRule(i){this.registerKeybindingRule(i),M.CommandsRegistry.registerCommand(i)}static _mightProduceChar(i){return i>=21&&i<=30||i>=31&&i<=56?!0:i===80||i===81||i===82||i===83||i===84||i===85||i===86||i===110||i===111||i===87||i===88||i===89||i===90||i===91||i===92}_assertNoCtrlAlt(i,C){i.ctrlKey&&i.altKey&&!i.metaKey&&S._mightProduceChar(i.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",i," for ",C)}_registerDefaultKeybinding(i,C,s,o,a,c){k.OS===1&&this._assertNoCtrlAlt(i.parts[0],C),this._coreKeybindings.push({keybinding:i,command:C,commandArgs:s,when:c,weight1:o,weight2:a,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(m)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new S,e.Extensions={EditorModes:"platform.keybindingsRegistry"},L.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function m(v,i){return v.weight1!==i.weight1?v.weight1-i.weight1:v.command<i.command?-1:v.command>i.command?1:v.weight2-i.weight2}}),define(ie[585],ne([0,1,16,442,87,443]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationEnablementContext=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget",e.HistoryNavigationEnablementContext="historyNavigationEnabled";function S(o,a,c){new _.RawContextKey(c,a).bindTo(o)}function m(o,a){return o.createScoped(a.target)}function v(o,a){return o.getContext(document.activeElement).getValue(a)}function i(o,a){const c=m(o,a);S(c,a,e.HistoryNavigationWidgetContext);const u=new _.RawContextKey(e.HistoryNavigationEnablementContext,!0).bindTo(c);return{scopedContextKeyService:c,historyNavigationEnablement:u}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=i;let C=class extends k.FindInput{constructor(a,c,u,r,n=!1){super(a,c,n,u);this._register(i(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};C=Me([_e(3,_.IContextKeyService)],C),e.ContextScopedFindInput=C;let s=class extends L.ReplaceInput{constructor(a,c,u,r,n=!1){super(a,c,n,u);this._register(i(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};s=Me([_e(3,_.IContextKeyService)],s),e.ContextScopedReplaceInput=s,M.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:_.ContextKeyExpr.and(_.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),_.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:16,secondary:[512|16],handler:(o,a)=>{const c=v(o.get(_.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showPreviousValue()}}),M.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:_.ContextKeyExpr.and(_.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),_.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:18,secondary:[512|18],handler:(o,a)=>{const c=v(o.get(_.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showNextValue()}})}),define(ie[98],ne([0,1,32,19,2]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var L;(function(m){m[m.PRESERVE=0]="PRESERVE",m[m.LAST=1]="LAST"})(L=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(v){return v.prefix.length===0?this.defaultProvider=v:this.providers.push(v),this.providers.sort((i,C)=>C.prefix.length-i.prefix.length),M.toDisposable(()=>{this.providers.splice(this.providers.indexOf(v),1),this.defaultProvider===v&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return k.coalesce([this.defaultProvider,...this.providers])}getQuickAccessProvider(v){return v&&this.providers.find(C=>v.startsWith(C.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,_.Registry.add(e.Extensions.Quickaccess,new S)}),define(ie[586],ne([0,1,77,98,32,540,2]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let m=class dt{constructor(i){this.quickInputService=i,this.registry=M.Registry.as(k.Extensions.Quickaccess)}provide(i){const C=new S.DisposableStore;C.add(i.onDidAccept(()=>{const[a]=i.selectedItems;a&&this.quickInputService.quickAccess.show(a.prefix,{preserveValue:!0})})),C.add(i.onDidChangeValue(a=>{const c=this.registry.getQuickAccessProvider(a.substr(dt.PREFIX.length));c&&c.prefix&&c.prefix!==dt.PREFIX&&this.quickInputService.quickAccess.show(c.prefix,{preserveValue:!0})}));const{editorProviders:s,globalProviders:o}=this.getQuickAccessProviders();return i.items=s.length===0||o.length===0?[...s.length===0?o:s]:[{label:L.localize(0,null),type:"separator"},...o,{label:L.localize(1,null),type:"separator"},...s],C}getQuickAccessProviders(){const i=[],C=[];for(const s of this.registry.getQuickAccessProviders().sort((o,a)=>o.prefix.localeCompare(a.prefix)))if(s.prefix!==dt.PREFIX)for(const o of s.helpEntries){const a=o.prefix||s.prefix,c=a||"\u2026";(o.needsEditor?C:i).push({prefix:a,label:c,ariaLabel:L.localize(2,null,c,o.description),description:o.description})}return{editorProviders:C,globalProviders:i}}};m.PREFIX="?",m=Me([_e(0,_.IQuickInputService)],m),e.HelpQuickAccessProvider=m}),define(ie[587],ne([0,1,32,98,63,586]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),_.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:L.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:M.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(ie[588],ne([0,1,77,2,98,32,23,9,90]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let i=class extends k.Disposable{constructor(s,o){super();this.quickInputService=s,this.instantiationService=o,this.registry=L.Registry.as(M.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(s="",o){this.doShowOrPick(s,!1,o)}doShowOrPick(s,o,a){var c;const[u,r]=this.getOrInstantiateProvider(s),n=this.visibleQuickAccess,l=n==null?void 0:n.descriptor;if(n&&r&&l===r){s!==r.prefix&&!(a==null?void 0:a.preserveValue)&&(n.picker.value=s),this.adjustValueSelection(n.picker,r,a);return}if(r&&!(a==null?void 0:a.preserveValue)){let b;if(n&&l&&l!==r){const g=n.value.substr(l.prefix.length);g&&(b=`${r.prefix}${g}`)}if(!b){const g=u==null?void 0:u.defaultFilterValue;g===M.DefaultQuickAccessFilterValue.LAST?b=this.lastAcceptedPickerValues.get(r):typeof g=="string"&&(b=`${r.prefix}${g}`)}typeof b=="string"&&(s=b)}const t=new k.DisposableStore,d=t.add(this.quickInputService.createQuickPick());d.value=s,this.adjustValueSelection(d,r,a),d.placeholder=r==null?void 0:r.placeholder,d.quickNavigate=a==null?void 0:a.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!n,(typeof(a==null?void 0:a.itemActivation)=="number"||(a==null?void 0:a.quickNavigateConfiguration))&&(d.itemActivation=(c=a==null?void 0:a.itemActivation)!==null&&c!==void 0?c:_.ItemActivation.SECOND),d.contextKey=r==null?void 0:r.contextKey,d.filterValue=b=>b.substring(r?r.prefix.length:0),(r==null?void 0:r.placeholder)&&(d.ariaLabel=r==null?void 0:r.placeholder);let h,p;o&&(h=new Promise(b=>p=b),t.add(v.once(d.onWillAccept)(b=>{b.veto(),d.hide()}))),t.add(this.registerPickerListeners(d,u,r,s));const w=t.add(new S.CancellationTokenSource);if(u&&t.add(u.provide(d,w.token)),v.once(d.onDidHide)(()=>{d.selectedItems.length===0&&w.cancel(),t.dispose(),p==null||p(d.selectedItems)}),d.show(),o)return h}adjustValueSelection(s,o,a){var c;let u;(a==null?void 0:a.preserveValue)?u=[s.value.length,s.value.length]:u=[(c=o==null?void 0:o.prefix.length)!==null&&c!==void 0?c:0,s.value.length],s.valueSelection=u}registerPickerListeners(s,o,a,c){const u=new k.DisposableStore,r=this.visibleQuickAccess={picker:s,descriptor:a,value:c};return u.add(k.toDisposable(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),u.add(s.onDidChangeValue(n=>{const[l]=this.getOrInstantiateProvider(n);l!==o?this.show(n,{preserveValue:!0}):r.value=n})),a&&u.add(s.onDidAccept(()=>{this.lastAcceptedPickerValues.set(a,s.value)})),u}getOrInstantiateProvider(s){const o=this.registry.getQuickAccessProvider(s);if(!o)return[void 0,void 0];let a=this.mapProviderToDescriptor.get(o);return a||(a=this.instantiationService.createInstance(o.ctor),this.mapProviderToDescriptor.set(o,a)),[a,o]}};i=Me([_e(0,_.IQuickInputService),_e(1,m.IInstantiationService)],i),e.QuickAccessController=i}),define(ie[78],ne([0,1,9,6,2,20,301]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const m="__$__targetStorageMarker";e.IStorageService=_.createDecorator("storageService");var v;(function(s){s[s.NONE=0]="NONE",s[s.SHUTDOWN=1]="SHUTDOWN"})(v=e.WillSaveStateReason||(e.WillSaveStateReason={}));class i extends M.Disposable{constructor(o={flushInterval:i.DEFAULT_FLUSH_INTERVAL}){super();this.options=o,this._onDidChangeValue=this._register(new k.PauseableEmitter),this._onDidChangeTarget=this._register(new k.PauseableEmitter),this._onWillSaveState=this._register(new k.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(o,a){a===m?(o===0?this._globalKeyTargets=void 0:o===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:o})):this._onDidChangeValue.fire({scope:o,key:a,target:this.getKeyTargets(o)[a]})}get(o,a,c){var u;return(u=this.getStorage(a))===null||u===void 0?void 0:u.get(o,c)}getBoolean(o,a,c){var u;return(u=this.getStorage(a))===null||u===void 0?void 0:u.getBoolean(o,c)}getNumber(o,a,c){var u;return(u=this.getStorage(a))===null||u===void 0?void 0:u.getNumber(o,c)}store(o,a,c,u){if(L.isUndefinedOrNull(a)){this.remove(o,c);return}this.withPausedEmitters(()=>{var r;this.updateKeyTarget(o,c,u),(r=this.getStorage(c))===null||r===void 0||r.set(o,a)})}remove(o,a){this.withPausedEmitters(()=>{var c;this.updateKeyTarget(o,a,void 0),(c=this.getStorage(a))===null||c===void 0||c.delete(o)})}withPausedEmitters(o){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{o()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(o,a,c){var u,r;const n=this.getKeyTargets(a);typeof c=="number"?n[o]!==c&&(n[o]=c,(u=this.getStorage(a))===null||u===void 0||u.set(m,JSON.stringify(n))):typeof n[o]=="number"&&(delete n[o],(r=this.getStorage(a))===null||r===void 0||r.set(m,JSON.stringify(n)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(o){return o===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(o){const a=this.get(m,o);if(a)try{return JSON.parse(a)}catch(c){}return Object.create(null)}}e.AbstractStorageService=i,i.DEFAULT_FLUSH_INTERVAL=60*1e3;class C extends i{constructor(){super();this.globalStorage=this._register(new S.Storage(new S.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new S.Storage(new S.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(o=>this.emitDidChangeValue(1,o))),this._register(this.globalStorage.onDidChangeStorage(o=>this.emitDidChangeValue(0,o)))}getStorage(o){return o===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=C}),define(ie[589],ne([0,1,9,74,252,50,78,3,15,90]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=_.createDecorator("ICodeLensCache");class C{constructor(a,c){this.lineCount=a,this.data=c}}let s=class{constructor(a){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new L.LRUCache(20,.75);const c="codelens/cache";v.runWhenIdle(()=>a.remove(c,1));const u="codelens/cache2",r=a.get(u,1,"{}");this._deserialize(r),i.once(a.onWillSaveState)(n=>{n.reason===S.WillSaveStateReason.SHUTDOWN&&a.store(u,this._serialize(),1,1)})}put(a,c){const u=c.lenses.map(l=>{var t;return{range:l.symbol.range,command:l.symbol.command&&{id:"",title:(t=l.symbol.command)===null||t===void 0?void 0:t.title}}}),r=new M.CodeLensModel;r.add({lenses:u,dispose:()=>{}},this._fakeProvider);const n=new C(a.getLineCount(),r);this._cache.set(a.uri.toString(),n)}get(a){const c=this._cache.get(a.uri.toString());return c&&c.lineCount===a.getLineCount()?c.data:void 0}delete(a){this._cache.delete(a.uri.toString())}_serialize(){const a=Object.create(null);for(const[c,u]of this._cache){const r=new Set;for(const n of u.data.lenses)r.add(n.symbol.range.startLineNumber);a[c]={lineCount:u.lineCount,lines:[...r.values()]}}return JSON.stringify(a)}_deserialize(a){try{const c=JSON.parse(a);for(const u in c){const r=c[u],n=[];for(const t of r.lines)n.push({range:new m.Range(t,1,t,11)});const l=new M.CodeLensModel;l.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(u,new C(r.lineCount,l))}}catch(c){}}};s=Me([_e(0,S.IStorageService)],s),e.CodeLensCache=s,k.registerSingleton(e.ICodeLensCache,s)}),define(ie[590],ne([0,1,50,78,18,2,15,9,40,74,57]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class s{constructor(n){this.name=n}select(n,l,t){if(t.length===0)return 0;let d=t[0].score[0];for(let h=0;h<t.length;h++){const{score:p,completion:w}=t[h];if(p[0]!==d)break;if(w.preselect)return h}return 0}}e.Memory=s;class o extends s{constructor(){super("first")}memorize(n,l,t){}toJSON(){}fromJSON(){}}e.NoMemory=o;class a extends s{constructor(){super("recentlyUsed");this._cache=new _.LRUCache(300,.66),this._seq=0}memorize(n,l,t){const d=`${n.getLanguageIdentifier().language}/${t.textLabel}`;this._cache.set(d,{touch:this._seq++,type:t.completion.kind,insertText:t.completion.insertText})}select(n,l,t){if(t.length===0)return 0;const d=n.getLineContent(l.lineNumber).substr(l.column-10,l.column-1);if(/\s$/.test(d))return super.select(n,l,t);let h=t[0].score[0],p=-1,w=-1,b=-1;for(let g=0;g<t.length&&t[g].score[0]===h;g++){const f=`${n.getLanguageIdentifier().language}/${t[g].textLabel}`,y=this._cache.peek(f);if(y&&y.touch>b&&y.type===t[g].completion.kind&&y.insertText===t[g].completion.insertText&&(b=y.touch,w=g),t[g].completion.preselect&&p===-1)return p=g}return w!==-1?w:p!==-1?p:0}toJSON(){return this._cache.toJSON()}fromJSON(n){this._cache.clear();let l=0;for(const[t,d]of n)d.touch=l,d.type=typeof d.type=="number"?d.type:M.completionKindFromString(d.type),this._cache.set(t,d);this._seq=this._cache.size}}e.LRUMemory=a;class c extends s{constructor(){super("recentlyUsedByPrefix");this._trie=_.TernarySearchTree.forStrings(),this._seq=0}memorize(n,l,t){const{word:d}=n.getWordUntilPosition(l),h=`${n.getLanguageIdentifier().language}/${d}`;this._trie.set(h,{type:t.completion.kind,insertText:t.completion.insertText,touch:this._seq++})}select(n,l,t){let{word:d}=n.getWordUntilPosition(l);if(!d)return super.select(n,l,t);let h=`${n.getLanguageIdentifier().language}/${d}`,p=this._trie.get(h);if(p||(p=this._trie.findSubstr(h)),p)for(let w=0;w<t.length;w++){let{kind:b,insertText:g}=t[w].completion;if(b===p.type&&g===p.insertText)return w}return super.select(n,l,t)}toJSON(){let n=[];return this._trie.forEach((l,t)=>n.push([t,l])),n.sort((l,t)=>-(l[1].touch-t[1].touch)).forEach((l,t)=>l[1].touch=t),n.slice(0,200)}fromJSON(n){if(this._trie.clear(),n.length>0){this._seq=n[0][1].touch+1;for(const[l,t]of n)t.type=typeof t.type=="number"?t.type:M.completionKindFromString(t.type),this._trie.set(l,t)}}}e.PrefixMemory=c;let u=class ut{constructor(n,l,t){this._storageService=n,this._modeService=l,this._configService=t,this._disposables=new L.DisposableStore,this._persistSoon=new S.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(n.onWillSaveState(d=>{d.reason===k.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(n,l,t){this._withStrategy(n,l).memorize(n,l,t),this._persistSoon.schedule()}select(n,l,t){return this._withStrategy(n,l).select(n,l,t)}_withStrategy(n,l){var t,d;const h=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:(t=this._modeService.getLanguageIdentifier(n.getLanguageIdAtPosition(l.lineNumber,l.column)))===null||t===void 0?void 0:t.language,resource:n.uri});if(((d=this._strategy)===null||d===void 0?void 0:d.name)!==h){this._saveState();const p=ut._strategyCtors.get(h)||o;this._strategy=new p;try{const b=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,g=this._storageService.get(`${ut._storagePrefix}/${h}`,b);g&&this._strategy.fromJSON(JSON.parse(g))}catch(w){}}return this._strategy}_saveState(){if(this._strategy){const l=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,t=JSON.stringify(this._strategy);this._storageService.store(`${ut._storagePrefix}/${this._strategy.name}`,t,l,1)}}};u._strategyCtors=new Map([["recentlyUsedByPrefix",c],["recentlyUsed",a],["first",o]]),u._storagePrefix="suggest/memories",u=Me([_e(0,k.IStorageService),_e(1,C.IModeService),_e(2,v.IConfigurationService)],u),e.SuggestMemoryService=u,e.ISuggestMemoryService=m.createDecorator("ISuggestMemories"),i.registerSingleton(e.ISuggestMemoryService,u,!0)}),define(ie[88],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=_.createDecorator("telemetryService")}),define(ie[591],ne([0,1,539,575,2,66,20,50,78,40,9,37,26,88,12,120,73,447]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let l=class ct extends k.PickerQuickAccessProvider{constructor(h,p,w,b,g,f){super(ct.PREFIX,h);this.instantiationService=p,this.keybindingService=w,this.commandService=b,this.telemetryService=g,this.dialogService=f,this.commandsHistory=this._register(this.instantiationService.createInstance(t)),this.options=h}_getPicks(h,p,w){return Ie(this,void 0,void 0,function*(){const b=yield this.getCommandPicks(p,w);if(w.isCancellationRequested)return[];const g=[];for(const N of b){const D=S.withNullAsUndefined(ct.WORD_FILTER(h,N.label)),T=N.commandAlias?S.withNullAsUndefined(ct.WORD_FILTER(h,N.commandAlias)):void 0;D||T?(N.highlights={label:D,detail:this.options.showAlias?T:void 0},g.push(N)):h===N.commandId&&g.push(N)}const f=new Map;for(const N of g){const D=f.get(N.label);D?(N.description=N.commandId,D.description=D.commandId):f.set(N.label,N)}g.sort((N,D)=>{const T=this.commandsHistory.peek(N.commandId),P=this.commandsHistory.peek(D.commandId);return T&&P?T>P?-1:1:T?-1:P?1:N.label.localeCompare(D.label)});const y=[];let I=!1;for(let N=0;N<g.length;N++){const D=g[N],T=this.keybindingService.lookupKeybinding(D.commandId),P=T?_.localize(0,null,D.label,T.getAriaLabel()):D.label;N===0&&this.commandsHistory.peek(D.commandId)&&(y.push({type:"separator",label:_.localize(1,null)}),I=!0),N!==0&&I&&!this.commandsHistory.peek(D.commandId)&&(y.push({type:"separator",label:_.localize(2,null)}),I=!1),y.push(Object.assign(Object.assign({},D),{ariaLabel:P,detail:this.options.showAlias&&D.commandAlias!==D.label?D.commandAlias:void 0,keybinding:T,accept:()=>Ie(this,void 0,void 0,function*(){this.commandsHistory.push(D.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:D.commandId,from:"quick open"});try{yield this.commandService.executeCommand(D.commandId)}catch(R){c.isPromiseCanceledError(R)||this.dialogService.show(r.default.Error,_.localize(3,null,D.label,n.toErrorMessage(R)))}})}))}return y})}};l.PREFIX=">",l.WORD_FILTER=L.or(L.matchesPrefix,L.matchesWords,L.matchesContiguousSubString),l=Me([_e(1,C.IInstantiationService),_e(2,s.IKeybindingService),_e(3,o.ICommandService),_e(4,a.ITelemetryService),_e(5,u.IDialogService)],l),e.AbstractCommandsQuickAccessProvider=l;let t=class qe extends M.Disposable{constructor(h,p){super();this.storageService=h,this.configurationService=p,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=qe.getConfiguredCommandHistoryLength(this.configurationService),qe.cache&&qe.cache.limit!==this.configuredCommandsHistoryLength&&(qe.cache.limit=this.configuredCommandsHistoryLength,qe.saveState(this.storageService))}load(){const h=this.storageService.get(qe.PREF_KEY_CACHE,0);let p;if(h)try{p=JSON.parse(h)}catch(b){}const w=qe.cache=new m.LRUCache(this.configuredCommandsHistoryLength,1);if(p){let b;p.usesLRU?b=p.entries:b=p.entries.sort((g,f)=>g.value-f.value),b.forEach(g=>w.set(g.key,g.value))}qe.counter=this.storageService.getNumber(qe.PREF_KEY_COUNTER,0,qe.counter)}push(h){!qe.cache||(qe.cache.set(h,qe.counter++),qe.saveState(this.storageService))}peek(h){var p;return(p=qe.cache)===null||p===void 0?void 0:p.peek(h)}static saveState(h){if(!qe.cache)return;const p={usesLRU:!0,entries:[]};qe.cache.forEach((w,b)=>p.entries.push({key:b,value:w})),h.store(qe.PREF_KEY_CACHE,JSON.stringify(p),0,0),h.store(qe.PREF_KEY_COUNTER,qe.counter,0,0)}static getConfiguredCommandHistoryLength(h){var p,w;const g=(w=(p=h.getValue().workbench)===null||p===void 0?void 0:p.commandPalette)===null||w===void 0?void 0:w.history;return typeof g=="number"?g:qe.DEFAULT_COMMANDS_HISTORY_LENGTH}};t.DEFAULT_COMMANDS_HISTORY_LENGTH=50,t.PREF_KEY_CACHE="commandPalette.mru.cache",t.PREF_KEY_COUNTER="commandPalette.mru.counter",t.counter=1,t=Me([_e(0,v.IStorageService),_e(1,i.IConfigurationService)],t),e.CommandsHistory=t}),define(ie[592],ne([0,1,591,103]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class M extends _.AbstractCommandsQuickAccessProvider{constructor(S,m,v,i,C,s){super(S,m,v,i,C,s)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const m=[];for(const v of S.getSupportedActions())m.push({commandId:v.id,commandAlias:v.alias,label:k.stripIcons(v.label)||v.id});return m}}e.AbstractEditorCommandsQuickAccessProvider=M}),define(ie[22],ne([0,1,32,29,6,541,189,15,20]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.selectForeground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textLinkActiveForeground=e.textLinkForeground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=void 0,e.Extensions={ColorContribution:"base.contributions.colors"};class i{constructor(){this._onDidChangeSchema=new M.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(p,w,b,g=!1,f){let y={id:p,description:b,defaults:w,needsTransparency:g,deprecationMessage:f};this.colorsById[p]=y;let I={type:"string",description:b,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return f&&(I.deprecationMessage=f),this.colorSchema.properties[p]=I,this.colorReferenceSchema.enum.push(p),this.colorReferenceSchema.enumDescriptions.push(b),this._onDidChangeSchema.fire(),p}resolveDefaultColor(p,w){const b=this.colorsById[p];if(b&&b.defaults){const g=b.defaults[w.type];return l(g,w)}}getColorSchema(){return this.colorSchema}toString(){let p=(w,b)=>{let g=w.indexOf(".")===-1?0:1,f=b.indexOf(".")===-1?0:1;return g!==f?g-f:w.localeCompare(b)};return Object.keys(this.colorsById).sort(p).map(w=>`- \`${w}\`: ${this.colorsById[w].description}`).join(`
`)}}const C=new i;_.Registry.add(e.Extensions.ColorContribution,C);function s(h,p,w,b,g){return C.registerColor(h,p,w,b,g)}e.registerColor=s,e.foreground=s("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},L.localize(0,null)),e.errorForeground=s("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},L.localize(1,null)),e.iconForeground=s("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},L.localize(2,null)),e.focusBorder=s("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},L.localize(3,null)),e.contrastBorder=s("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},L.localize(4,null)),e.activeContrastBorder=s("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},L.localize(5,null)),e.textLinkForeground=s("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},L.localize(6,null)),e.textLinkActiveForeground=s("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},L.localize(7,null)),e.textCodeBlockBackground=s("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:k.Color.black},L.localize(8,null)),e.widgetShadow=s("widget.shadow",{dark:u(k.Color.black,.36),light:u(k.Color.black,.16),hc:null},L.localize(9,null)),e.inputBackground=s("input.background",{dark:"#3C3C3C",light:k.Color.white,hc:k.Color.black},L.localize(10,null)),e.inputForeground=s("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},L.localize(11,null)),e.inputBorder=s("input.border",{dark:null,light:null,hc:e.contrastBorder},L.localize(12,null)),e.inputActiveOptionBorder=s("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},L.localize(13,null)),e.inputActiveOptionBackground=s("inputOption.activeBackground",{dark:u(e.focusBorder,.4),light:u(e.focusBorder,.2),hc:k.Color.transparent},L.localize(14,null)),e.inputActiveOptionForeground=s("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hc:null},L.localize(15,null)),e.inputValidationInfoBackground=s("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:k.Color.black},L.localize(16,null)),e.inputValidationInfoForeground=s("inputValidation.infoForeground",{dark:null,light:null,hc:null},L.localize(17,null)),e.inputValidationInfoBorder=s("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},L.localize(18,null)),e.inputValidationWarningBackground=s("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:k.Color.black},L.localize(19,null)),e.inputValidationWarningForeground=s("inputValidation.warningForeground",{dark:null,light:null,hc:null},L.localize(20,null)),e.inputValidationWarningBorder=s("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},L.localize(21,null)),e.inputValidationErrorBackground=s("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:k.Color.black},L.localize(22,null)),e.inputValidationErrorForeground=s("inputValidation.errorForeground",{dark:null,light:null,hc:null},L.localize(23,null)),e.inputValidationErrorBorder=s("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},L.localize(24,null)),e.selectBackground=s("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hc:k.Color.black},L.localize(25,null)),e.selectForeground=s("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:k.Color.white},L.localize(26,null)),e.buttonForeground=s("button.foreground",{dark:k.Color.white,light:k.Color.white,hc:k.Color.white},L.localize(27,null)),e.buttonBackground=s("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},L.localize(28,null)),e.buttonHoverBackground=s("button.hoverBackground",{dark:c(e.buttonBackground,.2),light:a(e.buttonBackground,.2),hc:null},L.localize(29,null)),e.badgeBackground=s("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:k.Color.black},L.localize(30,null)),e.badgeForeground=s("badge.foreground",{dark:k.Color.white,light:"#333",hc:k.Color.white},L.localize(31,null)),e.scrollbarShadow=s("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},L.localize(32,null)),e.scrollbarSliderBackground=s("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hc:u(e.contrastBorder,.6)},L.localize(33,null)),e.scrollbarSliderHoverBackground=s("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hc:u(e.contrastBorder,.8)},L.localize(34,null)),e.scrollbarSliderActiveBackground=s("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},L.localize(35,null)),e.progressBarBackground=s("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hc:e.contrastBorder},L.localize(36,null)),e.editorErrorBackground=s("editorError.background",{dark:null,light:null,hc:null},L.localize(37,null),!0),e.editorErrorForeground=s("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},L.localize(38,null)),e.editorErrorBorder=s("editorError.border",{dark:null,light:null,hc:k.Color.fromHex("#E47777").transparent(.8)},L.localize(39,null)),e.editorWarningBackground=s("editorWarning.background",{dark:null,light:null,hc:null},L.localize(40,null),!0),e.editorWarningForeground=s("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},L.localize(41,null)),e.editorWarningBorder=s("editorWarning.border",{dark:null,light:null,hc:k.Color.fromHex("#FFCC00").transparent(.8)},L.localize(42,null)),e.editorInfoBackground=s("editorInfo.background",{dark:null,light:null,hc:null},L.localize(43,null),!0),e.editorInfoForeground=s("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},L.localize(44,null)),e.editorInfoBorder=s("editorInfo.border",{dark:null,light:null,hc:k.Color.fromHex("#75BEFF").transparent(.8)},L.localize(45,null)),e.editorHintForeground=s("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},L.localize(46,null)),e.editorHintBorder=s("editorHint.border",{dark:null,light:null,hc:k.Color.fromHex("#eeeeee").transparent(.8)},L.localize(47,null)),e.editorBackground=s("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:k.Color.black},L.localize(48,null)),e.editorForeground=s("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:k.Color.white},L.localize(49,null)),e.editorWidgetBackground=s("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},L.localize(50,null)),e.editorWidgetForeground=s("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},L.localize(51,null)),e.editorWidgetBorder=s("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},L.localize(52,null)),e.editorWidgetResizeBorder=s("editorWidget.resizeBorder",{light:null,dark:null,hc:null},L.localize(53,null)),e.quickInputBackground=s("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},L.localize(54,null)),e.quickInputForeground=s("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},L.localize(55,null)),e.quickInputTitleBackground=s("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hc:"#000000"},L.localize(56,null)),e.pickerGroupForeground=s("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:k.Color.white},L.localize(57,null)),e.pickerGroupBorder=s("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:k.Color.white},L.localize(58,null)),e.keybindingLabelBackground=s("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hc:k.Color.transparent},L.localize(59,null)),e.keybindingLabelForeground=s("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hc:k.Color.white},L.localize(60,null)),e.keybindingLabelBorder=s("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hc:new k.Color(new k.RGBA(111,195,223))},L.localize(61,null)),e.keybindingLabelBottomBorder=s("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hc:new k.Color(new k.RGBA(111,195,223))},L.localize(62,null)),e.editorSelectionBackground=s("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},L.localize(63,null)),e.editorSelectionForeground=s("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},L.localize(64,null)),e.editorInactiveSelection=s("editor.inactiveSelectionBackground",{light:u(e.editorSelectionBackground,.5),dark:u(e.editorSelectionBackground,.5),hc:u(e.editorSelectionBackground,.5)},L.localize(65,null),!0),e.editorSelectionHighlight=s("editor.selectionHighlightBackground",{light:n(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:n(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},L.localize(66,null),!0),e.editorSelectionHighlightBorder=s("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},L.localize(67,null)),e.editorFindMatch=s("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},L.localize(68,null)),e.editorFindMatchHighlight=s("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},L.localize(69,null),!0),e.editorFindRangeHighlight=s("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},L.localize(70,null),!0),e.editorFindMatchBorder=s("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},L.localize(71,null)),e.editorFindMatchHighlightBorder=s("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},L.localize(72,null)),e.editorFindRangeHighlightBorder=s("editor.findRangeHighlightBorder",{dark:null,light:null,hc:u(e.activeContrastBorder,.4)},L.localize(73,null),!0),e.editorHoverHighlight=s("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},L.localize(74,null),!0),e.editorHoverBackground=s("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},L.localize(75,null)),e.editorHoverForeground=s("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},L.localize(76,null)),e.editorHoverBorder=s("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},L.localize(77,null)),e.editorHoverStatusBarBackground=s("editorHoverWidget.statusBarBackground",{dark:c(e.editorHoverBackground,.2),light:a(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},L.localize(78,null)),e.editorActiveLinkForeground=s("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hc:k.Color.cyan},L.localize(79,null)),e.editorInlayHintForeground=s("editorInlayHint.foreground",{dark:e.editorWidgetBackground,light:e.editorWidgetForeground,hc:e.editorWidgetBackground},L.localize(80,null)),e.editorInlayHintBackground=s("editorInlayHint.background",{dark:e.editorWidgetForeground,light:e.editorWidgetBackground,hc:e.editorWidgetForeground},L.localize(81,null)),e.editorLightBulbForeground=s("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},L.localize(82,null)),e.editorLightBulbAutoFixForeground=s("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},L.localize(83,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=s("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},L.localize(84,null),!0),e.diffRemoved=s("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},L.localize(85,null),!0),e.diffInsertedOutline=s("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},L.localize(86,null)),e.diffRemovedOutline=s("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},L.localize(87,null)),e.diffBorder=s("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},L.localize(88,null)),e.diffDiagonalFill=s("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},L.localize(89,null)),e.listFocusBackground=s("list.focusBackground",{dark:null,light:null,hc:null},L.localize(90,null)),e.listFocusForeground=s("list.focusForeground",{dark:null,light:null,hc:null},L.localize(91,null)),e.listFocusOutline=s("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hc:e.activeContrastBorder},L.localize(92,null)),e.listActiveSelectionBackground=s("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},L.localize(93,null)),e.listActiveSelectionForeground=s("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hc:null},L.localize(94,null)),e.listActiveSelectionIconForeground=s("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},L.localize(95,null)),e.listInactiveSelectionBackground=s("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},L.localize(96,null)),e.listInactiveSelectionForeground=s("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},L.localize(97,null)),e.listInactiveSelectionIconForeground=s("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},L.localize(98,null)),e.listInactiveFocusBackground=s("list.inactiveFocusBackground",{dark:null,light:null,hc:null},L.localize(99,null)),e.listInactiveFocusOutline=s("list.inactiveFocusOutline",{dark:null,light:null,hc:null},L.localize(100,null)),e.listHoverBackground=s("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},L.localize(101,null)),e.listHoverForeground=s("list.hoverForeground",{dark:null,light:null,hc:null},L.localize(102,null)),e.listDropBackground=s("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},L.localize(103,null)),e.listHighlightForeground=s("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:e.focusBorder},L.localize(104,null)),e.listFocusHighlightForeground=s("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:e.listHighlightForeground,hc:e.listHighlightForeground},L.localize(105,null)),e.listFilterWidgetBackground=s("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:k.Color.black},L.localize(106,null)),e.listFilterWidgetOutline=s("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hc:"#f38518"},L.localize(107,null)),e.listFilterWidgetNoMatchesOutline=s("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},L.localize(108,null)),e.treeIndentGuidesStroke=s("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},L.localize(109,null)),e.tableColumnsBorder=s("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},L.localize(110,null)),e._deprecatedQuickInputListFocusBackground=s("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,L.localize(111,null)),e.quickInputListFocusForeground=s("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},L.localize(112,null)),e.quickInputListFocusIconForeground=s("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hc:e.listActiveSelectionIconForeground},L.localize(113,null)),e.quickInputListFocusBackground=s("quickInputList.focusBackground",{dark:r(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground,"#062F4A"),light:r(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground,"#D6EBFF"),hc:null},L.localize(114,null)),e.menuBorder=s("menu.border",{dark:null,light:null,hc:e.contrastBorder},L.localize(115,null)),e.menuForeground=s("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},L.localize(116,null)),e.menuBackground=s("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},L.localize(117,null)),e.menuSelectionForeground=s("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},L.localize(118,null)),e.menuSelectionBackground=s("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},L.localize(119,null)),e.menuSelectionBorder=s("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},L.localize(120,null)),e.menuSeparatorBackground=s("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},L.localize(121,null)),e.snippetTabstopHighlightBackground=s("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hc:new k.Color(new k.RGBA(124,124,124,.3))},L.localize(122,null)),e.snippetTabstopHighlightBorder=s("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},L.localize(123,null)),e.snippetFinalTabstopHighlightBackground=s("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},L.localize(124,null)),e.snippetFinalTabstopHighlightBorder=s("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hc:"#525252"},L.localize(125,null)),e.overviewRulerFindMatchForeground=s("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},L.localize(126,null),!0),e.overviewRulerSelectionHighlightForeground=s("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},L.localize(127,null),!0),e.minimapFindMatch=s("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},L.localize(128,null),!0),e.minimapSelection=s("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},L.localize(129,null),!0),e.minimapError=s("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hc:new k.Color(new k.RGBA(255,50,50,1))},L.localize(130,null)),e.minimapWarning=s("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},L.localize(131,null)),e.minimapBackground=s("minimap.background",{dark:null,light:null,hc:null},L.localize(132,null)),e.minimapSliderBackground=s("minimapSlider.background",{light:u(e.scrollbarSliderBackground,.5),dark:u(e.scrollbarSliderBackground,.5),hc:u(e.scrollbarSliderBackground,.5)},L.localize(133,null)),e.minimapSliderHoverBackground=s("minimapSlider.hoverBackground",{light:u(e.scrollbarSliderHoverBackground,.5),dark:u(e.scrollbarSliderHoverBackground,.5),hc:u(e.scrollbarSliderHoverBackground,.5)},L.localize(134,null)),e.minimapSliderActiveBackground=s("minimapSlider.activeBackground",{light:u(e.scrollbarSliderActiveBackground,.5),dark:u(e.scrollbarSliderActiveBackground,.5),hc:u(e.scrollbarSliderActiveBackground,.5)},L.localize(135,null)),e.problemsErrorIconForeground=s("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},L.localize(136,null)),e.problemsWarningIconForeground=s("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},L.localize(137,null)),e.problemsInfoIconForeground=s("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},L.localize(138,null));function o(h,p){var w,b,g;switch(h.op){case 0:return(w=l(h.value,p))===null||w===void 0?void 0:w.darken(h.factor);case 1:return(b=l(h.value,p))===null||b===void 0?void 0:b.lighten(h.factor);case 2:return(g=l(h.value,p))===null||g===void 0?void 0:g.transparent(h.factor);case 3:for(const I of h.values){const N=l(I,p);if(N)return N}return;case 4:const f=l(h.value,p);if(!f)return;const y=l(h.background,p);return y?f.isDarkerThan(y)?k.Color.getLighterColor(f,y,h.factor).transparent(h.transparency):k.Color.getDarkerColor(f,y,h.factor).transparent(h.transparency):f.transparent(h.factor*h.transparency);default:throw v.assertNever(h)}}e.executeTransform=o;function a(h,p){return{op:0,value:h,factor:p}}e.darken=a;function c(h,p){return{op:1,value:h,factor:p}}e.lighten=c;function u(h,p){return{op:2,value:h,factor:p}}e.transparent=u;function r(...h){return{op:3,values:h}}e.oneOf=r;function n(h,p,w,b){return{op:4,value:h,background:p,factor:w,transparency:b}}function l(h,p){if(h!==null){if(typeof h=="string")return h[0]==="#"?k.Color.fromHex(h):p.getColor(h);if(h instanceof k.Color)return h;if(typeof h=="object")return o(h,p)}}e.resolveColorValue=l,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let t=_.Registry.as(S.Extensions.JSONContribution);t.registerSchema(e.workbenchColorsSchemaId,C.getColorSchema());const d=new m.RunOnceScheduler(()=>t.notifySchemaChanged(e.workbenchColorsSchemaId),200);C.onDidChangeSchema(()=>{d.isScheduled()||d.schedule()})}),define(ie[122],ne([0,1,22]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function k(v,i){const C=Object.create(null);for(let s in i){const o=i[s];o&&(C[s]=_.resolveColorValue(o,v))}return C}e.computeStyles=k;function M(v,i,C){function s(){const o=k(v.getColorTheme(),i);typeof C=="function"?C(o):C.style(o)}return s(),v.onDidColorThemeChange(s)}e.attachStyler=M;function L(v,i,C){return M(i,{badgeBackground:(C==null?void 0:C.badgeBackground)||_.badgeBackground,badgeForeground:(C==null?void 0:C.badgeForeground)||_.badgeForeground,badgeBorder:_.contrastBorder},v)}e.attachBadgeStyler=L;function S(v,i,C){return M(i,Object.assign(Object.assign({},e.defaultListStyles),C||{}),v)}e.attachListStyler=S,e.defaultListStyles={listFocusBackground:_.listFocusBackground,listFocusForeground:_.listFocusForeground,listFocusOutline:_.listFocusOutline,listActiveSelectionBackground:_.listActiveSelectionBackground,listActiveSelectionForeground:_.listActiveSelectionForeground,listActiveSelectionIconForeground:_.listActiveSelectionIconForeground,listFocusAndSelectionBackground:_.listActiveSelectionBackground,listFocusAndSelectionForeground:_.listActiveSelectionForeground,listInactiveSelectionBackground:_.listInactiveSelectionBackground,listInactiveSelectionIconForeground:_.listInactiveSelectionIconForeground,listInactiveSelectionForeground:_.listInactiveSelectionForeground,listInactiveFocusBackground:_.listInactiveFocusBackground,listInactiveFocusOutline:_.listInactiveFocusOutline,listHoverBackground:_.listHoverBackground,listHoverForeground:_.listHoverForeground,listDropBackground:_.listDropBackground,listSelectionOutline:_.activeContrastBorder,listHoverOutline:_.activeContrastBorder,listFilterWidgetBackground:_.listFilterWidgetBackground,listFilterWidgetOutline:_.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:_.listFilterWidgetNoMatchesOutline,listMatchesShadow:_.widgetShadow,treeIndentGuidesStroke:_.treeIndentGuidesStroke,tableColumnsBorder:_.tableColumnsBorder},e.defaultMenuStyles={shadowColor:_.widgetShadow,borderColor:_.menuBorder,foregroundColor:_.menuForeground,backgroundColor:_.menuBackground,selectionForegroundColor:_.menuSelectionForeground,selectionBackgroundColor:_.menuSelectionBackground,selectionBorderColor:_.menuSelectionBorder,separatorColor:_.menuSeparatorBackground};function m(v,i,C){return M(i,Object.assign(Object.assign({},e.defaultMenuStyles),C),v)}e.attachMenuStyler=m}),define(ie[593],ne([0,1,49,2,444,7,122,55,12,370]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class i{constructor(s,o,a,c,u){this.contextViewService=s,this.telemetryService=o,this.notificationService=a,this.keybindingService=c,this.themeService=u,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(s){this.options=s}showContextMenu(s){const o=s.getActions();if(!o.length)return;this.focusToReturn=document.activeElement;let a,c=L.isHTMLElement(s.domForShadowRoot)?s.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>s.getAnchor(),canRelayout:!1,anchorAlignment:s.anchorAlignment,anchorAxisAlignment:s.anchorAxisAlignment,render:u=>{let r=s.getMenuClassName?s.getMenuClassName():"";r&&(u.className+=" "+r),this.options.blockMouse&&(this.block=u.appendChild(L.$(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",L.addDisposableListener(this.block,L.EventType.MOUSE_DOWN,t=>t.stopPropagation()));const n=new k.DisposableStore,l=s.actionRunner||new _.ActionRunner;return l.onBeforeRun(this.onActionRun,this,n),l.onDidRun(this.onDidActionRun,this,n),a=new M.Menu(u,o,{actionViewItemProvider:s.getActionViewItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:l,getKeyBinding:s.getKeyBinding?s.getKeyBinding:t=>this.keybindingService.lookupKeybinding(t.id)}),n.add(S.attachMenuStyler(a,this.themeService)),a.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,n),a.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,n),n.add(L.addDisposableListener(window,L.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),n.add(L.addDisposableListener(window,L.EventType.MOUSE_DOWN,t=>{if(t.defaultPrevented)return;let d=new m.StandardMouseEvent(t),h=d.target;if(!d.rightButton){for(;h;){if(h===u)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}})),k.combinedDisposable(n,a)},focus:()=>{a&&a.focus(!!s.autoSelectFirstItem)},onHide:u=>{s.onHide&&s.onHide(!!u),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},c,!!c)}onActionRun(s){this.telemetryService.publicLog2("workbenchActionExecuted",{id:s.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(s){s.error&&!v.isPromiseCanceledError(s.error)&&this.notificationService.error(s.error)}}e.ContextMenuHandler=i}),define(ie[99],ne([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var _;(function(k){k.DARK="dark",k.LIGHT="light",k.HIGH_CONTRAST="hc"})(_=e.ColorScheme||(e.ColorScheme={}))}),define(ie[259],ne([0,1,38,30,17,393,113,136,114,99,35]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const s=function(){return M.isNative?!0:!(M.isLinux||_.isFirefox||_.isSafari)}();let o=!0;class a{constructor(w,b){this._domNode=w,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=b}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}e.DomReadingContext=a;class c{constructor(w,b){this.themeType=b;const g=w.options,f=g.get(40);this.renderWhitespace=g.get(86),this.renderControlCharacters=g.get(80),this.spaceWidth=f.spaceWidth,this.middotWidth=f.middotWidth,this.wsmiddotWidth=f.wsmiddotWidth,this.useMonospaceOptimizations=f.isMonospace&&!g.get(27),this.canUseHalfwidthRightwardsArrow=f.canUseHalfwidthRightwardsArrow,this.lineHeight=g.get(56),this.stopRenderingLineAfter=g.get(103),this.fontLigatures=g.get(41)}equals(w){return this.themeType===w.themeType&&this.renderWhitespace===w.renderWhitespace&&this.renderControlCharacters===w.renderControlCharacters&&this.spaceWidth===w.spaceWidth&&this.middotWidth===w.middotWidth&&this.wsmiddotWidth===w.wsmiddotWidth&&this.useMonospaceOptimizations===w.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===w.canUseHalfwidthRightwardsArrow&&this.lineHeight===w.lineHeight&&this.stopRenderingLineAfter===w.stopRenderingLineAfter&&this.fontLigatures===w.fontLigatures}}e.ViewLineOptions=c;class u{constructor(w){this._options=w,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(w){if(this._renderedViewLine)this._renderedViewLine.domNode=k.createFastDomNode(w);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(w){this._isMaybeInvalid=!0,this._options=w}onSelectionChanged(){return this._options.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(w,b,g,f){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const y=g.getViewLineRenderingData(w),I=this._options,N=m.LineDecoration.filter(y.inlineDecorations,w,y.minColumn,y.maxColumn);let D=null;if(I.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const O=g.selections;for(const A of O){if(A.endLineNumber<w||A.startLineNumber>w)continue;const F=A.startLineNumber===w?A.startColumn:y.minColumn,E=A.endLineNumber===w?A.endColumn:y.maxColumn;F<E&&(I.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?N.push(new m.LineDecoration(F,E,"inline-selected-text",0)):(D||(D=[]),D.push(new v.LineRange(F-1,E-1))))}}const T=new v.RenderLineInput(I.useMonospaceOptimizations,I.canUseHalfwidthRightwardsArrow,y.content,y.continuesWithWrappedLine,y.isBasicASCII,y.containsRTL,y.minColumn-1,y.tokens,N,y.tabSize,y.startVisibleColumn,I.spaceWidth,I.middotWidth,I.wsmiddotWidth,I.stopRenderingLineAfter,I.renderWhitespace,I.renderControlCharacters,I.fontLigatures!==C.EditorFontLigatures.OFF,D);if(this._renderedViewLine&&this._renderedViewLine.input.equals(T))return!1;f.appendASCIIString('<div style="top:'),f.appendASCIIString(String(b)),f.appendASCIIString("px;height:"),f.appendASCIIString(String(this._options.lineHeight)),f.appendASCIIString('px;" class="'),f.appendASCIIString(u.CLASS_NAME),f.appendASCIIString('">');const P=v.renderViewLine(T,f);f.appendASCIIString("</div>");let R=null;return o&&s&&y.isBasicASCII&&I.useMonospaceOptimizations&&P.containsForeignElements===0&&y.content.length<300&&T.lineTokens.getCount()<100&&(R=new r(this._renderedViewLine?this._renderedViewLine.domNode:null,T,P.characterMapping)),R||(R=t(this._renderedViewLine?this._renderedViewLine.domNode:null,T,P.characterMapping,P.containsRTL,P.containsForeignElements)),this._renderedViewLine=R,!0}layoutLine(w,b){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(b),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof r:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof r?this._renderedViewLine.monospaceAssumptionsAreValid():o}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof r&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(w,b,g){if(!this._renderedViewLine)return null;w=w|0,b=b|0,w=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,w)),b=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,b));const f=this._renderedViewLine.input.stopRenderingLineAfter|0;let y=!1;f!==-1&&w>f+1&&b>f+1&&(y=!0),f!==-1&&w>f+1&&(w=f+1),f!==-1&&b>f+1&&(b=f+1);const I=this._renderedViewLine.getVisibleRangesForRange(w,b,g);return I&&I.length>0?new S.VisibleRanges(y,I):null}getColumnOfNodeOffset(w,b,g){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(w,b,g):1}}e.ViewLine=u,u.CLASS_NAME="view-line";class r{constructor(w,b,g){this.domNode=w,this.input=b,this._characterMapping=g,this._charWidth=b.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return o;const w=this.getWidth(),b=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(w-b)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),o=!1),o}toSlowRenderedLine(){return t(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(w,b,g){const f=this._getCharPosition(w),y=this._getCharPosition(b);return[new S.HorizontalRange(f,y-f)]}_getCharPosition(w){const b=this._characterMapping.getAbsoluteOffset(w);return Math.round(this._charWidth*b)}getColumnOfNodeOffset(w,b,g){const f=b.textContent.length;let y=-1;for(;b;)b=b.previousSibling,y++;return this._characterMapping.getColumn(new v.DomPosition(y,g),f)}}class n{constructor(w,b,g,f,y){if(this.domNode=w,this.input=b,this._characterMapping=g,this._isWhitespaceOnly=/^\s*$/.test(b.lineContent),this._containsForeignElements=y,this._cachedWidth=-1,this._pixelOffsetCache=null,!f||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let I=0,N=this._characterMapping.length;I<=N;I++)this._pixelOffsetCache[I]=-1}}_getReadingTarget(w){return w.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(w,b,g){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const f=this._readPixelOffset(this.domNode,w,g);if(f===-1)return null;const y=this._readPixelOffset(this.domNode,b,g);return y===-1?null:[new S.HorizontalRange(f,y-f)]}return this._readVisibleRangesForRange(this.domNode,w,b,g)}_readVisibleRangesForRange(w,b,g,f){if(b===g){const y=this._readPixelOffset(w,b,f);return y===-1?null:[new S.HorizontalRange(y,0)]}else return this._readRawVisibleRangesForRange(w,b,g,f)}_readPixelOffset(w,b,g){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const f=this._getReadingTarget(w);return f.firstChild?f.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const f=this._pixelOffsetCache[b];if(f!==-1)return f;const y=this._actualReadPixelOffset(w,b,g);return this._pixelOffsetCache[b]=y,y}return this._actualReadPixelOffset(w,b,g)}_actualReadPixelOffset(w,b,g){if(this._characterMapping.length===0){const N=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(w),0,0,0,0,g.clientRectDeltaLeft,g.endNode);return!N||N.length===0?-1:N[0].left}if(b===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const f=this._characterMapping.getDomPosition(b),y=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(w),f.partIndex,f.charIndex,f.partIndex,f.charIndex,g.clientRectDeltaLeft,g.endNode);if(!y||y.length===0)return-1;const I=y[0].left;if(this.input.isBasicASCII){const N=this._characterMapping.getAbsoluteOffset(b),D=Math.round(this.input.spaceWidth*N);if(Math.abs(D-I)<=1)return D}return I}_readRawVisibleRangesForRange(w,b,g,f){if(b===1&&g===this._characterMapping.length)return[new S.HorizontalRange(0,this.getWidth())];const y=this._characterMapping.getDomPosition(b),I=this._characterMapping.getDomPosition(g);return L.RangeUtil.readHorizontalRanges(this._getReadingTarget(w),y.partIndex,y.charIndex,I.partIndex,I.charIndex,f.clientRectDeltaLeft,f.endNode)}getColumnOfNodeOffset(w,b,g){const f=b.textContent.length;let y=-1;for(;b;)b=b.previousSibling,y++;return this._characterMapping.getColumn(new v.DomPosition(y,g),f)}}class l extends n{_readVisibleRangesForRange(w,b,g,f){const y=super._readVisibleRangesForRange(w,b,g,f);if(!y||y.length===0||b===g||b===1&&g===this._characterMapping.length)return y;if(!this.input.containsRTL){const I=this._readPixelOffset(w,g,f);if(I!==-1){const N=y[y.length-1];N.left<I&&(N.width=I-N.left)}}return y}}const t=function(){return _.isWebKit?d:h}();function d(p,w,b,g,f){return new l(p,w,b,g,f)}function h(p,w,b,g,f){return new n(p,w,b,g,f)}}),define(ie[191],ne([0,1,167,47,259,13,3,39,7,244]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class C{constructor(g=null){this.hitTarget=g,this.type=0}}class s{constructor(g,f){this.position=g,this.spanNode=f,this.type=1}}var o;(function(b){function g(f,y,I){const N=f.getPositionFromDOMInfo(y,I);return N?new s(N,y):new C(y)}b.createFromDOMInfo=g})(o||(o={}));class a{constructor(g,f){this.lastViewCursorsRenderData=g,this.lastTextareaPosition=f}}e.PointerHandlerLastRenderData=a;class c{constructor(g,f,y=0,I=null,N=null,D=null){this.element=g,this.type=f,this.mouseColumn=y,this.position=I,!N&&I&&(N=new S.Range(I.lineNumber,I.column,I.lineNumber,I.column)),this.range=N,this.detail=D}static _typeToString(g){return g===1?"TEXTAREA":g===2?"GUTTER_GLYPH_MARGIN":g===3?"GUTTER_LINE_NUMBERS":g===4?"GUTTER_LINE_DECORATIONS":g===5?"GUTTER_VIEW_ZONE":g===6?"CONTENT_TEXT":g===7?"CONTENT_EMPTY":g===8?"CONTENT_VIEW_ZONE":g===9?"CONTENT_WIDGET":g===10?"OVERVIEW_RULER":g===11?"SCROLLBAR":g===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(g){return this._typeToString(g.type)+": "+g.position+" - "+g.range+" - "+g.detail}toString(){return c.toString(this)}}e.MouseTarget=c;class u{static isTextArea(g){return g.length===2&&g[0]===3&&g[1]===6}static isChildOfViewLines(g){return g.length>=4&&g[0]===3&&g[3]===7}static isStrictChildOfViewLines(g){return g.length>4&&g[0]===3&&g[3]===7}static isChildOfScrollableElement(g){return g.length>=2&&g[0]===3&&g[1]===5}static isChildOfMinimap(g){return g.length>=2&&g[0]===3&&g[1]===8}static isChildOfContentWidgets(g){return g.length>=4&&g[0]===3&&g[3]===1}static isChildOfOverflowingContentWidgets(g){return g.length>=1&&g[0]===2}static isChildOfOverlayWidgets(g){return g.length>=2&&g[0]===3&&g[1]===4}}class r{constructor(g,f,y){this.model=g.model;const I=g.configuration.options;this.layoutInfo=I.get(128),this.viewDomNode=f.viewDomNode,this.lineHeight=I.get(56),this.stickyTabStops=I.get(102),this.typicalHalfwidthCharacterWidth=I.get(40).typicalHalfwidthCharacterWidth,this.lastRenderData=y,this._context=g,this._viewHelper=f}getZoneAtCoord(g){return r.getZoneAtCoord(this._context,g)}static getZoneAtCoord(g,f){const y=g.viewLayout.getWhitespaceAtVerticalOffset(f);if(y){const I=y.verticalOffset+y.height/2,N=g.model.getLineCount();let D=null,T,P=null;return y.afterLineNumber!==N&&(P=new L.Position(y.afterLineNumber+1,1)),y.afterLineNumber>0&&(D=new L.Position(y.afterLineNumber,g.model.getLineMaxColumn(y.afterLineNumber))),P===null?T=D:D===null?T=P:f<I?T=D:T=P,{viewZoneId:y.id,afterLineNumber:y.afterLineNumber,positionBefore:D,positionAfter:P,position:T}}return null}getFullLineRangeAtCoord(g){if(this._context.viewLayout.isAfterLines(g)){const I=this._context.model.getLineCount(),N=this._context.model.getLineMaxColumn(I);return{range:new S.Range(I,N,I,N),isAfterLines:!0}}const f=this._context.viewLayout.getLineNumberAtVerticalOffset(g),y=this._context.model.getLineMaxColumn(f);return{range:new S.Range(f,1,f,y),isAfterLines:!1}}getLineNumberAtVerticalOffset(g){return this._context.viewLayout.getLineNumberAtVerticalOffset(g)}isAfterLines(g){return this._context.viewLayout.isAfterLines(g)}isInTopPadding(g){return this._context.viewLayout.isInTopPadding(g)}isInBottomPadding(g){return this._context.viewLayout.isInBottomPadding(g)}getVerticalOffsetForLineNumber(g){return this._context.viewLayout.getVerticalOffsetForLineNumber(g)}findAttribute(g,f){return r._findAttribute(g,f,this._viewHelper.viewDomNode)}static _findAttribute(g,f,y){for(;g&&g!==document.body;){if(g.hasAttribute&&g.hasAttribute(f))return g.getAttribute(f);if(g===y)return null;g=g.parentNode}return null}getLineWidth(g){return this._viewHelper.getLineWidth(g)}visibleRangeForPosition(g,f){return this._viewHelper.visibleRangeForPosition(g,f)}getPositionFromDOMInfo(g,f){return this._viewHelper.getPositionFromDOMInfo(g,f)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=r;class n{constructor(g,f,y){this.editorPos=f,this.pos=y,this.mouseVerticalOffset=Math.max(0,g.getCurrentScrollTop()+y.y-f.y),this.mouseContentHorizontalOffset=g.getCurrentScrollLeft()+y.x-f.x-g.layoutInfo.contentLeft,this.isInMarginArea=y.x-f.x<g.layoutInfo.contentLeft&&y.x-f.x>=g.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,h._getMouseColumn(this.mouseContentHorizontalOffset,g.typicalHalfwidthCharacterWidth))}}class l extends n{constructor(g,f,y,I){super(g,f,y);this._ctx=g,I?(this.target=I,this.targetPath=k.PartFingerprints.collect(I,g.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(g,f=null,y=null,I=null){let N=this.mouseColumn;return f&&f.column<this._ctx.model.getLineMaxColumn(f.lineNumber)&&(N=m.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(f.lineNumber),f.column,this._ctx.model.getTextModelOptions().tabSize)+1),new c(this.target,g,N,f,y,I)}withTarget(g){return new l(this._ctx,this.editorPos,this.pos,g)}}const t={isAfterLines:!0};function d(b){return{isAfterLines:!1,horizontalDistanceToText:b}}class h{constructor(g,f){this._context=g,this._viewHelper=f}mouseTargetIsWidget(g){const f=g.target,y=k.PartFingerprints.collect(f,this._viewHelper.viewDomNode);return!!(u.isChildOfContentWidgets(y)||u.isChildOfOverflowingContentWidgets(y)||u.isChildOfOverlayWidgets(y))}createMouseTarget(g,f,y,I){const N=new r(this._context,this._viewHelper,g),D=new l(N,f,y,I);try{return h._createMouseTarget(N,D,!1)}catch(T){return D.fulfill(0)}}static _createMouseTarget(g,f,y){if(f.target===null){if(y)return f.fulfill(0);const D=h._doHitTest(g,f);return D.type===1?h.createMouseTargetFromHitTestPosition(g,f,D.spanNode,D.position):this._createMouseTarget(g,f.withTarget(D.hitTarget),!0)}const I=f;let N=null;return N=N||h._hitTestContentWidget(g,I),N=N||h._hitTestOverlayWidget(g,I),N=N||h._hitTestMinimap(g,I),N=N||h._hitTestScrollbarSlider(g,I),N=N||h._hitTestViewZone(g,I),N=N||h._hitTestMargin(g,I),N=N||h._hitTestViewCursor(g,I),N=N||h._hitTestTextArea(g,I),N=N||h._hitTestViewLines(g,I,y),N=N||h._hitTestScrollbar(g,I),N||f.fulfill(0)}static _hitTestContentWidget(g,f){if(u.isChildOfContentWidgets(f.targetPath)||u.isChildOfOverflowingContentWidgets(f.targetPath)){const y=g.findAttribute(f.target,"widgetId");return y?f.fulfill(9,null,null,y):f.fulfill(0)}return null}static _hitTestOverlayWidget(g,f){if(u.isChildOfOverlayWidgets(f.targetPath)){const y=g.findAttribute(f.target,"widgetId");return y?f.fulfill(12,null,null,y):f.fulfill(0)}return null}static _hitTestViewCursor(g,f){if(f.target){const y=g.lastRenderData.lastViewCursorsRenderData;for(const I of y)if(f.target===I.domNode)return f.fulfill(6,I.position,null,{mightBeForeignElement:!1})}if(f.isInContentArea){const y=g.lastRenderData.lastViewCursorsRenderData,I=f.mouseContentHorizontalOffset,N=f.mouseVerticalOffset;for(const D of y){if(I<D.contentLeft||I>D.contentLeft+D.width)continue;const T=g.getVerticalOffsetForLineNumber(D.position.lineNumber);if(T<=N&&N<=T+D.height)return f.fulfill(6,D.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(g,f){const y=g.getZoneAtCoord(f.mouseVerticalOffset);if(y){const I=f.isInContentArea?8:5;return f.fulfill(I,y.position,null,y)}return null}static _hitTestTextArea(g,f){return u.isTextArea(f.targetPath)?g.lastRenderData.lastTextareaPosition?f.fulfill(6,g.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):f.fulfill(1,g.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(g,f){if(f.isInMarginArea){const y=g.getFullLineRangeAtCoord(f.mouseVerticalOffset),I=y.range.getStartPosition();let N=Math.abs(f.pos.x-f.editorPos.x);const D={isAfterLines:y.isAfterLines,glyphMarginLeft:g.layoutInfo.glyphMarginLeft,glyphMarginWidth:g.layoutInfo.glyphMarginWidth,lineNumbersWidth:g.layoutInfo.lineNumbersWidth,offsetX:N};return N-=g.layoutInfo.glyphMarginLeft,N<=g.layoutInfo.glyphMarginWidth?f.fulfill(2,I,y.range,D):(N-=g.layoutInfo.glyphMarginWidth,N<=g.layoutInfo.lineNumbersWidth?f.fulfill(3,I,y.range,D):(N-=g.layoutInfo.lineNumbersWidth,f.fulfill(4,I,y.range,D)))}return null}static _hitTestViewLines(g,f,y){if(!u.isChildOfViewLines(f.targetPath))return null;if(g.isInTopPadding(f.mouseVerticalOffset))return f.fulfill(7,new L.Position(1,1),null,t);if(g.isAfterLines(f.mouseVerticalOffset)||g.isInBottomPadding(f.mouseVerticalOffset)){const N=g.model.getLineCount(),D=g.model.getLineMaxColumn(N);return f.fulfill(7,new L.Position(N,D),null,t)}if(y){if(u.isStrictChildOfViewLines(f.targetPath)){const N=g.getLineNumberAtVerticalOffset(f.mouseVerticalOffset);if(g.model.getLineLength(N)===0){const T=g.getLineWidth(N),P=d(f.mouseContentHorizontalOffset-T);return f.fulfill(7,new L.Position(N,1),null,P)}const D=g.getLineWidth(N);if(f.mouseContentHorizontalOffset>=D){const T=d(f.mouseContentHorizontalOffset-D),P=new L.Position(N,g.model.getLineMaxColumn(N));return f.fulfill(7,P,null,T)}}return f.fulfill(0)}const I=h._doHitTest(g,f);return I.type===1?h.createMouseTargetFromHitTestPosition(g,f,I.spanNode,I.position):this._createMouseTarget(g,f.withTarget(I.hitTarget),!0)}static _hitTestMinimap(g,f){if(u.isChildOfMinimap(f.targetPath)){const y=g.getLineNumberAtVerticalOffset(f.mouseVerticalOffset),I=g.model.getLineMaxColumn(y);return f.fulfill(11,new L.Position(y,I))}return null}static _hitTestScrollbarSlider(g,f){if(u.isChildOfScrollableElement(f.targetPath)&&f.target&&f.target.nodeType===1){const y=f.target.className;if(y&&/\b(slider|scrollbar)\b/.test(y)){const I=g.getLineNumberAtVerticalOffset(f.mouseVerticalOffset),N=g.model.getLineMaxColumn(I);return f.fulfill(11,new L.Position(I,N))}}return null}static _hitTestScrollbar(g,f){if(u.isChildOfScrollableElement(f.targetPath)){const y=g.getLineNumberAtVerticalOffset(f.mouseVerticalOffset),I=g.model.getLineMaxColumn(y);return f.fulfill(11,new L.Position(y,I))}return null}getMouseColumn(g,f){const y=this._context.configuration.options,I=y.get(128),N=this._context.viewLayout.getCurrentScrollLeft()+f.x-g.x-I.contentLeft;return h._getMouseColumn(N,y.get(40).typicalHalfwidthCharacterWidth)}static _getMouseColumn(g,f){return g<0?1:Math.round(g/f)+1}static createMouseTargetFromHitTestPosition(g,f,y,I){const N=I.lineNumber,D=I.column,T=g.getLineWidth(N);if(f.mouseContentHorizontalOffset>T){const V=d(f.mouseContentHorizontalOffset-T);return f.fulfill(7,I,null,V)}const P=g.visibleRangeForPosition(N,D);if(!P)return f.fulfill(0,I);const R=P.left;if(f.mouseContentHorizontalOffset===R)return f.fulfill(6,I,null,{mightBeForeignElement:!1});const O=[];if(O.push({offset:P.left,column:D}),D>1){const V=g.visibleRangeForPosition(N,D-1);V&&O.push({offset:V.left,column:D-1})}const A=g.model.getLineMaxColumn(N);if(D<A){const V=g.visibleRangeForPosition(N,D+1);V&&O.push({offset:V.left,column:D+1})}O.sort((V,U)=>V.offset-U.offset);const F=f.pos.toClientCoordinates(),E=y.getBoundingClientRect(),W=E.left<=F.clientX&&F.clientX<=E.right;for(let V=1;V<O.length;V++){const U=O[V-1],q=O[V];if(U.offset<=f.mouseContentHorizontalOffset&&f.mouseContentHorizontalOffset<=q.offset){const j=new S.Range(N,U.column,N,q.column);return f.fulfill(6,I,j,{mightBeForeignElement:!W})}}return f.fulfill(6,I,null,{mightBeForeignElement:!W})}static _doHitTestWithCaretRangeFromPoint(g,f){const y=g.getLineNumberAtVerticalOffset(f.mouseVerticalOffset),N=g.getVerticalOffsetForLineNumber(y)+Math.floor(g.lineHeight/2);let D=f.pos.y+(N-f.mouseVerticalOffset);D<=f.editorPos.y&&(D=f.editorPos.y+1),D>=f.editorPos.y+g.layoutInfo.height&&(D=f.editorPos.y+g.layoutInfo.height-1);const T=new _.PageCoordinates(f.pos.x,D),P=this._actualDoHitTestWithCaretRangeFromPoint(g,T.toClientCoordinates());return P.type===1?P:this._actualDoHitTestWithCaretRangeFromPoint(g,f.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(g,f){const y=v.getShadowRoot(g.viewDomNode);let I;if(y?typeof y.caretRangeFromPoint=="undefined"?I=p(y,f.clientX,f.clientY):I=y.caretRangeFromPoint(f.clientX,f.clientY):I=document.caretRangeFromPoint(f.clientX,f.clientY),!I||!I.startContainer)return new C;const N=I.startContainer;if(N.nodeType===N.TEXT_NODE){const D=N.parentNode,T=D?D.parentNode:null,P=T?T.parentNode:null;return(P&&P.nodeType===P.ELEMENT_NODE?P.className:null)===M.ViewLine.CLASS_NAME?o.createFromDOMInfo(g,D,I.startOffset):new C(N.parentNode)}else if(N.nodeType===N.ELEMENT_NODE){const D=N.parentNode,T=D?D.parentNode:null;return(T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===M.ViewLine.CLASS_NAME?o.createFromDOMInfo(g,N,N.textContent.length):new C(N)}return new C}static _doHitTestWithCaretPositionFromPoint(g,f){const y=document.caretPositionFromPoint(f.clientX,f.clientY);if(y.offsetNode.nodeType===y.offsetNode.TEXT_NODE){const I=y.offsetNode.parentNode,N=I?I.parentNode:null,D=N?N.parentNode:null;return(D&&D.nodeType===D.ELEMENT_NODE?D.className:null)===M.ViewLine.CLASS_NAME?o.createFromDOMInfo(g,y.offsetNode.parentNode,y.offset):new C(y.offsetNode.parentNode)}if(y.offsetNode.nodeType===y.offsetNode.ELEMENT_NODE){const I=y.offsetNode.parentNode,N=I&&I.nodeType===I.ELEMENT_NODE?I.className:null,D=I?I.parentNode:null,T=D&&D.nodeType===D.ELEMENT_NODE?D.className:null;if(N===M.ViewLine.CLASS_NAME){const P=y.offsetNode.childNodes[Math.min(y.offset,y.offsetNode.childNodes.length-1)];if(P)return o.createFromDOMInfo(g,P,0)}else if(T===M.ViewLine.CLASS_NAME)return o.createFromDOMInfo(g,y.offsetNode,0)}return new C(y.offsetNode)}static _snapToSoftTabBoundary(g,f){const y=f.getLineContent(g.lineNumber),{tabSize:I}=f.getTextModelOptions(),N=i.AtomicTabMoveOperations.atomicPosition(y,g.column-1,I,2);return N!==-1?new L.Position(g.lineNumber,N+1):g}static _doHitTest(g,f){let y=new C;return typeof document.caretRangeFromPoint=="function"?y=this._doHitTestWithCaretRangeFromPoint(g,f):document.caretPositionFromPoint&&(y=this._doHitTestWithCaretPositionFromPoint(g,f.pos.toClientCoordinates())),y.type===1&&g.stickyTabStops&&(y=new s(this._snapToSoftTabBoundary(y.position,g.model),y.spanNode)),y}}e.MouseTargetFactory=h;function p(b,g,f){const y=document.createRange();let I=b.elementFromPoint(g,f);if(I!==null){for(;I&&I.firstChild&&I.firstChild.nodeType!==I.firstChild.TEXT_NODE&&I.lastChild&&I.lastChild.firstChild;)I=I.lastChild;const N=I.getBoundingClientRect(),D=window.getComputedStyle(I,null).getPropertyValue("font"),T=I.innerText;let P=N.left,R=0,O;if(g>N.left+N.width)R=T.length;else{const A=w.getInstance();for(let F=0;F<T.length+1;F++){if(O=A.getCharWidth(T.charAt(F),D)/2,P+=O,g<P){R=F;break}P+=O}}y.setStart(I.firstChild,R),y.setEnd(I.firstChild,R)}return y}e.shadowCaretRangeFromPoint=p;class w{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return w._INSTANCE||(w._INSTANCE=new w),w._INSTANCE}getCharWidth(g,f){const y=g+f;if(this._cache[y])return this._cache[y];const I=this._canvas.getContext("2d");I.font=f;const D=I.measureText(g).width;return this._cache[y]=D,D}}w._INSTANCE=null}),define(ie[594],ne([0,1,7,55,15,2,17,191,167,133,13,21,115]),function($,e,_,k,M,L,S,m,v,i,C,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function a(n){return function(l,t){let d=!1;return n&&(d=n.mouseTargetIsWidget(t)),d||t.preventDefault(),t}}e.createMouseMoveEventMerger=a;class c extends o.ViewEventHandler{constructor(l,t,d){super();this._context=l,this.viewController=t,this.viewHelper=d,this.mouseTargetFactory=new m.MouseTargetFactory(this._context,d),this._mouseDownOperation=this._register(new u(this._context,this.viewController,this.viewHelper,(w,b)=>this._createMouseTarget(w,b),w=>this._getMouseColumn(w))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(128).height;const h=new v.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(h.onContextMenu(this.viewHelper.viewDomNode,w=>this._onContextMenu(w,!0))),this._register(h.onMouseMoveThrottled(this.viewHelper.viewDomNode,w=>this._onMouseMove(w),a(this.mouseTargetFactory),c.MOUSE_MOVE_MINIMUM_TIME)),this._register(h.onMouseUp(this.viewHelper.viewDomNode,w=>this._onMouseUp(w))),this._register(h.onMouseLeave(this.viewHelper.viewDomNode,w=>this._onMouseLeave(w))),this._register(h.onMouseDown(this.viewHelper.viewDomNode,w=>this._onMouseDown(w)));const p=w=>{if(this.viewController.emitMouseWheel(w),!this._context.configuration.options.get(65))return;const b=new k.StandardWheelEvent(w);if(S.isMacintosh?(w.metaKey||w.ctrlKey)&&!w.shiftKey&&!w.altKey:w.ctrlKey&&!w.metaKey&&!w.shiftKey&&!w.altKey){const f=i.EditorZoom.getZoomLevel(),y=b.deltaY>0?1:-1;i.EditorZoom.setZoomLevel(f+y),b.preventDefault(),b.stopPropagation()}};this._register(_.addDisposableListener(this.viewHelper.viewDomNode,_.EventType.MOUSE_WHEEL,p,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(l){if(l.hasChanged(128)){const t=this._context.configuration.options.get(128).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(l){return this._mouseDownOperation.onCursorStateChanged(l),!1}onFocusChanged(l){return!1}onScrollChanged(l){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(l,t){const h=new v.ClientCoordinates(l,t).toPageCoordinates(),p=v.createEditorPagePosition(this.viewHelper.viewDomNode);return h.y<p.y||h.y>p.y+p.height||h.x<p.x||h.x>p.x+p.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),p,h,null)}_createMouseTarget(l,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),l.editorPos,l.pos,t?l.target:null)}_getMouseColumn(l){return this.mouseTargetFactory.getMouseColumn(l.editorPos,l.pos)}_onContextMenu(l,t){this.viewController.emitContextMenu({event:l,target:this._createMouseTarget(l,t)})}_onMouseMove(l){this._mouseDownOperation.isActive()||l.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:l,target:this._createMouseTarget(l,!0)})}_onMouseLeave(l){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:l,target:null})}_onMouseUp(l){this.viewController.emitMouseUp({event:l,target:this._createMouseTarget(l,!0)})}_onMouseDown(l){const t=this._createMouseTarget(l,!0),d=t.type===6||t.type===7,h=t.type===2||t.type===3||t.type===4,p=t.type===3,w=this._context.configuration.options.get(96),b=t.type===8||t.type===5,g=t.type===9;let f=l.leftButton||l.middleButton;S.isMacintosh&&l.leftButton&&l.ctrlKey&&(f=!1);const y=()=>{l.preventDefault(),this.viewHelper.focusTextArea()};if(f&&(d||p&&w))y(),this._mouseDownOperation.start(t.type,l);else if(h)l.preventDefault();else if(b){const I=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(I.viewZoneId)&&(y(),this._mouseDownOperation.start(t.type,l),l.preventDefault())}else g&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(y(),l.preventDefault());this.viewController.emitMouseDown({event:l,target:t})}}e.MouseHandler=c,c.MOUSE_MOVE_MINIMUM_TIME=100;class u extends L.Disposable{constructor(l,t,d,h,p){super();this._context=l,this._viewController=t,this._viewHelper=d,this._createMouseTarget=h,this._getMouseColumn=p,this._mouseMoveMonitor=this._register(new v.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new M.TimeoutTimer),this._mouseState=new r,this._currentSelection=new s.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(l){this._lastMouseEvent=l,this._mouseState.setModifiers(l);const t=this._findMousePosition(l,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:l,target:t}):this._dispatchMouse(t,!0))}start(l,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(l===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const d=this._findMousePosition(t,!0);if(!d||!d.position)return;this._mouseState.trySetCount(t.detail,d.position),t.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(78)&&h.get(29)&&!h.get(16)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&d.type===6&&d.position&&this._currentSelection.containsPosition(d.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,a(null),p=>this._onMouseDownThenMove(p),p=>{const w=this._findMousePosition(this._lastMouseEvent,!0);p&&p instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:w?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(d,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,a(null),p=>this._onMouseDownThenMove(p),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const l=this._findMousePosition(this._lastMouseEvent,!1);!l||this._mouseState.isDragAndDrop||this._dispatchMouse(l,!0)},10)}onCursorStateChanged(l){this._currentSelection=l.selections[0]}_getPositionOutsideEditor(l){const t=l.editorPos,d=this._context.model,h=this._context.viewLayout,p=this._getMouseColumn(l);if(l.posy<t.y){const b=Math.max(h.getCurrentScrollTop()-(t.y-l.posy),0),g=m.HitTestContext.getZoneAtCoord(this._context,b);if(g){const y=this._helpPositionJumpOverViewZone(g);if(y)return new m.MouseTarget(null,13,p,y)}const f=h.getLineNumberAtVerticalOffset(b);return new m.MouseTarget(null,13,p,new C.Position(f,1))}if(l.posy>t.y+t.height){const b=h.getCurrentScrollTop()+(l.posy-t.y),g=m.HitTestContext.getZoneAtCoord(this._context,b);if(g){const y=this._helpPositionJumpOverViewZone(g);if(y)return new m.MouseTarget(null,13,p,y)}const f=h.getLineNumberAtVerticalOffset(b);return new m.MouseTarget(null,13,p,new C.Position(f,d.getLineMaxColumn(f)))}const w=h.getLineNumberAtVerticalOffset(h.getCurrentScrollTop()+(l.posy-t.y));return l.posx<t.x?new m.MouseTarget(null,13,p,new C.Position(w,1)):l.posx>t.x+t.width?new m.MouseTarget(null,13,p,new C.Position(w,d.getLineMaxColumn(w))):null}_findMousePosition(l,t){const d=this._getPositionOutsideEditor(l);if(d)return d;const h=this._createMouseTarget(l,t);if(!h.position)return null;if(h.type===8||h.type===5){const w=this._helpPositionJumpOverViewZone(h.detail);if(w)return new m.MouseTarget(h.element,h.type,h.mouseColumn,w,null,h.detail)}return h}_helpPositionJumpOverViewZone(l){const t=new C.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),d=l.positionBefore,h=l.positionAfter;return d&&h?d.isBefore(t)?d:h:null}_dispatchMouse(l,t){!l.position||this._viewController.dispatchMouse({position:l.position,mouseColumn:l.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class r{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(l){this._altKey=l.altKey,this._ctrlKey=l.ctrlKey,this._metaKey=l.metaKey,this._shiftKey=l.shiftKey}setStartButtons(l){this._leftButton=l.leftButton,this._middleButton=l.middleButton}setStartedOnLineNumbers(l){this._startedOnLineNumbers=l}trySetCount(l,t){const d=new Date().getTime();d-this._lastSetMouseDownCountTime>r.CLEAR_MOUSE_DOWN_COUNT_TIME&&(l=1),this._lastSetMouseDownCountTime=d,l>this._lastMouseDownCount+1&&(l=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(l,this._lastMouseDownPositionEqualCount)}}r.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ie[595],ne([0,1,7,17,60,2,594,167,156,169]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class C extends S.MouseHandler{constructor(c,u,r){super(c,u,r);this._register(M.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Tap,l=>this.onTap(l))),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Change,l=>this.onChange(l))),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Contextmenu,l=>this._onContextMenu(new m.EditorMouseEvent(l,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",l=>{const t=l.pointerType;if(t==="mouse"){this._lastPointerType="mouse";return}else t==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const n=new m.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,l=>this._onMouseMove(l),S.createMouseMoveEventMerger(this.mouseTargetFactory),S.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,l=>this._onMouseUp(l))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,l=>this._onMouseLeave(l))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,l=>this._onMouseDown(l)))}onTap(c){if(!c.initialTarget||!this.viewHelper.linesContentDomNode.contains(c.initialTarget))return;c.preventDefault(),this.viewHelper.focusTextArea();const u=this._createMouseTarget(new m.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);u.position&&this.viewController.dispatchMouse({position:u.position,mouseColumn:u.position.column,startedOnLineNumbers:!1,mouseDownCount:c.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(c){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}_onMouseDown(c){c.browserEvent.pointerType!=="touch"&&super._onMouseDown(c)}}e.PointerEventHandler=C;class s extends S.MouseHandler{constructor(c,u,r){super(c,u,r);this._register(M.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Tap,n=>this.onTap(n))),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Change,n=>this.onChange(n))),this._register(_.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Contextmenu,n=>this._onContextMenu(new m.EditorMouseEvent(n,this.viewHelper.viewDomNode),!1)))}onTap(c){c.preventDefault(),this.viewHelper.focusTextArea();const u=this._createMouseTarget(new m.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);if(u.position){const r=document.createEvent("CustomEvent");r.initEvent(i.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(r),this.viewController.moveTo(u.position)}}onChange(c){this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}}class o extends L.Disposable{constructor(c,u,r){super();k.isIOS&&v.BrowserFeatures.pointerEvents?this.handler=this._register(new C(c,u,r)):window.TouchEvent?this.handler=this._register(new s(c,u,r)):this.handler=this._register(new S.MouseHandler(c,u,r))}getTargetAtClientPoint(c,u){return this.handler.getTargetAtClientPoint(c,u)}}e.PointerHandler=o}),define(ie[260],ne([0,1,191]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(S){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=S}emitKeyDown(S){this.onKeyDown&&this.onKeyDown(S)}emitKeyUp(S){this.onKeyUp&&this.onKeyUp(S)}emitContextMenu(S){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(S))}emitMouseMove(S){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(S))}emitMouseLeave(S){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(S))}emitMouseDown(S){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(S))}emitMouseUp(S){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(S))}emitMouseDrag(S){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(S))}emitMouseDrop(S){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(S))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(S){this.onMouseWheel&&this.onMouseWheel(S)}_convertViewToModelMouseEvent(S){return S.target?{event:S.event,target:this._convertViewToModelMouseTarget(S.target)}:S}_convertViewToModelMouseTarget(S){return k.convertViewToModelMouseTarget(S,this._coordinatesConverter)}static convertViewToModelMouseTarget(S,m){return new M(S.element,S.type,S.mouseColumn,S.position?m.convertViewPositionToModelPosition(S.position):null,S.range?m.convertViewRangeToModelRange(S.range):null,S.detail)}}e.ViewUserInputEvents=k;class M{constructor(S,m,v,i,C,s){this.element=S,this.type=m,this.mouseColumn=v,this.position=i,this.range=C,this.detail=s}toString(){return _.MouseTarget.toString(this)}}}),define(ie[596],ne([0,1,17,15,65,170,47,259,13,3,113,131,332]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class o{constructor(){this._currentVisibleRange=new i.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(n){this._currentVisibleRange=n}}class a{constructor(n,l,t,d,h,p){this.lineNumber=n,this.startColumn=l,this.endColumn=t,this.startScrollTop=d,this.stopScrollTop=h,this.scrollType=p,this.type="range",this.minLineNumber=n,this.maxLineNumber=n}}class c{constructor(n,l,t,d){this.selections=n,this.startScrollTop=l,this.stopScrollTop=t,this.scrollType=d,this.type="selections";let h=n[0].startLineNumber,p=n[0].endLineNumber;for(let w=1,b=n.length;w<b;w++){const g=n[w];h=Math.min(h,g.startLineNumber),p=Math.max(p,g.endLineNumber)}this.minLineNumber=h,this.maxLineNumber=p}}class u extends S.ViewPart{constructor(n,l){super(n);this._linesContent=l,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new L.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration,d=this._context.configuration.options,h=d.get(40),p=d.get(129);this._lineHeight=d.get(56),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._isViewportWrapping=p.isViewportWrapping,this._revealHorizontalRightPadding=d.get(87),this._cursorSurroundingLines=d.get(23),this._cursorSurroundingLinesStyle=d.get(24),this._canUseLayerHinting=!d.get(26),this._viewLineOptions=new m.ViewLineOptions(t,this._context.theme.type),S.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),M.Configuration.applyFontInfo(this.domNode,h),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new o,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new m.ViewLine(this._viewLineOptions)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n),n.hasChanged(129)&&(this._maxLineWidth=0);const l=this._context.configuration.options,t=l.get(40),d=l.get(129);return this._lineHeight=l.get(56),this._typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,this._isViewportWrapping=d.isViewportWrapping,this._revealHorizontalRightPadding=l.get(87),this._cursorSurroundingLines=l.get(23),this._cursorSurroundingLinesStyle=l.get(24),this._canUseLayerHinting=!l.get(26),M.Configuration.applyFontInfo(this.domNode,t),this._onOptionsMaybeChanged(),n.hasChanged(128)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const n=this._context.configuration,l=new m.ViewLineOptions(n,this._context.theme.type);if(!this._viewLineOptions.equals(l)){this._viewLineOptions=l;const t=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let h=t;h<=d;h++)this._visibleLines.getVisibleLine(h).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(n){const l=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let d=!1;for(let h=l;h<=t;h++)d=this._visibleLines.getVisibleLine(h).onSelectionChanged()||d;return d}onDecorationsChanged(n){{const l=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let d=l;d<=t;d++)this._visibleLines.getVisibleLine(d).onDecorationsChanged()}return!0}onFlushed(n){const l=this._visibleLines.onFlushed(n);return this._maxLineWidth=0,l}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onRevealRangeRequest(n){const l=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),n.source,n.range,n.selections,n.verticalType);if(l===-1)return!1;let t=this._context.viewLayout.validateScrollPosition({scrollTop:l});n.revealHorizontal?n.range&&n.range.startLineNumber!==n.range.endLineNumber?t={scrollTop:t.scrollTop,scrollLeft:0}:n.range?this._horizontalRevealRequest=new a(n.range.startLineNumber,n.range.startColumn,n.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType):n.selections&&n.selections.length>0&&(this._horizontalRevealRequest=new c(n.selections,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType)):this._horizontalRevealRequest=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-t.scrollTop)<=this._lineHeight?1:n.scrollType;return this._context.model.setScrollPosition(t,h),!0}onScrollChanged(n){if(this._horizontalRevealRequest&&n.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&n.scrollTopChanged){const l=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),t=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(n.scrollTop<l||n.scrollTop>t)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(n.scrollWidth),this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(n)}onThemeChanged(n){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(n,l){const t=this._getViewLineDomNode(n);if(t===null)return null;const d=this._getLineNumberFor(t);if(d===-1||d<1||d>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(d)===1)return new v.Position(d,1);const h=this._visibleLines.getStartLineNumber(),p=this._visibleLines.getEndLineNumber();if(d<h||d>p)return null;let w=this._visibleLines.getVisibleLine(d).getColumnOfNodeOffset(d,n,l);const b=this._context.model.getLineMinColumn(d);return w<b&&(w=b),new v.Position(d,w)}_getViewLineDomNode(n){for(;n&&n.nodeType===1;){if(n.className===m.ViewLine.CLASS_NAME)return n;n=n.parentElement}return null}_getLineNumberFor(n){const l=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let d=l;d<=t;d++){const h=this._visibleLines.getVisibleLine(d);if(n===h.getDomNode())return d}return-1}getLineWidth(n){const l=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();return n<l||n>t?-1:this._visibleLines.getVisibleLine(n).getWidth()}linesVisibleRangesForRange(n,l){if(this.shouldRender())return null;const t=n.endLineNumber,d=i.Range.intersectRanges(n,this._lastRenderedData.getCurrentVisibleRange());if(!d)return null;let h=[],p=0;const w=new m.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let b=0;l&&(b=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(d.startLineNumber,1)).lineNumber);const g=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();for(let y=d.startLineNumber;y<=d.endLineNumber;y++){if(y<g||y>f)continue;const I=y===d.startLineNumber?d.startColumn:1,N=y===d.endLineNumber?d.endColumn:this._context.model.getLineMaxColumn(y),D=this._visibleLines.getVisibleLine(y).getVisibleRangesForRange(I,N,w);if(!!D){if(l&&y<t){const T=b;b=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(y+1,1)).lineNumber,T!==b&&(D.ranges[D.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}h[p++]=new C.LineVisibleRanges(D.outsideRenderedLine,y,D.ranges)}}return p===0?null:h}_visibleRangesForLineRange(n,l,t){return this.shouldRender()||n<this._visibleLines.getStartLineNumber()||n>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(n).getVisibleRangesForRange(l,t,new m.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(n){const l=this._visibleRangesForLineRange(n.lineNumber,n.column,n.column);return l?new C.HorizontalPosition(l.outsideRenderedLine,l.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(n){const l=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let d=1,h=!0;for(let p=l;p<=t;p++){const w=this._visibleLines.getVisibleLine(p);if(n&&!w.getWidthIsFast()){h=!1;continue}d=Math.max(d,w.getWidth())}return h&&l===1&&t===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(d),h}_checkMonospaceFontAssumptions(){let n=-1,l=-1;const t=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let h=t;h<=d;h++){const p=this._visibleLines.getVisibleLine(h);if(p.needsMonospaceFontCheck()){const w=p.getWidth();w>l&&(l=w,n=h)}}if(n!==-1&&!this._visibleLines.getVisibleLine(n).monospaceAssumptionsAreValid())for(let h=t;h<=d;h++)this._visibleLines.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(n){if(this._visibleLines.renderLines(n),this._lastRenderedData.setCurrentVisibleRange(n.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(n.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=n.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const d=this._computeScrollLeftToReveal(t);d&&(this._isViewportWrapping||this._ensureMaxLineWidth(d.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:d.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),_.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const t=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let h=t;h<=d;h++)if(this._visibleLines.getVisibleLine(h).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const l=this._context.viewLayout.getCurrentScrollTop()-n.bigNumbersDelta;this._linesContent.setTop(-l),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(n){const l=Math.ceil(n);this._maxLineWidth<l&&(this._maxLineWidth=l,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(n,l,t,d,h){const p=n.top,w=n.height,b=p+w;let g,f,y;if(d&&d.length>0){let D=d[0].startLineNumber,T=d[0].endLineNumber;for(let P=1,R=d.length;P<R;P++){const O=d[P];D=Math.min(D,O.startLineNumber),T=Math.max(T,O.endLineNumber)}g=!1,f=this._context.viewLayout.getVerticalOffsetForLineNumber(D),y=this._context.viewLayout.getVerticalOffsetForLineNumber(T)+this._lineHeight}else if(t)g=!0,f=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber),y=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight;else return-1;if(!(l==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const D=Math.min(w/this._lineHeight/2,this._cursorSurroundingLines);f-=D*this._lineHeight,y+=Math.max(0,D-1)*this._lineHeight}(h===0||h===4)&&(y+=this._lineHeight);let N;if(y-f>w){if(!g)return-1;N=f}else if(h===5||h===6)if(h===6&&p<=f&&y<=b)N=p;else{const D=Math.max(5*this._lineHeight,w*.2),T=f-D,P=y-w;N=Math.max(P,T)}else if(h===1||h===2)if(h===2&&p<=f&&y<=b)N=p;else{const D=(f+y)/2;N=Math.max(0,D-w/2)}else N=this._computeMinimumScrolling(p,b,f,y,h===3,h===4);return N}_computeScrollLeftToReveal(n){const l=this._context.viewLayout.getCurrentViewport(),t=l.left,d=t+l.width;let h=1073741824,p=0;if(n.type==="range"){const b=this._visibleRangesForLineRange(n.lineNumber,n.startColumn,n.endColumn);if(!b)return null;for(const g of b.ranges)h=Math.min(h,g.left),p=Math.max(p,g.left+g.width)}else for(const b of n.selections){if(b.startLineNumber!==b.endLineNumber)return null;const g=this._visibleRangesForLineRange(b.startLineNumber,b.startColumn,b.endColumn);if(!g)return null;for(const f of g.ranges)h=Math.min(h,f.left),p=Math.max(p,f.left+f.width)}return h=Math.max(0,h-u.HORIZONTAL_EXTRA_PX),p+=this._revealHorizontalRightPadding,n.type==="selections"&&p-h>l.width?null:{scrollLeft:this._computeMinimumScrolling(t,d,h,p),maxHorizontalOffset:p}}_computeMinimumScrolling(n,l,t,d,h,p){n=n|0,l=l|0,t=t|0,d=d|0,h=!!h,p=!!p;const w=l-n;if(d-t<w){if(h)return t;if(p)return Math.max(0,d-w);if(t<n)return t;if(d>l)return Math.max(0,d-w)}else return t;return n}}e.ViewLines=u,u.HORIZONTAL_EXTRA_PX=30}),define(ie[11],ne([0,1,9,2,32,6,99,27]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=_.createDecorator("themeService");var v;(function(r){function n(l){return l&&typeof l=="object"&&typeof l.id=="string"}r.isThemeColor=n})(v=e.ThemeColor||(e.ThemeColor={}));function i(r){return{id:r}}e.themeColorFromId=i;var C;(function(r){function n(w){return w&&typeof w=="object"&&typeof w.id=="string"&&(typeof w.color=="undefined"||v.isThemeColor(w.color))}r.isThemeIcon=n;const l=new RegExp(`^\\$\\((${m.CSSIcon.iconNameExpression}(?:${m.CSSIcon.iconModifierExpression})?)\\)$`);function t(w){const b=l.exec(w);if(!b)return;let[,g]=b;return{id:g}}r.fromString=t;function d(w,b){let g=w.id;const f=g.lastIndexOf("~");return f!==-1&&(g=g.substring(0,f)),b&&(g=`${g}~${b}`),{id:g}}r.modify=d;function h(w,b){var g,f;return w.id===b.id&&((g=w.color)===null||g===void 0?void 0:g.id)===((f=b.color)===null||f===void 0?void 0:f.id)}r.isEqual=h;function p(w){return{id:w.id}}r.asThemeIcon=p,r.asClassNameArray=m.CSSIcon.asClassNameArray,r.asClassName=m.CSSIcon.asClassName,r.asCSSSelector=m.CSSIcon.asCSSSelector})(C=e.ThemeIcon||(e.ThemeIcon={}));function s(r){switch(r){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=s,e.Extensions={ThemingContribution:"base.contributions.theming"};class o{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new L.Emitter}onColorThemeChange(n){return this.themingParticipants.push(n),this.onThemingParticipantAddedEmitter.fire(n),k.toDisposable(()=>{const l=this.themingParticipants.indexOf(n);this.themingParticipants.splice(l,1)})}getThemingParticipants(){return this.themingParticipants}}let a=new o;M.Registry.add(e.Extensions.ThemingContribution,a);function c(r){return a.onColorThemeChange(r)}e.registerThemingParticipant=c;class u extends k.Disposable{constructor(n){super();this.themeService=n,this.theme=n.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(l=>this.onThemeChange(l)))}onThemeChange(n){this.theme=n,this.updateStyles()}updateStyles(){}}e.Themable=u}),define(ie[597],ne([0,1,7,2,8,24,372,109,52,11]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._CSS_MAP=e.DecorationTypeOptionsProvider=e.DecorationSubTypeOptionsProvider=e.CodeEditorServiceImpl=e.GlobalStyleSheet=e.RefCountedStyleSheet=void 0;class C{constructor(l,t,d){this._parent=l,this._editorId=t,this._styleSheet=d,this._refCount=0}ref(){this._refCount++}unref(){var l;this._refCount--,this._refCount===0&&((l=this._styleSheet.parentNode)===null||l===void 0||l.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(l,t){this._styleSheet.sheet.insertRule(l,t)}removeRulesContainingSelector(l){_.removeCSSRulesContainingSelector(l,this._styleSheet)}}e.RefCountedStyleSheet=C;class s{constructor(l){this._styleSheet=l}ref(){}unref(){}insertRule(l,t){this._styleSheet.sheet.insertRule(l,t)}removeRulesContainingSelector(l){_.removeCSSRulesContainingSelector(l,this._styleSheet)}}e.GlobalStyleSheet=s;let o=class extends S.AbstractCodeEditorService{constructor(l,t){super();this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=l||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new s(_.createStyleSheet())),this._globalStyleSheet}_getOrCreateStyleSheet(l){if(!l)return this._getOrCreateGlobalStyleSheet();const t=l.getContainerDomNode();if(!_.isInShadowDOM(t))return this._getOrCreateGlobalStyleSheet();const d=l.getId();if(!this._editorStyleSheets.has(d)){const h=new C(this,d,_.createStyleSheet(t));this._editorStyleSheets.set(d,h)}return this._editorStyleSheets.get(d)}_removeEditorStyleSheets(l){this._editorStyleSheets.delete(l)}registerDecorationType(l,t,d,h,p){let w=this._decorationOptionProviders.get(t);if(!w){const b=this._getOrCreateStyleSheet(p),g={styleSheet:b,key:t,parentTypeKey:h,options:d||Object.create(null)};h?w=new a(this._themeService,b,g):w=new c(l,this._themeService,b,g),this._decorationOptionProviders.set(t,w),this._onDecorationTypeRegistered.fire(t)}w.refCount++}removeDecorationType(l){const t=this._decorationOptionProviders.get(l);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(l),t.dispose(),this.listCodeEditors().forEach(d=>d.removeDecorations(l))))}resolveDecorationOptions(l,t){const d=this._decorationOptionProviders.get(l);if(!d)throw new Error("Unknown decoration type key: "+l);return d.getOptions(this,t)}};o=Me([_e(1,i.IThemeService)],o),e.CodeEditorServiceImpl=o;class a{constructor(l,t,d){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=d.parentTypeKey,this.refCount=0,this._beforeContentRules=new u(3,d,l),this._afterContentRules=new u(4,d,l)}getOptions(l,t){const d=l.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(d.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(d.afterContentClassName=this._afterContentRules.className),d}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}e.DecorationSubTypeOptionsProvider=a;class c{constructor(l,t,d,h){this._disposables=new k.DisposableStore,this.description=l,this._styleSheet=d,this._styleSheet.ref(),this.refCount=0;const p=I=>{const N=new u(I,h,t);if(this._disposables.add(N),N.hasContent)return N.className},w=I=>{const N=new u(I,h,t);return this._disposables.add(N),N.hasContent?{className:N.className,hasLetterSpacing:N.hasLetterSpacing}:null};this.className=p(0);const b=w(1);b&&(this.inlineClassName=b.className,this.inlineClassNameAffectsLetterSpacing=b.hasLetterSpacing),this.beforeContentClassName=p(3),this.afterContentClassName=p(4),this.glyphMarginClassName=p(2);const g=h.options;this.isWholeLine=Boolean(g.isWholeLine),this.stickiness=g.rangeBehavior;const f=g.light&&g.light.overviewRulerColor||g.overviewRulerColor,y=g.dark&&g.dark.overviewRulerColor||g.overviewRulerColor;(typeof f!="undefined"||typeof y!="undefined")&&(this.overviewRuler={color:f||y,darkColor:y||f,position:g.overviewRulerLane||v.OverviewRulerLane.Center})}getOptions(l,t){return t?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}e.DecorationTypeOptionsProvider=c,e._CSS_MAP={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};"};class u{constructor(l,t,d){this._theme=d.getColorTheme(),this._ruleType=l,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let h=r.getClassName(this._providerArgs.key,l);this._providerArgs.parentTypeKey&&(h=h+" "+r.getClassName(this._providerArgs.parentTypeKey,l)),this._className=h,this._unThemedSelector=r.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,l),this._buildCSS(),this._usesThemeColors?this._themeListener=d.onDidColorThemeChange(p=>{this._theme=d.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const l=this._providerArgs.options;let t,d,h;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(l),d=this.getCSSTextForModelDecorationClassName(l.light),h=this.getCSSTextForModelDecorationClassName(l.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(l),d=this.getCSSTextForModelDecorationInlineClassName(l.light),h=this.getCSSTextForModelDecorationInlineClassName(l.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(l),d=this.getCSSTextForModelDecorationGlyphMarginClassName(l.light),h=this.getCSSTextForModelDecorationGlyphMarginClassName(l.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(l.before),d=this.getCSSTextForModelDecorationContentClassName(l.light&&l.light.before),h=this.getCSSTextForModelDecorationContentClassName(l.dark&&l.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(l.after),d=this.getCSSTextForModelDecorationContentClassName(l.light&&l.light.after),h=this.getCSSTextForModelDecorationContentClassName(l.dark&&l.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const p=this._providerArgs.styleSheet;let w=!1;t.length>0&&(p.insertRule(`${this._unThemedSelector} {${t}}`,0),w=!0),d.length>0&&(p.insertRule(`.vs${this._unThemedSelector} {${d}}`,0),w=!0),h.length>0&&(p.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${h}}`,0),w=!0),this._hasContent=w}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(l){if(!l)return"";const t=[];return this.collectCSSText(l,["backgroundColor"],t),this.collectCSSText(l,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(l,t),t.join("")}getCSSTextForModelDecorationInlineClassName(l){if(!l)return"";const t=[];return this.collectCSSText(l,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),l.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(l){if(!l)return"";const t=[];if(typeof l!="undefined"){if(this.collectBorderSettingsCSSText(l,t),typeof l.contentIconPath!="undefined"&&t.push(M.format(e._CSS_MAP.contentIconPath,_.asCSSUrl(L.URI.revive(l.contentIconPath)))),typeof l.contentText=="string"){const h=l.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(M.format(e._CSS_MAP.contentText,h))}this.collectCSSText(l,["fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(l,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(l){if(!l)return"";const t=[];return typeof l.gutterIconPath!="undefined"&&(t.push(M.format(e._CSS_MAP.gutterIconPath,_.asCSSUrl(L.URI.revive(l.gutterIconPath)))),typeof l.gutterIconSize!="undefined"&&t.push(M.format(e._CSS_MAP.gutterIconSize,l.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(l,t){return this.collectCSSText(l,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)?(t.push(M.format("box-sizing: border-box;")),!0):!1}collectCSSText(l,t,d){const h=d.length;for(let p of t){const w=this.resolveValue(l[p]);typeof w=="string"&&d.push(M.format(e._CSS_MAP[p],w))}return d.length!==h}resolveValue(l){if(m.isThemeColor(l)){this._usesThemeColors=!0;const t=this._theme.getColor(l.id);return t?t.toString():"transparent"}return l}}class r{static getClassName(l,t){return"ced-"+l+"-"+t}static getSelector(l,t,d){let h=".monaco-editor ."+this.getClassName(l,d);return t&&(h=h+"."+this.getClassName(t,d)),d===3?h+="::before":d===4&&(h+="::after"),h}}}),define(ie[598],ne([0,1,7,30,61,47,11]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class m extends L.ViewPart{constructor(i,C,s,o){super(i);const a=this._context.configuration.options,c=a.get(90),u=a.get(64),r=a.get(32),n=a.get(93),l={listenOnDomNode:s.domNode,className:"editor-scrollable "+S.getThemeTypeSelector(i.theme.type),useShadows:!1,lazyRender:!0,vertical:c.vertical,horizontal:c.horizontal,verticalHasArrows:c.verticalHasArrows,horizontalHasArrows:c.horizontalHasArrows,verticalScrollbarSize:c.verticalScrollbarSize,verticalSliderSize:c.verticalSliderSize,horizontalScrollbarSize:c.horizontalScrollbarSize,horizontalSliderSize:c.horizontalSliderSize,handleMouseWheel:c.handleMouseWheel,alwaysConsumeMouseWheel:c.alwaysConsumeMouseWheel,arrowSize:c.arrowSize,mouseWheelScrollSensitivity:u,fastScrollSensitivity:r,scrollPredominantAxis:n,scrollByPage:c.scrollByPage};this.scrollbar=this._register(new M.SmoothScrollableElement(C.domNode,l,this._context.viewLayout.getScrollable())),L.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=k.createFastDomNode(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const t=(d,h,p)=>{const w={};if(h){const b=d.scrollTop;b&&(w.scrollTop=this._context.viewLayout.getCurrentScrollTop()+b,d.scrollTop=0)}if(p){const b=d.scrollLeft;b&&(w.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+b,d.scrollLeft=0)}this._context.model.setScrollPosition(w,1)};this._register(_.addDisposableListener(s.domNode,"scroll",d=>t(s.domNode,!0,!0))),this._register(_.addDisposableListener(C.domNode,"scroll",d=>t(C.domNode,!0,!1))),this._register(_.addDisposableListener(o.domNode,"scroll",d=>t(o.domNode,!0,!1))),this._register(_.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",d=>t(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,C=i.get(128);this.scrollbarDomNode.setLeft(C.contentLeft),i.get(62).side==="right"?this.scrollbarDomNode.setWidth(C.contentWidth+C.minimap.minimapWidth):this.scrollbarDomNode.setWidth(C.contentWidth),this.scrollbarDomNode.setHeight(C.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(i){this.scrollbar.delegateVerticalScrollbarMouseDown(i)}onConfigurationChanged(i){if(i.hasChanged(90)||i.hasChanged(64)||i.hasChanged(32)){const C=this._context.configuration.options,s=C.get(90),o=C.get(64),a=C.get(32),c=C.get(93),u={vertical:s.vertical,horizontal:s.horizontal,verticalScrollbarSize:s.verticalScrollbarSize,horizontalScrollbarSize:s.horizontalScrollbarSize,scrollByPage:s.scrollByPage,handleMouseWheel:s.handleMouseWheel,mouseWheelScrollSensitivity:o,fastScrollSensitivity:a,scrollPredominantAxis:c};this.scrollbar.updateOptions(u)}return i.hasChanged(128)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+S.getThemeTypeSelector(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}e.EditorScrollbar=m}),define(ie[599],ne([0,1,7,30,93,2,17,8,170,47,35,3,218,248,62,22,11,21,60,375,52,90,335]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const p=140,w=2;class b{constructor(R,O,A){const F=R.options,E=F.get(126),W=F.get(128),V=W.minimap,U=F.get(40),q=F.get(62);this.renderMinimap=V.renderMinimap,this.size=q.size,this.minimapHeightIsEditorHeight=V.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=F.get(92),this.showSlider=q.showSlider,this.pixelRatio=E,this.typicalHalfwidthCharacterWidth=U.typicalHalfwidthCharacterWidth,this.lineHeight=F.get(56),this.minimapLeft=V.minimapLeft,this.minimapWidth=V.minimapWidth,this.minimapHeight=W.height,this.canvasInnerWidth=V.minimapCanvasInnerWidth,this.canvasInnerHeight=V.minimapCanvasInnerHeight,this.canvasOuterWidth=V.minimapCanvasOuterWidth,this.canvasOuterHeight=V.minimapCanvasOuterHeight,this.isSampling=V.minimapIsSampling,this.editorHeight=W.height,this.fontScale=V.minimapScale,this.minimapLineHeight=V.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=h.once(()=>t.MinimapCharRendererFactory.create(this.fontScale,U.fontFamily)),this.backgroundColor=b._getMinimapBackground(O,A)}static _getMinimapBackground(R,O){const A=R.getColor(u.minimapBackground);return A?new o.RGBA8(A.rgba.r,A.rgba.g,A.rgba.b,A.rgba.a):O.getColor(2)}equals(R){return this.renderMinimap===R.renderMinimap&&this.size===R.size&&this.minimapHeightIsEditorHeight===R.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===R.scrollBeyondLastLine&&this.showSlider===R.showSlider&&this.pixelRatio===R.pixelRatio&&this.typicalHalfwidthCharacterWidth===R.typicalHalfwidthCharacterWidth&&this.lineHeight===R.lineHeight&&this.minimapLeft===R.minimapLeft&&this.minimapWidth===R.minimapWidth&&this.minimapHeight===R.minimapHeight&&this.canvasInnerWidth===R.canvasInnerWidth&&this.canvasInnerHeight===R.canvasInnerHeight&&this.canvasOuterWidth===R.canvasOuterWidth&&this.canvasOuterHeight===R.canvasOuterHeight&&this.isSampling===R.isSampling&&this.editorHeight===R.editorHeight&&this.fontScale===R.fontScale&&this.minimapLineHeight===R.minimapLineHeight&&this.minimapCharWidth===R.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(R.backgroundColor)}}class g{constructor(R,O,A,F,E,W,V,U){this.scrollTop=R,this.scrollHeight=O,this.sliderNeeded=A,this._computedSliderRatio=F,this.sliderTop=E,this.sliderHeight=W,this.startLineNumber=V,this.endLineNumber=U}getDesiredScrollTopFromDelta(R){return Math.round(this.scrollTop+R/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(R){return Math.round((R-this.sliderHeight/2)/this._computedSliderRatio)}static create(R,O,A,F,E,W,V,U,q,j,te){const ae=R.pixelRatio,de=R.minimapLineHeight,ue=Math.floor(R.canvasInnerHeight/de),X=R.lineHeight;if(R.minimapHeightIsEditorHeight){const x=U*R.lineHeight+(R.scrollBeyondLastLine?E-R.lineHeight:0),G=Math.max(1,Math.floor(E*E/x)),Q=Math.max(0,R.minimapHeight-G),J=Q/(j-E),le=q*J,oe=Q>0,he=Math.floor(R.canvasInnerHeight/R.minimapLineHeight);return new g(q,j,oe,J,le,G,1,Math.min(V,he))}let B;if(W&&A!==V){const x=A-O+1;B=Math.floor(x*de/ae)}else{const x=E/X;B=Math.floor(x*de/ae)}let Z;R.scrollBeyondLastLine?Z=(V-1)*de/ae:Z=Math.max(0,V*de/ae-B),Z=Math.min(R.minimapHeight-B,Z);const H=Z/(j-E),z=q*H;let ee=0;if(R.scrollBeyondLastLine&&(ee=E/X-1),ue>=V+ee){const x=1,G=V,Q=Z>0;return new g(q,j,Q,H,z,B,x,G)}else{let x=Math.max(1,Math.floor(O-z*ae/de));te&&te.scrollHeight===j&&(te.scrollTop>q&&(x=Math.min(x,te.startLineNumber)),te.scrollTop<q&&(x=Math.max(x,te.startLineNumber)));const G=Math.min(V,x+ue-1),Q=(q-F)/X,J=(O-x+Q)*de/ae;return new g(q,j,!0,H,J,B,x,G)}}}class f{constructor(R){this.dy=R}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}f.INVALID=new f(-1);class y{constructor(R,O,A){this.renderedLayout=R,this._imageData=O,this._renderedLines=new v.RenderedLinesCollection(()=>f.INVALID),this._renderedLines._set(R.startLineNumber,A)}linesEquals(R){if(!this.scrollEquals(R))return!1;const A=this._renderedLines._get().lines;for(let F=0,E=A.length;F<E;F++)if(A[F].dy===-1)return!1;return!0}scrollEquals(R){return this.renderedLayout.startLineNumber===R.startLineNumber&&this.renderedLayout.endLineNumber===R.endLineNumber}_get(){const R=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:R.rendLineNumberStart,lines:R.lines}}onLinesChanged(R,O){return this._renderedLines.onLinesChanged(R,O)}onLinesDeleted(R,O){this._renderedLines.onLinesDeleted(R,O)}onLinesInserted(R,O){this._renderedLines.onLinesInserted(R,O)}onTokensChanged(R){return this._renderedLines.onTokensChanged(R)}}class I{constructor(R,O,A,F){this._backgroundFillData=I._createBackgroundFillData(O,A,F),this._buffers=[R.createImageData(O,A),R.createImageData(O,A)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const R=this._buffers[this._lastUsedBuffer];return R.data.set(this._backgroundFillData),R}static _createBackgroundFillData(R,O,A){const F=A.r,E=A.g,W=A.b,V=new Uint8ClampedArray(R*O*4);let U=0;for(let q=0;q<O;q++)for(let j=0;j<R;j++)V[U]=F,V[U+1]=E,V[U+2]=W,V[U+3]=255,U+=4;return V}}class N{constructor(R,O){this.samplingRatio=R,this.minimapLines=O}static compute(R,O,A){if(R.renderMinimap===0||!R.isSampling)return[null,[]];const F=R.pixelRatio,E=R.lineHeight,W=R.scrollBeyondLastLine,{minimapLineCount:V}=C.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:O,scrollBeyondLastLine:W,height:R.editorHeight,lineHeight:E,pixelRatio:F}),U=O/V,q=U/2;if(!A||A.minimapLines.length===0){let z=[];if(z[0]=1,V>1){for(let ee=0,x=V-1;ee<x;ee++)z[ee]=Math.round(ee*U+q);z[V-1]=O}return[new N(U,z),[]]}const j=A.minimapLines,te=j.length;let ae=[],de=0,ue=0,X=1;const B=10;let Z=[],H=null;for(let z=0;z<V;z++){const ee=Math.max(X,Math.round(z*U)),x=Math.max(ee,Math.round((z+1)*U));for(;de<te&&j[de]<ee;){if(Z.length<B){const Q=de+1+ue;H&&H.type==="deleted"&&H._oldIndex===de-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:de,deleteFromLineNumber:Q,deleteToLineNumber:Q},Z.push(H)),ue--}de++}let G;if(de<te&&j[de]<=x)G=j[de],de++;else if(z===0?G=1:z+1===V?G=O:G=Math.round(z*U+q),Z.length<B){const Q=de+1+ue;H&&H.type==="inserted"&&H._i===z-1?H.insertToLineNumber++:(H={type:"inserted",_i:z,insertFromLineNumber:Q,insertToLineNumber:Q},Z.push(H)),ue++}ae[z]=G,X=G}if(Z.length<B)for(;de<te;){const z=de+1+ue;H&&H.type==="deleted"&&H._oldIndex===de-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:de,deleteFromLineNumber:z,deleteToLineNumber:z},Z.push(H)),ue--,de++}else Z=[{type:"flush"}];return[new N(U,ae),Z]}modelLineToMinimapLine(R){return Math.min(this.minimapLines.length,Math.max(1,Math.round(R/this.samplingRatio)))}modelLineRangeToMinimapLineRange(R,O){let A=this.modelLineToMinimapLine(R)-1;for(;A>0&&this.minimapLines[A-1]>=R;)A--;let F=this.modelLineToMinimapLine(O)-1;for(;F+1<this.minimapLines.length&&this.minimapLines[F+1]<=O;)F++;if(A===F){const E=this.minimapLines[A];if(E<R||E>O)return null}return[A+1,F+1]}decorationLineRangeToMinimapLineRange(R,O){let A=this.modelLineToMinimapLine(R),F=this.modelLineToMinimapLine(O);return R!==O&&F===A&&(F===this.minimapLines.length?A>1&&A--:F++),[A,F]}onLinesDeleted(R){const O=R.toLineNumber-R.fromLineNumber+1;let A=this.minimapLines.length,F=0;for(let E=this.minimapLines.length-1;E>=0&&!(this.minimapLines[E]<R.fromLineNumber);E--)this.minimapLines[E]<=R.toLineNumber?(this.minimapLines[E]=Math.max(1,R.fromLineNumber-1),A=Math.min(A,E),F=Math.max(F,E)):this.minimapLines[E]-=O;return[A,F]}onLinesInserted(R){const O=R.toLineNumber-R.fromLineNumber+1;for(let A=this.minimapLines.length-1;A>=0&&!(this.minimapLines[A]<R.fromLineNumber);A--)this.minimapLines[A]+=O}}class D extends i.ViewPart{constructor(R){super(R);this.tokensColorTracker=a.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new b(this._context.configuration,this._context.theme,this.tokensColorTracker);const[O]=N.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=O,this._shouldCheckSampling=!1,this._actual=new T(R.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const R=new b(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(R)?!1:(this.options=R,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(R){return this._onOptionsMaybeChanged()}onCursorStateChanged(R){return this._selections=R.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(R){return R.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(R){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(R){if(this._samplingState){const O=this._samplingState.modelLineRangeToMinimapLineRange(R.fromLineNumber,R.toLineNumber);return O?this._actual.onLinesChanged(O[0],O[1]):!1}else return this._actual.onLinesChanged(R.fromLineNumber,R.toLineNumber)}onLinesDeleted(R){if(this._samplingState){const[O,A]=this._samplingState.onLinesDeleted(R);return O<=A&&this._actual.onLinesChanged(O+1,A+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(R.fromLineNumber,R.toLineNumber)}onLinesInserted(R){return this._samplingState?(this._samplingState.onLinesInserted(R),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(R.fromLineNumber,R.toLineNumber)}onScrollChanged(R){return this._actual.onScrollChanged()}onThemeChanged(R){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(R){if(this._samplingState){let O=[];for(const A of R.ranges){const F=this._samplingState.modelLineRangeToMinimapLineRange(A.fromLineNumber,A.toLineNumber);F&&O.push({fromLineNumber:F[0],toLineNumber:F[1]})}return O.length?this._actual.onTokensChanged(O):!1}else return this._actual.onTokensChanged(R.ranges)}onTokensColorsChanged(R){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(R){return this._actual.onZonesChanged()}prepareRender(R){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(R){let O=R.visibleRange.startLineNumber,A=R.visibleRange.endLineNumber;this._samplingState&&(O=this._samplingState.modelLineToMinimapLine(O),A=this._samplingState.modelLineToMinimapLine(A));const F={viewportContainsWhitespaceGaps:R.viewportData.whitespaceViewportData.length>0,scrollWidth:R.scrollWidth,scrollHeight:R.scrollHeight,viewportStartLineNumber:O,viewportEndLineNumber:A,viewportStartLineNumberVerticalOffset:R.getVerticalOffsetForLineNumber(O),scrollTop:R.scrollTop,scrollLeft:R.scrollLeft,viewportWidth:R.viewportWidth,viewportHeight:R.viewportHeight};this._actual.render(F)}_recreateLineSampling(){this._minimapSelections=null;const R=Boolean(this._samplingState),[O,A]=N.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=O,R&&this._samplingState)for(const F of A)switch(F.type){case"deleted":this._actual.onLinesDeleted(F.deleteFromLineNumber,F.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(F.insertFromLineNumber,F.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(R){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[R-1]):this._context.model.getLineContent(R)}getMinimapLinesRenderingData(R,O,A){if(this._samplingState){let F=[];for(let E=0,W=O-R+1;E<W;E++)A[E]?F[E]=this._context.model.getViewLineData(this._samplingState.minimapLines[R+E-1]):F[E]=null;return F}return this._context.model.getMinimapLinesRenderingData(R,O,A).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const R of this._selections){const[O,A]=this._samplingState.decorationLineRangeToMinimapLineRange(R.startLineNumber,R.endLineNumber);this._minimapSelections.push(new n.Selection(O,R.startColumn,A,R.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(R,O){let A;if(this._samplingState){const E=this._samplingState.minimapLines[R-1],W=this._samplingState.minimapLines[O-1];A=new s.Range(E,1,W,this._context.model.getLineMaxColumn(W))}else A=new s.Range(R,1,O,this._context.model.getLineMaxColumn(O));const F=this._context.model.getDecorationsInViewport(A);if(this._samplingState){let E=[];for(const W of F){if(!W.options.minimap)continue;const V=W.range,U=this._samplingState.modelLineToMinimapLine(V.startLineNumber),q=this._samplingState.modelLineToMinimapLine(V.endLineNumber);E.push(new c.ViewModelDecoration(new s.Range(U,V.startColumn,q,V.endColumn),W.options))}return E}return F}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(R){this._samplingState&&(R=this._samplingState.minimapLines[R-1]),this._context.model.revealRange("mouse",!1,new s.Range(R,1,R,1),1,0)}setScrollTop(R){this._context.model.setScrollPosition({scrollTop:R},1)}}e.Minimap=D;class T extends L.Disposable{constructor(R,O){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=R,this._model=O,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(u.minimapSelection),this._domNode=k.createFastDomNode(document.createElement("div")),i.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=k.createFastDomNode(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=k.createFastDomNode(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=k.createFastDomNode(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=k.createFastDomNode(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=k.createFastDomNode(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=_.addStandardDisposableListener(this._domNode.domNode,"mousedown",A=>{if(A.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(A.leftButton&&this._lastRenderData){const q=_.getDomNodePagePosition(this._slider.domNode),j=q.top+q.height/2;this._startSliderDragging(A.buttons,A.posx,j,A.posy,this._lastRenderData.renderedLayout)}return}const E=this._model.options.minimapLineHeight,W=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*A.browserEvent.offsetY;let U=Math.floor(W/E)+this._lastRenderData.renderedLayout.startLineNumber;U=Math.min(U,this._model.getLineCount()),this._model.revealLineNumber(U)}),this._sliderMouseMoveMonitor=new M.GlobalMouseMoveMonitor,this._sliderMouseDownListener=_.addStandardDisposableListener(this._slider.domNode,"mousedown",A=>{A.preventDefault(),A.stopPropagation(),A.leftButton&&this._lastRenderData&&this._startSliderDragging(A.buttons,A.posx,A.posy,A.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=l.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=_.addDisposableListener(this._domNode.domNode,l.EventType.Start,A=>{A.preventDefault(),A.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(A))},{passive:!1}),this._sliderTouchMoveListener=_.addDisposableListener(this._domNode.domNode,l.EventType.Change,A=>{A.preventDefault(),A.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(A)},{passive:!1}),this._sliderTouchEndListener=_.addStandardDisposableListener(this._domNode.domNode,l.EventType.End,A=>{A.preventDefault(),A.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(R,O,A,F,E){this._slider.toggleClassName("active",!0);const W=(V,U)=>{const q=Math.abs(U-O);if(S.isWindows&&q>p){this._model.setScrollTop(E.scrollTop);return}const j=V-A;this._model.setScrollTop(E.getDesiredScrollTopFromDelta(j))};F!==A&&W(F,O),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,R,M.standardMouseMoveMerger,V=>W(V.posy,V.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(R){const O=this._domNode.domNode.getBoundingClientRect().top,A=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(R.pageY-O);this._model.setScrollTop(A)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new I(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(R,O){return this._lastRenderData?this._lastRenderData.onLinesChanged(R,O):!1}onLinesDeleted(R,O){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(R,O),!0}onLinesInserted(R,O){return this._lastRenderData&&this._lastRenderData.onLinesInserted(R,O),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(u.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(R){return this._lastRenderData?this._lastRenderData.onTokensChanged(R):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(R){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}R.scrollLeft+R.viewportWidth>=R.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const A=g.create(this._model.options,R.viewportStartLineNumber,R.viewportEndLineNumber,R.viewportStartLineNumberVerticalOffset,R.viewportHeight,R.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),R.scrollTop,R.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(A.sliderNeeded?"block":"none"),this._slider.setTop(A.sliderTop),this._slider.setHeight(A.sliderHeight);const F=R.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,E=Math.min(this._model.options.minimapWidth,Math.round(F*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(E),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-E),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(A.sliderHeight),this.renderDecorations(A),this._lastRenderData=this.renderLines(A)}renderDecorations(R){if(this._renderDecorations){this._renderDecorations=!1;const O=this._model.getSelections(),A=this._model.getMinimapDecorationsInViewport(R.startLineNumber,R.endLineNumber),{canvasInnerWidth:F,canvasInnerHeight:E}=this._model.options,W=this._model.options.minimapLineHeight,V=this._model.options.minimapCharWidth,U=this._model.getOptions().tabSize,q=this._decorationsCanvas.domNode.getContext("2d");q.clearRect(0,0,F,E);const j=new Map;for(let te=0;te<O.length;te++){const ae=O[te];for(let de=ae.startLineNumber;de<=ae.endLineNumber;de++)this.renderDecorationOnLine(q,j,ae,this._selectionColor,R,de,W,W,U,V)}for(let te=0;te<A.length;te++){const ae=A[te];if(!ae.options.minimap)continue;const de=ae.options.minimap.getColor(this._theme);for(let ue=ae.range.startLineNumber;ue<=ae.range.endLineNumber;ue++)switch(ae.options.minimap.position){case d.MinimapPosition.Inline:this.renderDecorationOnLine(q,j,ae.range,de,R,ue,W,W,U,V);continue;case d.MinimapPosition.Gutter:const X=(ue-R.startLineNumber)*W,B=2;this.renderDecoration(q,de,B,X,w,W);continue}}}}renderDecorationOnLine(R,O,A,F,E,W,V,U,q,j){const te=(W-E.startLineNumber)*U;if(te+V<0||te>this._model.options.canvasInnerHeight)return;let ae=O.get(W);const de=!ae;if(!ae){const ee=this._model.getLineContent(W);ae=[C.MINIMAP_GUTTER_WIDTH];for(let x=1;x<ee.length+1;x++){const G=ee.charCodeAt(x-1),Q=G===9?q*j:m.isFullWidthCharacter(G)?2*j:j;ae[x]=ae[x-1]+Q}O.set(W,ae)}const{startColumn:ue,endColumn:X,startLineNumber:B,endLineNumber:Z}=A,H=B===W?ae[ue-1]:C.MINIMAP_GUTTER_WIDTH,z=Z>W?ae.length-1:X-1;if(z>0){const ee=ae[z]-H||2;this.renderDecoration(R,F,H,te,ee,V)}de&&this.renderLineHighlight(R,F,te,V)}renderLineHighlight(R,O,A,F){R.fillStyle=O&&O.transparent(.5).toString()||"",R.fillRect(C.MINIMAP_GUTTER_WIDTH,A,R.canvas.width,F)}renderDecoration(R,O,A,F,E,W){R.fillStyle=O&&O.toString()||"",R.fillRect(A,F,E,W)}renderLines(R){const O=R.startLineNumber,A=R.endLineNumber,F=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(R)){const he=this._lastRenderData._get();return new y(R,he.imageData,he.lines)}const E=this._getBuffer();if(!E)return null;let[W,V,U]=T._renderUntouchedLines(E,O,A,F,this._lastRenderData);const q=this._model.getMinimapLinesRenderingData(O,A,U),j=this._model.getOptions().tabSize,te=this._model.options.backgroundColor,ae=this._model.tokensColorTracker,de=ae.backgroundIsLight(),ue=this._model.options.renderMinimap,X=this._model.options.charRenderer(),B=this._model.options.fontScale,Z=this._model.options.minimapCharWidth,z=(ue===1?2:2+1)*B,ee=F>z?Math.floor((F-z)/2):0;let x=0;const G=[];for(let he=0,K=A-O+1;he<K;he++)U[he]&&T._renderLine(E,te,de,ue,Z,ae,X,x,ee,j,q[he],B,F),G[he]=new f(x),x+=F;const Q=W===-1?0:W,le=(V===-1?E.height:V)-Q;return this._canvas.domNode.getContext("2d").putImageData(E,0,0,0,Q,E.width,le),new y(R,E,G)}static _renderUntouchedLines(R,O,A,F,E){const W=[];if(!E){for(let J=0,le=A-O+1;J<le;J++)W[J]=!0;return[-1,-1,W]}const V=E._get(),U=V.imageData.data,q=V.rendLineNumberStart,j=V.lines,te=j.length,ae=R.width,de=R.data,ue=(A-O+1)*F*ae*4;let X=-1,B=-1,Z=-1,H=-1,z=-1,ee=-1,x=0;for(let J=O;J<=A;J++){const le=J-O,oe=J-q,he=oe>=0&&oe<te?j[oe].dy:-1;if(he===-1){W[le]=!0,x+=F;continue}const K=he*ae*4,re=(he+F)*ae*4,Y=x*ae*4,se=(x+F)*ae*4;H===K&&ee===Y?(H=re,ee=se):(Z!==-1&&(de.set(U.subarray(Z,H),z),X===-1&&Z===0&&Z===z&&(X=H),B===-1&&H===ue&&Z===z&&(B=Z)),Z=K,H=re,z=Y,ee=se),W[le]=!1,x+=F}Z!==-1&&(de.set(U.subarray(Z,H),z),X===-1&&Z===0&&Z===z&&(X=H),B===-1&&H===ue&&Z===z&&(B=Z));const G=X===-1?-1:X/(ae*4),Q=B===-1?-1:B/(ae*4);return[G,Q,W]}static _renderLine(R,O,A,F,E,W,V,U,q,j,te,ae,de){const ue=te.content,X=te.tokens,B=R.width-E,Z=de===1;let H=C.MINIMAP_GUTTER_WIDTH,z=0,ee=0;for(let x=0,G=X.getCount();x<G;x++){const Q=X.getEndOffset(x),J=X.getForeground(x),le=W.getColor(J);for(;z<Q;z++){if(H>B)return;const oe=ue.charCodeAt(z);if(oe===9){const he=j-(z+ee)%j;ee+=he-1,H+=he*E}else if(oe===32)H+=E;else{const he=m.isFullWidthCharacter(oe)?2:1;for(let K=0;K<he;K++)if(F===2?V.blockRenderChar(R,H,U+q,le,O,A,Z):V.renderChar(R,H,U+q,oe,le,O,ae,A,Z),H+=E,H>B)return}}}}}r.registerThemingParticipant((P,R)=>{const O=P.getColor(u.minimapBackground);O&&R.addRule(`.monaco-editor .minimap > canvas { opacity: ${O.rgba.a}; will-change: opacity; }`);const A=P.getColor(u.minimapSliderBackground);A&&R.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${A}; }`);const F=P.getColor(u.minimapSliderHoverBackground);F&&R.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${F}; }`);const E=P.getColor(u.minimapSliderActiveBackground);E&&R.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${E}; }`);const W=P.getColor(u.scrollbarShadow);W&&R.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${W} -6px 0 6px -6px inset; }`)})}),define(ie[600],ne([0,1,30,47,22,11,338]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class S extends k.ViewPart{constructor(v){super(v);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const C=this._context.configuration.options.get(90);this._useShadows=C.useShadows,this._domNode=_.createFastDomNode(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const v=this._useShadows&&this._scrollTop>0;return this._shouldShow!==v?(this._shouldShow=v,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const i=this._context.configuration.options.get(128);i.minimap.renderMinimap===0||i.minimap.minimapWidth>0&&i.minimap.minimapLeft===0?this._width=i.width:this._width=i.width-i.minimap.minimapWidth-i.verticalScrollbarWidth}onConfigurationChanged(v){const C=this._context.configuration.options.get(90);return this._useShadows=C.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(v){return this._scrollTop=v.scrollTop,this._updateShouldShow()}prepareRender(v){}render(v){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=S,L.registerThemingParticipant((m,v)=>{const i=m.getColor(M.scrollbarShadow);i&&v.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)})}),define(ie[601],ne([0,1,96,22,11,339]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class L{constructor(o){this.left=o.left,this.width=o.width,this.startStyle=null,this.endStyle=null}}class S{constructor(o,a){this.lineNumber=o,this.ranges=a}}function m(s){return new L(s)}function v(s){return new S(s.lineNumber,s.ranges.map(m))}class i extends _.DynamicViewOverlay{constructor(o){super();this._previousFrameVisibleRangesWithStyle=[],this._context=o;const a=this._context.configuration.options;this._lineHeight=a.get(56),this._roundedSelection=a.get(88),this._typicalHalfwidthCharacterWidth=a.get(40).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(o){const a=this._context.configuration.options;return this._lineHeight=a.get(56),this._roundedSelection=a.get(88),this._typicalHalfwidthCharacterWidth=a.get(40).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(o){return this._selections=o.selections.slice(0),!0}onDecorationsChanged(o){return!0}onFlushed(o){return!0}onLinesChanged(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return o.scrollTopChanged}onZonesChanged(o){return!0}_visibleRangesHaveGaps(o){for(let a=0,c=o.length;a<c;a++)if(o[a].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(o,a,c){const u=this._typicalHalfwidthCharacterWidth/4;let r=null,n=null;if(c&&c.length>0&&a.length>0){const l=a[0].lineNumber;if(l===o.startLineNumber)for(let d=0;!r&&d<c.length;d++)c[d].lineNumber===l&&(r=c[d].ranges[0]);const t=a[a.length-1].lineNumber;if(t===o.endLineNumber)for(let d=c.length-1;!n&&d>=0;d--)c[d].lineNumber===t&&(n=c[d].ranges[0]);r&&!r.startStyle&&(r=null),n&&!n.startStyle&&(n=null)}for(let l=0,t=a.length;l<t;l++){const d=a[l].ranges[0],h=d.left,p=d.left+d.width,w={top:0,bottom:0},b={top:0,bottom:0};if(l>0){const g=a[l-1].ranges[0].left,f=a[l-1].ranges[0].left+a[l-1].ranges[0].width;C(h-g)<u?w.top=2:h>g&&(w.top=1),C(p-f)<u?b.top=2:g<p&&p<f&&(b.top=1)}else r&&(w.top=r.startStyle.top,b.top=r.endStyle.top);if(l+1<t){const g=a[l+1].ranges[0].left,f=a[l+1].ranges[0].left+a[l+1].ranges[0].width;C(h-g)<u?w.bottom=2:g<h&&h<f&&(w.bottom=1),C(p-f)<u?b.bottom=2:p<f&&(b.bottom=1)}else n&&(w.bottom=n.startStyle.bottom,b.bottom=n.endStyle.bottom);d.startStyle=w,d.endStyle=b}}_getVisibleRangesWithStyle(o,a,c){const r=(a.linesVisibleRangesForRange(o,!0)||[]).map(v);return!this._visibleRangesHaveGaps(r)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(a.visibleRange,r,c),r}_createSelectionPiece(o,a,c,u,r){return'<div class="cslr '+c+'" style="top:'+o.toString()+"px;left:"+u.toString()+"px;width:"+r.toString()+"px;height:"+a+'px;"></div>'}_actualRenderOneSelection(o,a,c,u){if(u.length===0)return;const r=!!u[0].ranges[0].startStyle,n=this._lineHeight.toString(),l=(this._lineHeight-1).toString(),t=u[0].lineNumber,d=u[u.length-1].lineNumber;for(let h=0,p=u.length;h<p;h++){const w=u[h],b=w.lineNumber,g=b-a,f=c&&(b===d||b===t)?l:n,y=c&&b===t?1:0;let I="",N="";for(let D=0,T=w.ranges.length;D<T;D++){const P=w.ranges[D];if(r){const O=P.startStyle,A=P.endStyle;if(O.top===1||O.bottom===1){I+=this._createSelectionPiece(y,f,i.SELECTION_CLASS_NAME,P.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH);let F=i.EDITOR_BACKGROUND_CLASS_NAME;O.top===1&&(F+=" "+i.SELECTION_TOP_RIGHT),O.bottom===1&&(F+=" "+i.SELECTION_BOTTOM_RIGHT),I+=this._createSelectionPiece(y,f,F,P.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH)}if(A.top===1||A.bottom===1){I+=this._createSelectionPiece(y,f,i.SELECTION_CLASS_NAME,P.left+P.width,i.ROUNDED_PIECE_WIDTH);let F=i.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(F+=" "+i.SELECTION_TOP_LEFT),A.bottom===1&&(F+=" "+i.SELECTION_BOTTOM_LEFT),I+=this._createSelectionPiece(y,f,F,P.left+P.width,i.ROUNDED_PIECE_WIDTH)}}let R=i.SELECTION_CLASS_NAME;if(r){const O=P.startStyle,A=P.endStyle;O.top===0&&(R+=" "+i.SELECTION_TOP_LEFT),O.bottom===0&&(R+=" "+i.SELECTION_BOTTOM_LEFT),A.top===0&&(R+=" "+i.SELECTION_TOP_RIGHT),A.bottom===0&&(R+=" "+i.SELECTION_BOTTOM_RIGHT)}N+=this._createSelectionPiece(y,f,R,P.left,P.width)}o[g][0]+=I,o[g][1]+=N}}prepareRender(o){const a=[],c=o.visibleRange.startLineNumber,u=o.visibleRange.endLineNumber;for(let n=c;n<=u;n++){const l=n-c;a[l]=["",""]}const r=[];for(let n=0,l=this._selections.length;n<l;n++){const t=this._selections[n];if(t.isEmpty()){r[n]=null;continue}const d=this._getVisibleRangesWithStyle(t,o,this._previousFrameVisibleRangesWithStyle[n]);r[n]=d,this._actualRenderOneSelection(a,c,this._selections.length>1,d)}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=a.map(([n,l])=>n+l)}render(o,a){if(!this._renderResult)return"";const c=a-o;return c<0||c>=this._renderResult.length?"":this._renderResult[c]}}e.SelectionsOverlay=i,i.SELECTION_CLASS_NAME="selected-text",i.SELECTION_TOP_LEFT="top-left-radius",i.SELECTION_BOTTOM_LEFT="bottom-left-radius",i.SELECTION_TOP_RIGHT="top-right-radius",i.SELECTION_BOTTOM_RIGHT="bottom-right-radius",i.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",i.ROUNDED_PIECE_WIDTH=10,M.registerThemingParticipant((s,o)=>{const a=s.getColor(k.editorSelectionBackground);a&&o.addRule(`.monaco-editor .focused .selected-text { background-color: ${a}; }`);const c=s.getColor(k.editorInactiveSelection);c&&o.addRule(`.monaco-editor .selected-text { background-color: ${c}; }`);const u=s.getColor(k.editorSelectionForeground);u&&!u.isTransparent()&&o.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${u}; }`)});function C(s){return s<0?-s:s}}),define(ie[48],ne([0,1,470,29,22,11]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=M.registerColor("editor.lineHighlightBackground",{dark:null,light:null,hc:null},_.localize(0,null)),e.editorLineHighlightBorder=M.registerColor("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},_.localize(1,null)),e.editorRangeHighlight=M.registerColor("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},_.localize(2,null),!0),e.editorRangeHighlightBorder=M.registerColor("editor.rangeHighlightBorder",{dark:null,light:null,hc:M.activeContrastBorder},_.localize(3,null),!0),e.editorSymbolHighlight=M.registerColor("editor.symbolHighlightBackground",{dark:M.editorFindMatchHighlight,light:M.editorFindMatchHighlight,hc:null},_.localize(4,null),!0),e.editorSymbolHighlightBorder=M.registerColor("editor.symbolHighlightBorder",{dark:null,light:null,hc:M.activeContrastBorder},_.localize(5,null),!0),e.editorCursorForeground=M.registerColor("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hc:k.Color.white},_.localize(6,null)),e.editorCursorBackground=M.registerColor("editorCursor.background",null,_.localize(7,null)),e.editorWhitespaces=M.registerColor("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},_.localize(8,null)),e.editorIndentGuides=M.registerColor("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},_.localize(9,null)),e.editorActiveIndentGuides=M.registerColor("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},_.localize(10,null)),e.editorLineNumbers=M.registerColor("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:k.Color.white},_.localize(11,null));const S=M.registerColor("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:M.activeContrastBorder},_.localize(12,null),!1,_.localize(13,null));e.editorActiveLineNumber=M.registerColor("editorLineNumber.activeForeground",{dark:S,light:S,hc:S},_.localize(14,null)),e.editorRuler=M.registerColor("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hc:k.Color.white},_.localize(15,null)),e.editorCodeLensForeground=M.registerColor("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},_.localize(16,null)),e.editorBracketMatchBackground=M.registerColor("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},_.localize(17,null)),e.editorBracketMatchBorder=M.registerColor("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:M.contrastBorder},_.localize(18,null)),e.editorOverviewRulerBorder=M.registerColor("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},_.localize(19,null)),e.editorOverviewRulerBackground=M.registerColor("editorOverviewRuler.background",null,_.localize(20,null)),e.editorGutter=M.registerColor("editorGutter.background",{dark:M.editorBackground,light:M.editorBackground,hc:M.editorBackground},_.localize(21,null)),e.editorUnnecessaryCodeBorder=M.registerColor("editorUnnecessaryCode.border",{dark:null,light:null,hc:k.Color.fromHex("#fff").transparent(.8)},_.localize(22,null)),e.editorUnnecessaryCodeOpacity=M.registerColor("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hc:null},_.localize(23,null)),e.ghostTextBorder=M.registerColor("editorGhostText.border",{dark:null,light:null,hc:k.Color.fromHex("#fff").transparent(.8)},_.localize(24,null)),e.ghostTextForeground=M.registerColor("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hc:null},_.localize(25,null));const m=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=M.registerColor("editorOverviewRuler.rangeHighlightForeground",{dark:m,light:m,hc:m},_.localize(26,null),!0),e.overviewRulerError=M.registerColor("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hc:new k.Color(new k.RGBA(255,50,50,1))},_.localize(27,null)),e.overviewRulerWarning=M.registerColor("editorOverviewRuler.warningForeground",{dark:M.editorWarningForeground,light:M.editorWarningForeground,hc:M.editorWarningBorder},_.localize(28,null)),e.overviewRulerInfo=M.registerColor("editorOverviewRuler.infoForeground",{dark:M.editorInfoForeground,light:M.editorInfoForeground,hc:M.editorInfoBorder},_.localize(29,null)),L.registerThemingParticipant((v,i)=>{const C=v.getColor(M.editorBackground);C&&i.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${C}; }`);const s=v.getColor(M.editorForeground);s&&i.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${s}; }`);const o=v.getColor(e.editorGutter);o&&i.addRule(`.monaco-editor .margin { background-color: ${o}; }`);const a=v.getColor(e.editorRangeHighlight);a&&i.addRule(`.monaco-editor .rangeHighlight { background-color: ${a}; }`);const c=v.getColor(e.editorRangeHighlightBorder);c&&i.addRule(`.monaco-editor .rangeHighlight { border: 1px ${v.type==="hc"?"dotted":"solid"} ${c}; }`);const u=v.getColor(e.editorSymbolHighlight);u&&i.addRule(`.monaco-editor .symbolHighlight { background-color: ${u}; }`);const r=v.getColor(e.editorSymbolHighlightBorder);r&&i.addRule(`.monaco-editor .symbolHighlight { border: 1px ${v.type==="hc"?"dotted":"solid"} ${r}; }`);const n=v.getColor(e.editorWhitespaces);n&&(i.addRule(`.monaco-editor .mtkw { color: ${n} !important; }`),i.addRule(`.monaco-editor .mtkz { color: ${n} !important; }`))})}),define(ie[602],ne([0,1,96,48,19,11,21,327]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let m=!0;class v extends _.DynamicViewOverlay{constructor(o){super();this._context=o;const a=this._context.configuration.options,c=a.get(128);this._lineHeight=a.get(56),this._renderLineHighlight=a.get(83),this._renderLineHighlightOnlyWhenFocus=a.get(84),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let o=!1;const a=m?this._selections.slice(0,1):this._selections,c=a.map(r=>r.positionLineNumber);c.sort((r,n)=>r-n),M.equals(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,o=!0);const u=a.every(r=>r.isEmpty());return this._selectionIsEmpty!==u&&(this._selectionIsEmpty=u,o=!0),o}onThemeChanged(o){return this._readFromSelections()}onConfigurationChanged(o){const a=this._context.configuration.options,c=a.get(128);return this._lineHeight=a.get(56),this._renderLineHighlight=a.get(83),this._renderLineHighlightOnlyWhenFocus=a.get(84),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,!0}onCursorStateChanged(o){return this._selections=o.selections,this._readFromSelections()}onFlushed(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return o.scrollWidthChanged||o.scrollTopChanged}onZonesChanged(o){return!0}onFocusChanged(o){return this._renderLineHighlightOnlyWhenFocus?(this._focused=o.isFocused,!0):!1}prepareRender(o){if(!this._shouldRenderThis()){this._renderData=null;return}const a=this._renderOne(o),c=o.visibleRange.startLineNumber,u=o.visibleRange.endLineNumber,r=this._cursorLineNumbers.length;let n=0;const l=[];for(let t=c;t<=u;t++){const d=t-c;for(;n<r&&this._cursorLineNumbers[n]<t;)n++;n<r&&this._cursorLineNumbers[n]===t?l[d]=a:l[d]=""}this._renderData=l}render(o,a){if(!this._renderData)return"";const c=a-o;return c>=this._renderData.length?"":this._renderData[c]}}e.AbstractLineHighlightOverlay=v;class i extends v{_renderOne(o){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(o.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=i;class C extends v{_renderOne(o){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=C,L.registerThemingParticipant((s,o)=>{m=!1;const a=s.getColor(k.editorLineHighlight);if(a&&(o.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${a}; }`),o.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${a}; border: none; }`)),!a||a.isTransparent()||s.defines(k.editorLineHighlightBorder)){const c=s.getColor(k.editorLineHighlightBorder);c&&(m=!0,o.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${c}; }`),o.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${c}; }`),s.type==="hc"&&(o.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),o.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(ie[603],ne([0,1,96,13,48,11,330]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class S extends _.DynamicViewOverlay{constructor(v){super();this._context=v,this._primaryLineNumber=0;const i=this._context.configuration.options,C=i.get(129),s=i.get(40);this._lineHeight=i.get(56),this._spaceWidth=s.spaceWidth,this._enabled=i.get(81),this._activeIndentEnabled=i.get(49),this._maxIndentLeft=C.wrappingColumn===-1?-1:C.wrappingColumn*s.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(v){const i=this._context.configuration.options,C=i.get(129),s=i.get(40);return this._lineHeight=i.get(56),this._spaceWidth=s.spaceWidth,this._enabled=i.get(81),this._activeIndentEnabled=i.get(49),this._maxIndentLeft=C.wrappingColumn===-1?-1:C.wrappingColumn*s.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(v){const i=v.selections[0],C=i.isEmpty()?i.positionLineNumber:0;return this._primaryLineNumber!==C?(this._primaryLineNumber=C,!0):!1}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged}onZonesChanged(v){return!0}onLanguageConfigurationChanged(v){return!0}prepareRender(v){if(!this._enabled){this._renderResult=null;return}const i=v.visibleRange.startLineNumber,C=v.visibleRange.endLineNumber,{indentSize:s}=this._context.model.getTextModelOptions(),o=s*this._spaceWidth,a=v.scrollWidth,c=this._lineHeight,u=this._context.model.getLinesIndentGuides(i,C);let r=0,n=0,l=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const d=this._context.model.getActiveIndentGuide(this._primaryLineNumber,i,C);r=d.startLineNumber,n=d.endLineNumber,l=d.indent}const t=[];for(let d=i;d<=C;d++){const h=r<=d&&d<=n,p=d-i,w=u[p];let b="";if(w>=1){const g=v.visibleRangeForPosition(new k.Position(d,1));let f=g?g.left:0;for(let y=1;y<=w&&(b+=`<div class="${h&&y===l?"cigra":"cigr"}" style="left:${f}px;height:${c}px;width:${o}px"></div>`,f+=o,!(f>a||this._maxIndentLeft>0&&f>this._maxIndentLeft));y++);}t[p]=b}this._renderResult=t}render(v,i){if(!this._renderResult)return"";const C=i-v;return C<0||C>=this._renderResult.length?"":this._renderResult[C]}}e.IndentGuidesOverlay=S,L.registerThemingParticipant((m,v)=>{const i=m.getColor(M.editorIndentGuides);i&&v.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${i} inset; }`);const C=m.getColor(M.editorActiveIndentGuides)||i;C&&v.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${C} inset; }`)})}),define(ie[261],ne([0,1,17,96,13,48,11,331]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class m extends k.DynamicViewOverlay{constructor(i){super();this._context=i,this._readConfig(),this._lastCursorModelPosition=new M.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const i=this._context.configuration.options;this._lineHeight=i.get(56);const C=i.get(57);this._renderLineNumbers=C.renderType,this._renderCustomLineNumbers=C.renderFn,this._renderFinalNewline=i.get(82);const s=i.get(128);this._lineNumbersLeft=s.lineNumbersLeft,this._lineNumbersWidth=s.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return this._readConfig(),!0}onCursorStateChanged(i){const C=i.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(C);let s=!1;return this._activeLineNumber!==C.lineNumber&&(this._activeLineNumber=C.lineNumber,s=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(s=!0),s}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getLineRenderLineNumber(i){const C=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new M.Position(i,1));if(C.column!==1)return"";const s=C.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(s);if(this._renderLineNumbers===2){const o=Math.abs(this._lastCursorModelPosition.lineNumber-s);return o===0?'<span class="relative-current-line-number">'+s+"</span>":String(o)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===s||s%10==0?String(s):"":String(s)}prepareRender(i){if(this._renderLineNumbers===0){this._renderResult=null;return}const C=_.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",s=i.visibleRange.startLineNumber,o=i.visibleRange.endLineNumber,a='<div class="'+m.CLASS_NAME+C+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',c=this._context.model.getLineCount(),u=[];for(let r=s;r<=o;r++){const n=r-s;if(!this._renderFinalNewline&&r===c&&this._context.model.getLineLength(r)===0){u[n]="";continue}const l=this._getLineRenderLineNumber(r);l?r===this._activeLineNumber?u[n]='<div class="active-line-number '+m.CLASS_NAME+C+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+l+"</div>":u[n]=a+l+"</div>":u[n]=""}this._renderResult=u}render(i,C){if(!this._renderResult)return"";const s=C-i;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.LineNumbersOverlay=m,m.CLASS_NAME="line-numbers",S.registerThemingParticipant((v,i)=>{const C=v.getColor(L.editorLineNumbers);C&&i.addRule(`.monaco-editor .line-numbers { color: ${C}; }`);const s=v.getColor(L.editorActiveLineNumber);s&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${s}; }`)})}),define(ie[604],ne([0,1,455,38,30,17,8,65,169,216,47,261,225,35,108,13,3,21,131,326]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class t{constructor(f,y,I){this._visibleTextAreaBrand=void 0,this.top=f,this.left=y,this.width=I}setWidth(f){return new t(this.top,this.left,f)}}const d=k.isFirefox;class h extends C.ViewPart{constructor(f,y,I){super(f);this._primaryCursorPosition=new u.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=y,this._viewHelper=I,this._scrollLeft=0,this._scrollTop=0;const N=this._context.configuration.options,D=N.get(128);this._setAccessibilityOptions(N),this._contentLeft=D.contentLeft,this._contentWidth=D.contentWidth,this._contentHeight=D.height,this._fontInfo=N.get(40),this._lineHeight=N.get(56),this._emptySelectionClipboard=N.get(30),this._copyWithSyntaxHighlighting=N.get(19),this._visibleTextArea=null,this._selections=[new n.Selection(1,1,1,1)],this._modelSelections=[new n.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=M.createFastDomNode(document.createElement("textarea")),C.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(N)),this.textArea.setAttribute("tabindex",String(N.get(110))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",_.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),N.get(28)&&N.get(78)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=M.createFastDomNode(document.createElement("div")),this.textAreaCover.setPosition("absolute");const T={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:R=>this._context.model.getLineMaxColumn(R),getValueInRange:(R,O)=>this._context.model.getValueInRange(R,O)},P={getDataToCopy:R=>{const O=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,L.isWindows),A=this._context.model.getEOL(),F=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),E=Array.isArray(O)?O:null,W=Array.isArray(O)?O.join(A):O;let V,U=null;if(R&&(v.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&W.length<65536)){const q=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);q&&(V=q.html,U=q.mode)}return{isFromEmptySelection:F,multicursorText:E,text:W,html:V,mode:U}},getScreenReaderContent:R=>{if(this._accessibilitySupport===1){if(L.isMacintosh){const O=this._selections[0];if(O.isEmpty()){const A=O.getStartPosition();let F=this._getWordBeforePosition(A);if(F.length===0&&(F=this._getCharacterBeforePosition(A)),F.length>0)return new i.TextAreaState(F,F.length,F.length,A,A)}}return i.TextAreaState.EMPTY}if(k.isAndroid){const O=this._selections[0];if(O.isEmpty()){const A=O.getStartPosition(),[F,E]=this._getAndroidWordAtPosition(A);if(F.length>0)return new i.TextAreaState(F,E,E,A,A)}return i.TextAreaState.EMPTY}return i.PagedScreenReaderStrategy.fromEditorSelection(R,T,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(R,O,A)=>this._context.model.deduceModelPositionRelativeToViewPosition(R,O,A)};this._textAreaInput=this._register(new v.TextAreaInput(P,this.textArea)),this._register(this._textAreaInput.onKeyDown(R=>{this._viewController.emitKeyDown(R)})),this._register(this._textAreaInput.onKeyUp(R=>{this._viewController.emitKeyUp(R)})),this._register(this._textAreaInput.onPaste(R=>{let O=!1,A=null,F=null;R.metadata&&(O=this._emptySelectionClipboard&&!!R.metadata.isFromEmptySelection,A=typeof R.metadata.multicursorText!="undefined"?R.metadata.multicursorText:null,F=R.metadata.mode),this._viewController.paste(R.text,O,A,F)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(R=>{R.replacePrevCharCnt||R.replaceNextCharCnt||R.positionDelta?(i._debugComposition&&console.log(` => compositionType: <<${R.text}>>, ${R.replacePrevCharCnt}, ${R.replaceNextCharCnt}, ${R.positionDelta}`),this._viewController.compositionType(R.text,R.replacePrevCharCnt,R.replaceNextCharCnt,R.positionDelta)):(i._debugComposition&&console.log(` => type: <<${R.text}>>`),this._viewController.type(R.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(R=>{this._viewController.setSelection(R)})),this._register(this._textAreaInput.onCompositionStart(R=>{const O=this._selections[0].startLineNumber,A=this._selections[0].startColumn+R.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new r.Range(O,A,O,A),0,1);const F=this._viewHelper.visibleRangeForPositionRelativeToEditor(O,A);F&&(this._visibleTextArea=new t(this._context.viewLayout.getVerticalOffsetForLineNumber(O),F.left,d?0:1),this._render()),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(R=>{!this._visibleTextArea||(this._visibleTextArea=this._visibleTextArea.setWidth(p(R.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(f){const y='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',I=this._context.model.getLineContent(f.lineNumber),N=c.getMapForWordSeparators(y);let D=!0,T=f.column,P=!0,R=f.column,O=0;for(;O<50&&(D||P);){if(D&&T<=1&&(D=!1),D){const A=I.charCodeAt(T-2);N.get(A)!==0?D=!1:T--}if(P&&R>I.length&&(P=!1),P){const A=I.charCodeAt(R-1);N.get(A)!==0?P=!1:R++}O++}return[I.substring(T-1,R-1),f.column-T]}_getWordBeforePosition(f){const y=this._context.model.getLineContent(f.lineNumber),I=c.getMapForWordSeparators(this._context.configuration.options.get(114));let N=f.column,D=0;for(;N>1;){const T=y.charCodeAt(N-2);if(I.get(T)!==0||D>50)return y.substring(N-1,f.column-1);D++,N--}return y.substring(0,f.column-1)}_getCharacterBeforePosition(f){if(f.column>1){const I=this._context.model.getLineContent(f.lineNumber).charAt(f.column-2);if(!S.isHighSurrogate(I.charCodeAt(0)))return I}return""}_getAriaLabel(f){return f.get(2)===1?_.localize(1,null,L.isLinux?"Shift+Alt+F1":"Alt+F1"):f.get(4)}_setAccessibilityOptions(f){this._accessibilitySupport=f.get(2);const y=f.get(3);this._accessibilitySupport===2&&y===a.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=y}onConfigurationChanged(f){const y=this._context.configuration.options,I=y.get(128);return this._setAccessibilityOptions(y),this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,this._contentHeight=I.height,this._fontInfo=y.get(40),this._lineHeight=y.get(56),this._emptySelectionClipboard=y.get(30),this._copyWithSyntaxHighlighting=y.get(19),this.textArea.setAttribute("aria-label",this._getAriaLabel(y)),this.textArea.setAttribute("tabindex",String(y.get(110))),(f.hasChanged(28)||f.hasChanged(78))&&(y.get(28)&&y.get(78)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),f.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(f){return this._selections=f.selections.slice(0),this._modelSelections=f.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(f){return!0}onFlushed(f){return!0}onLinesChanged(f){return!0}onLinesDeleted(f){return!0}onLinesInserted(f){return!0}onScrollChanged(f){return this._scrollLeft=f.scrollLeft,this._scrollTop=f.scrollTop,!0}onZonesChanged(f){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(f){f.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",f.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),f.role&&this.textArea.setAttribute("role",f.role)}prepareRender(f){this._primaryCursorPosition=new u.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=f.visibleRangeForPosition(this._primaryCursorPosition)}render(f){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const f=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(f<this._contentLeft||f>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const y=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(y<0||y>this._contentHeight){this._renderAtTopLeft();return}if(L.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,y,f,d?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,y,f,d?0:1,d?0:1)}_renderInsideEditor(f,y,I,N,D){this._lastRenderPosition=f;const T=this.textArea,P=this.textAreaCover;m.Configuration.applyFontInfo(T,this._fontInfo),T.setTop(y),T.setLeft(I),T.setWidth(N),T.setHeight(D),P.setTop(0),P.setLeft(0),P.setWidth(0),P.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const f=this.textArea,y=this.textAreaCover;if(m.Configuration.applyFontInfo(f,this._fontInfo),f.setTop(0),f.setLeft(0),y.setTop(0),y.setLeft(0),d){f.setWidth(0),f.setHeight(0),y.setWidth(0),y.setHeight(0);return}f.setWidth(1),f.setHeight(1),y.setWidth(1),y.setHeight(1);const I=this._context.configuration.options;I.get(46)?y.setClassName("monaco-editor-background textAreaCover "+o.Margin.OUTER_CLASS_NAME):I.get(57).renderType!==0?y.setClassName("monaco-editor-background textAreaCover "+s.LineNumbersOverlay.CLASS_NAME):y.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=h;function p(g,f){const I=document.createElement("canvas").getContext("2d");I.font=w(f);const N=I.measureText(g);return k.isFirefox?N.width+2:N.width}function w(g){return b("normal",g.fontWeight,g.fontSize,g.lineHeight,g.fontFamily)}function b(g,f,y,I,N){return`${g} normal ${f} ${y}px / ${I}px ${N}`}}),define(ie[605],ne([0,1,30,29,47,13,18,48]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class v{constructor(s,o){const a=s.options;this.lineHeight=a.get(56),this.pixelRatio=a.get(126),this.overviewRulerLanes=a.get(71),this.renderBorder=a.get(70);const c=o.getColor(m.editorOverviewRulerBorder);this.borderColor=c?c.toString():null,this.hideCursor=a.get(48);const u=o.getColor(m.editorCursorForeground);this.cursorColor=u?u.transparent(.7).toString():null,this.themeType=o.type;const r=a.get(62),n=r.enabled,l=r.side,t=n?o.getColor(m.editorOverviewRulerBackground)||S.TokenizationRegistry.getDefaultBackground():null;t===null||l==="left"?this.backgroundColor=null:this.backgroundColor=k.Color.Format.CSS.formatHex(t);const h=a.get(128).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[p,w]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=p,this.w=w}_initLanes(s,o,a){const c=o-s;if(a>=3){const u=Math.floor(c/3),r=Math.floor(c/3),n=c-u-r,l=s,t=l+u,d=l+u+n;return[[0,l,t,l,d,l,t,l],[0,u,n,u+n,r,u+n+r,n+r,u+n+r]]}else if(a===2){const u=Math.floor(c/2),r=c-u,n=s,l=n+u;return[[0,n,n,n,l,n,n,n],[0,u,u,u,r,u+r,u+r,u+r]]}else{const u=s,r=c;return[[0,u,u,u,u,u,u,u],[0,r,r,r,r,r,r,r]]}}equals(s){return this.lineHeight===s.lineHeight&&this.pixelRatio===s.pixelRatio&&this.overviewRulerLanes===s.overviewRulerLanes&&this.renderBorder===s.renderBorder&&this.borderColor===s.borderColor&&this.hideCursor===s.hideCursor&&this.cursorColor===s.cursorColor&&this.themeType===s.themeType&&this.backgroundColor===s.backgroundColor&&this.top===s.top&&this.right===s.right&&this.domWidth===s.domWidth&&this.domHeight===s.domHeight&&this.canvasWidth===s.canvasWidth&&this.canvasHeight===s.canvasHeight}}class i extends M.ViewPart{constructor(s){super(s);this._domNode=_.createFastDomNode(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(o=>{o.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(s){const o=new v(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(o)?!1:(this._settings=o,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,s&&this._render(),!0)}onConfigurationChanged(s){return this._updateSettings(!1)}onCursorStateChanged(s){this._cursorPositions=[];for(let o=0,a=s.selections.length;o<a;o++)this._cursorPositions[o]=s.selections[o].getPosition();return this._cursorPositions.sort(L.Position.compare),!0}onDecorationsChanged(s){return!!s.affectsOverviewRuler}onFlushed(s){return!0}onScrollChanged(s){return s.scrollHeightChanged}onZonesChanged(s){return!0}onThemeChanged(s){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(s){}render(s){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const s=this._settings.canvasWidth,o=this._settings.canvasHeight,a=this._settings.lineHeight,c=this._context.viewLayout,u=this._context.viewLayout.getScrollHeight(),r=o/u,n=this._context.model.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,t=l/2|0,d=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?d.clearRect(0,0,s,o):(d.fillStyle=this._settings.backgroundColor,d.fillRect(0,0,s,o));const h=this._settings.x,p=this._settings.w,w=Object.keys(n);w.sort();for(let b=0,g=w.length;b<g;b++){const f=w[b],y=n[f];d.fillStyle=f;let I=0,N=0,D=0;for(let T=0,P=y.length;T<P;T++){const R=y[3*T],O=y[3*T+1],A=y[3*T+2];let F=c.getVerticalOffsetForLineNumber(O)*r|0,E=(c.getVerticalOffsetForLineNumber(A)+a)*r|0;if(E-F<l){let V=(F+E)/2|0;V<t?V=t:V+t>o&&(V=o-t),F=V-t,E=V+t}F>D+1||R!==I?(T!==0&&d.fillRect(h[I],N,p[I],D-N),I=R,N=F,D=E):E>D&&(D=E)}d.fillRect(h[I],N,p[I],D-N)}if(!this._settings.hideCursor&&this._settings.cursorColor){const b=2*this._settings.pixelRatio|0,g=b/2|0,f=this._settings.x[7],y=this._settings.w[7];d.fillStyle=this._settings.cursorColor;let I=-100,N=-100;for(let D=0,T=this._cursorPositions.length;D<T;D++){const P=this._cursorPositions[D];let R=c.getVerticalOffsetForLineNumber(P.lineNumber)*r|0;R<g?R=g:R+g>o&&(R=o-g);const O=R-g,A=O+b;O>N+1?(D!==0&&d.fillRect(f,I,y,N-I),I=O,N=A):A>N&&(N=A)}d.fillRect(f,I,y,N-I)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(d.beginPath(),d.lineWidth=1,d.strokeStyle=this._settings.borderColor,d.moveTo(0,0),d.lineTo(0,o),d.stroke(),d.moveTo(0,0),d.lineTo(s,0),d.stroke())}}e.DecorationsOverviewRuler=i}),define(ie[606],ne([0,1,30,47,48,11,337]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class S extends k.ViewPart{constructor(v){super(v);this.domNode=_.createFastDomNode(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const i=this._context.configuration.options;this._rulers=i.get(89),this._typicalHalfwidthCharacterWidth=i.get(40).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(v){const i=this._context.configuration.options;return this._rulers=i.get(89),this._typicalHalfwidthCharacterWidth=i.get(40).typicalHalfwidthCharacterWidth,!0}onScrollChanged(v){return v.scrollHeightChanged}prepareRender(v){}_ensureRulersCount(){const v=this._renderedRulers.length,i=this._rulers.length;if(v===i)return;if(v<i){const{tabSize:s}=this._context.model.getTextModelOptions(),o=s;let a=i-v;for(;a>0;){const c=_.createFastDomNode(document.createElement("div"));c.setClassName("view-ruler"),c.setWidth(o),this.domNode.appendChild(c),this._renderedRulers.push(c),a--}return}let C=v-i;for(;C>0;){const s=this._renderedRulers.pop();this.domNode.removeChild(s),C--}}render(v){this._ensureRulersCount();for(let i=0,C=this._rulers.length;i<C;i++){const s=this._renderedRulers[i],o=this._rulers[i];s.setBoxShadow(o.color?`1px 0 0 0 ${o.color} inset`:""),s.setHeight(Math.min(v.scrollHeight,1e6)),s.setLeft(o.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=S,L.registerThemingParticipant((m,v)=>{const i=m.getColor(M.editorRuler);i&&v.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)})}),define(ie[607],ne([0,1,30,15,47,579,35,48,11,340]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class i extends M.ViewPart{constructor(s){super(s);const o=this._context.configuration.options;this._readOnly=o.get(78),this._cursorBlinking=o.get(20),this._cursorStyle=o.get(22),this._cursorSmoothCaretAnimation=o.get(21),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new L.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=_.createFastDomNode(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new k.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(s){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(s){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(s){const o=this._context.configuration.options;this._readOnly=o.get(78),this._cursorBlinking=o.get(20),this._cursorStyle=o.get(22),this._cursorSmoothCaretAnimation=o.get(21),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(s);for(let a=0,c=this._secondaryCursors.length;a<c;a++)this._secondaryCursors[a].onConfigurationChanged(s);return!0}_onCursorPositionChanged(s,o){if(this._primaryCursor.onCursorPositionChanged(s),this._updateBlinking(),this._secondaryCursors.length<o.length){const a=o.length-this._secondaryCursors.length;for(let c=0;c<a;c++){const u=new L.ViewCursor(this._context);this._domNode.domNode.insertBefore(u.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(u)}}else if(this._secondaryCursors.length>o.length){const a=this._secondaryCursors.length-o.length;for(let c=0;c<a;c++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let a=0;a<o.length;a++)this._secondaryCursors[a].onCursorPositionChanged(o[a])}onCursorStateChanged(s){const o=[];for(let c=0,u=s.selections.length;c<u;c++)o[c]=s.selections[c].getPosition();this._onCursorPositionChanged(o[0],o.slice(1));const a=s.selections[0].isEmpty();return this._selectionIsEmpty!==a&&(this._selectionIsEmpty=a,this._updateDomClassName()),!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onFocusChanged(s){return this._editorHasFocus=s.isFocused,this._updateBlinking(),!1}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return!0}onTokensChanged(s){const o=a=>{for(let c=0,u=s.ranges.length;c<u;c++)if(s.ranges[c].fromLineNumber<=a.lineNumber&&a.lineNumber<=s.ranges[c].toLineNumber)return!0;return!1};if(o(this._primaryCursor.getPosition()))return!0;for(const a of this._secondaryCursors)if(o(a.getPosition()))return!0;return!1}onZonesChanged(s){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const s=this._getCursorBlinking(),o=s===0,a=s===5;o?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!o&&!a&&(s===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},i.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},i.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let s="cursors-layer";switch(this._selectionIsEmpty||(s+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:s+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:s+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:s+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:s+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:s+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:s+=" cursor-underline-thin-style";break;default:s+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:s+=" cursor-blink";break;case 2:s+=" cursor-smooth";break;case 3:s+=" cursor-phase";break;case 4:s+=" cursor-expand";break;case 5:s+=" cursor-solid";break;default:s+=" cursor-solid"}else s+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(s+=" cursor-smooth-caret-animation"),s}_show(){this._primaryCursor.show();for(let s=0,o=this._secondaryCursors.length;s<o;s++)this._secondaryCursors[s].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let s=0,o=this._secondaryCursors.length;s<o;s++)this._secondaryCursors[s].hide();this._isVisible=!1}prepareRender(s){this._primaryCursor.prepareRender(s);for(let o=0,a=this._secondaryCursors.length;o<a;o++)this._secondaryCursors[o].prepareRender(s)}render(s){let o=[],a=0;const c=this._primaryCursor.render(s);c&&(o[a++]=c);for(let u=0,r=this._secondaryCursors.length;u<r;u++){const n=this._secondaryCursors[u].render(s);n&&(o[a++]=n)}this._renderData=o}getLastRenderData(){return this._renderData}}e.ViewCursors=i,i.BLINK_INTERVAL=500,v.registerThemingParticipant((C,s)=>{const o=C.getColor(m.editorCursorForeground);if(o){let a=C.getColor(m.editorCursorBackground);a||(a=o.opposite()),s.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${o}; border-color: ${o}; color: ${a}; }`),C.type==="hc"&&s.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${a}; border-right: 1px solid ${a}; }`)}})}),define(ie[608],ne([0,1,86,2,52,11,48,36,3,46,6,22]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;function o(u){return u.toString()}class a extends k.Disposable{constructor(r){super();this.model=r,this._markersData=new Map,this._register(k.toDisposable(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(r,n){const l=[...this._markersData.keys()];this._markersData.clear();const t=this.model.deltaDecorations(l,n);for(let d=0;d<t.length;d++)this._markersData.set(t[d],r[d]);return l.length!==0||t.length!==0}getMarker(r){return this._markersData.get(r.id)}}let c=class extends k.Disposable{constructor(r,n){super();this._markerService=n,this._onDidChangeMarker=this._register(new C.Emitter),this._markerDecorations=new Map,r.getModels().forEach(l=>this._onModelAdded(l)),this._register(r.onModelAdded(this._onModelAdded,this)),this._register(r.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(r=>r.dispose()),this._markerDecorations.clear()}getMarker(r,n){const l=this._markerDecorations.get(o(r));return l&&l.getMarker(n)||null}_handleMarkerChange(r){r.forEach(n=>{const l=this._markerDecorations.get(o(n));l&&this._updateDecorations(l)})}_onModelAdded(r){const n=new a(r);this._markerDecorations.set(o(r.uri),n),this._updateDecorations(n)}_onModelRemoved(r){const n=this._markerDecorations.get(o(r.uri));n&&(n.dispose(),this._markerDecorations.delete(o(r.uri))),(r.uri.scheme===i.Schemas.inMemory||r.uri.scheme===i.Schemas.internal||r.uri.scheme===i.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:r.uri}).map(l=>l.owner).forEach(l=>this._markerService.remove(l,[r.uri]))}_updateDecorations(r){const n=this._markerService.read({resource:r.model.uri,take:500});let l=n.map(t=>({range:this._createDecorationRange(r.model,t),options:this._createDecorationOption(t)}));r.update(n,l)&&this._onDidChangeMarker.fire(r.model)}_createDecorationRange(r,n){let l=v.Range.lift(n);if(n.severity===_.MarkerSeverity.Hint&&!this._hasMarkerTag(n,1)&&!this._hasMarkerTag(n,2)&&(l=l.setEndPosition(l.startLineNumber,l.startColumn+2)),l=r.validateRange(l),l.isEmpty()){let t=r.getWordAtPosition(l.getStartPosition());if(t)l=new v.Range(l.startLineNumber,t.startColumn,l.endLineNumber,t.endColumn);else{let d=r.getLineLastNonWhitespaceColumn(l.startLineNumber)||r.getLineMaxColumn(l.startLineNumber);d===1||(l.endColumn>=d?l=new v.Range(l.startLineNumber,d-1,l.endLineNumber,d):l=new v.Range(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+1))}}else if(n.endColumn===Number.MAX_VALUE&&n.startColumn===1&&l.startLineNumber===l.endLineNumber){let t=r.getLineFirstNonWhitespaceColumn(n.startLineNumber);t<l.endColumn&&(l=new v.Range(l.startLineNumber,t,l.endLineNumber,l.endColumn),n.startColumn=t)}return l}_createDecorationOption(r){let n,l,t,d,h;switch(r.severity){case _.MarkerSeverity.Hint:this._hasMarkerTag(r,2)?n=void 0:this._hasMarkerTag(r,1)?n="squiggly-unnecessary":n="squiggly-hint",t=0;break;case _.MarkerSeverity.Warning:n="squiggly-warning",l=L.themeColorFromId(S.overviewRulerWarning),t=20,h={color:L.themeColorFromId(s.minimapWarning),position:M.MinimapPosition.Inline};break;case _.MarkerSeverity.Info:n="squiggly-info",l=L.themeColorFromId(S.overviewRulerInfo),t=10;break;case _.MarkerSeverity.Error:default:n="squiggly-error",l=L.themeColorFromId(S.overviewRulerError),t=30,h={color:L.themeColorFromId(s.minimapError),position:M.MinimapPosition.Inline};break}return r.tags&&(r.tags.indexOf(1)!==-1&&(d="squiggly-inline-unnecessary"),r.tags.indexOf(2)!==-1&&(d="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:n,showIfCollapsed:!0,overviewRuler:{color:l,position:M.OverviewRulerLane.Right},minimap:h,zIndex:t,inlineClassName:d}}_hasMarkerTag(r,n){return r.tags?r.tags.indexOf(n)>=0:!1}};c=Me([_e(0,m.IModelService),_e(1,_.IMarkerService)],c),e.MarkerDecorationsService=c}),define(ie[609],ne([0,1,7,93,6,2,31,477,37,11,22,60,27,346]),function($,e,_,k,M,L,S,m,v,i,C,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var a;(function(u){u.Hidden={type:0};class r{constructor(l,t,d,h){this.actions=l,this.trigger=t,this.editorPosition=d,this.widgetPosition=h,this.type=1}}u.Showing=r})(a||(a={}));let c=class Ot extends L.Disposable{constructor(r,n,l,t){super();this._editor=r,this._quickFixActionId=n,this._preferredFixActionId=l,this._keybindingService=t,this._onClick=this._register(new M.Emitter),this.onClick=this._onClick.event,this._state=a.Hidden,this._domNode=document.createElement("div"),this._domNode.className=o.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(d=>{const h=this._editor.getModel();(this.state.type!==1||!h||this.state.editorPosition.lineNumber>=h.getLineCount())&&this.hide()})),s.Gesture.ignoreTarget(this._domNode),this._register(_.addStandardDisposableGenericMouseDownListner(this._domNode,d=>{if(this.state.type!==1)return;this._editor.focus(),d.preventDefault();const{top:h,height:p}=_.getDomNodePagePosition(this._domNode),w=this._editor.getOption(56);let b=Math.floor(w/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(b+=w),this._onClick.fire({x:d.posx,y:h+p+b,actions:this.state.actions,trigger:this.state.trigger})})),this._register(_.addDisposableListener(this._domNode,"mouseenter",d=>{if((d.buttons&1)!=1)return;this.hide();const h=new k.GlobalMouseMoveMonitor;h.startMonitoring(d.target,d.buttons,k.standardMouseMoveMerger,()=>{},()=>{h.dispose()})})),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(54)&&!this._editor.getOption(54).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(r,n,l){if(r.validActions.length<=0)return this.hide();const t=this._editor.getOptions();if(!t.get(54).enabled)return this.hide();const d=this._editor.getModel();if(!d)return this.hide();const{lineNumber:h,column:p}=d.validatePosition(l),w=d.getOptions().tabSize,b=t.get(40),g=d.getLineContent(h),f=S.TextModel.computeIndentLevel(g,w),y=b.spaceWidth*f>22,I=D=>D>2&&this._editor.getTopForLineNumber(D)===this._editor.getTopForLineNumber(D-1);let N=h;if(!y){if(h>1&&!I(h-1))N-=1;else if(!I(h+1))N+=1;else if(p*b.spaceWidth<22)return this.hide()}this.state=new a.Showing(r,n,l,{position:{lineNumber:N,column:1},preference:Ot._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=a.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(r){this._state=r,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...o.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...o.Codicon.lightbulbAutofix.classNamesArray);const n=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(n){this.title=m.localize(0,null,n.getLabel());return}}this._domNode.classList.remove(...o.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...o.Codicon.lightBulb.classNamesArray);const r=this._keybindingService.lookupKeybinding(this._quickFixActionId);r?this.title=m.localize(1,null,r.getLabel()):this.title=m.localize(2,null)}set title(r){this._domNode.title=r}};c._posPref=[0],c=Me([_e(3,v.IKeybindingService)],c),e.LightBulbWidget=c,i.registerThemingParticipant((u,r)=>{var n;const l=(n=u.getColor(C.editorBackground))===null||n===void 0?void 0:n.transparent(.7),t=u.getColor(C.editorLightBulbForeground);t&&r.addRule(`
		.monaco-editor .contentWidgets ${o.Codicon.lightBulb.cssSelector} {
			color: ${t};
			background-color: ${l};
		}`);const d=u.getColor(C.editorLightBulbAutoFixForeground);d&&r.addRule(`
		.monaco-editor .contentWidgets ${o.Codicon.lightbulbAutofix.cssSelector} {
			color: ${d};
			background-color: ${l};
		}`)})}),define(ie[610],ne([0,1,7,3,31,48,22,11,104,347]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class i{constructor(c,u,r){this.afterLineNumber=c,this.heightInPx=u,this._onHeight=r,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(c){this._lastHeight===void 0?this._lastHeight=c:this._lastHeight!==c&&(this._lastHeight=c,this._onHeight())}}class C{constructor(c,u,r){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=c,this._id=`codelens.widget-${C._idPool++}`,this.updatePosition(r),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${u}`}withCommands(c,u){this._commands.clear();let r=[],n=!1;for(let l=0;l<c.length;l++){const t=c[l];if(!!t&&(n=!0,t.command)){const d=v.renderLabelWithIcons(t.command.title.trim());t.command.id?(r.push(_.$("a",{id:String(l),title:t.command.tooltip},...d)),this._commands.set(String(l),t.command)):r.push(_.$("span",{title:t.command.tooltip},...d)),l+1<c.length&&r.push(_.$("span",void 0,"\xA0|\xA0"))}}n?(_.reset(this._domNode,...r),this._isEmpty&&u&&this._domNode.classList.add("fadein"),this._isEmpty=!1):_.reset(this._domNode,_.$("span",void 0,"no commands"))}getCommand(c){return c.parentElement===this._domNode?this._commands.get(c.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(c){const u=this._editor.getModel().getLineFirstNonWhitespaceColumn(c);this._widgetPosition={position:{lineNumber:c,column:u},preference:[1]}}getPosition(){return this._widgetPosition||null}}C._idPool=0;class s{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(c,u){this._addDecorations.push(c),this._addDecorationsCallbacks.push(u)}removeDecoration(c){this._removeDecorations.push(c)}commit(c){let u=c.deltaDecorations(this._removeDecorations,this._addDecorations);for(let r=0,n=u.length;r<n;r++)this._addDecorationsCallbacks[r](u[r])}}e.CodeLensHelper=s;class o{constructor(c,u,r,n,l,t,d){this._isDisposed=!1,this._editor=u,this._className=r,this._data=c,this._decorationIds=[];let h,p=[];this._data.forEach((w,b)=>{w.symbol.command&&p.push(w.symbol),n.addDecoration({range:w.symbol.range,options:M.ModelDecorationOptions.EMPTY},g=>this._decorationIds[b]=g),h?h=k.Range.plusRange(h,w.symbol.range):h=k.Range.lift(w.symbol.range)}),this._viewZone=new i(h.startLineNumber-1,t,d),this._viewZoneId=l.addZone(this._viewZone),p.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(p,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new C(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(c,u){this._decorationIds.forEach(c.removeDecoration,c),this._decorationIds=[],u&&u.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((c,u)=>{const r=this._editor.getModel().getDecorationRange(c),n=this._data[u].symbol;return!!(r&&k.Range.isEmpty(n.range)===r.isEmpty())})}updateCodeLensSymbols(c,u){this._decorationIds.forEach(u.removeDecoration,u),this._decorationIds=[],this._data=c,this._data.forEach((r,n)=>{u.addDecoration({range:r.symbol.range,options:M.ModelDecorationOptions.EMPTY},l=>this._decorationIds[n]=l)})}updateHeight(c,u){this._viewZone.heightInPx=c,u.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(c){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let u=0;u<this._decorationIds.length;u++){const r=c.getDecorationRange(this._decorationIds[u]);r&&(this._data[u].symbol.range=r)}return this._data}updateCommands(c){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!0);for(let u=0;u<this._data.length;u++){const r=c[u];if(r){const{symbol:n}=this._data[u];n.command=r.command||n.command}}}getCommand(c){var u;return(u=this._contentWidget)===null||u===void 0?void 0:u.getCommand(c)}getLineNumber(){const c=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return c?c.startLineNumber:-1}update(c){if(this.isValid()){const u=this._editor.getModel().getDecorationRange(this._decorationIds[0]);u&&(this._viewZone.afterLineNumber=u.startLineNumber-1,c.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(u.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}e.CodeLensWidget=o,m.registerThemingParticipant((a,c)=>{const u=a.getColor(L.editorCodeLensForeground);u&&(c.addRule(`.monaco-editor .codelens-decoration { color: ${u}; }`),c.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${u}; }`));const r=a.getColor(S.editorActiveLinkForeground);r&&(c.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${r} !important; }`),c.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${r} !important; }`))})}),define(ie[611],ne([0,1,38,7,93,51,29,6,2,22,11,348]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const s=k.$;class o extends v.Disposable{constructor(d,h,p){super();this.model=h,this.domNode=s(".colorpicker-header"),k.append(d,this.domNode),this.pickedColorNode=k.append(this.domNode,s(".picked-color"));const w=k.append(this.domNode,s(".original-color"));w.style.backgroundColor=S.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=p.getColorTheme().getColor(i.editorHoverBackground)||S.Color.white,this._register(C.registerThemingParticipant((b,g)=>{this.backgroundColor=b.getColor(i.editorHoverBackground)||S.Color.white})),this._register(k.addDisposableListener(this.pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(w,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this._register(h.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(h.color)||"",this.pickedColorNode.classList.toggle("light",h.color.rgba.a<.5?this.backgroundColor.isLighter():h.color.isLighter())}onDidChangeColor(d){this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(d)||"",this.pickedColorNode.classList.toggle("light",d.rgba.a<.5?this.backgroundColor.isLighter():d.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=o;class a extends v.Disposable{constructor(d,h,p){super();this.model=h,this.pixelRatio=p,this.domNode=s(".colorpicker-body"),k.append(d,this.domNode),this.saturationBox=new c(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new r(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new n(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:d,v:h}){const p=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(p.h,d,h,p.a))}onDidOpacityChange(d){const h=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(h.h,h.s,h.v,d))}onDidHueChange(d){const h=this.model.color.hsva,p=(1-d)*360;this.model.color=new S.Color(new S.HSVA(p===360?0:p,h.s,h.v,h.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=a;class c extends v.Disposable{constructor(d,h,p){super();this.model=h,this.pixelRatio=p,this._onDidChange=new m.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new m.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=s(".saturation-wrap"),k.append(d,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",k.append(this.domNode,this.canvas),this.selection=s(".saturation-selection"),k.append(this.domNode,this.selection),this.layout(),this._register(k.addDisposableGenericMouseDownListner(this.domNode,w=>this.onMouseDown(w))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(d){this.monitor=this._register(new M.GlobalMouseMoveMonitor);const h=k.getDomNodePagePosition(this.domNode);d.target!==this.selection&&this.onDidChangePosition(d.offsetX,d.offsetY),this.monitor.startMonitoring(d.target,d.buttons,M.standardMouseMoveMerger,w=>this.onDidChangePosition(w.posx-h.left,w.posy-h.top),()=>null);const p=k.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),p.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(d,h){const p=Math.max(0,Math.min(1,d/this.width)),w=Math.max(0,Math.min(1,1-h/this.height));this.paintSelection(p,w),this._onDidChange.fire({s:p,v:w})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const d=this.model.color.hsva;this.paintSelection(d.s,d.v)}paint(){const d=this.model.color.hsva,h=new S.Color(new S.HSVA(d.h,1,1,1)),p=this.canvas.getContext("2d"),w=p.createLinearGradient(0,0,this.canvas.width,0);w.addColorStop(0,"rgba(255, 255, 255, 1)"),w.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),w.addColorStop(1,"rgba(255, 255, 255, 0)");const b=p.createLinearGradient(0,0,0,this.canvas.height);b.addColorStop(0,"rgba(0, 0, 0, 0)"),b.addColorStop(1,"rgba(0, 0, 0, 1)"),p.rect(0,0,this.canvas.width,this.canvas.height),p.fillStyle=S.Color.Format.CSS.format(h),p.fill(),p.fillStyle=w,p.fill(),p.fillStyle=b,p.fill()}paintSelection(d,h){this.selection.style.left=`${d*this.width}px`,this.selection.style.top=`${this.height-h*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class u extends v.Disposable{constructor(d,h){super();this.model=h,this._onDidChange=new m.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new m.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=k.append(d,s(".strip")),this.overlay=k.append(this.domNode,s(".overlay")),this.slider=k.append(this.domNode,s(".slider")),this.slider.style.top="0px",this._register(k.addDisposableGenericMouseDownListner(this.domNode,p=>this.onMouseDown(p))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const d=this.getValue(this.model.color);this.updateSliderPosition(d)}onMouseDown(d){const h=this._register(new M.GlobalMouseMoveMonitor),p=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),d.target!==this.slider&&this.onDidChangeTop(d.offsetY),h.startMonitoring(d.target,d.buttons,M.standardMouseMoveMerger,b=>this.onDidChangeTop(b.posy-p.top),()=>null);const w=k.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),w.dispose(),h.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(d){const h=Math.max(0,Math.min(1,1-d/this.height));this.updateSliderPosition(h),this._onDidChange.fire(h)}updateSliderPosition(d){this.slider.style.top=`${(1-d)*this.height}px`}}class r extends u{constructor(d,h){super(d,h);this.domNode.classList.add("opacity-strip"),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(d){const{r:h,g:p,b:w}=d.rgba,b=new S.Color(new S.RGBA(h,p,w,1)),g=new S.Color(new S.RGBA(h,p,w,0));this.overlay.style.background=`linear-gradient(to bottom, ${b} 0%, ${g} 100%)`}getValue(d){return d.hsva.a}}class n extends u{constructor(d,h){super(d,h);this.domNode.classList.add("hue-strip")}getValue(d){return 1-d.hsva.h/360}}class l extends L.Widget{constructor(d,h,p,w){super();this.model=h,this.pixelRatio=p,this._register(_.onDidChangeZoomLevel(()=>this.layout()));const b=s(".colorpicker-widget");d.appendChild(b);const g=new o(b,this.model,w);this.body=new a(b,this.model,this.pixelRatio),this._register(g),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=l}),define(ie[612],ne([0,1,3,52,31,22,11]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class m{constructor(i){this._editor=i,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const i=this._findScopeDecorationIds.map(C=>this._editor.getModel().getDecorationRange(C)).filter(C=>!!C);if(i.length)return i}return null}getStartPosition(){return this._startPosition}setStartPosition(i){this._startPosition=i,this.setCurrentFindMatch(null)}_getDecorationIndex(i){const C=this._decorations.indexOf(i);return C>=0?C+1:1}getCurrentMatchesPosition(i){let C=this._editor.getModel().getDecorationsInRange(i);for(const s of C){const o=s.options;if(o===m._FIND_MATCH_DECORATION||o===m._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(s.id)}return 0}setCurrentFindMatch(i){let C=null,s=0;if(i)for(let o=0,a=this._decorations.length;o<a;o++){let c=this._editor.getModel().getDecorationRange(this._decorations[o]);if(i.equalsRange(c)){C=this._decorations[o],s=o+1;break}}return(this._highlightedDecorationId!==null||C!==null)&&this._editor.changeDecorations(o=>{if(this._highlightedDecorationId!==null&&(o.changeDecorationOptions(this._highlightedDecorationId,m._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),C!==null&&(this._highlightedDecorationId=C,o.changeDecorationOptions(this._highlightedDecorationId,m._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),C!==null){let a=this._editor.getModel().getDecorationRange(C);if(a.startLineNumber!==a.endLineNumber&&a.endColumn===1){let c=a.endLineNumber-1,u=this._editor.getModel().getLineMaxColumn(c);a=new _.Range(a.startLineNumber,a.startColumn,c,u)}this._rangeHighlightDecorationId=o.addDecoration(a,m._RANGE_HIGHLIGHT_DECORATION)}}),s}set(i,C){this._editor.changeDecorations(s=>{let o=m._FIND_MATCH_DECORATION,a=[];if(i.length>1e3){o=m._FIND_MATCH_NO_OVERVIEW_DECORATION;const u=this._editor.getModel().getLineCount(),n=this._editor.getLayoutInfo().height/u,l=Math.max(2,Math.ceil(3/n));let t=i[0].range.startLineNumber,d=i[0].range.endLineNumber;for(let h=1,p=i.length;h<p;h++){const w=i[h].range;d+l>=w.startLineNumber?w.endLineNumber>d&&(d=w.endLineNumber):(a.push({range:new _.Range(t,1,d,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),t=w.startLineNumber,d=w.endLineNumber)}a.push({range:new _.Range(t,1,d,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let c=new Array(i.length);for(let u=0,r=i.length;u<r;u++)c[u]={range:i[u].range,options:o};this._decorations=s.deltaDecorations(this._decorations,c),this._overviewRulerApproximateDecorations=s.deltaDecorations(this._overviewRulerApproximateDecorations,a),this._rangeHighlightDecorationId&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(u=>s.removeDecoration(u)),this._findScopeDecorationIds=[]),(C==null?void 0:C.length)&&(this._findScopeDecorationIds=C.map(u=>s.addDecoration(u,m._FIND_SCOPE_DECORATION)))})}matchBeforePosition(i){if(this._decorations.length===0)return null;for(let C=this._decorations.length-1;C>=0;C--){let s=this._decorations[C],o=this._editor.getModel().getDecorationRange(s);if(!(!o||o.endLineNumber>i.lineNumber)){if(o.endLineNumber<i.lineNumber)return o;if(!(o.endColumn>i.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(i){if(this._decorations.length===0)return null;for(let C=0,s=this._decorations.length;C<s;C++){let o=this._decorations[C],a=this._editor.getModel().getDecorationRange(o);if(!(!a||a.startLineNumber<i.lineNumber)){if(a.startLineNumber>i.lineNumber)return a;if(!(a.startColumn<i.column))return a}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let i=[];return i=i.concat(this._decorations),i=i.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&i.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&i.push(this._rangeHighlightDecorationId),i}}e.FindDecorations=m,m._CURRENT_FIND_MATCH_DECORATION=M.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:S.themeColorFromId(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:S.themeColorFromId(L.minimapFindMatch),position:k.MinimapPosition.Inline}}),m._FIND_MATCH_DECORATION=M.ModelDecorationOptions.register({description:"find-match",stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:S.themeColorFromId(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:S.themeColorFromId(L.minimapFindMatch),position:k.MinimapPosition.Inline}}),m._FIND_MATCH_NO_OVERVIEW_DECORATION=M.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),m._FIND_MATCH_ONLY_OVERVIEW_DECORATION=M.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:S.themeColorFromId(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),m._RANGE_HIGHLIGHT_DECORATION=M.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),m._FIND_SCOPE_DECORATION=M.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ie[147],ne([0,1,15,2,95,13,3,21,171,612,412,413,16,19]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new o.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_INPUT_FOCUSED=new o.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new o.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const c=240;class u{constructor(n,l){this._toDispose=new k.DisposableStore,this._editor=n,this._state=l,this._isDisposed=!1,this._startSearchingTimer=new _.TimeoutTimer,this._decorations=new i.FindDecorations(n),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new _.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(t=>{(t.reason===3||t.reason===5||t.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(t=>{this._ignoreModelContentChanged||(t.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(t=>this._onStateChanged(t))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,k.dispose(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(n){this._isDisposed||!this._editor.hasModel()||(n.searchString||n.isReplaceRevealed||n.isRegex||n.wholeWord||n.matchCase||n.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor)},c)):n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor))}static _getSearchRange(n,l){return l||n.getFullModelRange()}research(n,l){let t=null;typeof l!="undefined"?l!==null&&(Array.isArray(l)?t=l:t=[l]):t=this._decorations.getFindScopes(),t!==null&&(t=t.map(w=>{if(w.startLineNumber!==w.endLineNumber){let b=w.endLineNumber;return w.endColumn===1&&(b=b-1),new S.Range(w.startLineNumber,1,b,this._editor.getModel().getLineMaxColumn(b))}return w}));let d=this._findMatches(t,!1,e.MATCHES_LIMIT);this._decorations.set(d,t);const h=this._editor.getSelection();let p=this._decorations.getCurrentMatchesPosition(h);if(p===0&&d.length>0){const w=a.findFirstInSorted(d.map(b=>b.range),b=>S.Range.compareRangesUsingStarts(b,h)>=0);p=w>0?w-1+1:p}this._state.changeMatchInfo(p,this._decorations.getCount(),void 0),n&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let n=this._decorations.getFindScope();return n&&this._editor.revealRangeInCenterIfOutsideViewport(n,0),!0}return!1}_setCurrentFindMatch(n){let l=this._decorations.setCurrentFindMatch(n);this._state.changeMatchInfo(l,this._decorations.getCount(),n),this._editor.setSelection(n),this._editor.revealRangeInCenterIfOutsideViewport(n,0)}_prevSearchPosition(n){let l=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:d}=n,h=this._editor.getModel();return l||d===1?(t===1?t=h.getLineCount():t--,d=h.getLineMaxColumn(t)):d--,new L.Position(t,d)}_moveToPrevMatch(n,l=!1){if(!this._state.canNavigateBack()){const f=this._decorations.matchAfterPosition(n);f&&this._setCurrentFindMatch(f);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let f=this._decorations.matchBeforePosition(n);f&&f.isEmpty()&&f.getStartPosition().equals(n)&&(n=this._prevSearchPosition(n),f=this._decorations.matchBeforePosition(n)),f&&this._setCurrentFindMatch(f);return}if(this._cannotFind())return;let t=this._decorations.getFindScope(),d=u._getSearchRange(this._editor.getModel(),t);d.getEndPosition().isBefore(n)&&(n=d.getEndPosition()),n.isBefore(d.getStartPosition())&&(n=d.getEndPosition());let{lineNumber:h,column:p}=n,w=this._editor.getModel(),b=new L.Position(h,p),g=w.findPreviousMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,!1);if(g&&g.range.isEmpty()&&g.range.getStartPosition().equals(b)&&(b=this._prevSearchPosition(b),g=w.findPreviousMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,!1)),!!g){if(!l&&!d.containsRange(g.range))return this._moveToPrevMatch(g.range.getStartPosition(),!0);this._setCurrentFindMatch(g.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(n){let l=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:d}=n,h=this._editor.getModel();return l||d===h.getLineMaxColumn(t)?(t===h.getLineCount()?t=1:t++,d=1):d++,new L.Position(t,d)}_moveToNextMatch(n){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(n);t&&this._setCurrentFindMatch(t);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let t=this._decorations.matchAfterPosition(n);t&&t.isEmpty()&&t.getStartPosition().equals(n)&&(n=this._nextSearchPosition(n),t=this._decorations.matchAfterPosition(n)),t&&this._setCurrentFindMatch(t);return}let l=this._getNextMatch(n,!1,!0);l&&this._setCurrentFindMatch(l.range)}_getNextMatch(n,l,t,d=!1){if(this._cannotFind())return null;let h=this._decorations.getFindScope(),p=u._getSearchRange(this._editor.getModel(),h);p.getEndPosition().isBefore(n)&&(n=p.getStartPosition()),n.isBefore(p.getStartPosition())&&(n=p.getStartPosition());let{lineNumber:w,column:b}=n,g=this._editor.getModel(),f=new L.Position(w,b),y=g.findNextMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,l);return t&&y&&y.range.isEmpty()&&y.range.getStartPosition().equals(f)&&(f=this._nextSearchPosition(f),y=g.findNextMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,l)),y?!d&&!p.containsRange(y.range)?this._getNextMatch(y.range.getEndPosition(),l,t,!0):y:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?s.parseReplaceString(this._state.replaceString):s.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let n=this._getReplacePattern(),l=this._editor.getSelection(),t=this._getNextMatch(l.getStartPosition(),!0,!1);if(t)if(l.equalsRange(t.range)){let d=n.buildReplaceString(t.matches,this._state.preserveCase),h=new M.ReplaceCommand(l,d);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new L.Position(l.startLineNumber,l.startColumn+d.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(t.range)}_findMatches(n,l,t){const d=(n||[null]).map(h=>u._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,l,t)}replaceAll(){if(!this._hasMatches())return;const n=this._decorations.getFindScopes();n===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(n),this.research(!1)}_largeReplaceAll(){const l=new v.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null).parseSearchRequest();if(!l)return;let t=l.regex;if(!t.multiline){let y="mu";t.ignoreCase&&(y+="i"),t.global&&(y+="g"),t=new RegExp(t.source,y)}const d=this._editor.getModel(),h=d.getValue(1),p=d.getFullModelRange(),w=this._getReplacePattern();let b;const g=this._state.preserveCase;w.hasReplacementPatterns||g?b=h.replace(t,function(){return w.buildReplaceString(arguments,g)}):b=h.replace(t,w.buildReplaceString(null,g));let f=new M.ReplaceCommandThatPreservesSelection(p,b,this._editor.getSelection());this._executeEditorCommand("replaceAll",f)}_regularReplaceAll(n){const l=this._getReplacePattern();let t=this._findMatches(n,l.hasReplacementPatterns||this._state.preserveCase,1073741824),d=[];for(let p=0,w=t.length;p<w;p++)d[p]=l.buildReplaceString(t[p].matches,this._state.preserveCase);let h=new C.ReplaceAllCommand(this._editor.getSelection(),t.map(p=>p.range),d);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!this._hasMatches())return;let n=this._decorations.getFindScopes(),t=this._findMatches(n,!1,1073741824).map(h=>new m.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)),d=this._editor.getSelection();for(let h=0,p=t.length;h<p;h++)if(t[h].equalsRange(d)){t=[d].concat(t.slice(0,h)).concat(t.slice(h+1));break}this._editor.setSelections(t)}_executeEditorCommand(n,l){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(n,l),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=u}),define(ie[613],ne([0,1,7,238,51,15,147,22,11]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class i extends M.Widget{constructor(s,o,a,c){super();this._hideSoon=this._register(new L.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=s,this._state=o,this._keybindingService=a,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const u=c.getColorTheme().getColor(m.inputActiveOptionBorder),r=c.getColorTheme().getColor(m.inputActiveOptionForeground),n=c.getColorTheme().getColor(m.inputActiveOptionBackground);this.caseSensitive=this._register(new k.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:u,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:u,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:u,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(l=>{let t=!1;l.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),l.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),l.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register(_.addDisposableNonBubblingMouseOutListener(this._domNode,l=>this._onMouseOut())),this._register(_.addDisposableListener(this._domNode,"mouseover",l=>this._onMouseOver())),this._applyTheme(c.getColorTheme()),this._register(c.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(s){let o=this._keybindingService.lookupKeybinding(s);return o?` (${o.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return i.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(s){let o={inputActiveOptionBorder:s.getColor(m.inputActiveOptionBorder),inputActiveOptionForeground:s.getColor(m.inputActiveOptionForeground),inputActiveOptionBackground:s.getColor(m.inputActiveOptionBackground)};this.caseSensitive.style(o),this.wholeWords.style(o),this.regex.style(o)}}e.FindOptionsWidget=i,i.ID="editor.contrib.findOptionsWidget",v.registerThemingParticipant((C,s)=>{const o=C.getColor(m.editorWidgetBackground);o&&s.addRule(`.monaco-editor .findOptionsWidget { background-color: ${o}; }`);const a=C.getColor(m.editorWidgetForeground);a&&s.addRule(`.monaco-editor .findOptionsWidget { color: ${a}; }`);const c=C.getColor(m.widgetShadow);c&&s.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${c}; }`);const u=C.getColor(m.contrastBorder);u&&s.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${u}; }`)})}),define(ie[614],ne([0,1,6,2,3,147]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(v,i){return v===1?!0:v===2?!1:i}class m extends k.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new _.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(i,C,s){let o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},a=!1;C===0&&(i=0),i>C&&(i=C),this._matchesPosition!==i&&(this._matchesPosition=i,o.matchesPosition=!0,a=!0),this._matchesCount!==C&&(this._matchesCount=C,o.matchesCount=!0,a=!0),typeof s!="undefined"&&(M.Range.equalsRange(this._currentMatch,s)||(this._currentMatch=s,o.currentMatch=!0,a=!0)),a&&this._onFindReplaceStateChange.fire(o)}change(i,C,s=!0){var o;let a={moveCursor:C,updateHistory:s,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},c=!1;const u=this.isRegex,r=this.wholeWord,n=this.matchCase,l=this.preserveCase;typeof i.searchString!="undefined"&&this._searchString!==i.searchString&&(this._searchString=i.searchString,a.searchString=!0,c=!0),typeof i.replaceString!="undefined"&&this._replaceString!==i.replaceString&&(this._replaceString=i.replaceString,a.replaceString=!0,c=!0),typeof i.isRevealed!="undefined"&&this._isRevealed!==i.isRevealed&&(this._isRevealed=i.isRevealed,a.isRevealed=!0,c=!0),typeof i.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==i.isReplaceRevealed&&(this._isReplaceRevealed=i.isReplaceRevealed,a.isReplaceRevealed=!0,c=!0),typeof i.isRegex!="undefined"&&(this._isRegex=i.isRegex),typeof i.wholeWord!="undefined"&&(this._wholeWord=i.wholeWord),typeof i.matchCase!="undefined"&&(this._matchCase=i.matchCase),typeof i.preserveCase!="undefined"&&(this._preserveCase=i.preserveCase),typeof i.searchScope!="undefined"&&(((o=i.searchScope)===null||o===void 0?void 0:o.every(t=>{var d;return(d=this._searchScope)===null||d===void 0?void 0:d.some(h=>!M.Range.equalsRange(h,t))}))||(this._searchScope=i.searchScope,a.searchScope=!0,c=!0)),typeof i.loop!="undefined"&&this._loop!==i.loop&&(this._loop=i.loop,a.loop=!0,c=!0),this._isRegexOverride=typeof i.isRegexOverride!="undefined"?i.isRegexOverride:0,this._wholeWordOverride=typeof i.wholeWordOverride!="undefined"?i.wholeWordOverride:0,this._matchCaseOverride=typeof i.matchCaseOverride!="undefined"?i.matchCaseOverride:0,this._preserveCaseOverride=typeof i.preserveCaseOverride!="undefined"?i.preserveCaseOverride:0,u!==this.isRegex&&(c=!0,a.isRegex=!0),r!==this.wholeWord&&(c=!0,a.wholeWord=!0),n!==this.matchCase&&(c=!0,a.matchCase=!0),l!==this.preserveCase&&(c=!0,a.preserveCase=!0),c&&this._onFindReplaceStateChange.fire(a)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=L.MATCHES_LIMIT}}e.FindReplaceState=m}),define(ie[615],ne([0,1,118,67,179,208,121,11,122,7,494,163,43,2,9,37,66,161]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let l=class{constructor(I){this._resolverService=I}hasChildren(I){return I instanceof _.ReferencesModel||I instanceof _.FileReferences}getChildren(I){if(I instanceof _.ReferencesModel)return I.groups;if(I instanceof _.FileReferences)return I.resolve(this._resolverService).then(N=>N.children);throw new Error("bad tree")}};l=Me([_e(0,k.ITextModelService)],l),e.DataSource=l;class t{getHeight(){return 23}getTemplateId(I){return I instanceof _.FileReferences?w.id:g.id}}e.Delegate=t;let d=class{constructor(I){this._keybindingService=I}getKeyboardNavigationLabel(I){var N;if(I instanceof _.OneReference){const D=(N=I.parent.getPreview(I))===null||N===void 0?void 0:N.preview(I.range);if(D)return D.value}return o.basename(I.uri)}};d=Me([_e(0,u.IKeybindingService)],d),e.StringRepresentationProvider=d;class h{getId(I){return I instanceof _.OneReference?I.id:I.uri}}e.IdentityProvider=h;let p=class extends a.Disposable{constructor(I,N,D){super();this._uriLabel=N;const T=document.createElement("div");T.classList.add("reference-file"),this.file=this._register(new M.IconLabel(T,{supportHighlights:!0})),this.badge=new L.CountBadge(i.append(T,i.$(".count"))),this._register(v.attachBadgeStyler(this.badge,D)),I.appendChild(T)}set(I,N){let D=o.dirname(I.uri);this.file.setLabel(s.getBaseLabel(I.uri),this._uriLabel.getUriLabel(D,{relative:!0}),{title:this._uriLabel.getUriLabel(I.uri),matches:N});const T=I.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat(C.localize(0,null,T)):this.badge.setTitleFormat(C.localize(1,null,T))}};p=Me([_e(1,S.ILabelService),_e(2,m.IThemeService)],p);let w=class Ft{constructor(I){this._instantiationService=I,this.templateId=Ft.id}renderTemplate(I){return this._instantiationService.createInstance(p,I)}renderElement(I,N,D){D.set(I.element,r.createMatches(I.filterData))}disposeTemplate(I){I.dispose()}};w.id="FileReferencesRenderer",w=Me([_e(0,c.IInstantiationService)],w),e.FileReferencesRenderer=w;class b{constructor(I){this.label=new n.HighlightedLabel(I,!1)}set(I,N){var D;const T=(D=I.parent.getPreview(I))===null||D===void 0?void 0:D.preview(I.range);if(!T||!T.value)this.label.set(`${o.basename(I.uri)}:${I.range.startLineNumber+1}:${I.range.startColumn+1}`);else{const{value:P,highlight:R}=T;N&&!r.FuzzyScore.isDefault(N)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(P,r.createMatches(N))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(P,[R]))}}}class g{constructor(){this.templateId=g.id}renderTemplate(I){return new b(I)}renderElement(I,N,D){D.set(I.element,I.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=g,g.id="OneReferenceRenderer";class f{getWidgetAriaLabel(){return C.localize(2,null)}getAriaLabel(I){return I.ariaMessage}}e.AccessibilityProvider=f}),define(ie[616],ne([0,1,7,2,3,28,8,114,35,82,65,84,13,11,48,29,39,136,355]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const t=(l=window.trustedTypes)===null||l===void 0?void 0:l.createPolicy("editorGhostText",{createHTML:I=>I});let d=class extends k.Disposable{constructor(N,D,T,P){super();this.editor=N,this.model=D,this.codeEditorService=T,this.themeService=P,this.disposed=!1,this.partsWidget=this._register(new h(this.editor,this.codeEditorService,this.themeService)),this.additionalLinesWidget=this._register(new w(this.editor)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(R=>{(R.hasChanged(27)||R.hasChanged(103)||R.hasChanged(86)||R.hasChanged(80)||R.hasChanged(41)||R.hasChanged(40)||R.hasChanged(56))&&this.update()})),this._register(k.toDisposable(()=>{var R;this.disposed=!0,this.update(),(R=this.viewMoreContentWidget)===null||R===void 0||R.dispose(),this.viewMoreContentWidget=void 0})),this._register(D.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(N){return this.additionalLinesWidget.viewZoneId===N}update(){var N;const D=this.model.ghostText;if(!this.editor.hasModel()||!D||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const T=new Array,P=new Array;function R(E,W){if(P.length>0){const V=P[P.length-1];W&&V.decorations.push(new n.LineDecoration(V.content.length+1,V.content.length+1+E[0].length,W,0)),V.content+=E[0],E=E.slice(1)}for(const V of E)P.push({content:V,decorations:W?[new n.LineDecoration(1,V.length+1,W,0)]:[]})}const O=this.editor.getModel().getLineContent(D.lineNumber);this.editor.getModel().getLineTokens(D.lineNumber);let A,F=0;for(const E of D.parts){let W=E.lines;A===void 0?(T.push({column:E.column,text:W[0]}),W=W.slice(1)):R([O.substring(F,E.column-1)],void 0),W.length>0&&(R(W,"ghost-text"),A===void 0&&E.column<=O.length&&(A=E.column)),F=E.column-1}A!==void 0&&R([O.substring(F)],void 0),this.partsWidget.setParts(D.lineNumber,T,A!==void 0?{column:A,length:O.length+1-A}:void 0),this.additionalLinesWidget.updateLines(D.lineNumber,P,D.additionalReservedLineCount),D.parts.some(E=>E.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new o.Position(D.lineNumber,this.editor.getModel().getLineMaxColumn(D.lineNumber)),"",0):((N=this.viewMoreContentWidget)===null||N===void 0||N.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(N,D,T){const P=this.editor.getOption(40),R=document.createElement("div");R.className="suggest-preview-additional-widget",C.Configuration.applyFontInfoSlow(R,P);const O=document.createElement("span");O.className="content-spacer",O.append(D),R.append(O);const A=document.createElement("span");A.className="content-newline suggest-preview-text",A.append("\u23CE  "),R.append(A);const F=new k.DisposableStore,E=document.createElement("div");return E.className="button suggest-preview-text",E.append(`+${T} lines\u2026`),F.add(_.addStandardDisposableListener(E,"mousedown",W=>{var V;(V=this.model)===null||V===void 0||V.setExpanded(!0),W.preventDefault(),this.editor.focus()})),R.append(E),new y(this.editor,N,R,F)}};d=Me([_e(2,L.ICodeEditorService),_e(3,a.IThemeService)],d),e.GhostTextWidget=d;let h=class{constructor(N,D,T){this.editor=N,this.codeEditorService=D,this.themeService=T,this.decorationIds=[],this.disposableStore=new k.DisposableStore}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(N,D,T){this.disposableStore.clear();const P=this.themeService.getColorTheme(),R=P.getColor(c.ghostTextForeground);let O,A;R&&(O=String(R.rgba.a),A=u.Color.Format.CSS.format(p(R)));const F=P.getColor(c.ghostTextBorder);let E;F&&(E=`2px dashed ${F}`);const W=this.editor.getModel();if(!W)return;const{tabSize:V}=W.getOptions(),U=W.getLineContent(N)||"";let q=0,j="";const te=new Array;T&&te.push({range:M.Range.fromPositions(new o.Position(N,T.column),new o.Position(N,T.column+T.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,D.map(ae=>{j+=U.substring(q,ae.column-1),q=ae.column-1;const de=this.renderSingleLineText(ae.text,j,V,!1),ue=this.disposableStore.add(f(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:de,opacity:O,color:A,border:E}}));return{range:M.Range.fromPositions(new o.Position(N,ae.column)),options:Object.assign({},ue.resolve())}}).concat(te))}renderSingleLineText(N,D,T,P){const R=D+N,O=r.CursorColumns.visibleColumnsByColumns(R,T);let A="",F=D.length+1;for(const E of N){if(E==="	"){const W=O[F+1]-O[F];if(P){A+="\u2192";for(let V=1;V<W;V++)A+="\xA0"}else for(let V=0;V<W;V++)A+="\xA0"}else E===" "?P?A+="\xB7":A+="\xA0":A+=E;F+=1}return A}};h=Me([_e(1,L.ICodeEditorService),_e(2,a.IThemeService)],h);function p(I){const{r:N,b:D,g:T}=I.rgba;return new u.Color(new u.RGBA(N,T,D,255))}class w{constructor(N){this.editor=N,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(N=>{this._viewZoneId&&(N.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(N,D,T){const P=this.editor.getModel();if(!P)return;const{tabSize:R}=P.getOptions();this.editor.changeViewZones(O=>{this._viewZoneId&&(O.removeZone(this._viewZoneId),this._viewZoneId=void 0);const A=Math.max(D.length,T);if(A>0){const F=document.createElement("div");b(F,R,D,this.editor.getOptions()),this._viewZoneId=O.addZone({afterLineNumber:N,heightInLines:A,domNode:F})}})}}function b(I,N,D,T){const P=T.get(27),R=T.get(103),O="none",A=T.get(80),F=T.get(41),E=T.get(40),W=T.get(56),V=i.createStringBuilder(1e4);V.appendASCIIString('<div class="suggest-preview-text">');for(let j=0,te=D.length;j<te;j++){const ae=D[j],de=ae.content;V.appendASCIIString('<div class="view-line'),V.appendASCIIString('" style="top:'),V.appendASCIIString(String(j*W)),V.appendASCIIString('px;width:1000000px;">');const ue=S.isBasicASCII(de),X=S.containsRTL(de),B=s.LineTokens.createEmpty(de);m.renderViewLine(new m.RenderLineInput(E.isMonospace&&!P,E.canUseHalfwidthRightwardsArrow,de,!1,ue,X,0,B,ae.decorations,N,0,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,R,O,A,F!==v.EditorFontLigatures.OFF,null),V),V.appendASCIIString("</div>")}V.appendASCIIString("</div>"),C.Configuration.applyFontInfoSlow(I,E);const U=V.build(),q=t?t.createHTML(U):U;I.innerHTML=q}let g=0;function f(I,N,D,T){const P=D+g++;return I.registerDecorationType(N,P,T),{dispose(){I.removeDecorationType(P)},resolve(){return I.resolveDecorationOptions(P,!0)}}}class y extends k.Disposable{constructor(N,D,T,P){super();this.editor=N,this.position=D,this.domNode=T,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(P),this._register(k.toDisposable(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}a.registerThemingParticipant((I,N)=>{const D=I.getColor(c.ghostTextForeground);if(D){const P=String(D.rgba.a),R=u.Color.Format.CSS.format(p(D));N.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${P}; color: ${R}; }`)}const T=I.getColor(c.ghostTextBorder);T&&N.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 2px dashed ${T}; }`)})}),define(ie[262],ne([0,1,52,11,48,2,110,20,90]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class i{constructor(s){this.options=s,this.rangeHighlightDecorationId=void 0}provide(s,o){var a;const c=new L.DisposableStore;s.canAcceptInBackground=!!((a=this.options)===null||a===void 0?void 0:a.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;const u=c.add(new L.MutableDisposable);return u.value=this.doProvide(s,o),c.add(this.onDidActiveTextEditorControlChange(()=>{u.value=void 0,u.value=this.doProvide(s,o)})),c}doProvide(s,o){const a=new L.DisposableStore,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const u={editor:c},r=S.getCodeEditor(c);if(r){let n=m.withNullAsUndefined(c.saveViewState());a.add(r.onDidChangeCursorPosition(()=>{n=m.withNullAsUndefined(c.saveViewState())})),u.restoreViewState=()=>{n&&c===this.activeTextEditorControl&&c.restoreViewState(n)},a.add(v.once(o.onCancellationRequested)(()=>{var l;return(l=u.restoreViewState)===null||l===void 0?void 0:l.call(u)}))}a.add(L.toDisposable(()=>this.clearDecorations(c))),a.add(this.provideWithTextEditor(u,s,o))}else a.add(this.provideWithoutTextEditor(s,o));return a}canProvideWithTextEditor(s){return!0}gotoLocation({editor:s},o){s.setSelection(o.range),s.revealRangeInCenter(o.range,0),o.preserveFocus||s.focus()}getModel(s){var o;return S.isDiffEditor(s)?(o=s.getModel())===null||o===void 0?void 0:o.modified:s.getModel()}addDecorations(s,o){s.changeDecorations(a=>{const c=[];this.rangeHighlightDecorationId&&(c.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),c.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const u=[{range:o,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:o,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:k.themeColorFromId(M.overviewRulerRangeHighlight),position:_.OverviewRulerLane.Full}}}],[r,n]=a.deltaDecorations(c,u);this.rangeHighlightDecorationId={rangeHighlightId:r,overviewRulerDecorationId:n}})}clearDecorations(s){const o=this.rangeHighlightDecorationId;o&&(s.changeDecorations(a=>{a.deltaDecorations([o.overviewRulerDecorationId,o.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=i}),define(ie[617],ne([0,1,513,2,262,110]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends M.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(v){const i=_.localize(0,null);return v.items=[{label:i}],v.ariaLabel=i,k.Disposable.None}provideWithTextEditor(v,i,C){const s=v.editor,o=new k.DisposableStore;o.add(i.onDidAccept(u=>{const[r]=i.selectedItems;if(r){if(!this.isValidLineNumber(s,r.lineNumber))return;this.gotoLocation(v,{range:this.toRange(r.lineNumber,r.column),keyMods:i.keyMods,preserveFocus:u.inBackground}),u.inBackground||i.hide()}}));const a=()=>{const u=this.parsePosition(s,i.value.trim().substr(S.PREFIX.length)),r=this.getPickLabel(s,u.lineNumber,u.column);if(i.items=[{lineNumber:u.lineNumber,column:u.column,label:r}],i.ariaLabel=r,!this.isValidLineNumber(s,u.lineNumber)){this.clearDecorations(s);return}const n=this.toRange(u.lineNumber,u.column);s.revealRangeInCenter(n,0),this.addDecorations(s,n)};a(),o.add(i.onDidChangeValue(()=>a()));const c=L.getCodeEditor(s);return c&&c.getOptions().get(57).renderType===2&&(c.updateOptions({lineNumbers:"on"}),o.add(k.toDisposable(()=>c.updateOptions({lineNumbers:"relative"})))),o}toRange(v=1,i=1){return{startLineNumber:v,startColumn:i,endLineNumber:v,endColumn:i}}parsePosition(v,i){const C=i.split(/,|:|#/).map(o=>parseInt(o,10)).filter(o=>!isNaN(o)),s=this.lineCount(v)+1;return{lineNumber:C[0]>0?C[0]:s+C[0],column:C[1]}}getPickLabel(v,i,C){if(this.isValidLineNumber(v,i))return this.isValidColumn(v,i,C)?_.localize(1,null,i,C):_.localize(2,null,i);const s=v.getPosition()||{lineNumber:1,column:1},o=this.lineCount(v);return o>1?_.localize(3,null,s.lineNumber,s.column,o):_.localize(4,null,s.lineNumber,s.column)}isValidLineNumber(v,i){return!i||typeof i!="number"?!1:i>0&&i<=this.lineCount(v)}isValidColumn(v,i,C){if(!C||typeof C!="number")return!1;const s=this.getModel(v);if(!s)return!1;const o={lineNumber:i,column:C};return s.validatePosition(o).equals(o)}lineCount(v){var i,C;return(C=(i=this.getModel(v))===null||i===void 0?void 0:i.getLineCount())!==null&&C!==void 0?C:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(ie[618],ne([0,1,514,23,2,3,262,18,249,8,295,27]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class o extends S.AbstractEditorNavigationQuickAccessProvider{constructor(r=Object.create(null)){super(r);this.options=r,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(r){return this.provideLabelPick(r,_.localize(0,null)),M.Disposable.None}provideWithTextEditor(r,n,l){const t=r.editor,d=this.getModel(t);return d?m.DocumentSymbolProviderRegistry.has(d)?this.doProvideWithEditorSymbols(r,d,n,l):this.doProvideWithoutEditorSymbols(r,d,n,l):M.Disposable.None}doProvideWithoutEditorSymbols(r,n,l,t){const d=new M.DisposableStore;return this.provideLabelPick(l,_.localize(1,null)),(()=>Ie(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(n,d))||t.isCancellationRequested||d.add(this.doProvideWithEditorSymbols(r,n,l,t))}))(),d}provideLabelPick(r,n){r.items=[{label:n,index:0,kind:14}],r.ariaLabel=n}waitForLanguageSymbolRegistry(r,n){return Ie(this,void 0,void 0,function*(){if(m.DocumentSymbolProviderRegistry.has(r))return!0;let l;const t=new Promise(h=>l=h),d=n.add(m.DocumentSymbolProviderRegistry.onDidChange(()=>{m.DocumentSymbolProviderRegistry.has(r)&&(d.dispose(),l(!0))}));return n.add(M.toDisposable(()=>l(!1))),t})}doProvideWithEditorSymbols(r,n,l,t){const d=r.editor,h=new M.DisposableStore;h.add(l.onDidAccept(f=>{const[y]=l.selectedItems;y&&y.range&&(this.gotoLocation(r,{range:y.range.selection,keyMods:l.keyMods,preserveFocus:f.inBackground}),f.inBackground||l.hide())})),h.add(l.onDidTriggerItemButton(({item:f})=>{f&&f.range&&(this.gotoLocation(r,{range:f.range.selection,keyMods:l.keyMods,forceSideBySide:!0}),l.hide())}));const p=this.getDocumentSymbols(n,t);let w;const b=()=>Ie(this,void 0,void 0,function*(){w==null||w.dispose(!0),l.busy=!1,w=new k.CancellationTokenSource(t),l.busy=!0;try{const f=C.prepareQuery(l.value.substr(o.PREFIX.length).trim()),y=yield this.doGetSymbolPicks(p,f,void 0,w.token);if(t.isCancellationRequested)return;y.length>0?l.items=y:f.original.length>0?this.provideLabelPick(l,_.localize(2,null)):this.provideLabelPick(l,_.localize(3,null))}finally{t.isCancellationRequested||(l.busy=!1)}});h.add(l.onDidChangeValue(()=>b())),b();let g=!0;return h.add(l.onDidChangeActive(()=>{const[f]=l.activeItems;if(f&&f.range){if(g){g=!1;return}d.revealRangeInCenter(f.range.selection,0),this.addDecorations(d,f.range.decoration)}})),h}doGetSymbolPicks(r,n,l,t){return Ie(this,void 0,void 0,function*(){const d=yield r;if(t.isCancellationRequested)return[];const h=n.original.indexOf(o.SCOPE_PREFIX)===0,p=h?1:0;let w,b;n.values&&n.values.length>1?(w=C.pieceToQuery(n.values[0]),b=C.pieceToQuery(n.values.slice(1))):w=n;const g=[];for(let I=0;I<d.length;I++){const N=d[I],D=i.trim(N.name),T=`$(symbol-${m.SymbolKinds.toString(N.kind)||"property"}) ${D}`,P=T.length-D.length;let R=N.containerName;(l==null?void 0:l.extraContainerLabel)&&(R?R=`${l.extraContainerLabel} \u2022 ${R}`:R=l.extraContainerLabel);let O,A,F,E;if(n.original.length>p){let V=!1;if(w!==n&&([O,A]=C.scoreFuzzy2(T,Object.assign(Object.assign({},n),{values:void 0}),p,P),typeof O=="number"&&(V=!0)),typeof O!="number"&&([O,A]=C.scoreFuzzy2(T,w,p,P),typeof O!="number"))continue;if(!V&&b){if(R&&b.original.length>0&&([F,E]=C.scoreFuzzy2(R,b)),typeof F!="number")continue;typeof O=="number"&&(O+=F)}}const W=N.tags&&N.tags.indexOf(1)>=0;g.push({index:I,kind:N.kind,score:O,label:T,ariaLabel:D,description:R,highlights:W?void 0:{label:A,description:E},range:{selection:L.Range.collapseToStart(N.selectionRange),decoration:N.range},strikethrough:W,buttons:(()=>{var V,U;const q=((V=this.options)===null||V===void 0?void 0:V.openSideBySideDirection)?(U=this.options)===null||U===void 0?void 0:U.openSideBySideDirection():void 0;if(!!q)return[{iconClass:q==="right"?s.Codicon.splitHorizontal.classNames:s.Codicon.splitVertical.classNames,tooltip:q==="right"?_.localize(4,null):_.localize(5,null)}]})()})}const f=g.sort((I,N)=>h?this.compareByKindAndScore(I,N):this.compareByScore(I,N));let y=[];if(h){let T=function(){N&&typeof I=="number"&&D>0&&(N.label=i.format(c[I]||a,D))},I,N,D=0;for(const P of f)I!==P.kind?(T(),I=P.kind,D=1,N={type:"separator"},y.push(N)):D++,y.push(P);T()}else f.length>0&&(y=[{label:_.localize(6,null,g.length),type:"separator"},...f]);return y})}compareByScore(r,n){if(typeof r.score!="number"&&typeof n.score=="number")return 1;if(typeof r.score=="number"&&typeof n.score!="number")return-1;if(typeof r.score=="number"&&typeof n.score=="number"){if(r.score>n.score)return-1;if(r.score<n.score)return 1}return r.index<n.index?-1:r.index>n.index?1:0}compareByKindAndScore(r,n){const l=c[r.kind]||a,t=c[n.kind]||a,d=l.localeCompare(t);return d===0?this.compareByScore(r,n):d}getDocumentSymbols(r,n){return Ie(this,void 0,void 0,function*(){const l=yield v.OutlineModel.create(r,n);return n.isCancellationRequested?[]:l.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=o,o.PREFIX="@",o.SCOPE_PREFIX=":",o.PREFIX_BY_CATEGORY=`${o.PREFIX}${o.SCOPE_PREFIX}`;const a=_.localize(7,null),c={[5]:_.localize(8,null),[11]:_.localize(9,null),[8]:_.localize(10,null),[12]:_.localize(11,null),[4]:_.localize(12,null),[22]:_.localize(13,null),[23]:_.localize(14,null),[24]:_.localize(15,null),[10]:_.localize(16,null),[2]:_.localize(17,null),[3]:_.localize(18,null),[25]:_.localize(19,null),[1]:_.localize(20,null),[6]:_.localize(21,null),[9]:_.localize(22,null),[21]:_.localize(23,null),[14]:_.localize(24,null),[0]:_.localize(25,null),[17]:_.localize(26,null),[15]:_.localize(27,null),[16]:_.localize(28,null),[18]:_.localize(29,null),[19]:_.localize(30,null),[7]:_.localize(31,null),[13]:_.localize(32,null)}}),define(ie[619],ne([0,1,2,13,516,16,22,11,37,360]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new L.RawContextKey("renameInputVisible",!1,M.localize(0,null));let i=class{constructor(s,o,a,c,u){this._editor=s,this._acceptKeybindings=o,this._themeService=a,this._keybindingService=c,this._disposables=new _.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(u),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(40)&&this._updateFont()})),this._disposables.add(a.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",M.localize(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const s=()=>{var o,a;const[c,u]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(c),this._label.innerText=M.localize(2,null,(o=this._keybindingService.lookupKeybinding(c))===null||o===void 0?void 0:o.getLabel(),(a=this._keybindingService.lookupKeybinding(u))===null||a===void 0?void 0:a.getLabel())};s(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(s)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(s){var o,a,c,u;if(!this._input||!this._domNode)return;const r=s.getColor(S.widgetShadow);this._domNode.style.backgroundColor=String((o=s.getColor(S.editorWidgetBackground))!==null&&o!==void 0?o:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.color=String((a=s.getColor(S.inputForeground))!==null&&a!==void 0?a:""),this._input.style.backgroundColor=String((c=s.getColor(S.inputBackground))!==null&&c!==void 0?c:"");const n=s.getColor(S.inputBorder);this._input.style.borderWidth=n?"1px":"0px",this._input.style.borderStyle=n?"solid":"none",this._input.style.borderColor=(u=n==null?void 0:n.toString())!==null&&u!==void 0?u:"none"}_updateFont(){if(!this._input||!this._label)return;const s=this._editor.getOption(40);this._input.style.fontFamily=s.fontFamily,this._input.style.fontWeight=s.fontWeight,this._input.style.fontSize=`${s.fontSize}px`,this._label.style.fontSize=`${s.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(s){s||this.cancelInput(!0)}acceptInput(s){this._currentAcceptInput&&this._currentAcceptInput(s)}cancelInput(s){this._currentCancelInput&&this._currentCancelInput(s)}getInput(s,o,a,c,u,r){this._domNode.classList.toggle("preview",u),this._position=new k.Position(s.startLineNumber,s.startColumn),this._input.value=o,this._input.setAttribute("selectionStart",a.toString()),this._input.setAttribute("selectionEnd",c.toString()),this._input.size=Math.max((s.endColumn-s.startColumn)*1.1,20);const n=new _.DisposableStore;return new Promise(l=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l(t),!0),this._currentAcceptInput=t=>{if(this._input.value.trim().length===0||this._input.value===o){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l({newName:this._input.value,wantsPreview:u&&t})},r.onCancellationRequested(()=>this.cancelInput(!0)),n.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{n.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};i=Me([_e(2,m.IThemeService),_e(3,v.IKeybindingService),_e(4,L.IContextKeyService)],i),e.RenameInputField=i}),define(ie[263],ne([0,1,526,11,22,27]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=M.registerColor("symbolIcon.arrayForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=M.registerColor("symbolIcon.booleanForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=M.registerColor("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},_.localize(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=M.registerColor("symbolIcon.colorForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=M.registerColor("symbolIcon.constantForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=M.registerColor("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},_.localize(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=M.registerColor("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},_.localize(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=M.registerColor("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_.localize(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=M.registerColor("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},_.localize(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=M.registerColor("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_.localize(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=M.registerColor("symbolIcon.fileForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=M.registerColor("symbolIcon.folderForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=M.registerColor("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},_.localize(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=M.registerColor("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_.localize(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=M.registerColor("symbolIcon.keyForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=M.registerColor("symbolIcon.keywordForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=M.registerColor("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},_.localize(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=M.registerColor("symbolIcon.moduleForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=M.registerColor("symbolIcon.namespaceForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=M.registerColor("symbolIcon.nullForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=M.registerColor("symbolIcon.numberForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=M.registerColor("symbolIcon.objectForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=M.registerColor("symbolIcon.operatorForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=M.registerColor("symbolIcon.packageForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=M.registerColor("symbolIcon.propertyForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=M.registerColor("symbolIcon.referenceForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=M.registerColor("symbolIcon.snippetForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=M.registerColor("symbolIcon.stringForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=M.registerColor("symbolIcon.structForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=M.registerColor("symbolIcon.textForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=M.registerColor("symbolIcon.typeParameterForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=M.registerColor("symbolIcon.unitForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},_.localize(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=M.registerColor("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_.localize(32,null)),k.registerThemingParticipant((S,m)=>{const v=S.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);v&&m.addRule(`${L.Codicon.symbolArray.cssSelector} { color: ${v}; }`);const i=S.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);i&&m.addRule(`${L.Codicon.symbolBoolean.cssSelector} { color: ${i}; }`);const C=S.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);C&&m.addRule(`${L.Codicon.symbolClass.cssSelector} { color: ${C}; }`);const s=S.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);s&&m.addRule(`${L.Codicon.symbolMethod.cssSelector} { color: ${s}; }`);const o=S.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);o&&m.addRule(`${L.Codicon.symbolColor.cssSelector} { color: ${o}; }`);const a=S.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);a&&m.addRule(`${L.Codicon.symbolConstant.cssSelector} { color: ${a}; }`);const c=S.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);c&&m.addRule(`${L.Codicon.symbolConstructor.cssSelector} { color: ${c}; }`);const u=S.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);u&&m.addRule(`
			${L.Codicon.symbolValue.cssSelector},${L.Codicon.symbolEnum.cssSelector} { color: ${u}; }`);const r=S.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);r&&m.addRule(`${L.Codicon.symbolEnumMember.cssSelector} { color: ${r}; }`);const n=S.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);n&&m.addRule(`${L.Codicon.symbolEvent.cssSelector} { color: ${n}; }`);const l=S.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);l&&m.addRule(`${L.Codicon.symbolField.cssSelector} { color: ${l}; }`);const t=S.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);t&&m.addRule(`${L.Codicon.symbolFile.cssSelector} { color: ${t}; }`);const d=S.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);d&&m.addRule(`${L.Codicon.symbolFolder.cssSelector} { color: ${d}; }`);const h=S.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);h&&m.addRule(`${L.Codicon.symbolFunction.cssSelector} { color: ${h}; }`);const p=S.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);p&&m.addRule(`${L.Codicon.symbolInterface.cssSelector} { color: ${p}; }`);const w=S.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);w&&m.addRule(`${L.Codicon.symbolKey.cssSelector} { color: ${w}; }`);const b=S.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);b&&m.addRule(`${L.Codicon.symbolKeyword.cssSelector} { color: ${b}; }`);const g=S.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);g&&m.addRule(`${L.Codicon.symbolModule.cssSelector} { color: ${g}; }`);const f=S.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);f&&m.addRule(`${L.Codicon.symbolNamespace.cssSelector} { color: ${f}; }`);const y=S.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);y&&m.addRule(`${L.Codicon.symbolNull.cssSelector} { color: ${y}; }`);const I=S.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);I&&m.addRule(`${L.Codicon.symbolNumber.cssSelector} { color: ${I}; }`);const N=S.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);N&&m.addRule(`${L.Codicon.symbolObject.cssSelector} { color: ${N}; }`);const D=S.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);D&&m.addRule(`${L.Codicon.symbolOperator.cssSelector} { color: ${D}; }`);const T=S.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);T&&m.addRule(`${L.Codicon.symbolPackage.cssSelector} { color: ${T}; }`);const P=S.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);P&&m.addRule(`${L.Codicon.symbolProperty.cssSelector} { color: ${P}; }`);const R=S.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);R&&m.addRule(`${L.Codicon.symbolReference.cssSelector} { color: ${R}; }`);const O=S.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);O&&m.addRule(`${L.Codicon.symbolSnippet.cssSelector} { color: ${O}; }`);const A=S.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);A&&m.addRule(`${L.Codicon.symbolString.cssSelector} { color: ${A}; }`);const F=S.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);F&&m.addRule(`${L.Codicon.symbolStruct.cssSelector} { color: ${F}; }`);const E=S.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);E&&m.addRule(`${L.Codicon.symbolText.cssSelector} { color: ${E}; }`);const W=S.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);W&&m.addRule(`${L.Codicon.symbolTypeParameter.cssSelector} { color: ${W}; }`);const V=S.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);V&&m.addRule(`${L.Codicon.symbolUnit.cssSelector} { color: ${V}; }`);const U=S.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);U&&m.addRule(`${L.Codicon.symbolVariable.cssSelector} { color: ${U}; }`)})}),define(ie[264],ne([0,1,7,46,597,16,11]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorServiceImpl=void 0;let m=class extends M.CodeEditorServiceImpl{constructor(i,C,s){super(i,s);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=C.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let i=!1;for(const C of this.listCodeEditors())if(!C.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}setActiveCodeEditor(i){this._activeCodeEditor=i}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(i,C,s){return C?Promise.resolve(this.doOpenEditor(C,i)):Promise.resolve(null)}doOpenEditor(i,C){if(!this.findModel(i,C.resource)){if(C.resource){const a=C.resource.scheme;if(a===k.Schemas.http||a===k.Schemas.https)return _.windowOpenNoOpener(C.resource.toString()),i}return null}const o=C.options?C.options.selection:null;if(o)if(typeof o.endLineNumber=="number"&&typeof o.endColumn=="number")i.setSelection(o),i.revealRangeInCenter(o,1);else{const a={lineNumber:o.startLineNumber,column:o.startColumn};i.setPosition(a),i.revealPositionInCenter(a,1)}return i}findModel(i,C){const s=i.getModel();return s&&s.uri.toString()!==C.toString()?null:s}};m=Me([_e(1,L.IContextKeyService),_e(2,S.IThemeService)],m),e.StandaloneCodeEditorServiceImpl=m}),define(ie[620],ne([0,1,48,22]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[_.editorIndentGuides]:"#D3D3D3",[_.editorActiveIndentGuides]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D",[k.listFocusHighlightForeground]:"#9DDDFF"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[_.editorIndentGuides]:"#404040",[_.editorActiveIndentGuides]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[_.editorIndentGuides]:"#FFFFFF",[_.editorActiveIndentGuides]:"#FFFFFF"}}}),define(ie[33],ne([0,1,49,9,16,26,2,6,11,53,71,27]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function o(r){return r.command!==void 0}e.isIMenuItem=o;class a{constructor(n){this.id=a._idPool++,this._debugName=n}}e.MenuId=a,a._idPool=0,a.CommandPalette=new a("CommandPalette"),a.EditorContext=new a("EditorContext"),a.SimpleEditorContext=new a("SimpleEditorContext"),a.EditorContextCopy=new a("EditorContextCopy"),a.EditorContextPeek=new a("EditorContextPeek"),a.MenubarEditMenu=new a("MenubarEditMenu"),a.MenubarCopy=new a("MenubarCopy"),a.MenubarGoMenu=new a("MenubarGoMenu"),a.MenubarSelectionMenu=new a("MenubarSelectionMenu"),a.InlineCompletionsActions=new a("InlineCompletionsActions"),e.IMenuService=k.createDecorator("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new m.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:r=>r===a.CommandPalette}}addCommand(r){return this.addCommands(i.Iterable.single(r))}addCommands(r){for(const n of r)this._commands.set(n.id,n);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),S.toDisposable(()=>{let n=!1;for(const l of r)n=this._commands.delete(l.id)||n;n&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(r){return this._commands.get(r)}getCommands(){const r=new Map;return this._commands.forEach((n,l)=>r.set(l,n)),r}appendMenuItem(r,n){return this.appendMenuItems(i.Iterable.single({id:r,item:n}))}appendMenuItems(r){const n=new Set,l=new C.LinkedList;for(const{id:t,item:d}of r){let h=this._menuItems.get(t);h||(h=new C.LinkedList,this._menuItems.set(t,h)),l.push(h.push(d)),n.add(t)}return this._onDidChangeMenu.fire(n),S.toDisposable(()=>{if(l.size>0){for(let t of l)t();this._onDidChangeMenu.fire(n),l.clear()}})}getMenuItems(r){let n;return this._menuItems.has(r)?n=[...this._menuItems.get(r)]:n=[],r===a.CommandPalette&&this._appendImplicitItems(n),n}_appendImplicitItems(r){const n=new Set;for(const l of r)o(l)&&(n.add(l.command.id),l.alt&&n.add(l.alt.id));this._commands.forEach((l,t)=>{n.has(t)||r.push({command:l})})}};class c extends _.SubmenuAction{constructor(n,l,t,d){super(`submenuitem.${n.submenu.id}`,typeof n.title=="string"?n.title:n.title.value,[],"submenu");this.item=n,this._menuService=l,this._contextKeyService=t,this._options=d}get actions(){const n=[],l=this._menuService.createMenu(this.item.submenu,this._contextKeyService),t=l.getActions(this._options);l.dispose();for(const[,d]of t)d.length>0&&(n.push(...d),n.push(new _.Separator));return n.length&&n.pop(),n}}e.SubmenuItemAction=c;let u=class Bt{constructor(n,l,t,d,h){var p;if(this._commandService=h,this.id=n.id,this.label=(t==null?void 0:t.renderShortTitle)&&n.shortTitle?typeof n.shortTitle=="string"?n.shortTitle:n.shortTitle.value:typeof n.title=="string"?n.title:n.title.value,this.tooltip=(p=n.tooltip)!==null&&p!==void 0?p:"",this.enabled=!n.precondition||d.contextMatchesRules(n.precondition),this.checked=!1,n.toggled){const w=n.toggled.condition?n.toggled:{condition:n.toggled};this.checked=d.contextMatchesRules(w.condition),this.checked&&w.tooltip&&(this.tooltip=typeof w.tooltip=="string"?w.tooltip:w.tooltip.value),w.title&&(this.label=typeof w.title=="string"?w.title:w.title.value)}this.item=n,this.alt=l?new Bt(l,void 0,t,d,h):void 0,this._options=t,v.ThemeIcon.isThemeIcon(n.icon)&&(this.class=s.CSSIcon.asClassName(n.icon))}dispose(){}run(...n){var l,t;let d=[];return((l=this._options)===null||l===void 0?void 0:l.arg)&&(d=[...d,this._options.arg]),((t=this._options)===null||t===void 0?void 0:t.shouldForwardArgs)&&(d=[...d,...n]),this._commandService.executeCommand(this.id,...d)}};u=Me([_e(3,M.IContextKeyService),_e(4,L.ICommandService)],u),e.MenuItemAction=u}),define(ie[14],ne([0,1,457,24,28,13,36,67,33,26,16,87,32,88,20,69]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class r{constructor(O){this.id=O.id,this.precondition=O.precondition,this._kbOpts=O.kbOpts,this._menuOpts=O.menuOpts,this._description=O.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const O=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const A of O){let F=A.kbExpr;this.precondition&&(F?F=C.ContextKeyExpr.and(F,this.precondition):F=this.precondition);const E={id:this.id,weight:A.weight,args:A.args,when:F,primary:A.primary,secondary:A.secondary,win:A.win,linux:A.linux,mac:A.mac};s.KeybindingsRegistry.registerKeybindingRule(E)}}i.CommandsRegistry.registerCommand({id:this.id,handler:(O,A)=>this.runCommand(O,A),description:this._description})}_registerMenuItem(O){v.MenuRegistry.appendMenuItem(O.menuId,{group:O.group,command:{id:this.id,title:O.title,icon:O.icon,precondition:this.precondition},when:O.when,order:O.order})}}e.Command=r;class n extends r{constructor(){super(...arguments);this._implementations=[]}addImplementation(O,A,F){return this._implementations.push({priority:O,name:A,implementation:F}),this._implementations.sort((E,W)=>W.priority-E.priority),{dispose:()=>{for(let E=0;E<this._implementations.length;E++)if(this._implementations[E].implementation===F){this._implementations.splice(E,1);return}}}}runCommand(O,A){const F=O.get(u.ILogService);for(const E of this._implementations){const W=E.implementation(O,A);if(W)return F.trace(`Command '${this.id}' was handled by '${E.name}'.`),typeof W=="boolean"?void 0:W}}}e.MultiCommand=n;class l extends r{constructor(O,A){super(A);this.command=O}runCommand(O,A){return this.command.runCommand(O,A)}}e.ProxyCommand=l;class t extends r{static bindToContribution(O){return class extends t{constructor(F){super(F);this._callback=F.handler}runEditorCommand(F,E,W){O(E)&&this._callback(O(E),W)}}}runCommand(O,A){const F=O.get(M.ICodeEditorService),E=F.getFocusedCodeEditor()||F.getActiveCodeEditor();if(!!E)return E.invokeWithinContext(W=>{if(!!W.get(C.IContextKeyService).contextMatchesRules(c.withNullAsUndefined(this.precondition)))return this.runEditorCommand(W,E,A)})}}e.EditorCommand=t;class d extends t{constructor(O){super(d.convertOptions(O));this.label=O.label,this.alias=O.alias}static convertOptions(O){let A;Array.isArray(O.menuOpts)?A=O.menuOpts:O.menuOpts?A=[O.menuOpts]:A=[];function F(E){return E.menuId||(E.menuId=v.MenuId.EditorContext),E.title||(E.title=O.label),E.when=C.ContextKeyExpr.and(O.precondition,E.when),E}return Array.isArray(O.contextMenuOpts)?A.push(...O.contextMenuOpts.map(F)):O.contextMenuOpts&&A.push(F(O.contextMenuOpts)),O.menuOpts=A,O}runEditorCommand(O,A,F){return this.reportTelemetry(O,A),this.run(O,A,F||{})}reportTelemetry(O,A){O.get(a.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=d;class h extends d{constructor(){super(...arguments);this._implementations=[]}addImplementation(O,A){return this._implementations.push([O,A]),this._implementations.sort((F,E)=>E[0]-F[0]),{dispose:()=>{for(let F=0;F<this._implementations.length;F++)if(this._implementations[F][1]===A){this._implementations.splice(F,1);return}}}}run(O,A,F){for(const E of this._implementations){const W=E[1](O,A,F);if(W)return typeof W=="boolean"?void 0:W}}}e.MultiEditorAction=h;function p(R,O){i.CommandsRegistry.registerCommand(R,function(A,...F){const[E,W]=F;c.assertType(k.URI.isUri(E)),c.assertType(L.Position.isIPosition(W));const V=A.get(S.IModelService).getModel(E);if(V){const U=L.Position.lift(W);return O(V,U,...F.slice(2))}return A.get(m.ITextModelService).createModelReference(E).then(U=>new Promise((q,j)=>{try{const te=O(U.object.textEditorModel,L.Position.lift(W),F.slice(2));q(te)}catch(te){j(te)}}).finally(()=>{U.dispose()}))})}e.registerModelAndPositionCommand=p;function w(R,O){i.CommandsRegistry.registerCommand(R,function(A,...F){const[E]=F;c.assertType(k.URI.isUri(E));const W=A.get(S.IModelService).getModel(E);return W?O(W,...F.slice(1)):A.get(m.ITextModelService).createModelReference(E).then(V=>new Promise((U,q)=>{try{const j=O(V.object.textEditorModel,F.slice(1));U(j)}catch(j){q(j)}}).finally(()=>{V.dispose()}))})}e.registerModelCommand=w;function b(R){return T.INSTANCE.registerEditorCommand(R),R}e.registerEditorCommand=b;function g(R){const O=new R;return T.INSTANCE.registerEditorAction(O),O}e.registerEditorAction=g;function f(R){return T.INSTANCE.registerEditorAction(R),R}e.registerMultiEditorAction=f;function y(R){T.INSTANCE.registerEditorAction(R)}e.registerInstantiatedEditorAction=y;function I(R,O){T.INSTANCE.registerEditorContribution(R,O)}e.registerEditorContribution=I;var N;(function(R){function O(V){return T.INSTANCE.getEditorCommand(V)}R.getEditorCommand=O;function A(){return T.INSTANCE.getEditorActions()}R.getEditorActions=A;function F(){return T.INSTANCE.getEditorContributions()}R.getEditorContributions=F;function E(V){return T.INSTANCE.getEditorContributions().filter(U=>V.indexOf(U.id)>=0)}R.getSomeEditorContributions=E;function W(){return T.INSTANCE.getDiffEditorContributions()}R.getDiffEditorContributions=W})(N=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const D={EditorCommonContributions:"editor.contributions"};class T{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(O,A){this.editorContributions.push({id:O,ctor:A})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(O){O.register(),this.editorActions.push(O)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(O){O.register(),this.editorCommands[O.id]=O}getEditorCommand(O){return this.editorCommands[O]||null}}T.INSTANCE=new T,o.Registry.add(D.EditorCommonContributions,T.INSTANCE);function P(R){return R.register(),R}e.UndoCommand=P(new n({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:_.localize(0,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:_.localize(1,null),order:1}]})),P(new l(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=P(new n({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:_.localize(2,null),order:2},{menuId:v.MenuId.CommandPalette,group:"",title:_.localize(3,null),order:1}]})),P(new l(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=P(new n({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:v.MenuId.MenubarSelectionMenu,group:"1_basic",title:_.localize(4,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:_.localize(5,null),order:1}]}))}),define(ie[148],ne([0,1,454,38,20,44,14,28,550,39,186,245,187,13,3,25,16,87]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const l=0;class t extends S.EditorCommand{runEditorCommand(T,P,R){const O=P._getViewModel();!O||this.runCoreEditorCommand(O,R||{})}}e.CoreEditorCommand=t;var d;(function(D){const T=function(R){if(!M.isObject(R))return!1;const O=R;return!(!M.isString(O.to)||!M.isUndefined(O.by)&&!M.isString(O.by)||!M.isUndefined(O.value)&&!M.isNumber(O.value)||!M.isUndefined(O.revealCursor)&&!M.isBoolean(O.revealCursor))};D.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:T,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},D.RawDirection={Up:"up",Down:"down"},D.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function P(R){let O;switch(R.to){case D.RawDirection.Up:O=1;break;case D.RawDirection.Down:O=2;break;default:return null}let A;switch(R.by){case D.RawUnit.Line:A=1;break;case D.RawUnit.WrappedLine:A=2;break;case D.RawUnit.Page:A=3;break;case D.RawUnit.HalfPage:A=4;break;default:A=2}const F=Math.floor(R.value||1),E=!!R.revealCursor;return{direction:O,unit:A,value:F,revealCursor:E,select:!!R.select}}D.parse=P})(d=e.EditorScroll_||(e.EditorScroll_={}));var h;(function(D){const T=function(P){if(!M.isObject(P))return!1;const R=P;return!(!M.isNumber(R.lineNumber)&&!M.isString(R.lineNumber)||!M.isUndefined(R.at)&&!M.isString(R.at))};D.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:T,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},D.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(h=e.RevealLine_||(e.RevealLine_={}));class p{constructor(T){T.addImplementation(1e4,"code-editor",(P,R)=>{const O=P.get(m.ICodeEditorService).getFocusedCodeEditor();return O&&O.hasTextFocus()?this._runEditorCommand(P,O,R):!1}),T.addImplementation(1e3,"generic-dom-input-textarea",(P,R)=>{const O=document.activeElement;return O&&["input","textarea"].indexOf(O.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),T.addImplementation(0,"generic-dom",(P,R)=>{const O=P.get(m.ICodeEditorService).getActiveCodeEditor();return O?(O.focus(),this._runEditorCommand(P,O,R)):!1})}_runEditorCommand(T,P,R){const O=this.runEditorCommand(T,P,R);return O||!0}}var w;(function(D){class T extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,[s.CursorMoveCommands.moveTo(B,B.getPrimaryCursorState(),this._inSelectionMode,Z.position,Z.viewPosition)]),B.revealPrimaryCursor(Z.source,!0)}}D.MoveTo=S.registerEditorCommand(new T({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),D.MoveToSelect=S.registerEditorCommand(new T({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class P extends t{runCoreEditorCommand(B,Z){B.model.pushStackElement();const H=this._getColumnSelectResult(B,B.getPrimaryCursorState(),B.getCursorColumnSelectData(),Z);B.setCursorStates(Z.source,3,H.viewStates.map(z=>i.CursorState.fromViewState(z))),B.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:H.fromLineNumber,fromViewVisualColumn:H.fromVisualColumn,toViewLineNumber:H.toLineNumber,toViewVisualColumn:H.toVisualColumn}),H.reversed?B.revealTopMostCursor(Z.source):B.revealBottomMostCursor(Z.source)}}D.ColumnSelect=S.registerEditorCommand(new class extends P{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(X,B,Z,H){const z=X.model.validatePosition(H.position),ee=X.coordinatesConverter.validateViewPosition(new a.Position(H.viewPosition.lineNumber,H.viewPosition.column),z);let x=H.doColumnSelect?Z.fromViewLineNumber:ee.lineNumber,G=H.doColumnSelect?Z.fromViewVisualColumn:H.mouseColumn-1;return v.ColumnSelection.columnSelect(X.cursorConfig,X,x,G,ee.lineNumber,H.mouseColumn-1)}}),D.CursorColumnSelectLeft=S.registerEditorCommand(new class extends P{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(X,B,Z,H){return v.ColumnSelection.columnSelectLeft(X.cursorConfig,X,Z)}}),D.CursorColumnSelectRight=S.registerEditorCommand(new class extends P{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(X,B,Z,H){return v.ColumnSelection.columnSelectRight(X.cursorConfig,X,Z)}});class R extends P{constructor(B){super(B);this._isPaged=B.isPaged}_getColumnSelectResult(B,Z,H,z){return v.ColumnSelection.columnSelectUp(B.cursorConfig,B,H,this._isPaged)}}D.CursorColumnSelectUp=S.registerEditorCommand(new R({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),D.CursorColumnSelectPageUp=S.registerEditorCommand(new R({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class O extends P{constructor(B){super(B);this._isPaged=B.isPaged}_getColumnSelectResult(B,Z,H,z){return v.ColumnSelection.columnSelectDown(B.cursorConfig,B,H,this._isPaged)}}D.CursorColumnSelectDown=S.registerEditorCommand(new O({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),D.CursorColumnSelectPageDown=S.registerEditorCommand(new O({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class A extends t{constructor(){super({id:"cursorMove",precondition:void 0,description:s.CursorMove.description})}runCoreEditorCommand(B,Z){const H=s.CursorMove.parse(Z);!H||this._runCursorMove(B,Z.source,H)}_runCursorMove(B,Z,H){B.model.pushStackElement(),B.setCursorStates(Z,3,A._move(B,B.getCursorStates(),H)),B.revealPrimaryCursor(Z,!0)}static _move(B,Z,H){const z=H.select,ee=H.value;switch(H.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s.CursorMoveCommands.simpleMove(B,Z,H.direction,z,ee,H.unit);case 11:case 13:case 12:case 14:return s.CursorMoveCommands.viewportMove(B,Z,H.direction,z,ee);default:return null}}}D.CursorMoveImpl=A,D.CursorMove=S.registerEditorCommand(new A);class F extends t{constructor(B){super(B);this._staticArgs=B.args}runCoreEditorCommand(B,Z){let H=this._staticArgs;this._staticArgs.value===-1&&(H={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:B.cursorConfig.pageSize}),B.model.pushStackElement(),B.setCursorStates(Z.source,3,s.CursorMoveCommands.simpleMove(B,B.getCursorStates(),H.direction,H.select,H.value,H.unit)),B.revealPrimaryCursor(Z.source,!0)}}D.CursorLeft=S.registerEditorCommand(new F({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),D.CursorLeftSelect=S.registerEditorCommand(new F({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|15}})),D.CursorRight=S.registerEditorCommand(new F({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),D.CursorRightSelect=S.registerEditorCommand(new F({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|17}})),D.CursorUp=S.registerEditorCommand(new F({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),D.CursorUpSelect=S.registerEditorCommand(new F({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),D.CursorPageUp=S.registerEditorCommand(new F({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:11}})),D.CursorPageUpSelect=S.registerEditorCommand(new F({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|11}})),D.CursorDown=S.registerEditorCommand(new F({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),D.CursorDownSelect=S.registerEditorCommand(new F({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),D.CursorPageDown=S.registerEditorCommand(new F({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:12}})),D.CursorPageDownSelect=S.registerEditorCommand(new F({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|12}})),D.CreateCursor=S.registerEditorCommand(new class extends t{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(X,B){let Z;B.wholeLine?Z=s.CursorMoveCommands.line(X,X.getPrimaryCursorState(),!1,B.position,B.viewPosition):Z=s.CursorMoveCommands.moveTo(X,X.getPrimaryCursorState(),!1,B.position,B.viewPosition);const H=X.getCursorStates();if(H.length>1){const z=Z.modelState?Z.modelState.position:null,ee=Z.viewState?Z.viewState.position:null;for(let x=0,G=H.length;x<G;x++){const Q=H[x];if(!(z&&!Q.modelState.selection.containsPosition(z))&&!(ee&&!Q.viewState.selection.containsPosition(ee))){H.splice(x,1),X.model.pushStackElement(),X.setCursorStates(B.source,3,H);return}}}H.push(Z),X.model.pushStackElement(),X.setCursorStates(B.source,3,H)}}),D.LastCursorMoveToSelect=S.registerEditorCommand(new class extends t{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(X,B){const Z=X.getLastAddedCursorIndex(),H=X.getCursorStates(),z=H.slice(0);z[Z]=s.CursorMoveCommands.moveTo(X,H[Z],!0,B.position,B.viewPosition),X.model.pushStackElement(),X.setCursorStates(B.source,3,z)}});class E extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToBeginningOfLine(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(Z.source,!0)}}D.CursorHome=S.registerEditorCommand(new E({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),D.CursorHomeSelect=S.registerEditorCommand(new E({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class W extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,this._exec(B.getCursorStates())),B.revealPrimaryCursor(Z.source,!0)}_exec(B){const Z=[];for(let H=0,z=B.length;H<z;H++){const ee=B[H],x=ee.modelState.position.lineNumber;Z[H]=i.CursorState.fromModelState(ee.modelState.move(this._inSelectionMode,x,1,0))}return Z}}D.CursorLineStart=S.registerEditorCommand(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),D.CursorLineStartSelect=S.registerEditorCommand(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class V extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToEndOfLine(B,B.getCursorStates(),this._inSelectionMode,Z.sticky||!1)),B.revealPrimaryCursor(Z.source,!0)}}D.CursorEnd=S.registerEditorCommand(new V({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:_.localize(0,null),type:"boolean",default:!1}}}}]}})),D.CursorEndSelect=S.registerEditorCommand(new V({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:_.localize(1,null),type:"boolean",default:!1}}}}]}}));class U extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,this._exec(B,B.getCursorStates())),B.revealPrimaryCursor(Z.source,!0)}_exec(B,Z){const H=[];for(let z=0,ee=Z.length;z<ee;z++){const x=Z[z],G=x.modelState.position.lineNumber,Q=B.model.getLineMaxColumn(G);H[z]=i.CursorState.fromModelState(x.modelState.move(this._inSelectionMode,G,Q,0))}return H}}D.CursorLineEnd=S.registerEditorCommand(new U({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),D.CursorLineEndSelect=S.registerEditorCommand(new U({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class q extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToBeginningOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(Z.source,!0)}}D.CursorTop=S.registerEditorCommand(new q({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),D.CursorTopSelect=S.registerEditorCommand(new q({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class j extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToEndOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(Z.source,!0)}}D.CursorBottom=S.registerEditorCommand(new j({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),D.CursorBottomSelect=S.registerEditorCommand(new j({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class te extends t{constructor(){super({id:"editorScroll",precondition:void 0,description:d.description})}runCoreEditorCommand(B,Z){const H=d.parse(Z);!H||this._runEditorScroll(B,Z.source,H)}_runEditorScroll(B,Z,H){const z=this._computeDesiredScrollTop(B,H);if(H.revealCursor){const ee=B.getCompletelyVisibleViewRangeAtScrollTop(z);B.setCursorStates(Z,3,[s.CursorMoveCommands.findPositionInViewportIfOutside(B,B.getPrimaryCursorState(),ee,H.select)])}B.setScrollTop(z,0)}_computeDesiredScrollTop(B,Z){if(Z.unit===1){const ee=B.getCompletelyVisibleViewRange(),x=B.coordinatesConverter.convertViewRangeToModelRange(ee);let G;Z.direction===1?G=Math.max(1,x.startLineNumber-Z.value):G=Math.min(B.model.getLineCount(),x.startLineNumber+Z.value);const Q=B.coordinatesConverter.convertModelPositionToViewPosition(new a.Position(G,1));return B.getVerticalOffsetForLineNumber(Q.lineNumber)}let H;Z.unit===3?H=B.cursorConfig.pageSize*Z.value:Z.unit===4?H=Math.round(B.cursorConfig.pageSize/2)*Z.value:H=Z.value;const z=(Z.direction===1?-1:1)*H;return B.getScrollTop()+z*B.cursorConfig.lineHeight}}D.EditorScrollImpl=te,D.EditorScroll=S.registerEditorCommand(new te),D.ScrollLineUp=S.registerEditorCommand(new class extends t{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(X,B){D.EditorScroll._runEditorScroll(X,B.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),D.ScrollPageUp=S.registerEditorCommand(new class extends t{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(X,B){D.EditorScroll._runEditorScroll(X,B.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),D.ScrollLineDown=S.registerEditorCommand(new class extends t{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(X,B){D.EditorScroll._runEditorScroll(X,B.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),D.ScrollPageDown=S.registerEditorCommand(new class extends t{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(X,B){D.EditorScroll._runEditorScroll(X,B.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class ae extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,[s.CursorMoveCommands.word(B,B.getPrimaryCursorState(),this._inSelectionMode,Z.position)]),B.revealPrimaryCursor(Z.source,!0)}}D.WordSelect=S.registerEditorCommand(new ae({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),D.WordSelectDrag=S.registerEditorCommand(new ae({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),D.LastCursorWordSelect=S.registerEditorCommand(new class extends t{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(X,B){const Z=X.getLastAddedCursorIndex(),H=X.getCursorStates(),z=H.slice(0),ee=H[Z];z[Z]=s.CursorMoveCommands.word(X,ee,ee.modelState.hasSelection(),B.position),X.model.pushStackElement(),X.setCursorStates(B.source,3,z)}});class de extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){B.model.pushStackElement(),B.setCursorStates(Z.source,3,[s.CursorMoveCommands.line(B,B.getPrimaryCursorState(),this._inSelectionMode,Z.position,Z.viewPosition)]),B.revealPrimaryCursor(Z.source,!1)}}D.LineSelect=S.registerEditorCommand(new de({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),D.LineSelectDrag=S.registerEditorCommand(new de({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ue extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,Z){const H=B.getLastAddedCursorIndex(),z=B.getCursorStates(),ee=z.slice(0);ee[H]=s.CursorMoveCommands.line(B,z[H],this._inSelectionMode,Z.position,Z.viewPosition),B.model.pushStackElement(),B.setCursorStates(Z.source,3,ee)}}D.LastCursorLineSelect=S.registerEditorCommand(new ue({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),D.LastCursorLineSelectDrag=S.registerEditorCommand(new ue({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),D.ExpandLineSelection=S.registerEditorCommand(new class extends t{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|42}})}runCoreEditorCommand(X,B){X.model.pushStackElement(),X.setCursorStates(B.source,3,s.CursorMoveCommands.expandLineSelection(X,X.getCursorStates())),X.revealPrimaryCursor(B.source,!0)}}),D.CancelSelection=S.registerEditorCommand(new class extends t{constructor(){super({id:"cancelSelection",precondition:u.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(X,B){X.model.pushStackElement(),X.setCursorStates(B.source,3,[s.CursorMoveCommands.cancelSelection(X,X.getPrimaryCursorState())]),X.revealPrimaryCursor(B.source,!0)}}),D.RemoveSecondaryCursors=S.registerEditorCommand(new class extends t{constructor(){super({id:"removeSecondaryCursors",precondition:u.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:l+1,kbExpr:u.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(X,B){X.model.pushStackElement(),X.setCursorStates(B.source,3,[X.getPrimaryCursorState()]),X.revealPrimaryCursor(B.source,!0),L.status(_.localize(2,null))}}),D.RevealLine=S.registerEditorCommand(new class extends t{constructor(){super({id:"revealLine",precondition:void 0,description:h.description})}runCoreEditorCommand(X,B){const Z=B,H=Z.lineNumber||0;let z=typeof H=="number"?H+1:parseInt(H)+1;z<1&&(z=1);const ee=X.model.getLineCount();z>ee&&(z=ee);const x=new c.Range(z,1,z,X.model.getLineMaxColumn(z));let G=0;if(Z.at)switch(Z.at){case h.RawAtArgument.Top:G=3;break;case h.RawAtArgument.Center:G=1;break;case h.RawAtArgument.Bottom:G=4;break;default:break}const Q=X.coordinatesConverter.convertModelRangeToViewRange(x);X.revealRange(B.source,!1,Q,G,0)}}),D.SelectAll=new class extends p{constructor(){super(S.SelectAllCommand)}runDOMCommand(){k.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(X,B,Z){const H=B._getViewModel();!H||this.runCoreEditorCommand(H,Z)}runCoreEditorCommand(X,B){X.model.pushStackElement(),X.setCursorStates("keyboard",3,[s.CursorMoveCommands.selectAll(X,X.getPrimaryCursorState())])}},D.SetSelection=S.registerEditorCommand(new class extends t{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(X,B){X.model.pushStackElement(),X.setCursorStates(B.source,3,[i.CursorState.fromModelSelection(B.selection)])}})})(w=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const b=r.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,u.EditorContextKeys.columnSelection);function g(D,T){n.KeybindingsRegistry.registerKeybindingRule({id:D,primary:T,when:b,weight:l+1})}g(w.CursorColumnSelectLeft.id,1024|15),g(w.CursorColumnSelectRight.id,1024|17),g(w.CursorColumnSelectUp.id,1024|16),g(w.CursorColumnSelectPageUp.id,1024|11),g(w.CursorColumnSelectDown.id,1024|18),g(w.CursorColumnSelectPageDown.id,1024|12);function f(D){return D.register(),D}var y;(function(D){class T extends S.EditorCommand{runEditorCommand(R,O,A){const F=O._getViewModel();!F||this.runCoreEditingCommand(O,F,A||{})}}D.CoreEditingCommand=T,D.LineBreakInsert=S.registerEditorCommand(new class extends T{constructor(){super({id:"lineBreakInsert",precondition:u.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(P,R,O){P.pushUndoStop(),P.executeCommands(this.id,o.TypeOperations.lineBreakInsert(R.cursorConfig,R.model,R.getCursorStates().map(A=>A.modelState.selection)))}}),D.Outdent=S.registerEditorCommand(new class extends T{constructor(){super({id:"outdent",precondition:u.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:r.ContextKeyExpr.and(u.EditorContextKeys.editorTextFocus,u.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(P,R,O){P.pushUndoStop(),P.executeCommands(this.id,o.TypeOperations.outdent(R.cursorConfig,R.model,R.getCursorStates().map(A=>A.modelState.selection))),P.pushUndoStop()}}),D.Tab=S.registerEditorCommand(new class extends T{constructor(){super({id:"tab",precondition:u.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:r.ContextKeyExpr.and(u.EditorContextKeys.editorTextFocus,u.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(P,R,O){P.pushUndoStop(),P.executeCommands(this.id,o.TypeOperations.tab(R.cursorConfig,R.model,R.getCursorStates().map(A=>A.modelState.selection))),P.pushUndoStop()}}),D.DeleteLeft=S.registerEditorCommand(new class extends T{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(P,R,O){const[A,F]=C.DeleteOperations.deleteLeft(R.getPrevEditOperationType(),R.cursorConfig,R.model,R.getCursorStates().map(E=>E.modelState.selection),R.getCursorAutoClosedCharacters());A&&P.pushUndoStop(),P.executeCommands(this.id,F),R.setPrevEditOperationType(2)}}),D.DeleteRight=S.registerEditorCommand(new class extends T{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:l,kbExpr:u.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(P,R,O){const[A,F]=C.DeleteOperations.deleteRight(R.getPrevEditOperationType(),R.cursorConfig,R.model,R.getCursorStates().map(E=>E.modelState.selection));A&&P.pushUndoStop(),P.executeCommands(this.id,F),R.setPrevEditOperationType(3)}}),D.Undo=new class extends p{constructor(){super(S.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(P,R,O){if(!(!R.hasModel()||R.getOption(78)===!0))return R.getModel().undo()}},D.Redo=new class extends p{constructor(){super(S.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(P,R,O){if(!(!R.hasModel()||R.getOption(78)===!0))return R.getModel().redo()}}})(y=e.CoreEditingCommands||(e.CoreEditingCommands={}));class I extends S.Command{constructor(T,P,R){super({id:T,precondition:void 0,description:R});this._handlerId=P}runCommand(T,P){const R=T.get(m.ICodeEditorService).getFocusedCodeEditor();!R||R.trigger("keyboard",this._handlerId,P)}}function N(D,T){f(new I("default:"+D,D)),f(new I(D,D,T))}N("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),N("replacePreviousChar"),N("compositionType"),N("compositionStart"),N("compositionEnd"),N("paste"),N("cut")}),define(ie[621],ne([0,1,14,16,23,71,9,74,456]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const i=S.createDecorator("IEditorCancelService"),C=new k.RawContextKey("cancellableOperation",!1,v.localize(0,null));m.registerSingleton(i,class{constructor(){this._tokens=new WeakMap}add(o,a){let c=this._tokens.get(o);c||(c=o.invokeWithinContext(r=>{const n=C.bindTo(r.get(k.IContextKeyService)),l=new L.LinkedList;return{key:n,tokens:l}}),this._tokens.set(o,c));let u;return c.key.set(!0),u=c.tokens.push(a),()=>{u&&(u(),c.key.set(!c.tokens.isEmpty()),u=void 0)}}cancel(o){const a=this._tokens.get(o);if(!a)return;const c=a.tokens.pop();c&&(c.cancel(),a.key.set(!a.tokens.isEmpty()))}},!0);class s extends M.CancellationTokenSource{constructor(a,c){super(c);this.editor=a,this._unregister=a.invokeWithinContext(u=>u.get(i).add(a,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=s,_.registerEditorCommand(new class extends _.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:C})}runEditorCommand(o,a){o.get(i).cancel(a)}})}),define(ie[70],ne([0,1,8,3,23,2,621]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class m{constructor(o,a){if(this.flags=a,(this.flags&1)!=0){const c=o.getModel();this.modelVersionId=c?_.format("{0}#{1}",c.uri.toString(),c.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=o.getPosition():this.position=null,(this.flags&2)!=0?this.selection=o.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=o.getScrollLeft(),this.scrollTop=o.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(o){if(!(o instanceof m))return!1;const a=o;return!(this.modelVersionId!==a.modelVersionId||this.scrollLeft!==a.scrollLeft||this.scrollTop!==a.scrollTop||!this.position&&a.position||this.position&&!a.position||this.position&&a.position&&!this.position.equals(a.position)||!this.selection&&a.selection||this.selection&&!a.selection||this.selection&&a.selection&&!this.selection.equalsRange(a.selection))}validate(o){return this._equals(new m(o,this.flags))}}e.EditorState=m;class v extends S.EditorKeybindingCancellationTokenSource{constructor(o,a,c,u){super(o,u);this._listener=new L.DisposableStore,a&4&&this._listener.add(o.onDidChangeCursorPosition(r=>{(!c||!k.Range.containsPosition(c,r.position))&&this.cancel()})),a&2&&this._listener.add(o.onDidChangeCursorSelection(r=>{(!c||!k.Range.containsRange(c,r.selection))&&this.cancel()})),a&8&&this._listener.add(o.onDidScrollChange(r=>this.cancel())),a&1&&(this._listener.add(o.onDidChangeModel(r=>this.cancel())),this._listener.add(o.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=v;class i extends M.CancellationTokenSource{constructor(o,a){super(a);this._listener=o.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=i;class C{constructor(o,a,c){this._visiblePosition=o,this._visiblePositionScrollDelta=a,this._cursorPosition=c}static capture(o){let a=null,c=0;if(o.getScrollTop()!==0){const u=o.getVisibleRanges();if(u.length>0){a=u[0].getStartPosition();const r=o.getTopForPosition(a.lineNumber,a.column);c=o.getScrollTop()-r}}return new C(a,c,o.getPosition())}restore(o){if(this._visiblePosition){const a=o.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);o.setScrollTop(a+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(o){const a=o.getPosition();if(!this._cursorPosition||!a)return;const c=o.getTopForLineNumber(a.lineNumber)-o.getTopForLineNumber(this._cursorPosition.lineNumber);o.setScrollTop(o.getScrollTop()+c)}}e.StableEditorScrollState=C}),define(ie[622],ne([0,1,183,14]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let M=class{constructor(S,m){}dispose(){}};M.ID="editor.contrib.markerDecorations",M=Me([_e(1,_.IMarkerDecorationsService)],M),e.MarkerDecorationsContribution=M,k.registerEditorContribution(M.ID,M)}),define(ie[623],ne([0,1,148,13,17]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class L{constructor(m,v,i,C){this.configuration=m,this.viewModel=v,this.userInputEvents=i,this.commandDelegate=C}paste(m,v,i,C){this.commandDelegate.paste(m,v,i,C)}type(m){this.commandDelegate.type(m)}compositionType(m,v,i,C){this.commandDelegate.compositionType(m,v,i,C)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(m){_.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:m})}_validateViewColumn(m){const v=this.viewModel.getLineMinColumn(m.lineNumber);return m.column<v?new k.Position(m.lineNumber,v):m}_hasMulticursorModifier(m){switch(this.configuration.options.get(67)){case"altKey":return m.altKey;case"ctrlKey":return m.ctrlKey;case"metaKey":return m.metaKey;default:return!1}}_hasNonMulticursorModifier(m){switch(this.configuration.options.get(67)){case"altKey":return m.ctrlKey||m.metaKey;case"ctrlKey":return m.altKey||m.metaKey;case"metaKey":return m.ctrlKey||m.altKey;default:return!1}}dispatchMouse(m){const v=this.configuration.options,i=M.isLinux&&v.get(94),C=v.get(16);m.middleButton&&!i?this._columnSelect(m.position,m.mouseColumn,m.inSelectionMode):m.startedOnLineNumbers?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelect(m.position):this._createCursor(m.position,!0):m.inSelectionMode?this._lineSelectDrag(m.position):this._lineSelect(m.position):m.mouseDownCount>=4?this._selectAll():m.mouseDownCount===3?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelectDrag(m.position):this._lastCursorLineSelect(m.position):m.inSelectionMode?this._lineSelectDrag(m.position):this._lineSelect(m.position):m.mouseDownCount===2?this._hasMulticursorModifier(m)?this._lastCursorWordSelect(m.position):m.inSelectionMode?this._wordSelectDrag(m.position):this._wordSelect(m.position):this._hasMulticursorModifier(m)?this._hasNonMulticursorModifier(m)||(m.shiftKey?this._columnSelect(m.position,m.mouseColumn,!0):m.inSelectionMode?this._lastCursorMoveToSelect(m.position):this._createCursor(m.position,!1)):m.inSelectionMode?m.altKey?this._columnSelect(m.position,m.mouseColumn,!0):C?this._columnSelect(m.position,m.mouseColumn,!0):this._moveToSelect(m.position):this.moveTo(m.position)}_usualArgs(m){return m=this._validateViewColumn(m),{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m}}moveTo(m){_.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(m))}_moveToSelect(m){_.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m))}_columnSelect(m,v,i){m=this._validateViewColumn(m),_.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,mouseColumn:v,doColumnSelect:i})}_createCursor(m,v){m=this._validateViewColumn(m),_.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,wholeLine:v})}_lastCursorMoveToSelect(m){_.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m))}_wordSelect(m){_.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m))}_wordSelectDrag(m){_.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m))}_lastCursorWordSelect(m){_.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m))}_lineSelect(m){_.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m))}_lineSelectDrag(m){_.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m))}_lastCursorLineSelect(m){_.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m))}_lastCursorLineSelectDrag(m){_.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m))}_selectAll(){_.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(m){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(m)}emitKeyDown(m){this.userInputEvents.emitKeyDown(m)}emitKeyUp(m){this.userInputEvents.emitKeyUp(m)}emitContextMenu(m){this.userInputEvents.emitContextMenu(m)}emitMouseMove(m){this.userInputEvents.emitMouseMove(m)}emitMouseLeave(m){this.userInputEvents.emitMouseLeave(m)}emitMouseUp(m){this.userInputEvents.emitMouseUp(m)}emitMouseDown(m){this.userInputEvents.emitMouseDown(m)}emitMouseDrag(m){this.userInputEvents.emitMouseDrag(m)}emitMouseDrop(m){this.userInputEvents.emitMouseDrop(m)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(m){this.userInputEvents.emitMouseWheel(m)}}e.ViewController=L}),define(ie[624],ne([0,1,7,38,21,30,12,595,604,623,260,578,47,399,602,400,598,176,603,261,596,401,225,402,599,403,605,404,606,600,601,607,405,13,3,113,394,396,115,11,191]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y,I,N,D,T,P,R,O,A,F,E,W,V,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class q extends W.ViewEventHandler{constructor(ae,de,ue,X,B,Z){super();this._selections=[new M.Selection(1,1,1,1)],this._renderAnimationFrame=null;const H=new i.ViewController(de,X,B,ae);this._context=new F.ViewContext(de,ue.getColorTheme(),X),this._configPixelRatio=this._context.configuration.options.get(126),this._context.addEventHandler(this),this._register(ue.onDidColorThemeChange(oe=>{this._context.theme.update(oe),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new v.TextAreaHandler(this._context,H,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=L.createFastDomNode(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=L.createFastDomNode(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=L.createFastDomNode(document.createElement("div")),o.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new r.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new d.ViewLines(this._context,this._linesContent),this._viewZones=new P.ViewZones(this._context),this._viewParts.push(this._viewZones);const z=new f.DecorationsOverviewRuler(this._context);this._viewParts.push(z);const ee=new N.ScrollDecorationViewPart(this._context);this._viewParts.push(ee);const x=new s.ContentViewOverlays(this._context);this._viewParts.push(x),x.addDynamicOverlay(new c.CurrentLineHighlightOverlay(this._context)),x.addDynamicOverlay(new D.SelectionsOverlay(this._context)),x.addDynamicOverlay(new l.IndentGuidesOverlay(this._context)),x.addDynamicOverlay(new u.DecorationsOverlay(this._context));const G=new s.MarginViewOverlays(this._context);this._viewParts.push(G),G.addDynamicOverlay(new c.CurrentLineMarginHighlightOverlay(this._context)),G.addDynamicOverlay(new n.GlyphMarginOverlay(this._context)),G.addDynamicOverlay(new w.MarginViewLineDecorationsOverlay(this._context)),G.addDynamicOverlay(new h.LinesDecorationsOverlay(this._context)),G.addDynamicOverlay(new t.LineNumbersOverlay(this._context));const Q=new p.Margin(this._context);Q.getDomNode().appendChild(this._viewZones.marginDomNode),Q.getDomNode().appendChild(G.getDomNode()),this._viewParts.push(Q),this._contentWidgets=new a.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new T.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new g.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const J=new I.Rulers(this._context);this._viewParts.push(J);const le=new b.Minimap(this._context);if(this._viewParts.push(le),z){const oe=this._scrollbar.getOverviewRulerLayoutInfo();oe.parent.insertBefore(z.getDomNode(),oe.insertBefore)}this._linesContent.appendChild(x.getDomNode()),this._linesContent.appendChild(J.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Q.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(ee.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(le.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),Z?Z.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new m.PointerHandler(this._context,H,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:ae=>{this._textAreaHandler.textArea.domNode.dispatchEvent(ae)},getLastRenderData:()=>{const ae=this._viewCursors.getLastRenderData()||[],de=this._textAreaHandler.getLastRenderData();return new U.PointerHandlerLastRenderData(ae,de)},shouldSuppressMouseDownOnViewZone:ae=>this._viewZones.shouldSuppressMouseDownOnViewZone(ae),shouldSuppressMouseDownOnWidget:ae=>this._contentWidgets.shouldSuppressMouseDownOnWidget(ae),getPositionFromDOMInfo:(ae,de)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(ae,de)),visibleRangeForPosition:(ae,de)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new R.Position(ae,de))),getLineWidth:ae=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(ae))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(ae,de)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new R.Position(ae,de)))}}_applyLayout(){const de=this._context.configuration.options.get(128);this.domNode.setWidth(de.width),this.domNode.setHeight(de.height),this._overflowGuardContainer.setWidth(de.width),this._overflowGuardContainer.setHeight(de.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const ae=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(125)+" "+V.getThemeTypeSelector(this._context.theme.type)+ae}handleEvents(ae){super.handleEvents(ae),this._scheduleRender()}onConfigurationChanged(ae){return this._configPixelRatio=this._context.configuration.options.get(126),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(ae){return this._selections=ae.selections,!1}onFocusChanged(ae){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(ae){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const ae of this._viewParts)ae.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=_.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){j(()=>this._actualRender())}_getViewPartsToRender(){let ae=[],de=0;for(const ue of this._viewParts)ue.shouldRender()&&(ae[de++]=ue);return ae}_actualRender(){if(!_.isInDOM(this.domNode.domNode))return;let ae=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&ae.length===0)return;const de=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(de.startLineNumber,de.endLineNumber,de.centeredLineNumber);const ue=new E.ViewportData(this._selections,de,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ue),this._viewLines.shouldRender()&&(this._viewLines.renderText(ue),this._viewLines.onDidRender(),ae=this._getViewPartsToRender());const X=new A.RenderingContext(this._context.viewLayout,ue,this._viewLines);for(const B of ae)B.prepareRender(X);for(const B of ae)B.render(X),B.onDidRender();Math.abs(k.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(ae){this._scrollbar.delegateVerticalScrollbarMouseDown(ae)}restoreState(ae){this._context.model.setScrollPosition({scrollTop:ae.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:ae.scrollLeft},1)}getOffsetForColumn(ae,de){const ue=this._context.model.validateModelPosition({lineNumber:ae,column:de}),X=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(ue);this._flushAccumulatedAndRenderNow();const B=this._viewLines.visibleRangeForPosition(new R.Position(X.lineNumber,X.column));return B?B.left:-1}getTargetAtClientPoint(ae,de){const ue=this._pointerHandler.getTargetAtClientPoint(ae,de);return ue?C.ViewUserInputEvents.convertViewToModelMouseTarget(ue,this._context.model.coordinatesConverter):null}createOverviewRuler(ae){return new y.OverviewRuler(this._context,ae)}change(ae){this._viewZones.changeViewZones(ae),this._scheduleRender()}render(ae,de){if(de){this._viewLines.forceShouldRender();for(const ue of this._viewParts)ue.forceShouldRender()}ae?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(ae){this._textAreaHandler.setAriaOptions(ae)}addContentWidget(ae){this._contentWidgets.addWidget(ae.widget),this.layoutContentWidget(ae),this._scheduleRender()}layoutContentWidget(ae){let de=ae.position&&ae.position.range||null;if(de===null){const X=ae.position?ae.position.position:null;X!==null&&(de=new O.Range(X.lineNumber,X.column,X.lineNumber,X.column))}const ue=ae.position?ae.position.preference:null;this._contentWidgets.setWidgetPosition(ae.widget,de,ue),this._scheduleRender()}removeContentWidget(ae){this._contentWidgets.removeWidget(ae.widget),this._scheduleRender()}addOverlayWidget(ae){this._overlayWidgets.addWidget(ae.widget),this.layoutOverlayWidget(ae),this._scheduleRender()}layoutOverlayWidget(ae){const de=ae.position?ae.position.preference:null;this._overlayWidgets.setWidgetPosition(ae.widget,de)&&this._scheduleRender()}removeOverlayWidget(ae){this._overlayWidgets.removeWidget(ae.widget),this._scheduleRender()}}e.View=q;function j(te){try{return te()}catch(ae){S.onUnexpectedError(ae)}}}),define(ie[149],ne([0,1,458,7,12,6,2,46,65,14,28,624,260,35,246,39,13,3,21,219,109,25,18,48,22,554,26,16,9,143,34,11,64,20,406,577,141,622,343]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y,I,N,D,T,P,R,O,A,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let E=0;class W{constructor(z,ee,x,G,Q){this.model=z,this.viewModel=ee,this.view=x,this.hasRealView=G,this.listenersToRemove=Q}dispose(){S.dispose(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let V=class ht extends S.Disposable{constructor(z,ee,x,G,Q,J,le,oe,he,K){super();this._onDidDispose=this._register(new L.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new L.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new L.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new L.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new L.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new L.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new L.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new L.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new L.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new L.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new L.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new L.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new U),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new U),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new L.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new L.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new L.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new L.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new L.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new L.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new L.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new L.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new L.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new L.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new L.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new L.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new L.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new L.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new L.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new L.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new L.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new L.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const re=Object.assign({},ee);this._domElement=z,this._overflowWidgetsDomNode=re.overflowWidgetsDomNode,delete re.overflowWidgetsDomNode,this._id=++E,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=x.isSimpleWidget||!1,this._telemetryData=x.telemetryData,this._configuration=this._register(this._createConfiguration(re,K)),this._register(this._configuration.onDidChange(se=>{this._onDidChangeConfiguration.fire(se);const ge=this._configuration.options;if(se.hasChanged(128)){const pe=ge.get(128);this._onDidLayoutChange.fire(pe)}})),this._contextKeyService=this._register(le.createScoped(this._domElement)),this._notificationService=he,this._codeEditorService=Q,this._commandService=J,this._themeService=oe,this._register(new q(this,this._contextKeyService)),this._register(new j(this,this._contextKeyService)),this._instantiationService=G.createChild(new N.ServiceCollection([y.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new te(z),this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}),this._contentWidgets={},this._overlayWidgets={};let Y;Array.isArray(x.contributions)?Y=x.contributions:Y=i.EditorExtensionsRegistry.getEditorContributions();for(const se of Y){if(this._contributions[se.id]){M.onUnexpectedError(new Error(`Cannot have two contributions with the same id ${se.id}`));continue}try{const ge=this._instantiationService.createInstance(se.ctor,this);this._contributions[se.id]=ge}catch(ge){M.onUnexpectedError(ge)}}i.EditorExtensionsRegistry.getEditorActions().forEach(se=>{if(this._actions[se.id]){M.onUnexpectedError(new Error(`Cannot have two actions with the same id ${se.id}`));return}const ge=new t.InternalEditorAction(se.id,se.label,se.alias,R.withNullAsUndefined(se.precondition),()=>this._instantiationService.invokeFunction(pe=>Promise.resolve(se.runEditorCommand(pe,this,null))),this._contextKeyService);this._actions[ge.id]=ge}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(z,ee){return new v.Configuration(this.isSimpleWidget,z,this._domElement,ee)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return d.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const z=Object.keys(this._contributions);for(let ee=0,x=z.length;ee<x;ee++){const G=z[ee];this._contributions[G].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(z){return this._instantiationService.invokeFunction(z)}updateOptions(z){this._configuration.updateOptions(z)}getOptions(){return this._configuration.options}getOption(z){return this._configuration.options.get(z)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(z){return this._modelData?F.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(114),z):null}getValue(z=null){if(!this._modelData)return"";const ee=!!(z&&z.preserveBOM);let x=0;return z&&z.lineEnding&&z.lineEnding===`
`?x=1:z&&z.lineEnding&&z.lineEnding===`\r
`&&(x=2),this._modelData.model.getValue(x,ee)}setValue(z){!this._modelData||this._modelData.model.setValue(z)}getModel(){return this._modelData?this._modelData.model:null}setModel(z=null){const ee=z;if(this._modelData===null&&ee===null||this._modelData&&this._modelData.model===ee)return;const x=this.hasTextFocus(),G=this._detachModel();this._attachModel(ee),x&&this.hasModel()&&this.focus();const Q={oldModelUrl:G?G.uri:null,newModelUrl:ee?ee.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(Q),this._postDetachModelCleanup(G)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let z in this._decorationTypeSubtypes){const ee=this._decorationTypeSubtypes[z];for(let x in ee)this._removeDecorationType(z+"-"+x)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(z,ee,x){const G=z.model.validatePosition({lineNumber:ee,column:x}),Q=z.viewModel.coordinatesConverter.convertModelPositionToViewPosition(G);return z.viewModel.viewLayout.getVerticalOffsetForLineNumber(Q.lineNumber)}getTopForLineNumber(z){return this._modelData?ht._getVerticalOffsetForPosition(this._modelData,z,1):-1}getTopForPosition(z,ee){return this._modelData?ht._getVerticalOffsetForPosition(this._modelData,z,ee):-1}setHiddenAreas(z){this._modelData&&this._modelData.viewModel.setHiddenAreas(z.map(ee=>n.Range.lift(ee)))}getVisibleColumnFromPosition(z){if(!this._modelData)return z.column;const ee=this._modelData.model.validatePosition(z),x=this._modelData.model.getOptions().tabSize;return u.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(ee.lineNumber),ee.column,x)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(z){if(!!this._modelData){if(!r.Position.isIPosition(z))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:z.lineNumber,selectionStartColumn:z.column,positionLineNumber:z.lineNumber,positionColumn:z.column}])}}_sendRevealRange(z,ee,x,G){if(!this._modelData)return;if(!n.Range.isIRange(z))throw new Error("Invalid arguments");const Q=this._modelData.model.validateRange(z),J=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Q);this._modelData.viewModel.revealRange("api",x,J,ee,G)}revealLine(z,ee=0){this._revealLine(z,0,ee)}revealLineInCenter(z,ee=0){this._revealLine(z,1,ee)}revealLineInCenterIfOutsideViewport(z,ee=0){this._revealLine(z,2,ee)}revealLineNearTop(z,ee=0){this._revealLine(z,5,ee)}_revealLine(z,ee,x){if(typeof z!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z,1,z,1),ee,!1,x)}revealPosition(z,ee=0){this._revealPosition(z,0,!0,ee)}revealPositionInCenter(z,ee=0){this._revealPosition(z,1,!0,ee)}revealPositionInCenterIfOutsideViewport(z,ee=0){this._revealPosition(z,2,!0,ee)}revealPositionNearTop(z,ee=0){this._revealPosition(z,5,!0,ee)}_revealPosition(z,ee,x,G){if(!r.Position.isIPosition(z))throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z.lineNumber,z.column,z.lineNumber,z.column),ee,x,G)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(z){const ee=l.Selection.isISelection(z),x=n.Range.isIRange(z);if(!ee&&!x)throw new Error("Invalid arguments");if(ee)this._setSelectionImpl(z);else if(x){const G={selectionStartLineNumber:z.startLineNumber,selectionStartColumn:z.startColumn,positionLineNumber:z.endLineNumber,positionColumn:z.endColumn};this._setSelectionImpl(G)}}_setSelectionImpl(z){if(!this._modelData)return;const ee=new l.Selection(z.selectionStartLineNumber,z.selectionStartColumn,z.positionLineNumber,z.positionColumn);this._modelData.viewModel.setSelections("api",[ee])}revealLines(z,ee,x=0){this._revealLines(z,ee,0,x)}revealLinesInCenter(z,ee,x=0){this._revealLines(z,ee,1,x)}revealLinesInCenterIfOutsideViewport(z,ee,x=0){this._revealLines(z,ee,2,x)}revealLinesNearTop(z,ee,x=0){this._revealLines(z,ee,5,x)}_revealLines(z,ee,x,G){if(typeof z!="number"||typeof ee!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z,1,ee,1),x,!1,G)}revealRange(z,ee=0,x=!1,G=!0){this._revealRange(z,x?1:0,G,ee)}revealRangeInCenter(z,ee=0){this._revealRange(z,1,!0,ee)}revealRangeInCenterIfOutsideViewport(z,ee=0){this._revealRange(z,2,!0,ee)}revealRangeNearTop(z,ee=0){this._revealRange(z,5,!0,ee)}revealRangeNearTopIfOutsideViewport(z,ee=0){this._revealRange(z,6,!0,ee)}revealRangeAtTop(z,ee=0){this._revealRange(z,3,!0,ee)}_revealRange(z,ee,x,G){if(!n.Range.isIRange(z))throw new Error("Invalid arguments");this._sendRevealRange(n.Range.lift(z),ee,x,G)}setSelections(z,ee="api",x=0){if(!!this._modelData){if(!z||z.length===0)throw new Error("Invalid arguments");for(let G=0,Q=z.length;G<Q;G++)if(!l.Selection.isISelection(z[G]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(ee,z,x)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(z,ee=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:z},ee)}}setScrollTop(z,ee=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:z},ee)}}setScrollPosition(z,ee=1){!this._modelData||this._modelData.viewModel.setScrollPosition(z,ee)}saveViewState(){if(!this._modelData)return null;const z={},ee=Object.keys(this._contributions);for(const Q of ee){const J=this._contributions[Q];typeof J.saveViewState=="function"&&(z[Q]=J.saveViewState())}const x=this._modelData.viewModel.saveCursorState(),G=this._modelData.viewModel.saveState();return{cursorState:x,viewState:G,contributionsState:z}}restoreViewState(z){if(!this._modelData||!this._modelData.hasRealView)return;const ee=z;if(ee&&ee.cursorState&&ee.viewState){const x=ee.cursorState;Array.isArray(x)?this._modelData.viewModel.restoreCursorState(x):this._modelData.viewModel.restoreCursorState([x]);const G=ee.contributionsState||{},Q=Object.keys(this._contributions);for(let le=0,oe=Q.length;le<oe;le++){const he=Q[le],K=this._contributions[he];typeof K.restoreViewState=="function"&&K.restoreViewState(G[he])}const J=this._modelData.viewModel.reduceRestoreState(ee.viewState);this._modelData.view.restoreState(J)}}getContribution(z){return this._contributions[z]||null}getActions(){const z=[],ee=Object.keys(this._actions);for(let x=0,G=ee.length;x<G;x++){const Q=ee[x];z.push(this._actions[Q])}return z}getSupportedActions(){let z=this.getActions();return z=z.filter(ee=>ee.isSupported()),z}getAction(z){return this._actions[z]||null}trigger(z,ee,x){switch(x=x||{},ee){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(z);return;case"type":{const Q=x;this._type(z,Q.text||"");return}case"replacePreviousChar":{const Q=x;this._compositionType(z,Q.text||"",Q.replaceCharCnt||0,0,0);return}case"compositionType":{const Q=x;this._compositionType(z,Q.text||"",Q.replacePrevCharCnt||0,Q.replaceNextCharCnt||0,Q.positionDelta||0);return}case"paste":{const Q=x;this._paste(z,Q.text||"",Q.pasteOnNewLine||!1,Q.multicursorText||null,Q.mode||null);return}case"cut":this._cut(z);return}const G=this.getAction(ee);if(G){Promise.resolve(G.run()).then(void 0,M.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(z,ee,x)||this._triggerCommand(ee,x)}_triggerCommand(z,ee){this._commandService.executeCommand(z,ee)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(z){!this._modelData||(this._modelData.viewModel.endComposition(z),this._onDidCompositionEnd.fire())}_type(z,ee){!this._modelData||ee.length===0||(z==="keyboard"&&this._onWillType.fire(ee),this._modelData.viewModel.type(ee,z),z==="keyboard"&&this._onDidType.fire(ee))}_compositionType(z,ee,x,G,Q){!this._modelData||this._modelData.viewModel.compositionType(ee,x,G,Q,z)}_paste(z,ee,x,G,Q){if(!this._modelData||ee.length===0)return;const J=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(ee,x,G,z);const le=this._modelData.viewModel.getSelection().getStartPosition();z==="keyboard"&&this._onDidPaste.fire({range:new n.Range(J.lineNumber,J.column,le.lineNumber,le.column),mode:Q})}_cut(z){!this._modelData||this._modelData.viewModel.cut(z)}_triggerEditorCommand(z,ee,x){const G=i.EditorExtensionsRegistry.getEditorCommand(ee);return G?(x=x||{},x.source=z,this._instantiationService.invokeFunction(Q=>{Promise.resolve(G.runEditorCommand(Q,this,x)).then(void 0,M.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(78)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(78)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(z,ee,x){if(!this._modelData||this._configuration.options.get(78))return!1;let G;return x?Array.isArray(x)?G=()=>x:G=x:G=()=>null,this._modelData.viewModel.executeEdits(z,ee,G),!0}executeCommand(z,ee){!this._modelData||this._modelData.viewModel.executeCommand(ee,z)}executeCommands(z,ee){!this._modelData||this._modelData.viewModel.executeCommands(ee,z)}changeDecorations(z){return this._modelData?this._modelData.model.changeDecorations(z,this._id):null}getLineDecorations(z){return this._modelData?this._modelData.model.getLineDecorations(z,this._id,a.filterValidationDecorations(this._configuration.options)):null}deltaDecorations(z,ee){return this._modelData?z.length===0&&ee.length===0?z:this._modelData.model.deltaDecorations(z,ee,this._id):[]}removeDecorations(z){const ee=this._decorationTypeKeysToIds[z];ee&&this.deltaDecorations(ee,[]),this._decorationTypeKeysToIds.hasOwnProperty(z)&&delete this._decorationTypeKeysToIds[z],this._decorationTypeSubtypes.hasOwnProperty(z)&&delete this._decorationTypeSubtypes[z]}getLayoutInfo(){return this._configuration.options.get(128)}createOverviewRuler(z){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(z)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(z)}layout(z){this._configuration.observeReferenceElement(z),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(z){const ee={widget:z,position:z.getPosition()};this._contentWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[z.getId()]=ee,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(ee)}layoutContentWidget(z){const ee=z.getId();if(this._contentWidgets.hasOwnProperty(ee)){const x=this._contentWidgets[ee];x.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(x)}}removeContentWidget(z){const ee=z.getId();if(this._contentWidgets.hasOwnProperty(ee)){const x=this._contentWidgets[ee];delete this._contentWidgets[ee],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(x)}}addOverlayWidget(z){const ee={widget:z,position:z.getPosition()};this._overlayWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[z.getId()]=ee,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(ee)}layoutOverlayWidget(z){const ee=z.getId();if(this._overlayWidgets.hasOwnProperty(ee)){const x=this._overlayWidgets[ee];x.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(x)}}removeOverlayWidget(z){const ee=z.getId();if(this._overlayWidgets.hasOwnProperty(ee)){const x=this._overlayWidgets[ee];delete this._overlayWidgets[ee],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(x)}}changeViewZones(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(z)}getTargetAtClientPoint(z,ee){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(z,ee)}getScrolledVisiblePosition(z){if(!this._modelData||!this._modelData.hasRealView)return null;const ee=this._modelData.model.validatePosition(z),x=this._configuration.options,G=x.get(128),Q=ht._getVerticalOffsetForPosition(this._modelData,ee.lineNumber,ee.column)-this.getScrollTop(),J=this._modelData.view.getOffsetForColumn(ee.lineNumber,ee.column)+G.glyphMarginWidth+G.lineNumbersWidth+G.decorationsWidth-this.getScrollLeft();return{top:Q,left:J,height:x.get(56)}}getOffsetForColumn(z,ee){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(z,ee)}render(z=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,z)}setAriaOptions(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(z)}applyFontInfo(z){v.Configuration.applyFontInfoSlow(z,this._configuration.options.get(40))}_attachModel(z){if(!z){this._modelData=null;return}const ee=[];this._domElement.setAttribute("data-mode-id",z.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(z.isDominatedByLongLines()),this._configuration.setMaxLineNumber(z.getLineCount()),z.onBeforeAttached();const x=new g.ViewModel(this._id,this._configuration,z,A.DOMLineBreaksComputerFactory.create(),O.MonospaceLineBreaksComputerFactory.create(this._configuration.options),J=>k.scheduleAtNextAnimationFrame(J));ee.push(z.onDidChangeDecorations(J=>this._onDidChangeModelDecorations.fire(J))),ee.push(z.onDidChangeLanguage(J=>{this._domElement.setAttribute("data-mode-id",z.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(J)})),ee.push(z.onDidChangeLanguageConfiguration(J=>this._onDidChangeModelLanguageConfiguration.fire(J))),ee.push(z.onDidChangeContent(J=>this._onDidChangeModelContent.fire(J))),ee.push(z.onDidChangeOptions(J=>this._onDidChangeModelOptions.fire(J))),ee.push(z.onWillDispose(()=>this.setModel(null))),ee.push(x.onEvent(J=>{switch(J.kind){case 0:this._onDidContentSizeChange.fire(J);break;case 1:this._editorTextFocus.setValue(J.hasFocus);break;case 2:this._onDidScrollChange.fire(J);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{J.reachedMaxCursorCount&&this._notificationService.warn(_.localize(0,null,c.CursorsController.MAX_CURSOR_COUNT));const le=[];for(let K=0,re=J.selections.length;K<re;K++)le[K]=J.selections[K].getPosition();const oe={position:le[0],secondaryPositions:le.slice(1),reason:J.reason,source:J.source};this._onDidChangeCursorPosition.fire(oe);const he={selection:J.selections[0],secondarySelections:J.selections.slice(1),modelVersionId:J.modelVersionId,oldSelections:J.oldSelections,oldModelVersionId:J.oldModelVersionId,source:J.source,reason:J.reason};this._onDidChangeCursorSelection.fire(he);break}}}));const[G,Q]=this._createView(x);if(Q){this._domElement.appendChild(G.domNode.domNode);let J=Object.keys(this._contentWidgets);for(let le=0,oe=J.length;le<oe;le++){const he=J[le];G.addContentWidget(this._contentWidgets[he])}J=Object.keys(this._overlayWidgets);for(let le=0,oe=J.length;le<oe;le++){const he=J[le];G.addOverlayWidget(this._overlayWidgets[he])}G.render(!1,!0),G.domNode.domNode.setAttribute("data-uri",z.uri.toString())}this._modelData=new W(z,x,G,Q,ee)}_createView(z){let ee;this.isSimpleWidget?ee={paste:(Q,J,le,oe)=>{this._paste("keyboard",Q,J,le,oe)},type:Q=>{this._type("keyboard",Q)},compositionType:(Q,J,le,oe)=>{this._compositionType("keyboard",Q,J,le,oe)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:ee={paste:(Q,J,le,oe)=>{const he={text:Q,pasteOnNewLine:J,multicursorText:le,mode:oe};this._commandService.executeCommand("paste",he)},type:Q=>{const J={text:Q};this._commandService.executeCommand("type",J)},compositionType:(Q,J,le,oe)=>{if(le||oe){const he={text:Q,replacePrevCharCnt:J,replaceNextCharCnt:le,positionDelta:oe};this._commandService.executeCommand("compositionType",he)}else{const he={text:Q,replaceCharCnt:J};this._commandService.executeCommand("replacePreviousChar",he)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const x=new o.ViewUserInputEvents(z.coordinatesConverter);return x.onKeyDown=Q=>this._onKeyDown.fire(Q),x.onKeyUp=Q=>this._onKeyUp.fire(Q),x.onContextMenu=Q=>this._onContextMenu.fire(Q),x.onMouseMove=Q=>this._onMouseMove.fire(Q),x.onMouseLeave=Q=>this._onMouseLeave.fire(Q),x.onMouseDown=Q=>this._onMouseDown.fire(Q),x.onMouseUp=Q=>this._onMouseUp.fire(Q),x.onMouseDrag=Q=>this._onMouseDrag.fire(Q),x.onMouseDrop=Q=>this._onMouseDrop.fire(Q),x.onMouseDropCanceled=Q=>this._onMouseDropCanceled.fire(Q),x.onMouseWheel=Q=>this._onMouseWheel.fire(Q),[new s.View(ee,this._configuration,this._themeService,z,x,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(z){z&&z.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const z=this._modelData.model,ee=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),ee&&this._domElement.contains(ee)&&this._domElement.removeChild(ee),z}_removeDecorationType(z){this._codeEditorService.removeDecorationType(z)}hasModel(){return this._modelData!==null}};V=Me([_e(3,I.IInstantiationService),_e(4,C.ICodeEditorService),_e(5,f.ICommandService),_e(6,y.IContextKeyService),_e(7,T.IThemeService),_e(8,D.INotificationService),_e(9,P.IAccessibilityService)],V),e.CodeEditorWidget=V;class U extends S.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new L.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new L.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(z){const ee=z?2:1;this._value!==ee&&(this._value=ee,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=U;class q extends S.Disposable{constructor(z,ee){super();this._editor=z,ee.createKey("editorId",z.getId()),this._editorSimpleInput=h.EditorContextKeys.editorSimpleInput.bindTo(ee),this._editorFocus=h.EditorContextKeys.focus.bindTo(ee),this._textInputFocus=h.EditorContextKeys.textInputFocus.bindTo(ee),this._editorTextFocus=h.EditorContextKeys.editorTextFocus.bindTo(ee),this._editorTabMovesFocus=h.EditorContextKeys.tabMovesFocus.bindTo(ee),this._editorReadonly=h.EditorContextKeys.readOnly.bindTo(ee),this._inDiffEditor=h.EditorContextKeys.inDiffEditor.bindTo(ee),this._editorColumnSelection=h.EditorContextKeys.columnSelection.bindTo(ee),this._hasMultipleSelections=h.EditorContextKeys.hasMultipleSelections.bindTo(ee),this._hasNonEmptySelection=h.EditorContextKeys.hasNonEmptySelection.bindTo(ee),this._canUndo=h.EditorContextKeys.canUndo.bindTo(ee),this._canRedo=h.EditorContextKeys.canRedo.bindTo(ee),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const z=this._editor.getOptions();this._editorTabMovesFocus.set(z.get(127)),this._editorReadonly.set(z.get(78)),this._inDiffEditor.set(z.get(51)),this._editorColumnSelection.set(z.get(16))}_updateFromSelection(){const z=this._editor.getSelections();z?(this._hasMultipleSelections.set(z.length>1),this._hasNonEmptySelection.set(z.some(ee=>!ee.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const z=this._editor.getModel();this._canUndo.set(Boolean(z&&z.canUndo())),this._canRedo.set(Boolean(z&&z.canRedo()))}}class j extends S.Disposable{constructor(z,ee){super();this._editor=z,this._contextKeyService=ee,this._langId=h.EditorContextKeys.languageId.bindTo(ee),this._hasCompletionItemProvider=h.EditorContextKeys.hasCompletionItemProvider.bindTo(ee),this._hasCodeActionsProvider=h.EditorContextKeys.hasCodeActionsProvider.bindTo(ee),this._hasCodeLensProvider=h.EditorContextKeys.hasCodeLensProvider.bindTo(ee),this._hasDefinitionProvider=h.EditorContextKeys.hasDefinitionProvider.bindTo(ee),this._hasDeclarationProvider=h.EditorContextKeys.hasDeclarationProvider.bindTo(ee),this._hasImplementationProvider=h.EditorContextKeys.hasImplementationProvider.bindTo(ee),this._hasTypeDefinitionProvider=h.EditorContextKeys.hasTypeDefinitionProvider.bindTo(ee),this._hasHoverProvider=h.EditorContextKeys.hasHoverProvider.bindTo(ee),this._hasDocumentHighlightProvider=h.EditorContextKeys.hasDocumentHighlightProvider.bindTo(ee),this._hasDocumentSymbolProvider=h.EditorContextKeys.hasDocumentSymbolProvider.bindTo(ee),this._hasReferenceProvider=h.EditorContextKeys.hasReferenceProvider.bindTo(ee),this._hasRenameProvider=h.EditorContextKeys.hasRenameProvider.bindTo(ee),this._hasSignatureHelpProvider=h.EditorContextKeys.hasSignatureHelpProvider.bindTo(ee),this._hasInlayHintsProvider=h.EditorContextKeys.hasInlayHintsProvider.bindTo(ee),this._hasDocumentFormattingProvider=h.EditorContextKeys.hasDocumentFormattingProvider.bindTo(ee),this._hasDocumentSelectionFormattingProvider=h.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(ee),this._hasMultipleDocumentFormattingProvider=h.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(ee),this._hasMultipleDocumentSelectionFormattingProvider=h.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(ee),this._isInWalkThrough=h.EditorContextKeys.isInWalkThroughSnippet.bindTo(ee);const x=()=>this._update();this._register(z.onDidChangeModel(x)),this._register(z.onDidChangeModelLanguage(x)),this._register(p.CompletionProviderRegistry.onDidChange(x)),this._register(p.CodeActionProviderRegistry.onDidChange(x)),this._register(p.CodeLensProviderRegistry.onDidChange(x)),this._register(p.DefinitionProviderRegistry.onDidChange(x)),this._register(p.DeclarationProviderRegistry.onDidChange(x)),this._register(p.ImplementationProviderRegistry.onDidChange(x)),this._register(p.TypeDefinitionProviderRegistry.onDidChange(x)),this._register(p.HoverProviderRegistry.onDidChange(x)),this._register(p.DocumentHighlightProviderRegistry.onDidChange(x)),this._register(p.DocumentSymbolProviderRegistry.onDidChange(x)),this._register(p.ReferenceProviderRegistry.onDidChange(x)),this._register(p.RenameProviderRegistry.onDidChange(x)),this._register(p.DocumentFormattingEditProviderRegistry.onDidChange(x)),this._register(p.DocumentRangeFormattingEditProviderRegistry.onDidChange(x)),this._register(p.SignatureHelpProviderRegistry.onDidChange(x)),this._register(p.InlayHintsProviderRegistry.onDidChange(x)),x()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const z=this._editor.getModel();if(!z){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(z.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(p.CompletionProviderRegistry.has(z)),this._hasCodeActionsProvider.set(p.CodeActionProviderRegistry.has(z)),this._hasCodeLensProvider.set(p.CodeLensProviderRegistry.has(z)),this._hasDefinitionProvider.set(p.DefinitionProviderRegistry.has(z)),this._hasDeclarationProvider.set(p.DeclarationProviderRegistry.has(z)),this._hasImplementationProvider.set(p.ImplementationProviderRegistry.has(z)),this._hasTypeDefinitionProvider.set(p.TypeDefinitionProviderRegistry.has(z)),this._hasHoverProvider.set(p.HoverProviderRegistry.has(z)),this._hasDocumentHighlightProvider.set(p.DocumentHighlightProviderRegistry.has(z)),this._hasDocumentSymbolProvider.set(p.DocumentSymbolProviderRegistry.has(z)),this._hasReferenceProvider.set(p.ReferenceProviderRegistry.has(z)),this._hasRenameProvider.set(p.RenameProviderRegistry.has(z)),this._hasSignatureHelpProvider.set(p.SignatureHelpProviderRegistry.has(z)),this._hasInlayHintsProvider.set(p.InlayHintsProviderRegistry.has(z)),this._hasDocumentFormattingProvider.set(p.DocumentFormattingEditProviderRegistry.has(z)||p.DocumentRangeFormattingEditProviderRegistry.has(z)),this._hasDocumentSelectionFormattingProvider.set(p.DocumentRangeFormattingEditProviderRegistry.has(z)),this._hasMultipleDocumentFormattingProvider.set(p.DocumentFormattingEditProviderRegistry.all(z).length+p.DocumentRangeFormattingEditProviderRegistry.all(z).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(p.DocumentRangeFormattingEditProviderRegistry.all(z).length>1),this._isInWalkThrough.set(z.uri.scheme===m.Schemas.walkThroughSnippet)})}}e.EditorModeContext=j;class te extends S.Disposable{constructor(z){super();this._onChange=this._register(new L.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(k.trackFocus(z)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const ae=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),de=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ue(H){return ae+encodeURIComponent(H.toString())+de}const X=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),B=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Z(H){return X+encodeURIComponent(H.toString())+B}T.registerThemingParticipant((H,z)=>{const ee=H.getColor(b.editorErrorBorder);ee&&z.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${ee}; }`);const x=H.getColor(b.editorErrorForeground);x&&z.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ue(x)}") repeat-x bottom left; }`);const G=H.getColor(b.editorErrorBackground);G&&z.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${G}; }`);const Q=H.getColor(b.editorWarningBorder);Q&&z.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${Q}; }`);const J=H.getColor(b.editorWarningForeground);J&&z.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ue(J)}") repeat-x bottom left; }`);const le=H.getColor(b.editorWarningBackground);le&&z.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${le}; }`);const oe=H.getColor(b.editorInfoBorder);oe&&z.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${oe}; }`);const he=H.getColor(b.editorInfoForeground);he&&z.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ue(he)}") repeat-x bottom left; }`);const K=H.getColor(b.editorInfoBackground);K&&z.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${K}; }`);const re=H.getColor(b.editorHintBorder);re&&z.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${re}; }`);const Y=H.getColor(b.editorHintForeground);Y&&z.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Z(Y)}") no-repeat bottom left; }`);const se=H.getColor(w.editorUnnecessaryCodeOpacity);se&&z.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${se.rgba.a}; }`);const ge=H.getColor(w.editorUnnecessaryCodeBorder);ge&&z.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${ge}; }`);const pe=H.getColor(b.editorForeground)||"inherit";z.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${pe}}`)})}),define(ie[150],ne([0,1,42,28,149,26,16,9,34,11,64]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let s=class extends M.CodeEditorWidget{constructor(a,c,u,r,n,l,t,d,h,p){super(a,Object.assign(Object.assign({},u.getRawOptions()),{overflowWidgetsDomNode:u.getOverflowWidgetsDomNode()}),{},r,n,l,t,d,h,p);this._parentEditor=u,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(u.onDidChangeConfiguration(w=>this._onParentConfigurationChanged(w)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(a){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(a){_.mixin(this._overwriteOptions,a,!0),super.updateOptions(this._overwriteOptions)}};s=Me([_e(3,m.IInstantiationService),_e(4,k.ICodeEditorService),_e(5,L.ICommandService),_e(6,S.IContextKeyService),_e(7,i.IThemeService),_e(8,v.INotificationService),_e(9,C.IAccessibilityService)],s),e.EmbeddedCodeEditorWidget=s}),define(ie[625],ne([0,1,14,471,25,21,41,16,81,44,344]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new m.RawContextKey("selectionAnchorSet",!1);let C=class Wt{constructor(r,n){this.editor=r,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(n),this.modelChangeListener=r.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(r){return r.getContribution(Wt.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const r=this.editor.getPosition(),n=this.decorationId?[this.decorationId]:[],l=this.editor.deltaDecorations(n,[{range:L.Selection.fromPositions(r,r),options:{description:"selection-anchor",stickiness:1,hoverMessage:new v.MarkdownString().appendText(k.localize(0,null)),className:"selection-anchor"}}]);this.decorationId=l[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),i.alert(k.localize(1,null,r.lineNumber,r.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);r&&this.editor.setPosition(r.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);if(r){const n=this.editor.getPosition();this.editor.setSelection(L.Selection.fromPositions(r.getStartPosition(),n)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};C.ID="editor.contrib.selectionAnchorController",C=Me([_e(1,m.IContextKeyService)],C);class s extends _.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:k.localize(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|32),weight:100}})}run(r,n){return Ie(this,void 0,void 0,function*(){C.get(n).setSelectionAnchor()})}}class o extends _.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:k.localize(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(r,n){return Ie(this,void 0,void 0,function*(){C.get(n).goToSelectionAnchor()})}}class a extends _.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:k.localize(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|41),weight:100}})}run(r,n){return Ie(this,void 0,void 0,function*(){C.get(n).selectFromAnchorToCursor()})}}class c extends _.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:k.localize(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(r,n){return Ie(this,void 0,void 0,function*(){C.get(n).cancelSelectionAnchor()})}}_.registerEditorContribution(C.ID,C),_.registerEditorAction(s),_.registerEditorAction(o),_.registerEditorAction(a),_.registerEditorAction(c)}),define(ie[626],ne([0,1,472,15,2,14,13,3,21,25,52,31,48,22,11,33,345]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const r=a.registerColor("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},_.localize(0,null));class n extends L.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:_.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(p,w){let b=d.get(w);!b||b.jumpToBracket()}}class l extends L.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:_.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(p,w,b){const g=d.get(w);if(!g)return;let f=!0;b&&b.selectBrackets===!1&&(f=!1),g.selectToBracket(f)}}class t{constructor(p,w,b){this.position=p,this.brackets=w,this.options=b}}class d extends M.Disposable{constructor(p){super();this._editor=p,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new k.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(61),this._updateBracketsSoon.schedule(),this._register(p.onDidChangeCursorPosition(w=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModelContent(w=>{this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModel(w=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModelLanguageConfiguration(w=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeConfiguration(w=>{w.hasChanged(61)&&(this._matchBrackets=this._editor.getOption(61),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(p){return p.getContribution(d.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const p=this._editor.getModel(),w=this._editor.getSelections().map(b=>{const g=b.getStartPosition(),f=p.matchBracket(g);let y=null;if(f)f[0].containsPosition(g)?y=f[1].getStartPosition():f[1].containsPosition(g)&&(y=f[0].getStartPosition());else{const I=p.findEnclosingBrackets(g);if(I)y=I[0].getStartPosition();else{const N=p.findNextBracket(g);N&&N.range&&(y=N.range.getStartPosition())}}return y?new v.Selection(y.lineNumber,y.column,y.lineNumber,y.column):new v.Selection(g.lineNumber,g.column,g.lineNumber,g.column)});this._editor.setSelections(w),this._editor.revealRange(w[0])}selectToBracket(p){if(!this._editor.hasModel())return;const w=this._editor.getModel(),b=[];this._editor.getSelections().forEach(g=>{const f=g.getStartPosition();let y=w.matchBracket(f);if(!y&&(y=w.findEnclosingBrackets(f),!y)){const D=w.findNextBracket(f);D&&D.range&&(y=w.matchBracket(D.range.getStartPosition()))}let I=null,N=null;if(y){y.sort(m.Range.compareRangesUsingStarts);const[D,T]=y;I=p?D.getStartPosition():D.getEndPosition(),N=p?T.getEndPosition():T.getStartPosition()}I&&N&&b.push(new v.Selection(I.lineNumber,I.column,N.lineNumber,N.column))}),b.length>0&&(this._editor.setSelections(b),this._editor.revealRange(b[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let p=[],w=0;for(const b of this._lastBracketsData){let g=b.brackets;g&&(p[w++]={range:g[0],options:b.options},p[w++]={range:g[1],options:b.options})}this._decorations=this._editor.deltaDecorations(this._decorations,p)}_recomputeBrackets(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}const p=this._editor.getSelections();if(p.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const w=this._editor.getModel(),b=w.getVersionId();let g=[];this._lastVersionId===b&&(g=this._lastBracketsData);let f=[],y=0;for(let P=0,R=p.length;P<R;P++){let O=p[P];O.isEmpty()&&(f[y++]=O.getStartPosition())}f.length>1&&f.sort(S.Position.compare);let I=[],N=0,D=0,T=g.length;for(let P=0,R=f.length;P<R;P++){let O=f[P];for(;D<T&&g[D].position.isBefore(O);)D++;if(D<T&&g[D].position.equals(O))I[N++]=g[D];else{let A=w.matchBracket(O),F=d._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!A&&this._matchBrackets==="always"&&(A=w.findEnclosingBrackets(O,20),F=d._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),I[N++]=new t(O,A,F)}}this._lastBracketsData=I,this._lastVersionId=b}}e.BracketMatchingController=d,d.ID="editor.contrib.bracketMatchingController",d._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=s.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:c.themeColorFromId(r),position:C.OverviewRulerLane.Center}}),d._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=s.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),L.registerEditorContribution(d.ID,d),L.registerEditorAction(l),L.registerEditorAction(n),c.registerThemingParticipant((h,p)=>{const w=h.getColor(o.editorBracketMatchBackground);w&&p.addRule(`.monaco-editor .bracket-match { background-color: ${w}; }`);const b=h.getColor(o.editorBracketMatchBorder);b&&p.addRule(`.monaco-editor .bracket-match { border: 1px solid ${b}; }`)}),u.MenuRegistry.appendMenuItem(u.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:_.localize(3,null)},order:2})}),define(ie[627],ne([0,1,473,14,25,408]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends k.EditorAction{constructor(C,s){super(s);this.left=C}run(C,s){if(!s.hasModel())return;let o=[],a=s.getSelections();for(const c of a)o.push(new L.MoveCaretCommand(c,this.left));s.pushUndoStop(),s.executeCommands(this.id,o),s.pushUndoStop()}}class m extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:_.localize(0,null),alias:"Move Selected Text Left",precondition:M.EditorContextKeys.writable})}}class v extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:_.localize(1,null),alias:"Move Selected Text Right",precondition:M.EditorContextKeys.writable})}}k.registerEditorAction(m),k.registerEditorAction(v)}),define(ie[628],ne([0,1,474,14,95,3,25,185]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class v extends k.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:_.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(C,s){if(!s.hasModel())return;let o=s.getModel(),a=[],c=s.getSelections();for(let u of c){if(!u.isEmpty())continue;let r=u.startLineNumber,n=u.startColumn,l=o.getLineMaxColumn(r);if(r===1&&(n===1||n===2&&l===2))continue;let t=n===l?u.getPosition():m.MoveOperations.rightPosition(o,u.getPosition().lineNumber,u.getPosition().column),d=m.MoveOperations.leftPosition(o,t),h=m.MoveOperations.leftPosition(o,d),p=o.getValueInRange(L.Range.fromPositions(h,d)),w=o.getValueInRange(L.Range.fromPositions(d,t)),b=L.Range.fromPositions(h,t);a.push(new M.ReplaceCommand(b,w+p))}a.length>0&&(s.pushUndoStop(),s.executeCommands(this.id,a),s.pushUndoStop())}}k.registerEditorAction(v)}),define(ie[629],ne([0,1,475,38,17,169,14,28,25,33,85]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const s="9_cutcopypaste",o=M.isNative||document.queryCommandSupported("cut"),a=M.isNative||document.queryCommandSupported("copy"),c=typeof navigator.clipboard=="undefined"||k.isFirefox?document.queryCommandSupported("paste"):!0;function u(l){return l.register(),l}e.CutAction=o?u(new S.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:M.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(0,null),order:1},{menuId:i.MenuId.EditorContext,group:s,title:_.localize(1,null),when:v.EditorContextKeys.writable,order:1},{menuId:i.MenuId.CommandPalette,group:"",title:_.localize(2,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:s,title:_.localize(3,null),when:v.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=a?u(new S.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:M.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(4,null),order:2},{menuId:i.MenuId.EditorContext,group:s,title:_.localize(5,null),order:2},{menuId:i.MenuId.CommandPalette,group:"",title:_.localize(6,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:s,title:_.localize(7,null),order:2}]})):void 0,i.MenuRegistry.appendMenuItem(i.MenuId.MenubarEditMenu,{submenu:i.MenuId.MenubarCopy,title:{value:_.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,{submenu:i.MenuId.EditorContextCopy,title:{value:_.localize(9,null),original:"Copy As"},group:s,order:3}),e.PasteAction=c?u(new S.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:M.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(10,null),order:4},{menuId:i.MenuId.EditorContext,group:s,title:_.localize(11,null),when:v.EditorContextKeys.writable,order:4},{menuId:i.MenuId.CommandPalette,group:"",title:_.localize(12,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:s,title:_.localize(13,null),when:v.EditorContextKeys.writable,order:4}]})):void 0;class r extends S.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(t,d){!d.hasModel()||!d.getOption(30)&&d.getSelection().isEmpty()||(L.CopyOptions.forceCopyWithSyntaxHighlighting=!0,d.focus(),document.execCommand("copy"),L.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function n(l,t){!l||(l.addImplementation(1e4,"code-editor",(d,h)=>{const p=d.get(m.ICodeEditorService).getFocusedCodeEditor();if(p&&p.hasTextFocus()){const w=p.getOption(30),b=p.getSelection();return b&&b.isEmpty()&&!w||document.execCommand(t),!0}return!1}),l.addImplementation(0,"generic-dom",(d,h)=>(document.execCommand(t),!0)))}n(e.CutAction,"cut"),n(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(l,t)=>{const d=l.get(m.ICodeEditorService),h=l.get(C.IClipboardService),p=d.getFocusedCodeEditor();return p&&p.hasTextFocus()?(!document.execCommand("paste")&&M.isWeb&&(()=>Ie(void 0,void 0,void 0,function*(){const b=yield h.readText();if(b!==""){const g=L.InMemoryClipboardMetadataManager.INSTANCE.get(b);let f=!1,y=null,I=null;g&&(f=p.getOption(30)&&!!g.isFromEmptySelection,y=typeof g.multicursorText!="undefined"?g.multicursorText:null,I=g.mode),p.trigger("keyboard","paste",{text:b,pasteOnNewLine:f,multicursorText:y,mode:I})}}))(),!0):!1}),e.PasteAction.addImplementation(0,"generic-dom",(l,t)=>(document.execCommand("paste"),!0))),a&&S.registerEditorAction(r)}),define(ie[151],ne([0,1,19,23,12,2,24,70,3,21,18,36,137,59,26]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class u{constructor(p,w){this.action=p,this.provider=w}resolve(p){var w;return Ie(this,void 0,void 0,function*(){if(((w=this.provider)===null||w===void 0?void 0:w.resolveCodeAction)&&!this.action.edit){let b;try{b=yield this.provider.resolveCodeAction(this.action,p)}catch(g){M.onUnexpectedExternalError(g)}b&&(this.action.edit=b.edit)}return this})}}e.CodeActionItem=u;class r extends L.Disposable{constructor(p,w,b){super();this.documentation=w,this._register(b),this.allActions=[...p].sort(r.codeActionsComparator),this.validActions=this.allActions.filter(({action:g})=>!g.disabled)}static codeActionsComparator({action:p},{action:w}){return p.isPreferred&&!w.isPreferred?-1:!p.isPreferred&&w.isPreferred?1:_.isNonEmptyArray(p.diagnostics)?_.isNonEmptyArray(w.diagnostics)?p.diagnostics[0].message.localeCompare(w.diagnostics[0].message):-1:_.isNonEmptyArray(w.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:p})=>!!p.kind&&o.CodeActionKind.QuickFix.contains(new o.CodeActionKind(p.kind))&&!!p.isPreferred)}}const n={actions:[],documentation:void 0};function l(h,p,w,b,g){var f;const y=w.filter||{},I={only:(f=y.include)===null||f===void 0?void 0:f.value,trigger:w.type},N=new m.TextModelCancellationTokenSource(h,g),D=t(h,y),T=new L.DisposableStore,P=D.map(O=>Ie(this,void 0,void 0,function*(){try{b.report(O);const A=yield O.provideCodeActions(h,p,I,N.token);if(A&&T.add(A),N.token.isCancellationRequested)return n;const F=((A==null?void 0:A.actions)||[]).filter(W=>W&&o.filtersAction(y,W)),E=d(O,F,y.include);return{actions:F.map(W=>new u(W,O)),documentation:E}}catch(A){if(M.isPromiseCanceledError(A))throw A;return M.onUnexpectedExternalError(A),n}})),R=C.CodeActionProviderRegistry.onDidChange(()=>{const O=C.CodeActionProviderRegistry.all(h);_.equals(O,D)||N.cancel()});return Promise.all(P).then(O=>{const A=_.flatten(O.map(E=>E.actions)),F=_.coalesce(O.map(E=>E.documentation));return new r(A,F,T)}).finally(()=>{R.dispose(),N.dispose()})}e.getCodeActions=l;function t(h,p){return C.CodeActionProviderRegistry.all(h).filter(w=>w.providedCodeActionKinds?w.providedCodeActionKinds.some(b=>o.mayIncludeActionsOfKind(p,new o.CodeActionKind(b))):!0)}function d(h,p,w){if(!h.documentation)return;const b=h.documentation.map(g=>({kind:new o.CodeActionKind(g.kind),command:g.command}));if(w){let g;for(const f of b)f.kind.contains(w)&&(g?g.kind.contains(f.kind)&&(g=f):g=f);if(g)return g==null?void 0:g.command}for(const g of p)if(!!g.kind){for(const f of b)if(f.kind.contains(new o.CodeActionKind(g.kind)))return f.command}}c.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(h,p,w,b,g){return Ie(this,void 0,void 0,function*(){if(!(p instanceof S.URI))throw M.illegalArgument();const f=h.get(s.IModelService).getModel(p);if(!f)throw M.illegalArgument();const y=i.Selection.isISelection(w)?i.Selection.liftSelection(w):v.Range.isIRange(w)?f.validateRange(w):void 0;if(!y)throw M.illegalArgument();const I=typeof b=="string"?new o.CodeActionKind(b):void 0,N=yield l(f,y,{type:1,filter:{includeSourceActions:!0,include:I}},a.Progress.None,k.CancellationToken.None),D=[],T=Math.min(N.validActions.length,typeof g=="number"?g:0);for(let P=0;P<T;P++)D.push(N.validActions[P].resolve(k.CancellationToken.None));try{return yield Promise.all(D),N.validActions.map(P=>P.action)}finally{setTimeout(()=>N.dispose(),100)}})})}),define(ie[630],ne([0,1,7,49,12,155,2,13,18,151,137,68,37]),function($,e,_,k,M,L,S,m,v,i,C,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class a extends k.Action{constructor(l,t){super(l.command?l.command.id:l.title,c(l.title),void 0,!l.disabled,t);this.action=l}}function c(n){return n.replace(/\r\n|\r|\n/g," ")}let u=class extends S.Disposable{constructor(l,t,d,h){super();this._editor=l,this._delegate=t,this._contextMenuService=d,this._visible=!1,this._showingActions=this._register(new S.MutableDisposable),this._keybindingResolver=new r({getKeybindings:()=>h.getKeybindings()})}get isVisible(){return this._visible}show(l,t,d,h){return Ie(this,void 0,void 0,function*(){const p=h.includeDisabledActions?t.allActions:t.validActions;if(!p.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,M.canceled();this._visible=!0,this._showingActions.value=t;const w=this.getMenuActions(l,p,t.documentation),b=m.Position.isIPosition(d)?this._toCoords(d):d||{x:0,y:0},g=this._keybindingResolver.getResolver(),f=this._editor.getOption(112);this._contextMenuService.showContextMenu({domForShadowRoot:f?this._editor.getDomNode():void 0,getAnchor:()=>b,getActions:()=>w,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:y=>y instanceof a?g(y.action):void 0})})}getMenuActions(l,t,d){var h,p;const w=y=>new a(y.action,()=>this._delegate.onSelectCodeAction(y)),b=t.map(w),g=[...d],f=this._editor.getModel();if(f&&b.length)for(const y of v.CodeActionProviderRegistry.all(f))y._getAdditionalMenuItems&&g.push(...y._getAdditionalMenuItems({trigger:l.type,only:(p=(h=l.filter)===null||h===void 0?void 0:h.include)===null||p===void 0?void 0:p.value},t.map(I=>I.action)));return g.length&&b.push(new k.Separator,...g.map(y=>w(new i.CodeActionItem({title:y.title,command:y},void 0)))),b}_toCoords(l){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(l,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(l),d=_.getDomNodePagePosition(this._editor.getDomNode()),h=d.left+t.left,p=d.top+t.top+t.height;return{x:h,y:p}}};u=Me([_e(2,s.IContextMenuService),_e(3,o.IKeybindingService)],u),e.CodeActionMenu=u;class r{constructor(l){this._keybindingProvider=l}getResolver(){const l=new L.Lazy(()=>this._keybindingProvider.getKeybindings().filter(t=>r.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let d=t.commandArgs;return t.command===i.organizeImportsCommandId?d={kind:C.CodeActionKind.SourceOrganizeImports.value}:t.command===i.fixAllCommandId&&(d={kind:C.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},C.CodeActionCommandArgs.fromUser(d,{kind:C.CodeActionKind.None,apply:"never"}))}));return t=>{if(t.kind){const d=this.bestKeybindingForCodeAction(t,l.getValue());return d==null?void 0:d.resolvedKeybinding}}}bestKeybindingForCodeAction(l,t){if(!l.kind)return;const d=new C.CodeActionKind(l.kind);return t.filter(h=>h.kind.contains(d)).filter(h=>h.preferred?l.isPreferred:!0).reduceRight((h,p)=>h?h.kind.contains(p.kind)?p:h:p,void 0)}}e.CodeActionKeybindingResolver=r,r.codeActionCommands=[i.refactorCommandId,i.codeActionCommandId,i.sourceActionCommandId,i.organizeImportsCommandId,i.fixAllCommandId]});var it=this&&this.__classPrivateFieldGet||function($,e,_,k){if(_==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!k:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _==="m"?k:_==="a"?k.call($):k?k.value:e.get($)},vt=this&&this.__classPrivateFieldSet||function($,e,_,k,M){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!M)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!M:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?M.call($,_):M?M.value=_:e.set($,_),_};define(ie[631],ne([0,1,15,12,6,2,43,3,18,16,59,151]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new i.RawContextKey("supportedCodeAction","");class a extends L.Disposable{constructor(l,t,d,h=250){super();this._editor=l,this._markerService=t,this._signalChange=d,this._delay=h,this._autoTriggerTimer=this._register(new _.TimeoutTimer),this._register(this._markerService.onMarkerChanged(p=>this._onMarkerChanges(p))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(l){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(l);return this._createEventAndSignalChange(l,t)}_onMarkerChanges(l){const t=this._editor.getModel();!t||l.some(d=>S.isEqual(d,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(l){const t=this._editor.getModel();if(!!t)for(const d of this._markerService.read({resource:t.uri})){const h=t.validateRange(d);if(m.Range.intersectRanges(h,l))return m.Range.lift(h)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(l){if(!this._editor.hasModel())return;const t=this._editor.getModel(),d=this._editor.getSelection();if(d.isEmpty()&&l.type===2){const{lineNumber:h,column:p}=d.getPosition(),w=t.getLineContent(h);if(w.length===0)return;if(p===1){if(/\s/.test(w[0]))return}else if(p===t.getLineMaxColumn(h)){if(/\s/.test(w[w.length-1]))return}else if(/\s/.test(w[p-2])&&/\s/.test(w[p-1]))return}return d}_createEventAndSignalChange(l,t){const d=this._editor.getModel();if(!t||!d){this._signalChange(void 0);return}const h=this._getRangeOfMarker(t),p=h?h.getStartPosition():t.getStartPosition(),w={trigger:l,selection:t,position:p};return this._signalChange(w),w}}var c;(function(n){n.Empty={type:0};class l{constructor(d,h,p,w){this.trigger=d,this.rangeOrSelection=h,this.position=p,this._cancellablePromise=w,this.type=1,this.actions=w.catch(b=>{if(k.isPromiseCanceledError(b))return u;throw b})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=l})(c=e.CodeActionsState||(e.CodeActionsState={}));const u={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class r extends L.Disposable{constructor(l,t,d,h){super();this._editor=l,this._markerService=t,this._progressService=h,this._codeActionOracle=this._register(new L.MutableDisposable),this._state=c.Empty,this._onDidChangeState=this._register(new M.Emitter),this.onDidChangeState=this._onDidChangeState.event,o.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(d),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(v.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){it(this,o,"f")||(vt(this,o,!0,"f"),super.dispose(),this.setState(c.Empty,!0))}_update(){if(it(this,o,"f"))return;this._codeActionOracle.value=void 0,this.setState(c.Empty);const l=this._editor.getModel();if(l&&v.CodeActionProviderRegistry.has(l)&&!this._editor.getOption(78)){const t=[];for(const d of v.CodeActionProviderRegistry.all(l))Array.isArray(d.providedCodeActionKinds)&&t.push(...d.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new a(this._editor,this._markerService,d=>{var h;if(!d){this.setState(c.Empty);return}const p=_.createCancelablePromise(w=>s.getCodeActions(l,d.selection,d.trigger,C.Progress.None,w));d.trigger.type===1&&((h=this._progressService)===null||h===void 0||h.showWhile(p,250)),this.setState(new c.Triggered(d.trigger,d.selection,d.position,p))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(l){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(l)}setState(l,t){l!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=l,!t&&!it(this,o,"f")&&this._onDidChangeState.fire(l))}}e.CodeActionModel=r,o=new WeakMap}),define(ie[632],ne([0,1,15,12,2,70,14,18,252,610,26,34,589,7,92,77,478,25,139]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let t=class{constructor(h,p,w,b){this._editor=h,this._commandService=p,this._notificationService=w,this._codeLensCache=b,this._disposables=new M.DisposableStore,this._localToDispose=new M.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new l.LanguageFeatureRequestDelays(m.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new M.DisposableStore,this._resolveCodeLensesDelays=new l.LanguageFeatureRequestDelays(m.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new _.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(g=>{(g.hasChanged(40)||g.hasChanged(14)||g.hasChanged(13))&&this._updateLensStyle(),g.hasChanged(12)&&this._onModelChange()})),this._disposables.add(m.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+c.hash(this._editor.getId()).toString(16),this._styleElement=a.createStyleSheet(a.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var h;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(h=this._currentCodeLensModel)===null||h===void 0||h.dispose(),this._styleElement.remove()}_getLayoutInfo(){let h=this._editor.getOption(14),p;return!h||h<5?(h=this._editor.getOption(42)*.9|0,p=this._editor.getOption(56)):p=h*Math.max(1.3,this._editor.getOption(56)/this._editor.getOption(42))|0,{codeLensHeight:p,fontSize:h}}_updateLensStyle(){const{codeLensHeight:h,fontSize:p}=this._getLayoutInfo(),w=this._editor.getOption(13),b=this._editor.getOption(40),g=`--codelens-font-family${this._styleClassName}`,f=`--codelens-font-features${this._styleClassName}`;let y=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${h}px; font-size: ${p}px; padding-right: ${Math.round(p*.5)}px; font-feature-settings: var(${f}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${h}px; font-size: ${p}px; }
		`;w&&(y+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${g})}`),this._styleElement.textContent=y,this._editor.getContainerDomNode().style.setProperty(g,w??"inherit"),this._editor.getContainerDomNode().style.setProperty(f,b.fontFeatureSettings),this._editor.changeViewZones(I=>{for(let N of this._lenses)N.updateHeight(h,I)})}_localDispose(){var h,p,w;(h=this._getCodeLensModelPromise)===null||h===void 0||h.cancel(),this._getCodeLensModelPromise=void 0,(p=this._resolveCodeLensesPromise)===null||p===void 0||p.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(w=this._currentCodeLensModel)===null||w===void 0||w.dispose()}_onModelChange(){this._localDispose();const h=this._editor.getModel();if(!h||!this._editor.getOption(12))return;const p=this._codeLensCache.get(h);if(p&&this._renderCodeLensSymbols(p),!m.CodeLensProviderRegistry.has(h)){p&&this._localToDispose.add(_.disposableTimeout(()=>{const b=this._codeLensCache.get(h);p===b&&(this._codeLensCache.delete(h),this._onModelChange())},30*1e3));return}for(const b of m.CodeLensProviderRegistry.all(h))if(typeof b.onDidChange=="function"){let g=b.onDidChange(()=>w.schedule());this._localToDispose.add(g)}const w=new _.RunOnceScheduler(()=>{var b;const g=Date.now();(b=this._getCodeLensModelPromise)===null||b===void 0||b.cancel(),this._getCodeLensModelPromise=_.createCancelablePromise(f=>v.getCodeLensModel(h,f)),this._getCodeLensModelPromise.then(f=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=f,this._codeLensCache.put(h,f);const y=this._getCodeLensModelDelays.update(h,Date.now()-g);w.delay=y,this._renderCodeLensSymbols(f),this._resolveCodeLensesInViewport()},k.onUnexpectedError)},this._getCodeLensModelDelays.get(h));this._localToDispose.add(w),this._localToDispose.add(M.toDisposable(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(b=>{this._editor.changeViewZones(g=>{let f=[],y=-1;this._lenses.forEach(N=>{!N.isValid()||y===N.getLineNumber()?f.push(N):(N.update(g),y=N.getLineNumber())});let I=new i.CodeLensHelper;f.forEach(N=>{N.dispose(I,g),this._lenses.splice(this._lenses.indexOf(N),1)}),I.commit(b)})}),w.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{w.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(b=>{b.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(M.toDisposable(()=>{if(this._editor.getModel()){const b=L.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(g=>{this._editor.changeViewZones(f=>{this._disposeAllLenses(g,f)})}),b.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(b=>{if(b.target.type!==9)return;let g=b.target.element;if((g==null?void 0:g.tagName)==="SPAN"&&(g=g.parentElement),(g==null?void 0:g.tagName)==="A")for(const f of this._lenses){let y=f.getCommand(g);if(y){this._commandService.executeCommand(y.id,...y.arguments||[]).catch(I=>this._notificationService.error(I));break}}})),w.schedule()}_disposeAllLenses(h,p){const w=new i.CodeLensHelper;for(const b of this._lenses)b.dispose(w,p);h&&w.commit(h),this._lenses.length=0}_renderCodeLensSymbols(h){if(!this._editor.hasModel())return;let p=this._editor.getModel().getLineCount(),w=[],b;for(let y of h.lenses){let I=y.symbol.range.startLineNumber;I<1||I>p||(b&&b[b.length-1].symbol.range.startLineNumber===I?b.push(y):(b=[y],w.push(b)))}const g=L.StableEditorScrollState.capture(this._editor),f=this._getLayoutInfo();this._editor.changeDecorations(y=>{this._editor.changeViewZones(I=>{const N=new i.CodeLensHelper;let D=0,T=0;for(;T<w.length&&D<this._lenses.length;){let P=w[T][0].symbol.range.startLineNumber,R=this._lenses[D].getLineNumber();R<P?(this._lenses[D].dispose(N,I),this._lenses.splice(D,1)):R===P?(this._lenses[D].updateCodeLensSymbols(w[T],N),T++,D++):(this._lenses.splice(D,0,new i.CodeLensWidget(w[T],this._editor,this._styleClassName,N,I,f.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),D++,T++)}for(;D<this._lenses.length;)this._lenses[D].dispose(N,I),this._lenses.splice(D,1);for(;T<w.length;)this._lenses.push(new i.CodeLensWidget(w[T],this._editor,this._styleClassName,N,I,f.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;N.commit(y)})}),g.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var h;(h=this._resolveCodeLensesPromise)===null||h===void 0||h.cancel(),this._resolveCodeLensesPromise=void 0;const p=this._editor.getModel();if(!p)return;const w=[],b=[];if(this._lenses.forEach(y=>{const I=y.computeIfNecessary(p);I&&(w.push(I),b.push(y))}),w.length===0)return;const g=Date.now(),f=_.createCancelablePromise(y=>{const I=w.map((N,D)=>{const T=new Array(N.length),P=N.map((R,O)=>!R.symbol.command&&typeof R.provider.resolveCodeLens=="function"?Promise.resolve(R.provider.resolveCodeLens(p,R.symbol,y)).then(A=>{T[O]=A},k.onUnexpectedExternalError):(T[O]=R.symbol,Promise.resolve(void 0)));return Promise.all(P).then(()=>{!y.isCancellationRequested&&!b[D].isDisposed()&&b[D].updateCommands(T)})});return Promise.all(I)});this._resolveCodeLensesPromise=f,this._resolveCodeLensesPromise.then(()=>{const y=this._resolveCodeLensesDelays.update(p,Date.now()-g);this._resolveCodeLensesScheduler.delay=y,this._currentCodeLensModel&&this._codeLensCache.put(p,this._currentCodeLensModel),this._oldCodeLensModels.clear(),f===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},y=>{k.onUnexpectedError(y),f===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};t.ID="css.editor.codeLens",t=Me([_e(1,C.ICommandService),_e(2,s.INotificationService),_e(3,o.ICodeLensCache)],t),e.CodeLensContribution=t,S.registerEditorContribution(t.ID,t),S.registerEditorAction(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:n.EditorContextKeys.hasCodeLensProvider,label:r.localize(0,null),alias:"Show CodeLens Commands For Current Line"})}run(h,p){return Ie(this,void 0,void 0,function*(){if(!p.hasModel())return;const w=h.get(u.IQuickInputService),b=h.get(C.ICommandService),g=h.get(s.INotificationService),f=p.getSelection().positionLineNumber,y=p.getContribution(t.ID),I=[];for(let D of y.getLenses())if(D.getLineNumber()===f)for(let T of D.getItems()){const{command:P}=T.symbol;P&&I.push({label:P.title,command:P})}if(I.length===0)return;const N=yield w.pick(I,{canPickMany:!1});if(!!N)try{yield b.executeCommand(N.command.id,...N.command.arguments||[])}catch(D){g.error(D)}})}})}),define(ie[265],ne([0,1,15,29,12,92,2,14,28,3,31,18,253,40]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=void 0;const c=500;let u=class xt extends S.Disposable{constructor(n,l,t){super();this._editor=n,this._codeEditorService=l,this._configurationService=t,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(n.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(n.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(s.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(n.onDidChangeConfiguration(()=>{let d=this._isEnabled;this._isEnabled=this.isEnabled(),d!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const n=this._editor.getModel();if(!n)return!1;const l=n.getLanguageIdentifier(),t=this._configurationService.getValue(l.language);if(t){const d=t.colorDecorators;if(d&&d.enable!==void 0&&!d.enable)return d.enable}return this._editor.getOption(15)}static get(n){return n.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const n=this._editor.getModel();!n||!s.ColorProviderRegistry.has(n)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new _.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},xt.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=_.createCancelablePromise(n=>{const l=this._editor.getModel();return l?o.getColors(l,n):Promise.resolve([])}),this._computePromise.then(n=>{this.updateDecorations(n),this.updateColorDecorators(n),this._computePromise=null},M.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(n){const l=n.map(t=>({range:{startLineNumber:t.colorInfo.range.startLineNumber,startColumn:t.colorInfo.range.startColumn,endLineNumber:t.colorInfo.range.endLineNumber,endColumn:t.colorInfo.range.endColumn},options:C.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,l),this._colorDatas=new Map,this._decorationsIds.forEach((t,d)=>this._colorDatas.set(t,n[d]))}updateColorDecorators(n){let l=[],t={};for(let d=0;d<n.length&&l.length<c;d++){const{red:h,green:p,blue:w,alpha:b}=n[d].colorInfo.color,g=new k.RGBA(Math.round(h*255),Math.round(p*255),Math.round(w*255),b);let f=L.hash(`rgba(${g.r},${g.g},${g.b},${g.a})`).toString(16),y=`rgba(${g.r}, ${g.g}, ${g.b}, ${g.a})`,I="colorBox-"+f;!this._decorationsTypes.has(I)&&!t[I]&&this._codeEditorService.registerDecorationType("color-detector-color",I,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:y},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),t[I]=!0,l.push({range:{startLineNumber:n[d].colorInfo.range.startLineNumber,startColumn:n[d].colorInfo.range.startColumn,endLineNumber:n[d].colorInfo.range.endLineNumber,endColumn:n[d].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(I,!0)})}this._decorationsTypes.forEach(d=>{t[d]||this._codeEditorService.removeDecorationType(d)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,l)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(n=>{this._codeEditorService.removeDecorationType(n)})}getColorData(n){const l=this._editor.getModel();if(!l)return null;const t=l.getDecorationsInRange(i.Range.fromPositions(n,n)).filter(d=>this._colorDatas.has(d.id));return t.length===0?null:this._colorDatas.get(t[0].id)}};u.ID="editor.contrib.colorDetector",u.RECOMPUTE_TIME=1e3,u=Me([_e(1,v.ICodeEditorService),_e(2,a.IConfigurationService)],u),e.ColorDetector=u,m.registerEditorContribution(u.ID,u)}),define(ie[633],ne([0,1,479,41,14,3,25,226,410,33]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class C extends M.EditorAction{constructor(r,n){super(n);this._type=r}run(r,n){if(!n.hasModel())return;const l=n.getModel(),t=[],d=l.getOptions(),h=n.getOption(17),p=n.getSelections().map((b,g)=>({selection:b,index:g,ignoreFirstLine:!1}));p.sort((b,g)=>L.Range.compareRangesUsingStarts(b.selection,g.selection));let w=p[0];for(let b=1;b<p.length;b++){const g=p[b];w.selection.endLineNumber===g.selection.startLineNumber&&(w.index<g.index?g.ignoreFirstLine=!0:(w.ignoreFirstLine=!0,w=g))}for(const b of p)t.push(new v.LineCommentCommand(b.selection,d.tabSize,this._type,h.insertSpace,h.ignoreEmptyLines,b.ignoreFirstLine));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}class s extends C{constructor(){super(0,{id:"editor.action.commentLine",label:_.localize(0,null),alias:"Toggle Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:_.localize(1,null),order:1}})}}class o extends C{constructor(){super(1,{id:"editor.action.addCommentLine",label:_.localize(2,null),alias:"Add Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|33),weight:100}})}}class a extends C{constructor(){super(2,{id:"editor.action.removeCommentLine",label:_.localize(3,null),alias:"Remove Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|51),weight:100}})}}class c extends M.EditorAction{constructor(){super({id:"editor.action.blockComment",label:_.localize(4,null),alias:"Toggle Block Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:_.localize(5,null),order:2}})}run(r,n){if(!n.hasModel())return;const l=n.getOption(17),t=[],d=n.getSelections();for(const h of d)t.push(new m.BlockCommentCommand(h,l.insertSpace));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}M.registerEditorAction(s),M.registerEditorAction(o),M.registerEditorAction(a),M.registerEditorAction(c)}),define(ie[634],ne([0,1,480,7,49,2,14,25,33,16,68,37,117,17]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let c=class Vt{constructor(n,l,t,d,h,p){this._contextMenuService=l,this._contextViewService=t,this._contextKeyService=d,this._keybindingService=h,this._menuService=p,this._toDispose=new L.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=n,this._toDispose.add(this._editor.onContextMenu(w=>this._onContextMenu(w))),this._toDispose.add(this._editor.onMouseWheel(w=>{if(this._contextMenuIsBeingShownCount>0){const b=this._contextViewService.getContextViewElement(),g=w.srcElement;g.shadowRoot&&k.getShadowRoot(b)===g.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(w=>{w.keyCode===58&&(w.preventDefault(),w.stopPropagation(),this.showContextMenu())}))}static get(n){return n.getContribution(Vt.ID)}_onContextMenu(n){if(!this._editor.hasModel())return;if(!this._editor.getOption(18)){this._editor.focus(),n.target.position&&!this._editor.getSelection().containsPosition(n.target.position)&&this._editor.setPosition(n.target.position);return}if(n.target.type===12||(n.event.preventDefault(),n.target.type!==6&&n.target.type!==7&&n.target.type!==1))return;if(this._editor.focus(),n.target.position){let t=!1;for(const d of this._editor.getSelections())if(d.containsPosition(n.target.position)){t=!0;break}t||this._editor.setPosition(n.target.position)}let l=null;n.target.type!==1&&(l={x:n.event.posx-1,width:2,y:n.event.posy-1,height:2}),this.showContextMenu(l)}showContextMenu(n){if(!this._editor.getOption(18)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const l=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?v.MenuId.SimpleEditorContext:v.MenuId.EditorContext);l.length>0&&this._doShowContextMenu(l,n)}_getMenuActions(n,l){const t=[],d=this._menuService.createMenu(l,this._contextKeyService),h=d.getActions({arg:n.uri});d.dispose();for(let p of h){const[,w]=p;let b=0;for(const g of w)if(g instanceof v.SubmenuItemAction){const f=this._getMenuActions(n,g.item.submenu);f.length>0&&(t.push(new M.SubmenuAction(g.id,g.label,f)),b++)}else t.push(g),b++;b&&t.push(new M.Separator)}return t.length&&t.pop(),t}_doShowContextMenu(n,l=null){if(!this._editor.hasModel())return;const t=this._editor.getOption(50);if(this._editor.updateOptions({hover:{enabled:!1}}),!l){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const h=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),p=k.getDomNodePagePosition(this._editor.getDomNode()),w=p.left+h.left,b=p.top+h.top+h.height;l={x:w,y:b}}const d=this._editor.getOption(112)&&!a.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:d?this._editor.getDomNode():void 0,getAnchor:()=>l,getActions:()=>n,getActionViewItem:h=>{const p=this._keybindingFor(h);if(p)return new o.ActionViewItem(h,h,{label:!0,keybinding:p.getLabel(),isMenu:!0});const w=h;return typeof w.getActionViewItem=="function"?w.getActionViewItem():new o.ActionViewItem(h,h,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:h=>this._keybindingFor(h),onHide:h=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:t})}})}_keybindingFor(n){return this._keybindingService.lookupKeybinding(n.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};c.ID="editor.contrib.contextmenu",c=Me([_e(1,C.IContextMenuService),_e(2,C.IContextViewService),_e(3,i.IContextKeyService),_e(4,s.IKeybindingService),_e(5,v.IMenuService)],c),e.ContextMenuController=c;class u extends S.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:_.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(n,l){c.get(l).showContextMenu()}}S.registerEditorContribution(c.ID,c),S.registerEditorAction(u)}),define(ie[635],ne([0,1,481,2,14,25]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(o){this.selections=o}equals(o){const a=this.selections.length,c=o.selections.length;if(a!==c)return!1;for(let u=0;u<a;u++)if(!this.selections[u].equalsSelection(o.selections[u]))return!1;return!0}}class m{constructor(o,a,c){this.cursorState=o,this.scrollTop=a,this.scrollLeft=c}}class v extends k.Disposable{constructor(o){super();this._editor=o,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(o.onDidChangeModel(a=>{this._undoStack=[],this._redoStack=[]})),this._register(o.onDidChangeModelContent(a=>{this._undoStack=[],this._redoStack=[]})),this._register(o.onDidChangeCursorSelection(a=>{if(this._isCursorUndoRedo||!a.oldSelections||a.oldModelVersionId!==a.modelVersionId)return;const c=new S(a.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(c)||(this._undoStack.push(new m(c,o.getScrollTop(),o.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(o){return o.getContribution(v.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new m(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new m(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(o){this._isCursorUndoRedo=!0,this._editor.setSelections(o.cursorState.selections),this._editor.setScrollPosition({scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=v,v.ID="editor.contrib.cursorUndoRedoController";class i extends M.EditorAction{constructor(){super({id:"cursorUndo",label:_.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(o,a,c){v.get(a).cursorUndo()}}e.CursorUndo=i;class C extends M.EditorAction{constructor(){super({id:"cursorRedo",label:_.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(o,a,c){v.get(a).cursorRedo()}}e.CursorRedo=C,M.registerEditorContribution(v.ID,v),M.registerEditorAction(i),M.registerEditorAction(C)}),define(ie[636],ne([0,1,2,17,14,13,3,21,411,31,349]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function C(o){return k.isMacintosh?o.altKey:o.ctrlKey}class s extends _.Disposable{constructor(a){super();this._editor=a,this._register(this._editor.onMouseDown(c=>this._onEditorMouseDown(c))),this._register(this._editor.onMouseUp(c=>this._onEditorMouseUp(c))),this._register(this._editor.onMouseDrag(c=>this._onEditorMouseDrag(c))),this._register(this._editor.onMouseDrop(c=>this._onEditorMouseDrop(c))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(c=>this.onEditorKeyDown(c))),this._register(this._editor.onKeyUp(c=>this.onEditorKeyUp(c))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(a){!this._editor.getOption(29)||this._editor.getOption(16)||(C(a)&&(this._modifierPressed=!0),this._mouseDown&&C(a)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(a){!this._editor.getOption(29)||this._editor.getOption(16)||(C(a)&&(this._modifierPressed=!1),this._mouseDown&&a.keyCode===s.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(a){this._mouseDown=!0}_onEditorMouseUp(a){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(a){let c=a.target;if(this._dragSelection===null){let r=(this._editor.getSelections()||[]).filter(n=>c.position&&n.containsPosition(c.position));if(r.length===1)this._dragSelection=r[0];else return}C(a.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),c.position&&(this._dragSelection.containsPosition(c.position)?this._removeDecoration():this.showAt(c.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(a){if(a.target&&(this._hitContent(a.target)||this._hitMargin(a.target))&&a.target.position){let c=new L.Position(a.target.position.lineNumber,a.target.position.column);if(this._dragSelection===null){let u=null;if(a.event.shiftKey){let r=this._editor.getSelection();if(r){const{selectionStartLineNumber:n,selectionStartColumn:l}=r;u=[new m.Selection(n,l,c.lineNumber,c.column)]}}else u=(this._editor.getSelections()||[]).map(r=>r.containsPosition(c)?new m.Selection(c.lineNumber,c.column,c.lineNumber,c.column):r);this._editor.setSelections(u||[],"mouse",3)}else(!this._dragSelection.containsPosition(c)||(C(a.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(c)||this._dragSelection.getStartPosition().equals(c)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(s.ID,new v.DragAndDropCommand(this._dragSelection,c,C(a.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(a){let c=[{range:new S.Range(a.lineNumber,a.column,a.lineNumber,a.column),options:s._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,c),this._editor.revealPosition(a,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(a){return a.type===6||a.type===7}_hitMargin(a){return a.type===2||a.type===3||a.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=s,s.ID="editor.contrib.dragAndDrop",s.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,s._DECORATION_OPTIONS=i.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),M.registerEditorContribution(s.ID,s)}),define(ie[637],ne([0,1,486,14,133]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:_.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(i,C){M.EditorZoom.setZoomLevel(M.EditorZoom.getZoomLevel()+1)}}class S extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:_.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(i,C){M.EditorZoom.setZoomLevel(M.EditorZoom.getZoomLevel()-1)}}class m extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:_.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(i,C){M.EditorZoom.setZoomLevel(0)}}k.registerEditorAction(L),k.registerEditorAction(S),k.registerEditorAction(m)}),define(ie[266],ne([0,1,44,19,23,12,24,70,110,13,3,21,18,75,36,228,487,546,9,71,26,20,53]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function w(R){if(R=R.filter(E=>E.range),!R.length)return;let{range:O}=R[0];for(let E=1;E<R.length;E++)O=C.Range.plusRange(O,R[E].range);const{startLineNumber:A,endLineNumber:F}=O;A===F?R.length===1?_.alert(r.localize(0,null,A)):_.alert(r.localize(1,null,R.length,A)):R.length===1?_.alert(r.localize(2,null,A,F)):_.alert(r.localize(3,null,R.length,A,F))}e.alertFormattingEdits=w;function b(R){const O=[],A=new Set,F=o.DocumentFormattingEditProviderRegistry.ordered(R);for(const W of F)O.push(W),W.extensionId&&A.add(n.ExtensionIdentifier.toKey(W.extensionId));const E=o.DocumentRangeFormattingEditProviderRegistry.ordered(R);for(const W of E){if(W.extensionId){if(A.has(n.ExtensionIdentifier.toKey(W.extensionId)))continue;A.add(n.ExtensionIdentifier.toKey(W.extensionId))}O.push({displayName:W.displayName,extensionId:W.extensionId,provideDocumentFormattingEdits(V,U,q){return W.provideDocumentRangeFormattingEdits(V,V.getFullModelRange(),U,q)}})}return O}e.getRealAndSyntheticDocumentFormattersOrdered=b;class g{static setFormatterSelector(O){return{dispose:g._selectors.unshift(O)}}static select(O,A,F){return Ie(this,void 0,void 0,function*(){if(O.length===0)return;const E=p.Iterable.first(g._selectors);if(E)return yield E(O,A,F)})}}e.FormattingConflicts=g,g._selectors=new t.LinkedList;function f(R,O,A,F,E,W){return Ie(this,void 0,void 0,function*(){const V=R.get(l.IInstantiationService),U=v.isCodeEditor(O)?O.getModel():O,q=o.DocumentRangeFormattingEditProviderRegistry.ordered(U),j=yield g.select(q,U,F);j&&(E.report(j),yield V.invokeFunction(y,j,O,A,W))})}e.formatDocumentRangesWithSelectedProvider=f;function y(R,O,A,F,E){return Ie(this,void 0,void 0,function*(){const W=R.get(a.IEditorWorkerService);let V,U;v.isCodeEditor(A)?(V=A.getModel(),U=new m.EditorStateCancellationTokenSource(A,1|4,void 0,E)):(V=A,U=new m.TextModelCancellationTokenSource(A,E));let q=[],j=0;for(let X of k.asArray(F).sort(C.Range.compareRangesUsingStarts))j>0&&C.Range.areIntersectingOrTouching(q[j-1],X)?q[j-1]=C.Range.fromPositions(q[j-1].getStartPosition(),X.getEndPosition()):j=q.push(X);const te=X=>Ie(this,void 0,void 0,function*(){return(yield O.provideDocumentRangeFormattingEdits(V,X,V.getFormattingOptions(),U.token))||[]}),ae=(X,B)=>{if(!X.length||!B.length)return!1;const Z=X.reduce((H,z)=>C.Range.plusRange(H,z.range),X[0].range);if(!B.some(H=>C.Range.intersectRanges(Z,H.range)))return!1;for(let H of X)for(let z of B)if(C.Range.intersectRanges(H.range,z.range))return!0;return!1},de=[],ue=[];try{for(let X of q){if(U.token.isCancellationRequested)return!0;ue.push(yield te(X))}for(let X=0;X<q.length;++X)for(let B=X+1;B<q.length;++B){if(U.token.isCancellationRequested)return!0;if(ae(ue[X],ue[B])){const Z=C.Range.plusRange(q[X],q[B]),H=yield te(Z);q.splice(B,1),q.splice(X,1),q.push(Z),ue.splice(B,1),ue.splice(X,1),ue.push(H),X=0,B=0}}for(let X of ue){if(U.token.isCancellationRequested)return!0;const B=yield W.computeMoreMinimalEdits(V.uri,X);B&&de.push(...B)}}finally{U.dispose()}if(de.length===0)return!1;if(v.isCodeEditor(A))u.FormattingEdit.execute(A,de,!0),w(de),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1);else{const[{range:X}]=de,B=new s.Selection(X.startLineNumber,X.startColumn,X.endLineNumber,X.endColumn);V.pushEditOperations([B],de.map(Z=>({text:Z.text,range:C.Range.lift(Z.range),forceMoveMarkers:!0})),Z=>{for(const{range:H}of Z)if(C.Range.areIntersectingOrTouching(H,B))return[new s.Selection(H.startLineNumber,H.startColumn,H.endLineNumber,H.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=y;function I(R,O,A,F,E){return Ie(this,void 0,void 0,function*(){const W=R.get(l.IInstantiationService),V=v.isCodeEditor(O)?O.getModel():O,U=b(V),q=yield g.select(U,V,A);q&&(F.report(q),yield W.invokeFunction(N,q,O,A,E))})}e.formatDocumentWithSelectedProvider=I;function N(R,O,A,F,E){return Ie(this,void 0,void 0,function*(){const W=R.get(a.IEditorWorkerService);let V,U;v.isCodeEditor(A)?(V=A.getModel(),U=new m.EditorStateCancellationTokenSource(A,1|4,void 0,E)):(V=A,U=new m.TextModelCancellationTokenSource(A,E));let q;try{const j=yield O.provideDocumentFormattingEdits(V,V.getFormattingOptions(),U.token);if(q=yield W.computeMoreMinimalEdits(V.uri,j),U.token.isCancellationRequested)return!0}finally{U.dispose()}if(!q||q.length===0)return!1;if(v.isCodeEditor(A))u.FormattingEdit.execute(A,q,F!==2),F!==2&&(w(q),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1));else{const[{range:j}]=q,te=new s.Selection(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn);V.pushEditOperations([te],q.map(ae=>({text:ae.text,range:C.Range.lift(ae.range),forceMoveMarkers:!0})),ae=>{for(const{range:de}of ae)if(C.Range.areIntersectingOrTouching(de,te))return[new s.Selection(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=N;function D(R,O,A,F,E){return Ie(this,void 0,void 0,function*(){const W=o.DocumentRangeFormattingEditProviderRegistry.ordered(O);for(const V of W){let U=yield Promise.resolve(V.provideDocumentRangeFormattingEdits(O,A,F,E)).catch(L.onUnexpectedExternalError);if(k.isNonEmptyArray(U))return yield R.computeMoreMinimalEdits(O.uri,U)}})}e.getDocumentRangeFormattingEditsUntilResult=D;function T(R,O,A,F){return Ie(this,void 0,void 0,function*(){const E=b(O);for(const W of E){let V=yield Promise.resolve(W.provideDocumentFormattingEdits(O,A,F)).catch(L.onUnexpectedExternalError);if(k.isNonEmptyArray(V))return yield R.computeMoreMinimalEdits(O.uri,V)}})}e.getDocumentFormattingEditsUntilResult=T;function P(R,O,A,F,E){const W=o.OnTypeFormattingEditProviderRegistry.ordered(O);return W.length===0||W[0].autoFormatTriggerCharacters.indexOf(F)<0?Promise.resolve(void 0):Promise.resolve(W[0].provideOnTypeFormattingEdits(O,A,F,E,M.CancellationToken.None)).catch(L.onUnexpectedExternalError).then(V=>R.computeMoreMinimalEdits(O.uri,V))}e.getOnTypeFormattingEdits=P,d.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(R,...O){const[A,F,E]=O;h.assertType(S.URI.isUri(A)),h.assertType(C.Range.isIRange(F));const W=R.get(c.IModelService).getModel(A);if(!W)throw L.illegalArgument("resource");return D(R.get(a.IEditorWorkerService),W,C.Range.lift(F),E,M.CancellationToken.None)}),d.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(R,...O){const[A,F]=O;h.assertType(S.URI.isUri(A));const E=R.get(c.IModelService).getModel(A);if(!E)throw L.illegalArgument("resource");return T(R.get(a.IEditorWorkerService),E,F,M.CancellationToken.None)}),d.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(R,...O){const[A,F,E,W]=O;h.assertType(S.URI.isUri(A)),h.assertType(i.Position.isIPosition(F)),h.assertType(typeof E=="string");const V=R.get(c.IModelService).getModel(A);if(!V)throw L.illegalArgument("resource");return P(R.get(a.IEditorWorkerService),V,i.Position.lift(F),E,W)})}),define(ie[638],ne([0,1,19,23,41,2,14,28,94,3,25,18,75,266,228,488,26,16,9,12,59]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class{constructor(f,y){this._workerService=y,this._callOnDispose=new L.DisposableStore,this._callOnModel=new L.DisposableStore,this._editor=f,this._callOnDispose.add(f.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(f.onDidChangeModel(()=>this._update())),this._callOnDispose.add(f.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(s.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(45)||!this._editor.hasModel())return;const f=this._editor.getModel(),[y]=s.OnTypeFormattingEditProviderRegistry.ordered(f);if(!y||!y.autoFormatTriggerCharacters)return;let I=new v.CharacterSet;for(let N of y.autoFormatTriggerCharacters)I.add(N.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(N=>{let D=N.charCodeAt(N.length-1);I.has(D)&&this._trigger(String.fromCharCode(D))}))}_trigger(f){if(!this._editor.hasModel()||this._editor.getSelections().length>1)return;const y=this._editor.getModel(),I=this._editor.getPosition();let N=!1;const D=this._editor.onDidChangeModelContent(T=>{if(T.isFlush){N=!0,D.dispose();return}for(let P=0,R=T.changes.length;P<R;P++)if(T.changes[P].range.endLineNumber<=I.lineNumber){N=!0,D.dispose();return}});a.getOnTypeFormattingEdits(this._workerService,y,I,f,y.getFormattingOptions()).then(T=>{D.dispose(),!N&&_.isNonEmptyArray(T)&&(c.FormattingEdit.execute(this._editor,T,!0),a.alertFormattingEdits(T))},T=>{throw D.dispose(),T})}};h.ID="editor.contrib.autoFormat",h=Me([_e(1,o.IEditorWorkerService)],h);let p=class{constructor(f,y){this.editor=f,this._instantiationService=y,this._callOnDispose=new L.DisposableStore,this._callOnModel=new L.DisposableStore,this._callOnDispose.add(f.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(f.onDidChangeModel(()=>this._update())),this._callOnDispose.add(f.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(s.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(44)&&(!this.editor.hasModel()||!s.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:f})=>this._trigger(f))))}_trigger(f){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(a.formatDocumentRangesWithSelectedProvider,this.editor,f,2,d.Progress.None,k.CancellationToken.None).catch(t.onUnexpectedError)}};p.ID="editor.contrib.formatOnPaste",p=Me([_e(1,l.IInstantiationService)],p);class w extends S.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:u.localize(0,null),alias:"Format Document",precondition:n.ContextKeyExpr.and(C.EditorContextKeys.notInCompositeEditor,C.EditorContextKeys.writable,C.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(f,y){return Ie(this,void 0,void 0,function*(){if(y.hasModel()){const I=f.get(l.IInstantiationService);yield f.get(d.IEditorProgressService).showWhile(I.invokeFunction(a.formatDocumentWithSelectedProvider,y,1,d.Progress.None,k.CancellationToken.None),250)}})}}class b extends S.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:u.localize(1,null),alias:"Format Selection",precondition:n.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:M.KeyChord(2048|41,2048|36),weight:100},contextMenuOpts:{when:C.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(f,y){return Ie(this,void 0,void 0,function*(){if(!y.hasModel())return;const I=f.get(l.IInstantiationService),N=y.getModel(),D=y.getSelections().map(P=>P.isEmpty()?new i.Range(P.startLineNumber,1,P.startLineNumber,N.getLineMaxColumn(P.startLineNumber)):P);yield f.get(d.IEditorProgressService).showWhile(I.invokeFunction(a.formatDocumentRangesWithSelectedProvider,y,D,1,d.Progress.None,k.CancellationToken.None),250)})}}S.registerEditorContribution(h.ID,h),S.registerEditorContribution(p.ID,p),S.registerEditorAction(w),S.registerEditorAction(b),r.CommandsRegistry.registerCommand("editor.action.format",g=>Ie(void 0,void 0,void 0,function*(){const f=g.get(m.ICodeEditorService).getFocusedCodeEditor();if(!f||!f.hasModel())return;const y=g.get(r.ICommandService);f.getSelection().isEmpty()?yield y.executeCommand("editor.action.formatDocument"):yield y.executeCommand("editor.action.formatSelection")}))}),define(ie[267],ne([0,1,23,12,14,18,118]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function m(c,u,r,n){const t=r.ordered(c).map(d=>Promise.resolve(n(d,c,u)).then(void 0,h=>{k.onUnexpectedExternalError(h)}));return Promise.all(t).then(d=>{const h=[];for(let p of d)Array.isArray(p)?h.push(...p):p&&h.push(p);return h})}function v(c,u,r){return m(c,u,L.DefinitionProviderRegistry,(n,l,t)=>n.provideDefinition(l,t,r))}e.getDefinitionsAtPosition=v;function i(c,u,r){return m(c,u,L.DeclarationProviderRegistry,(n,l,t)=>n.provideDeclaration(l,t,r))}e.getDeclarationsAtPosition=i;function C(c,u,r){return m(c,u,L.ImplementationProviderRegistry,(n,l,t)=>n.provideImplementation(l,t,r))}e.getImplementationsAtPosition=C;function s(c,u,r){return m(c,u,L.TypeDefinitionProviderRegistry,(n,l,t)=>n.provideTypeDefinition(l,t,r))}e.getTypeDefinitionsAtPosition=s;function o(c,u,r,n){return m(c,u,L.ReferenceProviderRegistry,(l,t,d)=>Ie(this,void 0,void 0,function*(){const h=yield l.provideReferences(t,d,{includeDeclaration:!0},n);if(!r||!h||h.length!==2)return h;const p=yield l.provideReferences(t,d,{includeDeclaration:!1},n);return p&&p.length===1?p:h}))}e.getReferencesAtPosition=o;function a(c){return Ie(this,void 0,void 0,function*(){const u=yield c(),r=new S.ReferencesModel(u,""),n=r.references.map(l=>l.link);return r.dispose(),n})}M.registerModelAndPositionCommand("_executeDefinitionProvider",(c,u)=>a(()=>v(c,u,_.CancellationToken.None))),M.registerModelAndPositionCommand("_executeDeclarationProvider",(c,u)=>a(()=>i(c,u,_.CancellationToken.None))),M.registerModelAndPositionCommand("_executeImplementationProvider",(c,u)=>a(()=>C(c,u,_.CancellationToken.None))),M.registerModelAndPositionCommand("_executeTypeDefinitionProvider",(c,u)=>a(()=>s(c,u,_.CancellationToken.None))),M.registerModelAndPositionCommand("_executeReferenceProvider",(c,u)=>a(()=>o(c,u,!1,_.CancellationToken.None)))}),define(ie[639],ne([0,1,16,9,74,87,14,28,3,2,6,497,37,34,43]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new _.RawContextKey("hasSymbols",!1,s.localize(0,null)),e.ISymbolNavigationService=k.createDecorator("ISymbolNavigationService");let u=class{constructor(l,t,d,h){this._editorService=t,this._notificationService=d,this._keybindingService=h,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(l)}reset(){var l,t;this._ctxHasSymbols.reset(),(l=this._currentState)===null||l===void 0||l.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(l){const t=l.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(l),this._ctxHasSymbols.set(!0),this._showMessage();const d=new r(this._editorService),h=d.onDidChange(p=>{if(this._ignoreEditorChange)return;const w=this._editorService.getActiveCodeEditor();if(!w)return;const b=w.getModel(),g=w.getPosition();if(!b||!g)return;let f=!1,y=!1;for(const I of t.references)if(c.isEqual(I.uri,b.uri))f=!0,y=y||v.Range.containsPosition(I.range,g);else if(f)break;(!f||!y)&&this.reset()});this._currentState=i.combinedDisposable(d,h)}revealNext(l){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:v.Range.collapseToStart(t.range),selectionRevealType:3}},l).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var l;(l=this._currentMessage)===null||l===void 0||l.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),d=t?s.localize(1,null,this._currentIdx+1,this._currentModel.references.length,t.getLabel()):s.localize(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(d)}};u=Me([_e(0,_.IContextKeyService),_e(1,m.ICodeEditorService),_e(2,a.INotificationService),_e(3,o.IKeybindingService)],u),M.registerSingleton(e.ISymbolNavigationService,u,!0),S.registerEditorCommand(new class extends S.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,l){return n.get(e.ISymbolNavigationService).revealNext(l)}}),L.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(n){n.get(e.ISymbolNavigationService).reset()}});let r=class{constructor(l){this._listener=new Map,this._disposables=new i.DisposableStore,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(l.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(l.onCodeEditorAdd(this._onDidAddEditor,this)),l.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),i.dispose(this._listener.values())}_onDidAddEditor(l){this._listener.set(l,i.combinedDisposable(l.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:l})),l.onDidChangeModelContent(t=>this._onDidChange.fire({editor:l}))))}_onDidRemoveEditor(l){var t;(t=this._listener.get(l))===null||t===void 0||t.dispose(),this._listener.delete(l)}};r=Me([_e(0,m.ICodeEditorService)],r)}),define(ie[640],ne([0,1,2,3,23,253,265,29,409,611,11]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class s{constructor(c,u,r,n){this.owner=c,this.range=u,this.model=r,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}}e.ColorHover=s;let o=class{constructor(c,u,r){this._editor=c,this._hover=u,this._themeService=r}computeSync(c,u){return[]}computeAsync(c,u,r){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const n=S.ColorDetector.get(this._editor);for(const l of u){const t=n.getColorData(l.range.getStartPosition());if(t)return[yield this._createColorHover(this._editor.getModel(),t.colorInfo,t.provider)]}return[]})}_createColorHover(c,u,r){return Ie(this,void 0,void 0,function*(){const n=c.getValueInRange(u.range),{red:l,green:t,blue:d,alpha:h}=u.color,p=new m.RGBA(Math.round(l*255),Math.round(t*255),Math.round(d*255),h),w=new m.Color(p),b=yield L.getColorPresentations(c,u,r,M.CancellationToken.None),g=new v.ColorPickerModel(w,[],0);return g.colorPresentations=b||[],g.guessColorPresentation(w,n),new s(this,k.Range.lift(u.range),g,r)})}renderHoverParts(c,u,r){if(c.length===0||!this._editor.hasModel())return _.Disposable.None;const n=new _.DisposableStore,l=c[0],t=this._editor.getModel(),d=l.model,h=n.add(new i.ColorPickerWidget(u,d,this._editor.getOption(126),this._themeService));let p=new k.Range(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn);const w=()=>{let g,f;if(d.presentation.textEdit){g=[d.presentation.textEdit],f=new k.Range(d.presentation.textEdit.range.startLineNumber,d.presentation.textEdit.range.startColumn,d.presentation.textEdit.range.endLineNumber,d.presentation.textEdit.range.endColumn);const y=this._editor.getModel()._setTrackedRange(null,f,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",g),f=this._editor.getModel()._getTrackedRange(y)||f}else g=[{identifier:null,range:p,text:d.presentation.label,forceMoveMarkers:!1}],f=p.setEndPosition(p.endLineNumber,p.startColumn+d.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",g);d.presentation.additionalTextEdits&&(g=[...d.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",g),this._hover.hide()),this._editor.pushUndoStop(),p=f},b=g=>L.getColorPresentations(t,{range:p,color:{red:g.rgba.r/255,green:g.rgba.g/255,blue:g.rgba.b/255,alpha:g.rgba.a}},l.provider,M.CancellationToken.None).then(f=>{d.colorPresentations=f||[]});return n.add(d.onColorFlushed(g=>{b(g).then(w)})),n.add(d.onDidChangeColor(b)),this._hover.setColorPicker(h),n}};o=Me([_e(2,C.IThemeService)],o),e.ColorHoverParticipant=o}),define(ie[641],ne([0,1,19,23,12,14,18]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHover=void 0;function m(i,C,s){const a=S.HoverProviderRegistry.ordered(i).map(c=>Promise.resolve(c.provideHover(i,C,s)).then(u=>u&&v(u)?u:void 0,u=>{M.onUnexpectedExternalError(u)}));return Promise.all(a).then(_.coalesce)}e.getHover=m,L.registerModelAndPositionCommand("_executeHoverProvider",(i,C)=>m(i,C,k.CancellationToken.None));function v(i){const C=typeof i.range!="undefined",s=typeof i.contents!="undefined"&&i.contents&&i.contents.length>0;return C&&s}}),define(ie[642],ne([0,1,499,7,81,2,3,145,19,58,57,18,641,13,40]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const u=k.$;class r{constructor(t,d,h){this.owner=t,this.range=d,this.contents=h}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}e.MarkdownHover=r;let n=class{constructor(t,d,h,p,w){this._editor=t,this._hover=d,this._modeService=h,this._openerService=p,this._configurationService=w}createLoadingMessage(t){return new r(this,t.range,[new M.MarkdownString().appendText(_.localize(0,null))])}computeSync(t,d){if(!this._editor.hasModel()||t.type!==1)return[];const h=this._editor.getModel(),p=t.range.startLineNumber,w=h.getLineMaxColumn(p),b=[];for(const y of d){const I=y.range.startLineNumber===p?y.range.startColumn:1,N=y.range.endLineNumber===p?y.range.endColumn:w,D=y.options.hoverMessage;if(!D||M.isEmptyMarkdownString(D))continue;const T=new S.Range(t.range.startLineNumber,I,t.range.startLineNumber,N);b.push(new r(this,T,v.asArray(D)))}const g=this._editor.getModel().getLineLength(p),f=this._configurationService.getValue("editor.maxTokenizationLineLength");return g>=f&&b.push(new r(this,new S.Range(p,1,p,g+1),[{value:_.localize(1,null)}])),b}computeAsync(t,d,h){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()||t.type!==1)return Promise.resolve([]);const p=this._editor.getModel();if(!s.HoverProviderRegistry.has(p))return Promise.resolve([]);const w=yield o.getHover(p,new a.Position(t.range.startLineNumber,t.range.startColumn),h),b=[];for(const g of w){if(M.isEmptyMarkdownString(g.contents))continue;const f=g.range?S.Range.lift(g.range):t.range;b.push(new r(this,f,g.contents))}return b})}renderHoverParts(t,d,h){const p=new L.DisposableStore;for(const w of t)for(const b of w.contents){if(M.isEmptyMarkdownString(b))continue;const g=u("div.hover-row.markdown-hover"),f=k.append(g,u("div.hover-contents")),y=p.add(new m.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService));p.add(y.onDidRenderAsync(()=>{f.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const I=p.add(y.render(b));f.appendChild(I.element),d.appendChild(g)}return p}};n=Me([_e(2,C.IModeService),_e(3,i.IOpenerService),_e(4,c.IConfigurationService)],n),e.MarkdownHoverParticipant=n}),define(ie[643],ne([0,1,501,3,21,25,14,75,418,70,11,48,31,15,12]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let u=class _t{constructor(t,d){this.decorationIds=[],this.editor=t,this.editorWorkerService=d}static get(t){return t.getContribution(_t.ID)}dispose(){}run(t,d){this.currentRequest&&this.currentRequest.cancel();const h=this.editor.getSelection(),p=this.editor.getModel();if(!p||!h)return;let w=h;if(w.startLineNumber!==w.endLineNumber)return;const b=new i.EditorState(this.editor,1|4),g=p.uri;return this.editorWorkerService.canNavigateValueSet(g)?(this.currentRequest=a.createCancelablePromise(f=>this.editorWorkerService.navigateValueSet(g,w,d)),this.currentRequest.then(f=>{if(!f||!f.range||!f.value||!b.validate(this.editor))return;let y=k.Range.lift(f.range),I=f.range,N=f.value.length-(w.endColumn-w.startColumn);I={startLineNumber:I.startLineNumber,startColumn:I.startColumn,endLineNumber:I.endLineNumber,endColumn:I.startColumn+f.value.length},N>1&&(w=new M.Selection(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn+N-1));const D=new v.InPlaceReplaceCommand(y,w,f.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,D),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:I,options:_t.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=a.timeout(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(c.onUnexpectedError)}).catch(c.onUnexpectedError)):Promise.resolve(void 0)}};u.ID="editor.contrib.inPlaceReplaceController",u.DECORATION=o.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),u=Me([_e(1,m.IEditorWorkerService)],u);class r extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:_.localize(0,null),alias:"Replace with Previous Value",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(t,d){const h=u.get(d);return h?h.run(this.id,!0):Promise.resolve(void 0)}}class n extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:_.localize(1,null),alias:"Replace with Next Value",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(t,d){const h=u.get(d);return h?h.run(this.id,!1):Promise.resolve(void 0)}}S.registerEditorContribution(u.ID,u),S.registerEditorAction(r),S.registerEditorAction(n),C.registerThemingParticipant((l,t)=>{const d=l.getColor(s.editorBracketMatchBorder);d&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${d}; }`)})}),define(ie[644],ne([0,1,502,2,8,14,184,56,3,21,25,31,45,36,232,77]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function r(D,T,P,R){if(D.getLineCount()===1&&D.getLineMaxColumn(1)===1)return[];let O=o.LanguageConfigurationRegistry.getIndentationRules(D.getLanguageIdentifier().id);if(!O)return[];for(P=Math.min(P,D.getLineCount());T<=P&&O.unIndentedLinePattern;){let de=D.getLineContent(T);if(!O.unIndentedLinePattern.test(de))break;T++}if(T>P-1)return[];const{tabSize:A,indentSize:F,insertSpaces:E}=D.getOptions(),W=(de,ue)=>(ue=ue||1,S.ShiftCommand.shiftIndent(de,de.length+ue,A,F,E)),V=(de,ue)=>(ue=ue||1,S.ShiftCommand.unshiftIndent(de,de.length+ue,A,F,E));let U=[],q,j=D.getLineContent(T),te=j;if(R!=null){q=R;let de=M.getLeadingWhitespace(j);te=q+j.substring(de.length),O.decreaseIndentPattern&&O.decreaseIndentPattern.test(te)&&(q=V(q),te=q+j.substring(de.length)),j!==te&&U.push(m.EditOperation.replaceMove(new i.Selection(T,1,T,de.length+1),s.TextModel.normalizeIndentation(q,F,E)))}else q=M.getLeadingWhitespace(j);let ae=q;O.increaseIndentPattern&&O.increaseIndentPattern.test(te)?(ae=W(ae),q=W(q)):O.indentNextLinePattern&&O.indentNextLinePattern.test(te)&&(ae=W(ae)),T++;for(let de=T;de<=P;de++){let ue=D.getLineContent(de),X=M.getLeadingWhitespace(ue),B=ae+ue.substring(X.length);O.decreaseIndentPattern&&O.decreaseIndentPattern.test(B)&&(ae=V(ae),q=V(q)),X!==ae&&U.push(m.EditOperation.replaceMove(new i.Selection(de,1,de,X.length+1),s.TextModel.normalizeIndentation(ae,F,E))),!(O.unIndentedLinePattern&&O.unIndentedLinePattern.test(ue))&&(O.increaseIndentPattern&&O.increaseIndentPattern.test(B)?(q=W(q),ae=q):O.indentNextLinePattern&&O.indentNextLinePattern.test(B)?ae=W(ae):ae=q)}return U}e.getReindentEditOperations=r;class n extends L.EditorAction{constructor(){super({id:n.ID,label:_.localize(0,null),alias:"Convert Indentation to Spaces",precondition:C.EditorContextKeys.writable})}run(T,P){let R=P.getModel();if(!R)return;let O=R.getOptions(),A=P.getSelection();if(!A)return;const F=new I(A,O.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[F]),P.pushUndoStop(),R.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=n,n.ID="editor.action.indentationToSpaces";class l extends L.EditorAction{constructor(){super({id:l.ID,label:_.localize(1,null),alias:"Convert Indentation to Tabs",precondition:C.EditorContextKeys.writable})}run(T,P){let R=P.getModel();if(!R)return;let O=R.getOptions(),A=P.getSelection();if(!A)return;const F=new N(A,O.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[F]),P.pushUndoStop(),R.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=l,l.ID="editor.action.indentationToTabs";class t extends L.EditorAction{constructor(T,P){super(P);this.insertSpaces=T}run(T,P){const R=T.get(u.IQuickInputService),O=T.get(a.IModelService);let A=P.getModel();if(!A)return;let F=O.getCreationOptions(A.getLanguageIdentifier().language,A.uri,A.isForSimpleWidget);const E=[1,2,3,4,5,6,7,8].map(V=>({id:V.toString(),label:V.toString(),description:V===F.tabSize?_.localize(2,null):void 0})),W=Math.min(A.getOptions().tabSize-1,7);setTimeout(()=>{R.pick(E,{placeHolder:_.localize(3,null),activeItem:E[W]}).then(V=>{V&&A&&!A.isDisposed()&&A.updateOptions({tabSize:parseInt(V.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=t;class d extends t{constructor(){super(!1,{id:d.ID,label:_.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=d,d.ID="editor.action.indentUsingTabs";class h extends t{constructor(){super(!0,{id:h.ID,label:_.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=h,h.ID="editor.action.indentUsingSpaces";class p extends L.EditorAction{constructor(){super({id:p.ID,label:_.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(T,P){const R=T.get(a.IModelService);let O=P.getModel();if(!O)return;let A=R.getCreationOptions(O.getLanguageIdentifier().language,O.uri,O.isForSimpleWidget);O.detectIndentation(A.insertSpaces,A.tabSize)}}e.DetectIndentation=p,p.ID="editor.action.detectIndentation";class w extends L.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:_.localize(7,null),alias:"Reindent Lines",precondition:C.EditorContextKeys.writable})}run(T,P){let R=P.getModel();if(!R)return;let O=r(R,1,R.getLineCount());O.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,O),P.pushUndoStop())}}e.ReindentLinesAction=w;class b extends L.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:_.localize(8,null),alias:"Reindent Selected Lines",precondition:C.EditorContextKeys.writable})}run(T,P){let R=P.getModel();if(!R)return;let O=P.getSelections();if(O===null)return;let A=[];for(let F of O){let E=F.startLineNumber,W=F.endLineNumber;if(E!==W&&F.endColumn===1&&W--,E===1){if(E===W)continue}else E--;let V=r(R,E,W);A.push(...V)}A.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,A),P.pushUndoStop())}}e.ReindentSelectedLinesAction=b;class g{constructor(T,P){this._initialSelection=P,this._edits=[],this._selectionId=null;for(let R of T)R.range&&typeof R.text=="string"&&this._edits.push(R)}getEditOperations(T,P){for(let O of this._edits)P.addEditOperation(v.Range.lift(O.range),O.text);let R=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(R=!0,this._selectionId=P.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(R=!0,this._selectionId=P.trackSelection(this._initialSelection,!1))),R||(this._selectionId=P.trackSelection(this._initialSelection))}computeCursorState(T,P){return P.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=g;class f{constructor(T){this.callOnDispose=new k.DisposableStore,this.callOnModel=new k.DisposableStore,this.editor=T,this.callOnDispose.add(T.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(T.onDidChangeModel(()=>this.update())),this.callOnDispose.add(T.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(44))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:T})=>{this.trigger(T)})))}trigger(T){let P=this.editor.getSelections();if(P===null||P.length>1)return;const R=this.editor.getModel();if(!R||!R.isCheapToTokenize(T.getStartPosition().lineNumber))return;const O=this.editor.getOption(9),{tabSize:A,indentSize:F,insertSpaces:E}=R.getOptions();let W=[],V={shiftIndent:te=>S.ShiftCommand.shiftIndent(te,te.length+1,A,F,E),unshiftIndent:te=>S.ShiftCommand.unshiftIndent(te,te.length+1,A,F,E)},U=T.startLineNumber;for(;U<=T.endLineNumber;){if(this.shouldIgnoreLine(R,U)){U++;continue}break}if(U>T.endLineNumber)return;let q=R.getLineContent(U);if(!/\S/.test(q.substring(0,T.startColumn-1))){let te=o.LanguageConfigurationRegistry.getGoodIndentForLine(O,R,R.getLanguageIdentifier().id,U,V);if(te!==null){let ae=M.getLeadingWhitespace(q),de=c.getSpaceCnt(te,A),ue=c.getSpaceCnt(ae,A);if(de!==ue){let X=c.generateIndent(de,A,E);W.push({range:new v.Range(U,1,U,ae.length+1),text:X}),q=X+q.substr(ae.length)}else{let X=o.LanguageConfigurationRegistry.getIndentMetadata(R,U);if(X===0||X===8)return}}}const j=U;for(;U<T.endLineNumber;){if(!/\S/.test(R.getLineContent(U+1))){U++;continue}break}if(U!==T.endLineNumber){let te={getLineTokens:de=>R.getLineTokens(de),getLanguageIdentifier:()=>R.getLanguageIdentifier(),getLanguageIdAtPosition:(de,ue)=>R.getLanguageIdAtPosition(de,ue),getLineContent:de=>de===j?q:R.getLineContent(de)},ae=o.LanguageConfigurationRegistry.getGoodIndentForLine(O,te,R.getLanguageIdentifier().id,U+1,V);if(ae!==null){let de=c.getSpaceCnt(ae,A),ue=c.getSpaceCnt(M.getLeadingWhitespace(R.getLineContent(U+1)),A);if(de!==ue){let X=de-ue;for(let B=U+1;B<=T.endLineNumber;B++){let Z=R.getLineContent(B),H=M.getLeadingWhitespace(Z),ee=c.getSpaceCnt(H,A)+X,x=c.generateIndent(ee,A,E);x!==H&&W.push({range:new v.Range(B,1,B,H.length+1),text:x})}}}}if(W.length>0){this.editor.pushUndoStop();let te=new g(W,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",te),this.editor.pushUndoStop()}}shouldIgnoreLine(T,P){T.forceTokenization(P);let R=T.getLineFirstNonWhitespaceColumn(P);if(R===0)return!0;let O=T.getLineTokens(P);if(O.getCount()>0){let A=O.findTokenIndexAtOffset(R);if(A>=0&&O.getStandardTokenType(A)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=f,f.ID="editor.contrib.autoIndentOnPaste";function y(D,T,P,R){if(D.getLineCount()===1&&D.getLineMaxColumn(1)===1)return;let O="";for(let F=0;F<P;F++)O+=" ";let A=new RegExp(O,"gi");for(let F=1,E=D.getLineCount();F<=E;F++){let W=D.getLineFirstNonWhitespaceColumn(F);if(W===0&&(W=D.getLineMaxColumn(F)),W===1)continue;const V=new v.Range(F,1,F,W),U=D.getValueInRange(V),q=R?U.replace(/\t/ig,O):U.replace(A,"	");T.addEditOperation(V,q)}}class I{constructor(T,P){this.selection=T,this.tabSize=P,this.selectionId=null}getEditOperations(T,P){this.selectionId=P.trackSelection(this.selection),y(T,P,this.tabSize,!0)}computeCursorState(T,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=I;class N{constructor(T,P){this.selection=T,this.tabSize=P,this.selectionId=null}getEditOperations(T,P){this.selectionId=P.trackSelection(this.selection),y(T,P,this.tabSize,!1)}computeCursorState(T,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=N,L.registerEditorContribution(f.ID,f),L.registerEditorAction(n),L.registerEditorAction(l),L.registerEditorAction(d),L.registerEditorAction(h),L.registerEditorAction(p),L.registerEditorAction(w),L.registerEditorAction(b)}),define(ie[645],ne([0,1,15,12,92,2,14,28,18,19,22,23,11,3,139,26,24,20,67,13]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.getInlayHints=void 0;const d=500;function h(w,b,g){return Ie(this,void 0,void 0,function*(){const f=[],y=v.InlayHintsProviderRegistry.ordered(w).reverse(),I=i.flatten(y.map(N=>b.map(D=>Promise.resolve(N.provideInlayHints(w,D,g)).then(T=>{T&&f.push({list:T,provider:N})},T=>{k.onUnexpectedExternalError(T)}))));return yield Promise.all(I),f})}e.getInlayHints=h;let p=class{constructor(b,g,f){this._editor=b,this._codeEditorService=g,this._themeService=f,this._disposables=new L.DisposableStore,this._sessionDisposables=new L.DisposableStore,this._getInlayHintsDelays=new c.LanguageFeatureRequestDelays(v.InlayHintsProviderRegistry,250,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(v.InlayHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(f.onDidColorThemeChange(()=>this._update())),this._disposables.add(b.onDidChangeModel(()=>this._update())),this._disposables.add(b.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(b.onDidChangeConfiguration(y=>{y.hasChanged(124)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(124).enabled){this._removeAllDecorations();return}const b=this._editor.getModel();if(!b||!v.InlayHintsProviderRegistry.has(b)){this._removeAllDecorations();return}const g=new _.RunOnceScheduler(()=>Ie(this,void 0,void 0,function*(){const y=Date.now(),I=new s.CancellationTokenSource;this._sessionDisposables.add(L.toDisposable(()=>I.dispose(!0)));const N=this._editor.getVisibleRangesPlusViewportAboveBelow(),D=yield h(b,N,I.token),T=this._getInlayHintsDelays.update(b,Date.now()-y);g.delay=T,this._updateHintsDecorators(D)}),this._getInlayHintsDelays.get(b));this._sessionDisposables.add(g),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>g.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>g.schedule())),g.schedule();const f=new L.DisposableStore;this._sessionDisposables.add(f);for(const y of v.InlayHintsProviderRegistry.all(b))typeof y.onDidChangeInlayHints=="function"&&f.add(y.onDidChangeInlayHints(()=>g.schedule()))}_updateHintsDecorators(b){const{fontSize:g,fontFamily:f}=this._getLayoutInfo(),y=this._themeService.getColorTheme().getColor(C.editorInlayHintBackground),I=this._themeService.getColorTheme().getColor(C.editorInlayHintForeground),N=[],D=[],T="--inlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(T,f);for(const{list:P}of b)for(let R=0;R<P.length&&D.length<d;R++){const{text:O,position:A,whitespaceBefore:F,whitespaceAfter:E}=P[R],W=F?g/3|0:0,V=E?g/3|0:0,U={contentText:O,backgroundColor:`${y}`,color:`${I}`,margin:`0px ${V}px 0px ${W}px`,fontSize:`${g}px`,fontFamily:`var(${T})`,padding:`0px ${g/4|0}px`,borderRadius:`${g/4|0}px`},q="inlayHints-"+M.hash(U).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",q,{before:U},void 0,this._editor),N.push(q);const j=this._codeEditorService.resolveDecorationOptions(q,!0);D.push({range:a.Range.fromPositions(A),options:j})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=N,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,D)}_getLayoutInfo(){const b=this._editor.getOption(124),g=this._editor.getOption(42);let f=b.fontSize;(!f||f<5||f>g)&&(f=g*.9|0);const y=b.fontFamily;return{fontSize:f,fontFamily:y}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};p.ID="editor.contrib.InlayHints",p=Me([_e(1,m.ICodeEditorService),_e(2,o.IThemeService)],p),e.InlayHintsController=p,S.registerEditorContribution(p.ID,p),u.CommandsRegistry.registerCommand("_executeInlayHintProvider",(w,...b)=>Ie(void 0,void 0,void 0,function*(){const[g,f]=b;n.assertType(r.URI.isUri(g)),n.assertType(a.Range.isIRange(f));const y=yield w.get(l.ITextModelService).createModelReference(g);try{const I=yield h(y.object.textEditorModel,[a.Range.lift(f)],s.CancellationToken.None);return i.flatten(I.map(N=>N.list)).sort((N,D)=>t.Position.compare(N.position,D.position))}finally{y.dispose()}}))}),define(ie[268],ne([0,1,15,23,12,6,2,8,3,18,56,26,234,14,148,128,233]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let n=class extends S.Disposable{constructor(I,N){super();this.editor=I,this.commandService=N,this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new o.MutableDisposable),this.active=!1,this._register(N.onDidExecuteCommand(D=>{new Set([a.UndoCommand.id,a.RedoCommand.id,c.CoreEditingCommands.Tab.id,c.CoreEditingCommands.DeleteLeft.id,c.CoreEditingCommands.DeleteRight.id]).has(D.commandId)&&I.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(D=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(D=>{this.session&&!this.session.isValid&&this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var I;return(I=this.session)===null||I===void 0?void 0:I.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}get expanded(){return this.session?this.session.expanded:!1}setExpanded(I){var N;(N=this.session)===null||N===void 0||N.setExpanded(I)}setActive(I){var N;this.active=I,I&&((N=this.session)===null||N===void 0||N.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(52).enabled||this.session&&this.session.isValid||this.trigger()}trigger(){this.completionSession.value||(this.completionSession.value=new l(this.editor,this.editor.getPosition(),()=>this.active,this.commandService),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var I;(I=this.session)===null||I===void 0||I.commitCurrentCompletion()}showNext(){var I;(I=this.session)===null||I===void 0||I.showNextInlineCompletion()}showPrevious(){var I;(I=this.session)===null||I===void 0||I.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var I;return Ie(this,void 0,void 0,function*(){const N=yield(I=this.session)===null||I===void 0?void 0:I.hasMultipleInlineCompletions();return N!==void 0?N:!1})}};n=Me([_e(1,s.ICommandService)],n),e.InlineCompletionsModel=n;class l extends r.BaseGhostTextWidgetModel{constructor(I,N,D,T){super(I);this.triggerPosition=N,this.shouldUpdate=D,this.commandService=T,this.minReservedLineCount=0,this.updateOperation=this._register(new o.MutableDisposable),this.cache=this._register(new o.MutableDisposable),this.updateSoon=this._register(new _.RunOnceScheduler(()=>this.update(i.InlineCompletionTriggerKind.Automatic),50)),this.textModel=this.editor.getModel(),this.currentlySelectedCompletionId=void 0;let P;this._register(this.onDidChange(()=>{const R=this.currentCompletion;if(R&&R.sourceInlineCompletion!==P){P=R.sourceInlineCompletion;const O=R.sourceProvider;O.handleItemDidShow&&O.handleItemDidShow(R.sourceInlineCompletions,P)}})),this._register(this.editor.onDidChangeCursorPosition(R=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(R=>{if(this.cache.value){let O=!1;for(const A of this.cache.value.completions){const F=this.textModel.getDecorationRange(A.decorationId);if(!F){M.onUnexpectedError(new Error("Decoration has no range"));continue}A.synchronizedRange.equalsRange(F)||(O=!0,A.synchronizedRange=F)}O&&this.onDidChangeEmitter.fire()}this.scheduleAutomaticUpdate()})),this._register(i.InlineCompletionsProviderRegistry.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const I=this.cache.value.completions.findIndex(N=>N.semanticId===this.currentlySelectedCompletionId);return I===-1?(this.currentlySelectedCompletionId=void 0,0):I}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var I;return Ie(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const N=((I=this.cache.value)===null||I===void 0?void 0:I.completions)||[];if(N.length>0){const D=(this.fixAndGetIndexOfCurrentSelection()+1)%N.length;this.currentlySelectedCompletionId=N[D].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var I;return Ie(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const N=((I=this.cache.value)===null||I===void 0?void 0:I.completions)||[];if(N.length>0){const D=(this.fixAndGetIndexOfCurrentSelection()+N.length-1)%N.length;this.currentlySelectedCompletionId=N[D].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var I;return Ie(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===i.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(i.InlineCompletionTriggerKind.Explicit):((I=this.cache.value)===null||I===void 0?void 0:I.triggerKind)!==i.InlineCompletionTriggerKind.Explicit&&(yield this.update(i.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var I;return Ie(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((I=this.cache.value)===null||I===void 0?void 0:I.completions.length)||0)>1})}get ghostText(){const I=this.currentCompletion,N=this.editor.getOptions().get(52).mode;return I?p(I,this.editor.getModel(),N,this.editor.getSelection().getEndPosition()):void 0}get currentCompletion(){const I=this.currentCachedCompletion;if(!!I)return{text:I.inlineCompletion.text,range:I.synchronizedRange,command:I.inlineCompletion.command,sourceProvider:I.inlineCompletion.sourceProvider,sourceInlineCompletions:I.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:I.inlineCompletion.sourceInlineCompletion}}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(I){return Ie(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const N=this.editor.getPosition(),D=_.createCancelablePromise(P=>Ie(this,void 0,void 0,function*(){let R;try{R=yield f(N,this.editor.getModel(),{triggerKind:I},P)}catch(O){M.onUnexpectedError(O);return}P.isCancellationRequested||(this.cache.value=new d(this.editor,R,()=>this.onDidChangeEmitter.fire(),I),this.onDidChangeEmitter.fire())})),T=new t(D,I);this.updateOperation.value=T,yield D,this.updateOperation.value===T&&this.updateOperation.clear()})}takeOwnership(I){this._register(I)}commitCurrentCompletion(){if(!this.ghostText)return;const I=this.currentCompletion;I&&this.commit(I)}commit(I){const N=this.cache.replace(void 0);this.editor.executeEdits("inlineSuggestion.accept",[C.EditOperation.replaceMove(I.range,I.text)]),I.command?this.commandService.executeCommand(I.command.id,...I.command.arguments||[]).finally(()=>{N==null||N.dispose()}).then(void 0,M.onUnexpectedExternalError):N==null||N.dispose(),this.onDidChangeEmitter.fire()}}e.InlineCompletionsSession=l;class t{constructor(I,N){this.promise=I,this.triggerKind=N}dispose(){this.promise.cancel()}}class d extends S.Disposable{constructor(I,N,D,T){super();this.triggerKind=T;const P=I.deltaDecorations([],N.items.map(R=>({range:R.range,options:{description:"inline-completion-tracking-range"}})));this._register(S.toDisposable(()=>{I.deltaDecorations(P,[])})),this.completions=N.items.map((R,O)=>new h(R,P[O])),this._register(I.onDidChangeModelContent(()=>{let R=!1;const O=I.getModel();for(const A of this.completions){const F=O.getDecorationRange(A.decorationId);if(!F){M.onUnexpectedError(new Error("Decoration has no range"));continue}A.synchronizedRange.equalsRange(F)||(R=!0,A.synchronizedRange=F)}R&&D()})),this._register(N)}}class h{constructor(I,N){this.inlineCompletion=I,this.decorationId=N,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=I.range}}function p(y,I,N,D){if(y.range.startLineNumber!==y.range.endLineNumber)return;const T=I.getValueInRange(y.range),P=b(T,y.text),R=y.range.startLineNumber,O=new Array;if(N==="prefix"){const A=P.filter(F=>F.originalLength===0);if(A.length>1||A.length===1&&A[0].originalStart!==T.length)return}for(const A of P){const F=y.range.startColumn+A.originalStart+A.originalLength;if(D&&D.lineNumber===y.range.startLineNumber&&F<D.column)return;if(A.originalLength>0){const V=T.substr(A.originalStart,A.originalLength),U=I.getLineFirstNonWhitespaceColumn(R);if(!(/^(\t| )*$/.test(V)&&(U===0||F<=U)))return}if(A.modifiedLength===0)continue;const E=y.text.substr(A.modifiedStart,A.modifiedLength),W=m.splitLines(E);O.push({column:F,lines:W})}return new r.GhostText(R,O,0)}e.inlineCompletionToGhostText=p;let w;function b(y,I){if((w==null?void 0:w.originalValue)===y&&(w==null?void 0:w.newValue)===I)return w==null?void 0:w.changes;{const N=u.stringDiff(y,I,!1);return w={originalValue:y,newValue:I,changes:N},N}}function g(y,I){const N=I.getWordAtPosition(y),D=I.getLineMaxColumn(y.lineNumber);return N?new v.Range(y.lineNumber,N.startColumn,y.lineNumber,D):v.Range.fromPositions(y,y.with(void 0,D))}function f(y,I,N,D=k.CancellationToken.None){return Ie(this,void 0,void 0,function*(){const T=g(y,I),P=i.InlineCompletionsProviderRegistry.all(I),R=yield Promise.all(P.map(A=>Ie(this,void 0,void 0,function*(){const F=yield A.provideInlineCompletions(I,y,N,D);return{completions:F,provider:A,dispose:()=>{F&&A.freeInlineCompletions(F)}}}))),O=new Map;for(const A of R){const F=A.completions;if(F)for(const E of F.items.map(W=>({text:W.text,range:W.range?v.Range.lift(W.range):T,command:W.command,sourceProvider:A.provider,sourceInlineCompletions:F,sourceInlineCompletion:W})))E.range.startLineNumber===E.range.endLineNumber&&O.set(JSON.stringify({text:E.text,range:E.range}),E)}return{items:[...O.values()],dispose:()=>{for(const A of R)A.dispose()}}})}}),define(ie[646],ne([0,1,505,41,148,14,95,376,187,56,13,3,21,25,419,556,420,33]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class l extends L.EditorAction{constructor(ue,X){super(X);this.down=ue}run(ue,X){if(!X.hasModel())return;const B=X.getSelections().map((z,ee)=>({selection:z,index:ee,ignore:!1}));B.sort((z,ee)=>s.Range.compareRangesUsingStarts(z.selection,ee.selection));let Z=B[0];for(let z=1;z<B.length;z++){const ee=B[z];Z.selection.endLineNumber===ee.selection.startLineNumber&&(Z.index<ee.index?ee.ignore=!0:(Z.ignore=!0,Z=ee))}const H=[];for(const z of B)H.push(new c.CopyLinesCommand(z.selection,this.down,z.ignore));X.pushUndoStop(),X.executeCommands(this.id,H),X.pushUndoStop()}}class t extends l{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:_.localize(0,null),alias:"Copy Line Up",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:_.localize(1,null),order:1}})}}class d extends l{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:_.localize(2,null),alias:"Copy Line Down",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:_.localize(3,null),order:2}})}}class h extends L.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:_.localize(4,null),alias:"Duplicate Selection",precondition:a.EditorContextKeys.writable,menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:_.localize(5,null),order:5}})}run(ue,X,B){if(!X.hasModel())return;const Z=[],H=X.getSelections(),z=X.getModel();for(const ee of H)if(ee.isEmpty())Z.push(new c.CopyLinesCommand(ee,!0));else{const x=new o.Selection(ee.endLineNumber,ee.endColumn,ee.endLineNumber,ee.endColumn);Z.push(new S.ReplaceCommandThatSelectsText(x,z.getValueInRange(ee)))}X.pushUndoStop(),X.executeCommands(this.id,Z),X.pushUndoStop()}}e.DuplicateSelectionAction=h;class p extends L.EditorAction{constructor(ue,X){super(X);this.down=ue}run(ue,X){let B=[],Z=X.getSelections()||[];const H=X.getOption(9);for(const z of Z)B.push(new u.MoveLinesCommand(z,this.down,H));X.pushUndoStop(),X.executeCommands(this.id,B),X.pushUndoStop()}}class w extends p{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:_.localize(6,null),alias:"Move Line Up",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:_.localize(7,null),order:3}})}}class b extends p{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:_.localize(8,null),alias:"Move Line Down",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:_.localize(9,null),order:4}})}}class g extends L.EditorAction{constructor(ue,X){super(X);this.descending=ue}run(ue,X){const B=X.getSelections()||[];for(const H of B)if(!r.SortLinesCommand.canRun(X.getModel(),H,this.descending))return;let Z=[];for(let H=0,z=B.length;H<z;H++)Z[H]=new r.SortLinesCommand(B[H],this.descending);X.pushUndoStop(),X.executeCommands(this.id,Z),X.pushUndoStop()}}e.AbstractSortLinesAction=g;class f extends g{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:_.localize(10,null),alias:"Sort Lines Ascending",precondition:a.EditorContextKeys.writable})}}e.SortLinesAscendingAction=f;class y extends g{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:_.localize(11,null),alias:"Sort Lines Descending",precondition:a.EditorContextKeys.writable})}}e.SortLinesDescendingAction=y;class I extends L.EditorAction{constructor(){super({id:I.ID,label:_.localize(12,null),alias:"Trim Trailing Whitespace",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|54),weight:100}})}run(ue,X,B){let Z=[];B.reason==="auto-save"&&(Z=(X.getSelections()||[]).map(ee=>new C.Position(ee.positionLineNumber,ee.positionColumn)));let H=X.getSelection();if(H===null)return;let z=new m.TrimTrailingWhitespaceCommand(H,Z);X.pushUndoStop(),X.executeCommands(this.id,[z]),X.pushUndoStop()}}e.TrimTrailingWhitespaceAction=I,I.ID="editor.action.trimTrailingWhitespace";class N extends L.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:_.localize(13,null),alias:"Delete Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(ue,X){if(!X.hasModel())return;let B=this._getLinesToRemove(X),Z=X.getModel();if(Z.getLineCount()===1&&Z.getLineMaxColumn(1)===1)return;let H=0,z=[],ee=[];for(let x=0,G=B.length;x<G;x++){const Q=B[x];let J=Q.startLineNumber,le=Q.endLineNumber,oe=1,he=Z.getLineMaxColumn(le);le<Z.getLineCount()?(le+=1,he=1):J>1&&(J-=1,oe=Z.getLineMaxColumn(J)),z.push(i.EditOperation.replace(new o.Selection(J,oe,le,he),"")),ee.push(new o.Selection(J-H,Q.positionColumn,J-H,Q.positionColumn)),H+=Q.endLineNumber-Q.startLineNumber+1}X.pushUndoStop(),X.executeEdits(this.id,z,ee),X.pushUndoStop()}_getLinesToRemove(ue){let X=ue.getSelections().map(H=>{let z=H.endLineNumber;return H.startLineNumber<H.endLineNumber&&H.endColumn===1&&(z-=1),{startLineNumber:H.startLineNumber,selectionStartColumn:H.selectionStartColumn,endLineNumber:z,positionColumn:H.positionColumn}});X.sort((H,z)=>H.startLineNumber===z.startLineNumber?H.endLineNumber-z.endLineNumber:H.startLineNumber-z.startLineNumber);let B=[],Z=X[0];for(let H=1;H<X.length;H++)Z.endLineNumber+1>=X[H].startLineNumber?Z.endLineNumber=X[H].endLineNumber:(B.push(Z),Z=X[H]);return B.push(Z),B}}e.DeleteLinesAction=N;class D extends L.EditorAction{constructor(){super({id:"editor.action.indentLines",label:_.localize(14,null),alias:"Indent Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(ue,X){const B=X._getViewModel();!B||(X.pushUndoStop(),X.executeCommands(this.id,v.TypeOperations.indent(B.cursorConfig,X.getModel(),X.getSelections())),X.pushUndoStop())}}e.IndentLinesAction=D;class T extends L.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:_.localize(15,null),alias:"Outdent Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(ue,X){M.CoreEditingCommands.Outdent.runEditorCommand(ue,X,null)}}class P extends L.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:_.localize(16,null),alias:"Insert Line Above",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(ue,X){const B=X._getViewModel();!B||(X.pushUndoStop(),X.executeCommands(this.id,v.TypeOperations.lineInsertBefore(B.cursorConfig,X.getModel(),X.getSelections())))}}e.InsertLineBeforeAction=P;class R extends L.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:_.localize(17,null),alias:"Insert Line Below",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(ue,X){const B=X._getViewModel();!B||(X.pushUndoStop(),X.executeCommands(this.id,v.TypeOperations.lineInsertAfter(B.cursorConfig,X.getModel(),X.getSelections())))}}e.InsertLineAfterAction=R;class O extends L.EditorAction{run(ue,X){if(!X.hasModel())return;const B=X.getSelection();let Z=this._getRangesToDelete(X),H=[];for(let x=0,G=Z.length-1;x<G;x++){let Q=Z[x],J=Z[x+1];s.Range.intersectRanges(Q,J)===null?H.push(Q):Z[x+1]=s.Range.plusRange(Q,J)}H.push(Z[Z.length-1]);let z=this._getEndCursorState(B,H),ee=H.map(x=>i.EditOperation.replace(x,""));X.pushUndoStop(),X.executeEdits(this.id,ee,z),X.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=O;class A extends O{constructor(){super({id:"deleteAllLeft",label:_.localize(18,null),alias:"Delete All Left",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(ue,X){let B=null,Z=[],H=0;return X.forEach(z=>{let ee;if(z.endColumn===1&&H>0){let x=z.startLineNumber-H;ee=new o.Selection(x,z.startColumn,x,z.startColumn)}else ee=new o.Selection(z.startLineNumber,z.startColumn,z.startLineNumber,z.startColumn);H+=z.endLineNumber-z.startLineNumber,z.intersectRanges(ue)?B=ee:Z.push(ee)}),B&&Z.unshift(B),Z}_getRangesToDelete(ue){let X=ue.getSelections();if(X===null)return[];let B=X,Z=ue.getModel();return Z===null?[]:(B.sort(s.Range.compareRangesUsingStarts),B=B.map(H=>{if(H.isEmpty())if(H.startColumn===1){let z=Math.max(1,H.startLineNumber-1),ee=H.startLineNumber===1?1:Z.getLineContent(z).length+1;return new s.Range(z,ee,H.startLineNumber,1)}else return new s.Range(H.startLineNumber,1,H.startLineNumber,H.startColumn);else return new s.Range(H.startLineNumber,1,H.endLineNumber,H.endColumn)}),B)}}e.DeleteAllLeftAction=A;class F extends O{constructor(){super({id:"deleteAllRight",label:_.localize(19,null),alias:"Delete All Right",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(ue,X){let B=null,Z=[];for(let H=0,z=X.length,ee=0;H<z;H++){let x=X[H],G=new o.Selection(x.startLineNumber-ee,x.startColumn,x.startLineNumber-ee,x.startColumn);x.intersectRanges(ue)?B=G:Z.push(G)}return B&&Z.unshift(B),Z}_getRangesToDelete(ue){let X=ue.getModel();if(X===null)return[];let B=ue.getSelections();if(B===null)return[];let Z=B.map(H=>{if(H.isEmpty()){const z=X.getLineMaxColumn(H.startLineNumber);return H.startColumn===z?new s.Range(H.startLineNumber,H.startColumn,H.startLineNumber+1,1):new s.Range(H.startLineNumber,H.startColumn,H.startLineNumber,z)}return H});return Z.sort(s.Range.compareRangesUsingStarts),Z}}e.DeleteAllRightAction=F;class E extends L.EditorAction{constructor(){super({id:"editor.action.joinLines",label:_.localize(20,null),alias:"Join Lines",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(ue,X){let B=X.getSelections();if(B===null)return;let Z=X.getSelection();if(Z===null)return;B.sort(s.Range.compareRangesUsingStarts);let H=[],z=B.reduce((le,oe)=>le.isEmpty()?le.endLineNumber===oe.startLineNumber?(Z.equalsSelection(le)&&(Z=oe),oe):oe.startLineNumber>le.endLineNumber+1?(H.push(le),oe):new o.Selection(le.startLineNumber,le.startColumn,oe.endLineNumber,oe.endColumn):oe.startLineNumber>le.endLineNumber?(H.push(le),oe):new o.Selection(le.startLineNumber,le.startColumn,oe.endLineNumber,oe.endColumn));H.push(z);let ee=X.getModel();if(ee===null)return;let x=[],G=[],Q=Z,J=0;for(let le=0,oe=H.length;le<oe;le++){let he=H[le],K=he.startLineNumber,re=1,Y=0,se,ge,pe=ee.getLineContent(he.endLineNumber).length-he.endColumn;if(he.isEmpty()||he.startLineNumber===he.endLineNumber){let Ee=he.getStartPosition();Ee.lineNumber<ee.getLineCount()?(se=K+1,ge=ee.getLineMaxColumn(se)):(se=Ee.lineNumber,ge=ee.getLineMaxColumn(Ee.lineNumber))}else se=he.endLineNumber,ge=ee.getLineMaxColumn(se);let ve=ee.getLineContent(K);for(let Ee=K+1;Ee<=se;Ee++){let Te=ee.getLineContent(Ee),De=ee.getLineFirstNonWhitespaceColumn(Ee);if(De>=1){let Ae=!0;ve===""&&(Ae=!1),Ae&&(ve.charAt(ve.length-1)===" "||ve.charAt(ve.length-1)==="	")&&(Ae=!1,ve=ve.replace(/[\s\uFEFF\xA0]+$/g," "));let we=Te.substr(De-1);ve+=(Ae?" ":"")+we,Ae?Y=we.length+1:Y=we.length}else Y=0}let Le=new s.Range(K,re,se,ge);if(!Le.isEmpty()){let Ee;he.isEmpty()?(x.push(i.EditOperation.replace(Le,ve)),Ee=new o.Selection(Le.startLineNumber-J,ve.length-Y+1,K-J,ve.length-Y+1)):he.startLineNumber===he.endLineNumber?(x.push(i.EditOperation.replace(Le,ve)),Ee=new o.Selection(he.startLineNumber-J,he.startColumn,he.endLineNumber-J,he.endColumn)):(x.push(i.EditOperation.replace(Le,ve)),Ee=new o.Selection(he.startLineNumber-J,he.startColumn,he.startLineNumber-J,ve.length-pe)),s.Range.intersectRanges(Le,Z)!==null?Q=Ee:G.push(Ee)}J+=Le.endLineNumber-Le.startLineNumber}G.unshift(Q),X.pushUndoStop(),X.executeEdits(this.id,x,G),X.pushUndoStop()}}e.JoinLinesAction=E;class W extends L.EditorAction{constructor(){super({id:"editor.action.transpose",label:_.localize(21,null),alias:"Transpose characters around the cursor",precondition:a.EditorContextKeys.writable})}run(ue,X){let B=X.getSelections();if(B===null)return;let Z=X.getModel();if(Z===null)return;let H=[];for(let z=0,ee=B.length;z<ee;z++){let x=B[z];if(!x.isEmpty())continue;let G=x.getStartPosition(),Q=Z.getLineMaxColumn(G.lineNumber);if(G.column>=Q){if(G.lineNumber===Z.getLineCount())continue;let J=new s.Range(G.lineNumber,Math.max(1,G.column-1),G.lineNumber+1,1),le=Z.getValueInRange(J).split("").reverse().join("");H.push(new S.ReplaceCommand(new o.Selection(G.lineNumber,Math.max(1,G.column-1),G.lineNumber+1,1),le))}else{let J=new s.Range(G.lineNumber,Math.max(1,G.column-1),G.lineNumber,G.column+1),le=Z.getValueInRange(J).split("").reverse().join("");H.push(new S.ReplaceCommandThatPreservesSelection(J,le,new o.Selection(G.lineNumber,G.column+1,G.lineNumber,G.column+1)))}}X.pushUndoStop(),X.executeCommands(this.id,H),X.pushUndoStop()}}e.TransposeAction=W;class V extends L.EditorAction{run(ue,X){const B=X.getSelections();if(B===null)return;const Z=X.getModel();if(Z===null)return;const H=X.getOption(114),z=[];for(const ee of B)if(ee.isEmpty()){const x=ee.getStartPosition(),G=X.getConfiguredWordAtPosition(x);if(!G)continue;const Q=new s.Range(x.lineNumber,G.startColumn,x.lineNumber,G.endColumn),J=Z.getValueInRange(Q);z.push(i.EditOperation.replace(Q,this._modifyText(J,H)))}else{const x=Z.getValueInRange(ee);z.push(i.EditOperation.replace(ee,this._modifyText(x,H)))}X.pushUndoStop(),X.executeEdits(this.id,z),X.pushUndoStop()}}e.AbstractCaseAction=V;class U extends V{constructor(){super({id:"editor.action.transformToUppercase",label:_.localize(22,null),alias:"Transform to Uppercase",precondition:a.EditorContextKeys.writable})}_modifyText(ue,X){return ue.toLocaleUpperCase()}}e.UpperCaseAction=U;class q extends V{constructor(){super({id:"editor.action.transformToLowercase",label:_.localize(23,null),alias:"Transform to Lowercase",precondition:a.EditorContextKeys.writable})}_modifyText(ue,X){return ue.toLocaleLowerCase()}}e.LowerCaseAction=q;class j extends V{constructor(){super({id:"editor.action.transformToTitlecase",label:_.localize(24,null),alias:"Transform to Title Case",precondition:a.EditorContextKeys.writable})}_modifyText(ue,X){const Z=(`\r
	 `+X).split("");let H="",z=!0;for(let ee=0;ee<ue.length;ee++){let x=ue[ee];Z.indexOf(x)>=0?(z=!0,H+=x):z?(z=!1,H+=x.toLocaleUpperCase()):H+=x.toLocaleLowerCase()}return H}}e.TitleCaseAction=j;class te{constructor(ue,X){this._pattern=ue,this._flags=X,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(ue){}}return this._actual}isSupported(){return this.get()!==null}}class ae extends V{constructor(){super({id:"editor.action.transformToSnakecase",label:_.localize(25,null),alias:"Transform to Snake Case",precondition:a.EditorContextKeys.writable})}_modifyText(ue,X){const B=ae.regExp1.get(),Z=ae.regExp2.get();return!B||!Z?ue:ue.replace(B,"$1_$2").replace(Z,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=ae,ae.regExp1=new te("(\\p{Ll})(\\p{Lu})","gmu"),ae.regExp2=new te("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),L.registerEditorAction(t),L.registerEditorAction(d),L.registerEditorAction(h),L.registerEditorAction(w),L.registerEditorAction(b),L.registerEditorAction(f),L.registerEditorAction(y),L.registerEditorAction(I),L.registerEditorAction(N),L.registerEditorAction(D),L.registerEditorAction(T),L.registerEditorAction(P),L.registerEditorAction(R),L.registerEditorAction(A),L.registerEditorAction(F),L.registerEditorAction(E),L.registerEditorAction(W),L.registerEditorAction(U),L.registerEditorAction(q),L.registerEditorAction(j),ae.regExp1.isSupported()&&ae.regExp2.isSupported()&&L.registerEditorAction(ae)}),define(ie[647],ne([0,1,506,14,19,2,13,23,3,18,15,31,16,25,24,28,12,8,22,11,29,45]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new o.RawContextKey("LinkedEditingInputVisible",!1);const p="linked-editing-decoration";let w=class bt extends L.Disposable{constructor(I,N){super();this._debounceDuration=200,this._localToDispose=this._register(new L.DisposableStore),this._editor=I,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(N),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new L.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(D=>{(D.hasChanged(59)||D.hasChanged(79))&&this.reinitialize(!1)})),this._register(i.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(I){return I.getContribution(bt.ID)}reinitialize(I){const N=this._editor.getModel(),D=N!==null&&(this._editor.getOption(59)||this._editor.getOption(79))&&i.LinkedEditingRangeProviderRegistry.has(N);if(D===this._enabled&&!I||(this._enabled=D,this.clearRanges(),this._localToDispose.clear(),!D||N===null))return;this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id),this._localToDispose.add(N.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id)}));const T=new C.Delayer(this._debounceDuration),P=()=>{this._rangeUpdateTriggerPromise=T.trigger(()=>this.updateRanges(),this._debounceDuration)},R=new C.Delayer(0),O=A=>{this._rangeSyncTriggerPromise=R.trigger(()=>this._syncRanges(A))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{P()})),this._localToDispose.add(this._editor.onDidChangeModelContent(A=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const F=N.getDecorationRange(this._currentDecorations[0]);if(F&&A.changes.every(E=>F.intersectRanges(E.range))){O(this._currentDecorations);return}}P()})),this._localToDispose.add({dispose:()=>{T.cancel(),R.cancel()}}),this.updateRanges()}_syncRanges(I){if(!this._editor.hasModel()||I!==this._currentDecorations||I.length===0)return;const N=this._editor.getModel(),D=N.getDecorationRange(I[0]);if(!D||D.startLineNumber!==D.endLineNumber)return this.clearRanges();const T=N.getValueInRange(D);if(this._currentWordPattern){const R=T.match(this._currentWordPattern);if((R?R[0].length:0)!==T.length)return this.clearRanges()}let P=[];for(let R=1,O=I.length;R<O;R++){const A=N.getDecorationRange(I[R]);if(!!A)if(A.startLineNumber!==A.endLineNumber)P.push({range:A,text:T});else{let F=N.getValueInRange(A),E=T,W=A.startColumn,V=A.endColumn;const U=n.commonPrefixLength(F,E);W+=U,F=F.substr(U),E=E.substr(U);const q=n.commonSuffixLength(F,E);V-=q,F=F.substr(0,F.length-q),E=E.substr(0,E.length-q),(W!==V||E.length!==0)&&P.push({range:new v.Range(A.startLineNumber,W,A.endLineNumber,V),text:E})}}if(P.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const R=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",P),this._editor._getViewModel().setPrevEditOperationType(R)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(I=!1){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const N=this._editor.getPosition();if(!this._enabled&&!I||this._editor.getSelections().length>1){this.clearRanges();return}const D=this._editor.getModel(),T=D.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===T){if(N.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const R=D.getDecorationRange(this._currentDecorations[0]);if(R&&R.containsPosition(N))return}}this._currentRequestPosition=N,this._currentRequestModelVersion=T;const P=C.createCancelablePromise(R=>Ie(this,void 0,void 0,function*(){try{const O=yield f(D,N,R);if(P!==this._currentRequest||(this._currentRequest=null,T!==D.getVersionId()))return;let A=[];(O==null?void 0:O.ranges)&&(A=O.ranges),this._currentWordPattern=(O==null?void 0:O.wordPattern)||this._languageWordPattern;let F=!1;for(let W=0,V=A.length;W<V;W++)if(v.Range.containsPosition(A[W],N)){if(F=!0,W!==0){const U=A[W];A.splice(W,1),A.unshift(U)}break}if(!F){this.clearRanges();return}const E=A.map(W=>({range:W,options:bt.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,E)}catch(O){r.isPromiseCanceledError(O)||r.onUnexpectedError(O),(this._currentRequest===P||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=P,P})}};w.ID="editor.contrib.linkedEditing",w.DECORATION=s.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:p}),w=Me([_e(1,o.IContextKeyService)],w),e.LinkedEditingContribution=w;class b extends k.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:_.localize(0,null),alias:"Start Linked Editing",precondition:o.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(I,N){const D=I.get(u.ICodeEditorService),[T,P]=Array.isArray(N)&&N||[void 0,void 0];return c.URI.isUri(T)&&S.Position.isIPosition(P)?D.openCodeEditor({resource:T},D.getActiveCodeEditor()).then(R=>{!R||(R.setPosition(P),R.invokeWithinContext(O=>(this.reportTelemetry(O,R),this.run(O,R))))},r.onUnexpectedError):super.runCommand(I,N)}run(I,N){const D=w.get(N);return D?Promise.resolve(D.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=b;const g=k.EditorCommand.bindToContribution(w.get);k.registerEditorCommand(new g({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:y=>y.clearRanges(),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function f(y,I,N){const D=i.LinkedEditingRangeProviderRegistry.ordered(y);return C.first(D.map(T=>()=>Ie(this,void 0,void 0,function*(){try{return yield T.provideLinkedEditingRanges(y,I,N)}catch(P){r.onUnexpectedExternalError(P);return}})),T=>!!T&&M.isNonEmptyArray(T==null?void 0:T.ranges))}e.editorLinkedEditingBackground=l.registerColor("editor.linkedEditingBackground",{dark:d.Color.fromHex("#f00").transparent(.3),light:d.Color.fromHex("#f00").transparent(.3),hc:d.Color.fromHex("#f00").transparent(.3)},_.localize(1,null)),t.registerThemingParticipant((y,I)=>{const N=y.getColor(e.editorLinkedEditingBackground);N&&I.addRule(`.monaco-editor .${p} { background: ${N}; border-left-color: ${N}; }`)}),k.registerModelAndPositionCommand("_executeLinkedEditingProvider",(y,I)=>f(y,I,m.CancellationToken.None)),k.registerEditorContribution(w.ID,w),k.registerEditorAction(b)}),define(ie[648],ne([0,1,507,15,23,12,81,2,17,14,31,18,229,560,34,58,22,11,24,46,43,356]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function h(f,y){const I=f.url&&/^command:/i.test(f.url.toString()),N=f.tooltip?f.tooltip:I?_.localize(0,null):_.localize(1,null),D=y?v.isMacintosh?_.localize(2,null):_.localize(3,null):v.isMacintosh?_.localize(4,null):_.localize(5,null);if(f.url){let T="";if(/^command:/i.test(f.url.toString())){const R=f.url.toString().match(/^command:([^?#]+)/);if(R){const O=R[1];T=` "${_.localize(6,null,O)}"`}}return new S.MarkdownString("",!0).appendMarkdown(`[${N}](${f.url.toString(!0)}${T}) (${D})`)}else return new S.MarkdownString().appendText(`${N} (${D})`)}const p={general:C.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:C.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class w{constructor(y,I){this.link=y,this.decorationId=I}static decoration(y,I){return{range:y.range,options:w._getOptions(y,I,!1)}}static _getOptions(y,I,N){const D=Object.assign({},N?p.active:p.general);return D.hoverMessage=h(y,I),D}activate(y,I){y.changeDecorationOptions(this.decorationId,w._getOptions(this.link,I,!0))}deactivate(y,I){y.changeDecorationOptions(this.decorationId,w._getOptions(this.link,I,!1))}}let b=class St{constructor(y,I,N){this.listenersToRemove=new m.DisposableStore,this.editor=y,this.openerService=I,this.notificationService=N;let D=new o.ClickLinkGesture(y);this.listenersToRemove.add(D),this.listenersToRemove.add(D.onMouseMoveOrRelevantKeyDown(([T,P])=>{this._onEditorMouseMove(T,P)})),this.listenersToRemove.add(D.onExecute(T=>{this.onEditorMouseUp(T)})),this.listenersToRemove.add(D.onCancel(T=>{this.cleanUpActiveLinkDecoration()})),this.enabled=y.getOption(60),this.listenersToRemove.add(y.onDidChangeConfiguration(T=>{const P=y.getOption(60);this.enabled!==P&&(this.enabled=P,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(y.onDidChangeModelContent(T=>this.onChange())),this.listenersToRemove.add(y.onDidChangeModel(T=>this.onModelChanged())),this.listenersToRemove.add(y.onDidChangeModelLanguage(T=>this.onModelModeChanged())),this.listenersToRemove.add(s.LinkProviderRegistry.onDidChange(T=>this.onModelModeChanged())),this.timeout=new k.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(y){return y.getContribution(St.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),St.RECOMPUTE_TIME)}beginCompute(){return Ie(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const y=this.editor.getModel();if(!!s.LinkProviderRegistry.has(y)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=k.createCancelablePromise(I=>a.getLinks(y,I));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(I){L.onUnexpectedError(I)}finally{this.computePromise=null}}})}updateDecorations(y){const I=this.editor.getOption(67)==="altKey";let N=[],D=Object.keys(this.currentOccurrences);for(let R=0,O=D.length;R<O;R++){let A=D[R],F=this.currentOccurrences[A];N.push(F.decorationId)}let T=[];if(y)for(const R of y)T.push(w.decoration(R,I));let P=this.editor.deltaDecorations(N,T);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let R=0,O=P.length;R<O;R++){let A=new w(y[R],P[R]);this.currentOccurrences[A.decorationId]=A}}_onEditorMouseMove(y,I){const N=this.editor.getOption(67)==="altKey";if(this.isEnabled(y,I)){this.cleanUpActiveLinkDecoration();const D=this.getLinkOccurrence(y.target.position);D&&this.editor.changeDecorations(T=>{D.activate(T,N),this.activeLinkDecorationId=D.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const y=this.editor.getOption(67)==="altKey";if(this.activeLinkDecorationId){const I=this.currentOccurrences[this.activeLinkDecorationId];I&&this.editor.changeDecorations(N=>{I.deactivate(N,y)}),this.activeLinkDecorationId=null}}onEditorMouseUp(y){if(!this.isEnabled(y))return;const I=this.getLinkOccurrence(y.target.position);!I||this.openLinkOccurrence(I,y.hasSideBySideModifier,!0)}openLinkOccurrence(y,I,N=!1){if(!this.openerService)return;const{link:D}=y;D.resolve(M.CancellationToken.None).then(T=>{if(typeof T=="string"&&this.editor.hasModel()){const P=this.editor.getModel().uri;if(P.scheme===t.Schemas.file&&T.startsWith(`${t.Schemas.file}:`)){const R=l.URI.parse(T);if(R.scheme===t.Schemas.file){const O=d.originalFSPath(R);let A=null;O.startsWith("/./")?A=`.${O.substr(1)}`:O.startsWith("//./")&&(A=`.${O.substr(2)}`),A&&(T=d.joinPath(P,A))}}}return this.openerService.open(T,{openToSide:I,fromUserGesture:N,allowContributedOpeners:!0,allowCommands:!0})},T=>{const P=T instanceof Error?T.message:T;P==="invalid"?this.notificationService.warn(_.localize(7,null,D.url.toString())):P==="missing"?this.notificationService.warn(_.localize(8,null)):L.onUnexpectedError(T)})}getLinkOccurrence(y){if(!this.editor.hasModel()||!y)return null;const I=this.editor.getModel().getDecorationsInRange({startLineNumber:y.lineNumber,startColumn:y.column,endLineNumber:y.lineNumber,endColumn:y.column},0,!0);for(const N of I){const D=this.currentOccurrences[N.id];if(D)return D}return null}isEnabled(y,I){return Boolean(y.target.type===6&&(y.hasTriggerModifier||I&&I.keyCodeIsTriggerKey))}stop(){var y;this.timeout.cancel(),this.activeLinksList&&((y=this.activeLinksList)===null||y===void 0||y.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};b.ID="editor.linkDetector",b.RECOMPUTE_TIME=1e3,b=Me([_e(1,u.IOpenerService),_e(2,c.INotificationService)],b),e.LinkDetector=b;class g extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:_.localize(9,null),alias:"Open Link",precondition:void 0})}run(y,I){let N=b.get(I);if(!N||!I.hasModel())return;let D=I.getSelections();for(let T of D){let P=N.getLinkOccurrence(T.getEndPosition());P&&N.openLinkOccurrence(P,!1)}}}i.registerEditorContribution(b.ID,b),i.registerEditorAction(g),n.registerThemingParticipant((f,y)=>{const I=f.getColor(r.editorActiveLinkForeground);I&&y.addRule(`.monaco-editor .detected-link-active { color: ${I} !important; }`)})}),define(ie[152],ne([0,1,508,15,2,44,3,14,16,11,22,99,357]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let o=class wt{constructor(r,n){this._messageWidget=new M.MutableDisposable,this._messageListeners=new M.DisposableStore,this._editor=r,this._visible=wt.MESSAGE_VISIBLE.bindTo(n),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(r){return r.getContribution(wt.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(r,n){L.alert(r),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new c(this._editor,n,r),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new k.TimeoutTimer(()=>this.closeMessage(),3e3));let l;this._messageListeners.add(this._editor.onMouseMove(t=>{!t.target.position||(l?l.containsPosition(t.target.position)||this.closeMessage():l=new S.Range(n.lineNumber-3,1,t.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(c.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(_.localize(1,null),this._editor.getPosition())}};o.ID="editor.contrib.messageController",o.MESSAGE_VISIBLE=new v.RawContextKey("messageVisible",!1,_.localize(0,null)),o=Me([_e(1,v.IContextKeyService)],o),e.MessageController=o;const a=m.EditorCommand.bindToContribution(o.get);m.registerEditorCommand(new a({id:"leaveEditorMessage",precondition:o.MESSAGE_VISIBLE,handler:u=>u.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class c{constructor(r,{lineNumber:n,column:l},t){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=r,this._editor.revealLinesInCenterIfOutsideViewport(n,n,0),this._position={lineNumber:n,column:l-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const d=document.createElement("div");d.classList.add("anchor","top"),this._domNode.appendChild(d);const h=document.createElement("div");h.classList.add("message"),h.textContent=t,this._domNode.appendChild(h);const p=document.createElement("div");p.classList.add("anchor","below"),this._domNode.appendChild(p),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(r){let n;const l=()=>{r.dispose(),clearTimeout(n),r.getDomNode().removeEventListener("animationend",l)};return n=setTimeout(l,110),r.getDomNode().addEventListener("animationend",l),r.getDomNode().classList.add("fadeOut"),{dispose:l}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(r){this._domNode.classList.toggle("below",r===2)}}m.registerEditorContribution(o.ID,o),i.registerThemingParticipant((u,r)=>{const n=u.getColor(C.inputValidationInfoBorder);if(n){let d=u.type===s.ColorScheme.HIGH_CONTRAST?2:1;r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${d}px solid ${n}; }`)}const l=u.getColor(C.inputValidationInfoBackground);l&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${l}; }`);const t=u.getColor(C.inputValidationInfoForeground);t&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${t}; }`)})});var vt=this&&this.__classPrivateFieldSet||function($,e,_,k,M){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!M)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!M:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?M.call($,_):M?M.value=_:e.set($,_),_},it=this&&this.__classPrivateFieldGet||function($,e,_,k){if(_==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!k:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _==="m"?k:_==="a"?k.call($):k?k.value:e.get($)};define(ie[649],ne([0,1,12,155,2,152,9,630,609]),function($,e,_,k,M,L,S,m,v){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let C=class extends M.Disposable{constructor(o,a,c,u,r){super();this._editor=o,this.delegate=u,this._activeCodeActions=this._register(new M.MutableDisposable),i.set(this,!1),this._codeActionWidget=new k.Lazy(()=>this._register(r.createInstance(m.CodeActionMenu,this._editor,{onSelectCodeAction:n=>Ie(this,void 0,void 0,function*(){this.delegate.applyCodeAction(n,!0)})}))),this._lightBulbWidget=new k.Lazy(()=>{const n=this._register(r.createInstance(v.LightBulbWidget,this._editor,a,c));return this._register(n.onClick(l=>this.showCodeActionList(l.trigger,l.actions,l,{includeDisabledActions:!1}))),n})}dispose(){vt(this,i,!0,"f"),super.dispose()}update(o){var a,c,u;return Ie(this,void 0,void 0,function*(){if(o.type!==1){(a=this._lightBulbWidget.rawValue)===null||a===void 0||a.hide();return}let r;try{r=yield o.actions}catch(n){_.onUnexpectedError(n);return}if(!it(this,i,"f"))if(this._lightBulbWidget.getValue().update(r,o.trigger,o.position),o.trigger.type===1){if((c=o.trigger.filter)===null||c===void 0?void 0:c.include){const l=this.tryGetValidActionToApply(o.trigger,r);if(l){try{yield this.delegate.applyCodeAction(l,!1)}finally{r.dispose()}return}if(o.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(o.trigger,r);if(t&&t.action.disabled){L.MessageController.get(this._editor).showMessage(t.action.disabled,o.trigger.context.position),r.dispose();return}}}const n=!!((u=o.trigger.filter)===null||u===void 0?void 0:u.include);if(o.trigger.context&&(!r.allActions.length||!n&&!r.validActions.length)){L.MessageController.get(this._editor).showMessage(o.trigger.context.notAvailableMessage,o.trigger.context.position),this._activeCodeActions.value=r,r.dispose();return}this._activeCodeActions.value=r,this._codeActionWidget.getValue().show(o.trigger,r,o.position,{includeDisabledActions:n})}else this._codeActionWidget.getValue().isVisible?r.dispose():this._activeCodeActions.value=r})}getInvalidActionThatWouldHaveBeenApplied(o,a){if(!!a.allActions.length&&(o.autoApply==="first"&&a.validActions.length===0||o.autoApply==="ifSingle"&&a.allActions.length===1))return a.allActions.find(({action:c})=>c.disabled)}tryGetValidActionToApply(o,a){if(!!a.validActions.length&&(o.autoApply==="first"&&a.validActions.length>0||o.autoApply==="ifSingle"&&a.validActions.length===1))return a.validActions[0]}showCodeActionList(o,a,c,u){return Ie(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(o,a,c,u)})}};i=new WeakMap,C=Me([_e(4,S.IInstantiationService)],C),e.CodeActionUi=C}),define(ie[269],ne([0,1,23,155,2,8,14,138,25,151,649,152,476,26,16,9,86,34,59,88,631,137]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function p(A){return c.ContextKeyExpr.regex(d.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+L.escapeRegExpCharacters(A.value)+"\\b"))}const w={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:o.localize(0,null)},apply:{type:"string",description:o.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[o.localize(2,null),o.localize(3,null),o.localize(4,null)]},preferred:{type:"boolean",default:!1,description:o.localize(5,null)}}};let b=class zt extends M.Disposable{constructor(F,E,W,V,U){super();this._instantiationService=U,this._editor=F,this._model=this._register(new d.CodeActionModel(this._editor,E,W,V)),this._register(this._model.onDidChangeState(q=>this.update(q))),this._ui=new k.Lazy(()=>this._register(new C.CodeActionUi(F,I.Id,O.Id,{applyCodeAction:(q,j)=>Ie(this,void 0,void 0,function*(){try{yield this._applyCodeAction(q)}finally{j&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(F){return F.getContribution(zt.ID)}update(F){this._ui.getValue().update(F)}showCodeActions(F,E,W){return this._ui.getValue().showCodeActionList(F,E,W,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(F,E,W){if(!this._editor.hasModel())return;s.MessageController.get(this._editor).closeMessage();const V=this._editor.getPosition();this._trigger({type:1,filter:E,autoApply:W,context:{notAvailableMessage:F,position:V}})}_trigger(F){return this._model.trigger(F)}_applyCodeAction(F){return this._instantiationService.invokeFunction(g,F,this._editor)}};b.ID="editor.contrib.quickFixController",b=Me([_e(1,r.IMarkerService),_e(2,c.IContextKeyService),_e(3,l.IEditorProgressService),_e(4,u.IInstantiationService)],b),e.QuickFixController=b;function g(A,F,E){return Ie(this,void 0,void 0,function*(){const W=A.get(m.IBulkEditService),V=A.get(a.ICommandService),U=A.get(t.ITelemetryService),q=A.get(n.INotificationService);if(U.publicLog2("codeAction.applyCodeAction",{codeActionTitle:F.action.title,codeActionKind:F.action.kind,codeActionIsPreferred:!!F.action.isPreferred}),yield F.resolve(_.CancellationToken.None),F.action.edit&&(yield W.apply(m.ResourceEdit.convert(F.action.edit),{editor:E,label:F.action.title})),F.action.command)try{yield V.executeCommand(F.action.command.id,...F.action.command.arguments||[])}catch(j){const te=f(j);q.error(typeof te=="string"?te:o.localize(6,null))}})}e.applyCodeAction=g;function f(A){return typeof A=="string"?A:A instanceof Error&&typeof A.message=="string"?A.message:void 0}function y(A,F,E,W){if(A.hasModel()){const V=b.get(A);V&&V.manualTriggerAtCurrentPosition(F,E,W)}}class I extends S.EditorAction{constructor(){super({id:I.Id,label:o.localize(7,null),alias:"Quick Fix...",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(F,E){return y(E,o.localize(8,null),void 0,void 0)}}e.QuickFixAction=I,I.Id="editor.action.quickFix";class N extends S.EditorCommand{constructor(){super({id:i.codeActionCommandId,precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:w}]}})}runEditorCommand(F,E,W){const V=h.CodeActionCommandArgs.fromUser(W,{kind:h.CodeActionKind.Empty,apply:"ifSingle"});return y(E,typeof(W==null?void 0:W.kind)=="string"?V.preferred?o.localize(9,null,W.kind):o.localize(10,null,W.kind):V.preferred?o.localize(11,null):o.localize(12,null),{include:V.kind,includeSourceActions:!0,onlyIncludePreferredActions:V.preferred},V.apply)}}e.CodeActionCommand=N;class D extends S.EditorAction{constructor(){super({id:i.refactorCommandId,label:o.localize(13,null),alias:"Refactor...",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:c.ContextKeyExpr.and(v.EditorContextKeys.writable,p(h.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:w}]}})}run(F,E,W){const V=h.CodeActionCommandArgs.fromUser(W,{kind:h.CodeActionKind.Refactor,apply:"never"});return y(E,typeof(W==null?void 0:W.kind)=="string"?V.preferred?o.localize(14,null,W.kind):o.localize(15,null,W.kind):V.preferred?o.localize(16,null):o.localize(17,null),{include:h.CodeActionKind.Refactor.contains(V.kind)?V.kind:h.CodeActionKind.None,onlyIncludePreferredActions:V.preferred},V.apply)}}e.RefactorAction=D;class T extends S.EditorAction{constructor(){super({id:i.sourceActionCommandId,label:o.localize(18,null),alias:"Source Action...",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:c.ContextKeyExpr.and(v.EditorContextKeys.writable,p(h.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:w}]}})}run(F,E,W){const V=h.CodeActionCommandArgs.fromUser(W,{kind:h.CodeActionKind.Source,apply:"never"});return y(E,typeof(W==null?void 0:W.kind)=="string"?V.preferred?o.localize(19,null,W.kind):o.localize(20,null,W.kind):V.preferred?o.localize(21,null):o.localize(22,null),{include:h.CodeActionKind.Source.contains(V.kind)?V.kind:h.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:V.preferred},V.apply)}}e.SourceAction=T;class P extends S.EditorAction{constructor(){super({id:i.organizeImportsCommandId,label:o.localize(23,null),alias:"Organize Imports",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,p(h.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(F,E){return y(E,o.localize(24,null),{include:h.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=P;class R extends S.EditorAction{constructor(){super({id:i.fixAllCommandId,label:o.localize(25,null),alias:"Fix All",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,p(h.CodeActionKind.SourceFixAll))})}run(F,E){return y(E,o.localize(26,null),{include:h.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=R;class O extends S.EditorAction{constructor(){super({id:O.Id,label:o.localize(27,null),alias:"Auto Fix...",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,p(h.CodeActionKind.QuickFix)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(F,E){return y(E,o.localize(28,null),{include:h.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=O,O.Id="editor.action.autoFix"}),define(ie[650],ne([0,1,14,269]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),_.registerEditorContribution(k.QuickFixController.ID,k.QuickFixController),_.registerEditorAction(k.QuickFixAction),_.registerEditorAction(k.RefactorAction),_.registerEditorAction(k.SourceAction),_.registerEditorAction(k.OrganizeImportsAction),_.registerEditorAction(k.AutoFixAction),_.registerEditorAction(k.FixAllAction),_.registerEditorCommand(new k.CodeActionCommand)}),define(ie[651],ne([0,1,515,12,16,59,14,25,619,18,13,44,3,152,70,34,138,24,28,23,2,15,69,9,32,97,142,20]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class I{constructor(O,A){this.model=O,this.position=A,this._providerRenameIdx=0,this._providers=i.RenameProviderRegistry.ordered(O)}hasProvider(){return this._providers.length>0}resolveRenameLocation(O){return Ie(this,void 0,void 0,function*(){const A=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const E=this._providers[this._providerRenameIdx];if(!E.resolveRenameLocation)break;let W=yield E.resolveRenameLocation(this.model,this.position,O);if(!!W){if(W.rejectReason){A.push(W.rejectReason);continue}return W}}const F=this.model.getWordAtPosition(this.position);return F?{range:new o.Range(this.position.lineNumber,F.startColumn,this.position.lineNumber,F.endColumn),text:F.word,rejectReason:A.length>0?A.join(`
`):void 0}:{range:o.Range.fromPositions(this.position),text:"",rejectReason:A.length>0?A.join(`
`):void 0}})}provideRenameEdits(O,A){return Ie(this,void 0,void 0,function*(){return this._provideRenameEdits(O,this._providerRenameIdx,[],A)})}_provideRenameEdits(O,A,F,E){return Ie(this,void 0,void 0,function*(){const W=this._providers[A];if(!W)return{edits:[],rejectReason:F.join(`
`)};const V=yield W.provideRenameEdits(this.model,this.position,O,E);if(V){if(V.rejectReason)return this._provideRenameEdits(O,A+1,F.concat(V.rejectReason),E)}else return this._provideRenameEdits(O,A+1,F.concat(_.localize(0,null)),E);return V})}}function N(R,O,A){return Ie(this,void 0,void 0,function*(){const F=new I(R,O),E=yield F.resolveRenameLocation(t.CancellationToken.None);return(E==null?void 0:E.rejectReason)?{edits:[],rejectReason:E.rejectReason}:F.provideRenameEdits(A,t.CancellationToken.None)})}e.rename=N;let D=class Ht{constructor(O,A,F,E,W,V,U){this.editor=O,this._instaService=A,this._notificationService=F,this._bulkEditService=E,this._progressService=W,this._logService=V,this._configService=U,this._dispoableStore=new d.DisposableStore,this._cts=new t.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new h.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(v.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(O){return O.getContribution(Ht.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return Ie(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const O=this.editor.getPosition(),A=new I(this.editor.getModel(),O);if(!A.hasProvider())return;this._cts=new c.EditorStateCancellationTokenSource(this.editor,4|1);let F;try{const te=A.resolveRenameLocation(this._cts.token);this._progressService.showWhile(te,250),F=yield te}catch(te){a.MessageController.get(this.editor).showMessage(te||_.localize(1,null),O);return}if(!F)return;if(F.rejectReason){a.MessageController.get(this.editor).showMessage(F.rejectReason,O);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new c.EditorStateCancellationTokenSource(this.editor,4|1,F.range);let E=this.editor.getSelection(),W=0,V=F.text.length;!o.Range.isEmpty(E)&&!o.Range.spansMultipleLines(E)&&o.Range.containsRange(F.range,E)&&(W=Math.max(0,E.startColumn-F.range.startColumn),V=Math.min(F.range.endColumn,E.endColumn)-F.range.startColumn);const U=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),q=yield this._renameInputField.value.getInput(F.range,F.text,W,V,U,this._cts.token);if(typeof q=="boolean"){q&&this.editor.focus();return}this.editor.focus();const j=h.raceCancellation(A.provideRenameEdits(q.newName,this._cts.token),this._cts.token).then(te=>Ie(this,void 0,void 0,function*(){if(!(!te||!this.editor.hasModel())){if(te.rejectReason){this._notificationService.info(te.rejectReason);return}this._bulkEditService.apply(r.ResourceEdit.convert(te),{editor:this.editor,showPreview:q.wantsPreview,label:_.localize(2,null,F==null?void 0:F.text),quotableLabel:_.localize(3,null,F==null?void 0:F.text)}).then(ae=>{ae.ariaSummary&&s.alert(_.localize(4,null,F.text,q.newName,ae.ariaSummary))}).catch(ae=>{this._notificationService.error(_.localize(5,null)),this._logService.error(ae)})}}),te=>{this._notificationService.error(_.localize(6,null)),this._logService.error(te)});return this._progressService.showWhile(j,250),j})}acceptRenameInput(O){this._renameInputField.value.acceptInput(O)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};D.ID="editor.contrib.renameController",D=Me([_e(1,w.IInstantiationService),_e(2,u.INotificationService),_e(3,r.IBulkEditService),_e(4,L.IEditorProgressService),_e(5,p.ILogService),_e(6,f.ITextResourceConfigurationService)],D);class T extends S.EditorAction{constructor(){super({id:"editor.action.rename",label:_.localize(7,null),alias:"Rename Symbol",precondition:M.ContextKeyExpr.and(m.EditorContextKeys.writable,m.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(O,A){const F=O.get(l.ICodeEditorService),[E,W]=Array.isArray(A)&&A||[void 0,void 0];return n.URI.isUri(E)&&C.Position.isIPosition(W)?F.openCodeEditor({resource:E},F.getActiveCodeEditor()).then(V=>{!V||(V.setPosition(W),V.invokeWithinContext(U=>(this.reportTelemetry(U,V),this.run(U,V))))},k.onUnexpectedError):super.runCommand(O,A)}run(O,A){const F=D.get(A);return F?F.run():Promise.resolve()}}e.RenameAction=T,S.registerEditorContribution(D.ID,D),S.registerEditorAction(T);const P=S.EditorCommand.bindToContribution(D.get);S.registerEditorCommand(new P({id:"acceptRenameInput",precondition:v.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:m.EditorContextKeys.focus,primary:3}})),S.registerEditorCommand(new P({id:"acceptRenameInputWithPreview",precondition:M.ContextKeyExpr.and(v.CONTEXT_RENAME_INPUT_VISIBLE,M.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:R=>R.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:m.EditorContextKeys.focus,primary:1024+3}})),S.registerEditorCommand(new P({id:"cancelRenameInput",precondition:v.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:m.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),S.registerModelAndPositionCommand("_executeDocumentRenameProvider",function(R,O,...A){const[F]=A;return y.assertType(typeof F=="string"),N(R,O,F)}),b.Registry.as(g.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:_.localize(8,null),default:!0,type:"boolean"}}})}),define(ie[652],ne([0,1,19,23,14,13,3,21,25,18,517,33,421,235,26,12]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class r{constructor(w,b){this.index=w,this.ranges=b}mov(w){let b=this.index+(w?1:-1);if(b<0||b>=this.ranges.length)return this;const g=new r(b,this.ranges);return g.ranges[b].equalsRange(this.ranges[this.index])?g.mov(w):g}}class n{constructor(w){this._editor=w,this._ignoreSelection=!1}static get(w){return w.getContribution(n.ID)}dispose(){var w;(w=this._selectionListener)===null||w===void 0||w.dispose()}run(w){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const b=this._editor.getSelections(),g=this._editor.getModel();if(!i.SelectionRangeRegistry.has(g)||(this._state||(yield h(g,b.map(y=>y.getPosition()),this._editor.getOption(100),k.CancellationToken.None).then(y=>{var I;if(!(!_.isNonEmptyArray(y)||y.length!==b.length)&&!(!this._editor.hasModel()||!_.equals(this._editor.getSelections(),b,(N,D)=>N.equalsSelection(D)))){for(let N=0;N<y.length;N++)y[N]=y[N].filter(D=>D.containsPosition(b[N].getStartPosition())&&D.containsPosition(b[N].getEndPosition())),y[N].unshift(b[N]);this._state=y.map(N=>new r(0,N)),(I=this._selectionListener)===null||I===void 0||I.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var N;this._ignoreSelection||((N=this._selectionListener)===null||N===void 0||N.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(y=>y.mov(w));const f=this._state.map(y=>m.Selection.fromPositions(y.ranges[y.index].getStartPosition(),y.ranges[y.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(f)}finally{this._ignoreSelection=!1}})}}n.ID="editor.contrib.smartSelectController";class l extends M.EditorAction{constructor(w,b){super(b);this._forward=w}run(w,b){return Ie(this,void 0,void 0,function*(){let g=n.get(b);g&&(yield g.run(this._forward))})}}class t extends l{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:C.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"1_basic",title:C.localize(1,null),order:2}})}}c.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class d extends l{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:C.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"1_basic",title:C.localize(3,null),order:3}})}}M.registerEditorContribution(n.ID,n),M.registerEditorAction(t),M.registerEditorAction(d),i.SelectionRangeRegistry.register("*",new o.WordSelectionRangeProvider);function h(p,w,b,g){return Ie(this,void 0,void 0,function*(){const f=i.SelectionRangeRegistry.all(p);f.length===1&&f.unshift(new a.BracketSelectionRangeProvider);let y=[],I=[];for(const N of f)y.push(Promise.resolve(N.provideSelectionRanges(p,w,g)).then(D=>{if(_.isNonEmptyArray(D)&&D.length===w.length)for(let T=0;T<w.length;T++){I[T]||(I[T]=[]);for(const P of D[T])S.Range.isIRange(P.range)&&S.Range.containsPosition(P.range,w[T])&&I[T].push(S.Range.lift(P.range))}},u.onUnexpectedExternalError));return yield Promise.all(y),I.map(N=>{if(N.length===0)return[];N.sort((R,O)=>L.Position.isBefore(R.getStartPosition(),O.getStartPosition())?1:L.Position.isBefore(O.getStartPosition(),R.getStartPosition())||L.Position.isBefore(R.getEndPosition(),O.getEndPosition())?-1:L.Position.isBefore(O.getEndPosition(),R.getEndPosition())?1:0);let D=[],T;for(const R of N)(!T||S.Range.containsRange(R,T)&&!S.Range.equalsRange(R,T))&&(D.push(R),T=R);if(!b.selectLeadingAndTrailingWhitespace)return D;let P=[D[0]];for(let R=1;R<D.length;R++){const O=D[R-1],A=D[R];if(A.startLineNumber!==O.startLineNumber||A.endLineNumber!==O.endLineNumber){const F=new S.Range(O.startLineNumber,p.getLineFirstNonWhitespaceColumn(O.startLineNumber),O.endLineNumber,p.getLineLastNonWhitespaceColumn(O.endLineNumber));F.containsRange(O)&&!F.equalsRange(O)&&A.containsRange(F)&&!A.equalsRange(F)&&P.push(F);const E=new S.Range(O.startLineNumber,1,O.endLineNumber,p.getLineMaxColumn(O.endLineNumber));E.containsRange(O)&&!E.equalsRange(F)&&A.containsRange(E)&&!A.equalsRange(E)&&P.push(E)}P.push(A)}return P})})}e.provideSelectionRanges=h,M.registerModelCommand("_executeSelectionRangeProvider",function(p,...w){const[b]=w;return h(p,b,{selectLeadingAndTrailingWhitespace:!0},k.CancellationToken.None)})}),define(ie[123],ne([0,1,12,18,13,16,23,3,66,2,33,116,80,26,20,24,67,520]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new L.RawContextKey("suggestWidgetVisible",!1,n.localize(0,null)),DetailsVisible:new L.RawContextKey("suggestWidgetDetailsVisible",!1,n.localize(1,null)),MultipleSuggestions:new L.RawContextKey("suggestWidgetMultipleSuggestions",!1,n.localize(2,null)),MakesTextEdit:new L.RawContextKey("suggestionMakesTextEdit",!0,n.localize(3,null)),AcceptSuggestionsOnEnter:new L.RawContextKey("acceptSuggestionOnEnter",!0,n.localize(4,null)),HasInsertAndReplaceRange:new L.RawContextKey("suggestionHasInsertAndReplaceRange",!1,n.localize(5,null)),InsertMode:new L.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:n.localize(6,null)}),CanResolve:new L.RawContextKey("suggestionCanResolve",!1,n.localize(7,null))},e.suggestWidgetStatusbarMenu=new C.MenuId("suggestWidgetStatusBar");class l{constructor(P,R,O,A){this.position=P,this.completion=R,this.container=O,this.provider=A,this.isInvalid=!1,this.score=v.FuzzyScore.Default,this.distance=0,this.textLabel=typeof R.label=="string"?R.label:R.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=R.sortText&&R.sortText.toLowerCase(),this.filterTextLow=R.filterText&&R.filterText.toLowerCase(),m.Range.isIRange(R.range)?(this.editStart=new M.Position(R.range.startLineNumber,R.range.startColumn),this.editInsertEnd=new M.Position(R.range.endLineNumber,R.range.endColumn),this.editReplaceEnd=new M.Position(R.range.endLineNumber,R.range.endColumn),this.isInvalid=this.isInvalid||m.Range.spansMultipleLines(R.range)||R.range.startLineNumber!==P.lineNumber):(this.editStart=new M.Position(R.range.insert.startLineNumber,R.range.insert.startColumn),this.editInsertEnd=new M.Position(R.range.insert.endLineNumber,R.range.insert.endColumn),this.editReplaceEnd=new M.Position(R.range.replace.endLineNumber,R.range.replace.endColumn),this.isInvalid=this.isInvalid||m.Range.spansMultipleLines(R.range.insert)||m.Range.spansMultipleLines(R.range.replace)||R.range.insert.startLineNumber!==P.lineNumber||R.range.replace.startLineNumber!==P.lineNumber||R.range.insert.startColumn!==R.range.replace.startColumn),typeof A.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(P){return Ie(this,void 0,void 0,function*(){if(!this._resolveCache){const R=P.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,P)).then(O=>{Object.assign(this.completion,O),this._isResolved=!0,R.dispose()},O=>{_.isPromiseCanceledError(O)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=l;class t{constructor(P=2,R=new Set,O=new Set,A=!0){this.snippetSortOrder=P,this.kindFilter=R,this.providerFilter=O,this.showDeprecated=A}}e.CompletionOptions=t,t.default=new t;let d;function h(){return d}e.getSnippetSuggestSupport=h;class p{constructor(P,R,O,A){this.items=P,this.needsClipboard=R,this.durations=O,this.disposable=A}}e.CompletionItemModel=p;function w(T,P,R=t.default,O={triggerKind:0},A=S.CancellationToken.None){return Ie(this,void 0,void 0,function*(){const F=new o.StopWatch(!0);P=P.clone();const E=T.getWordAtPosition(P),W=E?new m.Range(P.lineNumber,E.startColumn,P.lineNumber,E.endColumn):m.Range.fromPositions(P),V={replace:W,insert:W.setEndPosition(P.lineNumber,P.column)},U=[],q=new i.DisposableStore,j=[];let te=!1;const ae=(ue,X,B)=>{var Z,H,z;if(!!X){for(let ee of X.suggestions)if(!R.kindFilter.has(ee.kind)){if(!R.showDeprecated&&((Z=ee==null?void 0:ee.tags)===null||Z===void 0?void 0:Z.includes(1)))continue;ee.range||(ee.range=V),ee.sortText||(ee.sortText=typeof ee.label=="string"?ee.label:ee.label.label),!te&&ee.insertTextRules&&ee.insertTextRules&4&&(te=s.SnippetParser.guessNeedsClipboard(ee.insertText)),U.push(new l(P,ee,X,ue))}i.isDisposable(X)&&q.add(X),j.push({providerName:(H=ue._debugDisplayName)!==null&&H!==void 0?H:"unkown_provider",elapsedProvider:(z=X.duration)!==null&&z!==void 0?z:-1,elapsedOverall:B.elapsed()})}},de=(()=>Ie(this,void 0,void 0,function*(){if(!d||R.kindFilter.has(27)||R.providerFilter.size>0&&!R.providerFilter.has(d))return;const ue=new o.StopWatch(!0),X=yield d.provideCompletionItems(T,P,O,A);ae(d,X,ue)}))();for(let ue of k.CompletionProviderRegistry.orderedGroups(T)){let X=U.length;if(yield Promise.all(ue.map(B=>Ie(this,void 0,void 0,function*(){if(!(R.providerFilter.size>0&&!R.providerFilter.has(B)))try{const Z=new o.StopWatch(!0),H=yield B.provideCompletionItems(T,P,O,A);ae(B,H,Z)}catch(Z){_.onUnexpectedExternalError(Z)}}))),X!==U.length||A.isCancellationRequested)break}return yield de,A.isCancellationRequested?(q.dispose(),Promise.reject(_.canceled())):new p(U.sort(I(R.snippetSortOrder)),te,{entries:j,elapsed:F.elapsed()},q)})}e.provideSuggestionItems=w;function b(T,P){if(T.sortTextLow&&P.sortTextLow){if(T.sortTextLow<P.sortTextLow)return-1;if(T.sortTextLow>P.sortTextLow)return 1}return T.completion.label<P.completion.label?-1:T.completion.label>P.completion.label?1:T.completion.kind-P.completion.kind}function g(T,P){if(T.completion.kind!==P.completion.kind){if(T.completion.kind===27)return-1;if(P.completion.kind===27)return 1}return b(T,P)}function f(T,P){if(T.completion.kind!==P.completion.kind){if(T.completion.kind===27)return 1;if(P.completion.kind===27)return-1}return b(T,P)}const y=new Map;y.set(0,g),y.set(2,f),y.set(1,b);function I(T){return y.get(T)}e.getSuggestionComparator=I,a.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(T,...P)=>Ie(void 0,void 0,void 0,function*(){const[R,O,A,F]=P;c.assertType(u.URI.isUri(R)),c.assertType(M.Position.isIPosition(O)),c.assertType(typeof A=="string"||!A),c.assertType(typeof F=="number"||!F);const E=yield T.get(r.ITextModelService).createModelReference(R);try{const W={incomplete:!1,suggestions:[]},V=[],U=yield w(E.object.textEditorModel,M.Position.lift(O),void 0,{triggerCharacter:A,triggerKind:A?1:0});for(const q of U.items)V.length<(F??0)&&V.push(q.resolve(S.CancellationToken.None)),W.incomplete=W.incomplete||q.container.incomplete,W.suggestions.push(q.completion);try{return yield Promise.all(V),W}finally{setTimeout(()=>U.disposable.dispose(),100)}}finally{E.dispose()}}));const N=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let P={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,P}};k.CompletionProviderRegistry.register("*",N);function D(T,P){setTimeout(()=>{N.onlyOnceSuggestions.push(...P),T.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(N))},0)}e.showSimpleSuggestions=D}),define(ie[270],ne([0,1,527,44,14,190]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends M.EditorAction{constructor(){super({id:S.ID,label:_.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(v,i){const s=!L.TabFocus.getTabFocusMode();L.TabFocus.setTabFocusMode(s),s?k.alert(_.localize(1,null)):k.alert(_.localize(2,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",M.registerEditorAction(S)}),define(ie[653],ne([0,1,528,14,80]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:_.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(m,v){if(!v.hasModel())return;const i=v.getModel();i.resetTokenization();const C=new M.StopWatch(!0);i.forceTokenization(i.getLineCount()),C.stop(),console.log(`tokenization took ${C.elapsed()}`)}}k.registerEditorAction(L)}),define(ie[654],ne([0,1,529,2,14,28,120,43]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const v="ignoreUnusualLineTerminators";function i(o,a,c){o.setModelProperty(a.uri,v,c)}function C(o,a){return o.getModelProperty(a.uri,v)}let s=class extends k.Disposable{constructor(a,c,u){super();this._editor=a,this._dialogService=c,this._codeEditorService=u,this._config=this._editor.getOption(111),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(111)&&(this._config=this._editor.getOption(111),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(r=>{r.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Ie(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const a=this._editor.getModel();if(!a.mightContainUnusualLineTerminators()||C(this._codeEditorService,a)===!0||this._editor.getOption(78))return;if(this._config==="auto"){a.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:_.localize(0,null),message:_.localize(1,null),detail:_.localize(2,null,m.basename(a.uri)),primaryButton:_.localize(3,null),secondaryButton:_.localize(4,null)})).confirmed){i(this._codeEditorService,a,!0);return}a.removeUnusualLineTerminators(this._editor.getSelections())})}};s.ID="editor.contrib.unusualLineTerminatorsDetector",s=Me([_e(1,S.IDialogService),_e(2,L.ICodeEditorService)],s),M.registerEditorContribution(s.ID,s)}),define(ie[655],ne([0,1,530,19,15,23,12,2,14,3,25,52,31,18,16,22,11,44]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const l=u.registerColor("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},_.localize(0,null),!0),t=u.registerColor("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},_.localize(1,null),!0),d=u.registerColor("editor.wordHighlightBorder",{light:null,dark:null,hc:u.activeContrastBorder},_.localize(2,null)),h=u.registerColor("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:u.activeContrastBorder},_.localize(3,null)),p=u.registerColor("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},_.localize(4,null),!0),w=u.registerColor("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},_.localize(5,null),!0),b=new c.RawContextKey("hasWordHighlights",!1);function g(F,E,W){const V=a.DocumentHighlightProviderRegistry.ordered(F);return M.first(V.map(U=>()=>Promise.resolve(U.provideDocumentHighlights(F,E,W)).then(void 0,S.onUnexpectedExternalError)),k.isNonEmptyArray)}e.getOccurrencesAtPosition=g;class f{constructor(E,W,V){this._wordRange=this._getCurrentWordRange(E,W),this.result=M.createCancelablePromise(U=>this._compute(E,W,V,U))}_getCurrentWordRange(E,W){const V=E.getWordAtPosition(W.getPosition());return V?new i.Range(W.startLineNumber,V.startColumn,W.startLineNumber,V.endColumn):null}isValid(E,W,V){const U=W.startLineNumber,q=W.startColumn,j=W.endColumn,te=this._getCurrentWordRange(E,W);let ae=Boolean(this._wordRange&&this._wordRange.equalsRange(te));for(let de=0,ue=V.length;!ae&&de<ue;de++){let X=E.getDecorationRange(V[de]);X&&X.startLineNumber===U&&X.startColumn<=q&&X.endColumn>=j&&(ae=!0)}return ae}cancel(){this.result.cancel()}}class y extends f{_compute(E,W,V,U){return g(E,W.getPosition(),U).then(q=>q||[])}}class I extends f{constructor(E,W,V){super(E,W,V);this._selectionIsEmpty=W.isEmpty()}_compute(E,W,V,U){return M.timeout(250,U).then(()=>{if(!W.isEmpty())return[];const q=E.getWordAtPosition(W.getPosition());return!q||q.word.length>1e3?[]:E.findMatches(q.word,!0,!1,!0,V,!1).map(te=>({range:te.range,kind:a.DocumentHighlightKind.Text}))})}isValid(E,W,V){const U=W.isEmpty();return this._selectionIsEmpty!==U?!1:super.isValid(E,W,V)}}function N(F,E,W){return a.DocumentHighlightProviderRegistry.has(F)?new y(F,E,W):new I(F,E,W)}v.registerModelAndPositionCommand("_executeDocumentHighlights",(F,E)=>g(F,E,L.CancellationToken.None));class D{constructor(E,W){this.toUnhook=new m.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=E,this._hasWordHighlights=b.bindTo(W),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(69),this.model=this.editor.getModel(),this.toUnhook.add(E.onDidChangeCursorPosition(V=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(V)})),this.toUnhook.add(E.onDidChangeModelContent(V=>{this._stopAll()})),this.toUnhook.add(E.onDidChangeConfiguration(V=>{let U=this.editor.getOption(69);this.occurrencesHighlight!==U&&(this.occurrencesHighlight=U,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return k.coalesce(this._decorationIds.map(E=>this.model.getDecorationRange(E)).sort(i.Range.compareRangesUsingStarts))}moveNext(){let E=this._getSortedHighlights(),V=(E.findIndex(q=>q.containsPosition(this.editor.getPosition()))+1)%E.length,U=E[V];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const q=this._getWord();if(q){const j=this.editor.getModel().getLineContent(U.startLineNumber);n.alert(`${j}, ${V+1} of ${E.length} for '${q.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let E=this._getSortedHighlights(),V=(E.findIndex(q=>q.containsPosition(this.editor.getPosition()))-1+E.length)%E.length,U=E[V];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const q=this._getWord();if(q){const j=this.editor.getModel().getLineContent(U.startLineNumber);n.alert(`${j}, ${V+1} of ${E.length} for '${q.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(E){if(!this.occurrencesHighlight){this._stopAll();return}if(E.reason!==3){this._stopAll();return}this._run()}_getWord(){let E=this.editor.getSelection(),W=E.startLineNumber,V=E.startColumn;return this.model.getWordAtPosition({lineNumber:W,column:V})}_run(){let E=this.editor.getSelection();if(E.startLineNumber!==E.endLineNumber){this._stopAll();return}let W=E.startColumn,V=E.endColumn;const U=this._getWord();if(!U||U.startColumn>W||U.endColumn<V){this._stopAll();return}const q=this.workerRequest&&this.workerRequest.isValid(this.model,E,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),q)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let j=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=N(this.model,this.editor.getSelection(),this.editor.getOption(114)),this.workerRequest.result.then(te=>{j===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=te||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){let E=new Date().getTime(),W=this.lastCursorPositionChangeTime+250;E>=W?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},W-E)}renderDecorations(){this.renderDecorationsTimer=-1;let E=[];for(const W of this.workerRequestValue)W.range&&E.push({range:W.range,options:D._getDecorationOptions(W.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,E),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(E){return E===a.DocumentHighlightKind.Write?this._WRITE_OPTIONS:E===a.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}D._WRITE_OPTIONS=o.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:r.themeColorFromId(w),position:s.OverviewRulerLane.Center}}),D._TEXT_OPTIONS=o.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:r.themeColorFromId(u.overviewRulerSelectionHighlightForeground),position:s.OverviewRulerLane.Center}}),D._REGULAR_OPTIONS=o.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:r.themeColorFromId(p),position:s.OverviewRulerLane.Center}});let T=class Ut extends m.Disposable{constructor(E,W){super();this.wordHighlighter=null;const V=()=>{E.hasModel()&&(this.wordHighlighter=new D(E,W))};this._register(E.onDidChangeModel(U=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),V()})),V()}static get(E){return E.getContribution(Ut.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(E){this.wordHighlighter&&E&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};T.ID="editor.contrib.wordHighlighter",T=Me([_e(1,c.IContextKeyService)],T);class P extends v.EditorAction{constructor(E,W){super(W);this._isNext=E}run(E,W){const V=T.get(W);!V||(this._isNext?V.moveNext():V.moveBack())}}class R extends P{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:_.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:b,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class O extends P{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:_.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:b,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class A extends v.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:_.localize(8,null),alias:"Trigger Symbol Highlight",precondition:b.toNegated(),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(E,W,V){const U=T.get(W);!U||U.restoreViewState(!0)}}v.registerEditorContribution(T.ID,T),v.registerEditorAction(R),v.registerEditorAction(O),v.registerEditorAction(A),r.registerThemingParticipant((F,E)=>{const W=F.getColor(u.editorSelectionHighlight);W&&(E.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${W}; }`),E.addRule(`.monaco-editor .selectionHighlight { background-color: ${W.transparent(.5)}; }`));const V=F.getColor(l);V&&E.addRule(`.monaco-editor .wordHighlight { background-color: ${V}; }`);const U=F.getColor(t);U&&E.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${U}; }`);const q=F.getColor(u.editorSelectionHighlightBorder);q&&E.addRule(`.monaco-editor .selectionHighlight { border: 1px ${F.type==="hc"?"dotted":"solid"} ${q}; box-sizing: border-box; }`);const j=F.getColor(d);j&&E.addRule(`.monaco-editor .wordHighlight { border: 1px ${F.type==="hc"?"dashed":"solid"} ${j}; box-sizing: border-box; }`);const te=F.getColor(h);te&&E.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${F.type==="hc"?"dashed":"solid"} ${te}; box-sizing: border-box; }`)})}),define(ie[271],ne([0,1,531,14,95,39,141,108,13,3,21,25,64,16,35,45,254]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class n extends k.EditorCommand{constructor(X){super(X);this._inSelectionMode=X.inSelectionMode,this._wordNavigationType=X.wordNavigationType}runEditorCommand(X,B,Z){if(!B.hasModel())return;const H=m.getMapForWordSeparators(B.getOption(114)),z=B.getModel(),x=B.getSelections().map(G=>{const Q=new v.Position(G.positionLineNumber,G.positionColumn),J=this._move(H,z,Q,this._wordNavigationType);return this._moveTo(G,J,this._inSelectionMode)});if(z.pushStackElement(),B._getViewModel().setCursorStates("moveWordCommand",3,x.map(G=>L.CursorState.fromModelSelection(G))),x.length===1){const G=new v.Position(x[0].positionLineNumber,x[0].positionColumn);B.revealPosition(G,0)}}_moveTo(X,B,Z){return Z?new C.Selection(X.selectionStartLineNumber,X.selectionStartColumn,B.lineNumber,B.column):new C.Selection(B.lineNumber,B.column,B.lineNumber,B.column)}}e.MoveWordCommand=n;class l extends n{_move(X,B,Z,H){return S.WordOperations.moveWordLeft(X,B,Z,H)}}e.WordLeftCommand=l;class t extends n{_move(X,B,Z,H){return S.WordOperations.moveWordRight(X,B,Z,H)}}e.WordRightCommand=t;class d extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=d;class h extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=h;class p extends l{constructor(){var X;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(X=a.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||X===void 0?void 0:X.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=p;class w extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=w;class b extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=b;class g extends l{constructor(){var X;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(X=a.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||X===void 0?void 0:X.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=g;class f extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(X,B,Z,H){return super._move(m.getMapForWordSeparators(c.EditorOptions.wordSeparators.defaultValue),B,Z,H)}}e.CursorWordAccessibilityLeft=f;class y extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(X,B,Z,H){return super._move(m.getMapForWordSeparators(c.EditorOptions.wordSeparators.defaultValue),B,Z,H)}}e.CursorWordAccessibilityLeftSelect=y;class I extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=I;class N extends t{constructor(){var X;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(X=a.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||X===void 0?void 0:X.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=N;class D extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=D;class T extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=T;class P extends t{constructor(){var X;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(X=a.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||X===void 0?void 0:X.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=P;class R extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=R;class O extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(X,B,Z,H){return super._move(m.getMapForWordSeparators(c.EditorOptions.wordSeparators.defaultValue),B,Z,H)}}e.CursorWordAccessibilityRight=O;class A extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(X,B,Z,H){return super._move(m.getMapForWordSeparators(c.EditorOptions.wordSeparators.defaultValue),B,Z,H)}}e.CursorWordAccessibilityRightSelect=A;class F extends k.EditorCommand{constructor(X){super(X);this._whitespaceHeuristics=X.whitespaceHeuristics,this._wordNavigationType=X.wordNavigationType}runEditorCommand(X,B,Z){if(!B.hasModel())return;const H=m.getMapForWordSeparators(B.getOption(114)),z=B.getModel(),ee=B.getSelections(),x=B.getOption(5),G=B.getOption(8),Q=u.LanguageConfigurationRegistry.getAutoClosingPairs(z.getLanguageIdentifier().id),J=B._getViewModel(),le=ee.map(oe=>{const he=this._delete({wordSeparators:H,model:z,selection:oe,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:B.getOption(6),autoClosingBrackets:x,autoClosingQuotes:G,autoClosingPairs:Q,autoClosedCharacters:J.getCursorAutoClosedCharacters()},this._wordNavigationType);return new M.ReplaceCommand(he,"")});B.pushUndoStop(),B.executeCommands(this.id,le),B.pushUndoStop()}}e.DeleteWordCommand=F;class E extends F{_delete(X,B){let Z=S.WordOperations.deleteWordLeft(X,B);return Z||new i.Range(1,1,1,1)}}e.DeleteWordLeftCommand=E;class W extends F{_delete(X,B){let Z=S.WordOperations.deleteWordRight(X,B);if(Z)return Z;const H=X.model.getLineCount(),z=X.model.getLineMaxColumn(H);return new i.Range(H,z,H,z)}}e.DeleteWordRightCommand=W;class V extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartLeft=V;class U extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndLeft=U;class q extends E{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=q;class j extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartRight=j;class te extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndRight=te;class ae extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=ae;class de extends k.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:s.EditorContextKeys.writable,label:_.localize(0,null),alias:"Delete Word"})}run(X,B,Z){if(!B.hasModel())return;const H=m.getMapForWordSeparators(B.getOption(114)),z=B.getModel(),x=B.getSelections().map(G=>{const Q=S.WordOperations.deleteInsideWord(H,z,G);return new M.ReplaceCommand(Q,"")});B.pushUndoStop(),B.executeCommands(this.id,x),B.pushUndoStop()}}e.DeleteInsideWord=de,k.registerEditorCommand(new d),k.registerEditorCommand(new h),k.registerEditorCommand(new p),k.registerEditorCommand(new w),k.registerEditorCommand(new b),k.registerEditorCommand(new g),k.registerEditorCommand(new I),k.registerEditorCommand(new N),k.registerEditorCommand(new D),k.registerEditorCommand(new T),k.registerEditorCommand(new P),k.registerEditorCommand(new R),k.registerEditorCommand(new f),k.registerEditorCommand(new y),k.registerEditorCommand(new O),k.registerEditorCommand(new A),k.registerEditorCommand(new V),k.registerEditorCommand(new U),k.registerEditorCommand(new q),k.registerEditorCommand(new j),k.registerEditorCommand(new te),k.registerEditorCommand(new ae),k.registerEditorAction(de)}),define(ie[656],ne([0,1,14,141,3,25,271,26]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class v extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(n,l){let t=k.WordPartOperations.deleteWordPartLeft(n);return t||new M.Range(1,1,1,1)}}e.DeleteWordPartLeft=v;class i extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(n,l){let t=k.WordPartOperations.deleteWordPartRight(n);if(t)return t;const d=n.model.getLineCount(),h=n.model.getLineMaxColumn(d);return new M.Range(d,h,d,h)}}e.DeleteWordPartRight=i;class C extends S.MoveWordCommand{_move(n,l,t,d){return k.WordPartOperations.moveWordPartLeft(n,l,t)}}e.WordPartLeftCommand=C;class s extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=s,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class o extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=o,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class a extends S.MoveWordCommand{_move(n,l,t,d){return k.WordPartOperations.moveWordPartRight(n,l,t)}}e.WordPartRightCommand=a;class c extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=c;class u extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=u,_.registerEditorCommand(new v),_.registerEditorCommand(new i),_.registerEditorCommand(new s),_.registerEditorCommand(new o),_.registerEditorCommand(new c),_.registerEditorCommand(new u)}),define(ie[657],ne([0,1,7,30,160,44,51,2,17,8,24,14,25,270,16,9,37,58,22,11,63,364]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=new c.RawContextKey("accessibilityHelpWidgetVisible",!1);let p=class Kt extends m.Disposable{constructor(I,N){super();this._editor=I,this._widget=this._register(N.createInstance(b,this._editor))}static get(I){return I.getContribution(Kt.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};p.ID="editor.contrib.accessibilityHelpController",p=Me([_e(1,u.IInstantiationService)],p);function w(y,I){return!y||y.length===0?d.AccessibilityHelpNLS.noSelection:y.length===1?I?i.format(d.AccessibilityHelpNLS.singleSelectionRange,y[0].positionLineNumber,y[0].positionColumn,I):i.format(d.AccessibilityHelpNLS.singleSelection,y[0].positionLineNumber,y[0].positionColumn):I?i.format(d.AccessibilityHelpNLS.multiSelectionRange,y.length,I):y.length>0?i.format(d.AccessibilityHelpNLS.multiSelection,y.length):""}let b=class gt extends S.Widget{constructor(I,N,D,T){super();this._contextKeyService=N,this._keybindingService=D,this._openerService=T,this._editor=I,this._isVisibleKey=h.bindTo(this._contextKeyService),this._domNode=k.createFastDomNode(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=k.createFastDomNode(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(_.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",P=>{if(!!this._isVisible&&(P.equals(2048|35)&&(L.alert(d.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),_.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),P.preventDefault(),P.stopPropagation()),P.equals(2048|38))){L.alert(d.AccessibilityHelpNLS.openingDocs);let R=this._editor.getRawOptions().accessibilityHelpUrl;typeof R=="undefined"&&(R="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(C.URI.parse(R)),P.preventDefault(),P.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return gt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(I,N,D){let T=this._keybindingService.lookupKeybinding(I);return T?i.format(N,T.getAriaLabel()):i.format(D,I)}_buildContent(){const I=this._editor.getOptions(),N=this._editor.getSelections();let D=0;if(N){const O=this._editor.getModel();O&&N.forEach(A=>{D+=O.getValueLengthInRange(A)})}let T=w(N,D);I.get(51)?I.get(78)?T+=d.AccessibilityHelpNLS.readonlyDiffEditor:T+=d.AccessibilityHelpNLS.editableDiffEditor:I.get(78)?T+=d.AccessibilityHelpNLS.readonlyEditor:T+=d.AccessibilityHelpNLS.editableEditor;const P=v.isMacintosh?d.AccessibilityHelpNLS.changeConfigToOnMac:d.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(I.get(2)){case 0:T+=`

 - `+P;break;case 2:T+=`

 - `+d.AccessibilityHelpNLS.auto_on;break;case 1:T+=`

 - `+d.AccessibilityHelpNLS.auto_off,T+=" "+P;break}I.get(127)?T+=`

 - `+this._descriptionForCommand(a.ToggleTabFocusModeAction.ID,d.AccessibilityHelpNLS.tabFocusModeOnMsg,d.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):T+=`

 - `+this._descriptionForCommand(a.ToggleTabFocusModeAction.ID,d.AccessibilityHelpNLS.tabFocusModeOffMsg,d.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const R=v.isMacintosh?d.AccessibilityHelpNLS.openDocMac:d.AccessibilityHelpNLS.openDocWinLinux;T+=`

 - `+R,T+=`

`+d.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild(M.renderFormattedText(T)),this._contentDomNode.domNode.setAttribute("aria-label",T)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,_.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let I=this._editor.getLayoutInfo(),N=Math.max(5,Math.min(gt.WIDTH,I.width-40)),D=Math.max(5,Math.min(gt.HEIGHT,I.height-40));this._domNode.setWidth(N),this._domNode.setHeight(D);let T=Math.round((I.height-D)/2);this._domNode.setTop(T);let P=Math.round((I.width-N)/2);this._domNode.setLeft(P)}};b.ID="editor.contrib.accessibilityHelpWidget",b.WIDTH=500,b.HEIGHT=300,b=Me([_e(1,c.IContextKeyService),_e(2,r.IKeybindingService),_e(3,n.IOpenerService)],b);class g extends s.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:d.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(I,N){let D=p.get(N);D&&D.show()}}s.registerEditorContribution(p.ID,p),s.registerEditorAction(g);const f=s.EditorCommand.bindToContribution(p.get);s.registerEditorCommand(new f({id:"closeAccessibilityHelp",precondition:h,handler:y=>y.hide(),kbOpts:{weight:100+100,kbExpr:o.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),t.registerThemingParticipant((y,I)=>{const N=y.getColor(l.editorWidgetBackground);N&&I.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${N}; }`);const D=y.getColor(l.editorWidgetForeground);D&&I.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${D}; }`);const T=y.getColor(l.widgetShadow);T&&I.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${T}; }`);const P=y.getColor(l.contrastBorder);P&&I.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${P}; }`)})}),define(ie[658],ne([0,1,7,2,14,17,365]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends k.Disposable{constructor(i){super();this.editor=i,this.widget=null,L.isIOS&&(this._register(i.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const i=!this.editor.getOption(78);!this.widget&&i?this.widget=new m(this.editor):this.widget&&!i&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class m extends k.Disposable{constructor(i){super();this.editor=i,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(_.addDisposableListener(this._domNode,"touchstart",C=>{this.editor.focus()})),this._register(_.addDisposableListener(this._domNode,"focus",C=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return m.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}m.ID="editor.contrib.ShowKeyboardWidget",M.registerEditorContribution(S.ID,S)}),define(ie[659],ne([0,1,7,29,2,14,18,76,57,119,22,11,63,99,366]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let c=class qt extends M.Disposable{constructor(d,h,p){super();this._editor=d,this._modeService=p,this._widget=null,this._register(this._editor.onDidChangeModel(w=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(w=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(w=>this.stop())),this._register(this._editor.onKeyUp(w=>w.keyCode===9&&this.stop()))}static get(d){return d.getContribution(qt.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new l(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};c.ID="editor.contrib.inspectTokens",c=Me([_e(1,i.IStandaloneThemeService),_e(2,v.IModeService)],c);class u extends L.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:o.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(d,h){let p=c.get(h);p&&p.launch()}}function r(t){let d="";for(let h=0,p=t.length;h<p;h++){let w=t.charCodeAt(h);switch(w){case 9:d+="\u2192";break;case 32:d+="\xB7";break;default:d+=String.fromCharCode(w)}}return d}function n(t){let d=S.TokenizationRegistry.get(t.language);return d||{getInitialState:()=>m.NULL_STATE,tokenize:(h,p,w,b)=>m.nullTokenize(t.language,h,w,b),tokenize2:(h,p,w,b)=>m.nullTokenize2(t.id,h,w,b)}}class l extends M.Disposable{constructor(d,h){super();this.allowEditorOverflow=!0,this._editor=d,this._modeService=h,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=n(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(p=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return l._ID}_compute(d){let h=this._getTokensAtLine(d.lineNumber),p=0;for(let y=h.tokens1.length-1;y>=0;y--){let I=h.tokens1[y];if(d.column-1>=I.offset){p=y;break}}let w=0;for(let y=h.tokens2.length>>>1;y>=0;y--)if(d.column-1>=h.tokens2[y<<1]){w=y;break}let b=this._model.getLineContent(d.lineNumber),g="";if(p<h.tokens1.length){let y=h.tokens1[p].offset,I=p+1<h.tokens1.length?h.tokens1[p+1].offset:b.length;g=b.substring(y,I)}_.reset(this._domNode,_.$("h2.tm-token",void 0,r(g),_.$("span.tm-token-length",void 0,`${g.length} ${g.length===1?"char":"chars"}`))),_.append(this._domNode,_.$("hr.tokens-inspect-separator",{style:"clear:both"}));const f=(w<<1)+1<h.tokens2.length?this._decodeMetadata(h.tokens2[(w<<1)+1]):null;_.append(this._domNode,_.$("table.tm-metadata-table",void 0,_.$("tbody",void 0,_.$("tr",void 0,_.$("td.tm-metadata-key",void 0,"language"),_.$("td.tm-metadata-value",void 0,`${f?f.languageIdentifier.language:"-?-"}`)),_.$("tr",void 0,_.$("td.tm-metadata-key",void 0,"token type"),_.$("td.tm-metadata-value",void 0,`${f?this._tokenTypeToString(f.tokenType):"-?-"}`)),_.$("tr",void 0,_.$("td.tm-metadata-key",void 0,"font style"),_.$("td.tm-metadata-value",void 0,`${f?this._fontStyleToString(f.fontStyle):"-?-"}`)),_.$("tr",void 0,_.$("td.tm-metadata-key",void 0,"foreground"),_.$("td.tm-metadata-value",void 0,`${f?k.Color.Format.CSS.formatHex(f.foreground):"-?-"}`)),_.$("tr",void 0,_.$("td.tm-metadata-key",void 0,"background"),_.$("td.tm-metadata-value",void 0,`${f?k.Color.Format.CSS.formatHex(f.background):"-?-"}`))))),_.append(this._domNode,_.$("hr.tokens-inspect-separator")),p<h.tokens1.length&&_.append(this._domNode,_.$("span.tm-token-type",void 0,h.tokens1[p].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(d){let h=S.TokenizationRegistry.getColorMap(),p=S.TokenMetadata.getLanguageId(d),w=S.TokenMetadata.getTokenType(d),b=S.TokenMetadata.getFontStyle(d),g=S.TokenMetadata.getForeground(d),f=S.TokenMetadata.getBackground(d);return{languageIdentifier:this._modeService.getLanguageIdentifier(p),tokenType:w,fontStyle:b,foreground:h[g],background:h[f]}}_tokenTypeToString(d){switch(d){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(d){let h="";return d&1&&(h+="italic "),d&2&&(h+="bold "),d&4&&(h+="underline "),h.length===0&&(h="---"),h}_getTokensAtLine(d){let h=this._getStateBeforeLine(d),p=this._tokenizationSupport.tokenize(this._model.getLineContent(d),!0,h,0),w=this._tokenizationSupport.tokenize2(this._model.getLineContent(d),!0,h,0);return{startState:h,tokens1:p.tokens,tokens2:w.tokens,endState:p.endState}}_getStateBeforeLine(d){let h=this._tokenizationSupport.getInitialState();for(let p=1;p<d;p++)h=this._tokenizationSupport.tokenize(this._model.getLineContent(p),!0,h,0).endState;return h}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}l._ID="editor.contrib.inspectTokensWidget",L.registerEditorContribution(c.ID,c),L.registerEditorAction(u),s.registerThemingParticipant((t,d)=>{const h=t.getColor(C.editorHoverBorder);if(h){let b=t.type===a.ColorScheme.HIGH_CONTRAST?2:1;d.addRule(`.monaco-editor .tokens-inspect-widget { border: ${b}px solid ${h}; }`),d.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${h}; }`)}const p=t.getColor(C.editorHoverBackground);p&&d.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${p}; }`);const w=t.getColor(C.editorHoverForeground);w&&d.addRule(`.monaco-editor .tokens-inspect-widget { color: ${w}; }`)})}),define(ie[660],ne([0,1,32,98,63,28,592,20,9,37,26,88,120,14,25,77]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let r=class extends S.AbstractEditorCommandsQuickAccessProvider{constructor(t,d,h,p,w,b){super({showAlias:!1},t,h,p,w,b);this.codeEditorService=d}get activeTextEditorControl(){return m.withNullAsUndefined(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Ie(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};r=Me([_e(0,v.IInstantiationService),_e(1,L.ICodeEditorService),_e(2,i.IKeybindingService),_e(3,C.ICommandService),_e(4,s.ITelemetryService),_e(5,o.IDialogService)],r),e.StandaloneCommandsQuickAccessProvider=r,_.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:r,prefix:r.PREFIX,helpEntries:[{description:M.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class n extends a.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:M.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(t){t.get(u.IQuickInputService).quickAccess.show(r.PREFIX)}}e.GotoLineAction=n,a.registerEditorAction(n)}),define(ie[661],ne([0,1,617,32,98,28,20,63,6,14,25,77]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let o=class extends _.AbstractGotoLineQuickAccessProvider{constructor(u){super();this.editorService=u,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return S.withNullAsUndefined(this.editorService.getFocusedCodeEditor())}};o=Me([_e(0,L.ICodeEditorService)],o),e.StandaloneGotoLineQuickAccessProvider=o,k.Registry.as(M.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:o.PREFIX,helpEntries:[{description:m.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class a extends i.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:m.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(u){u.get(s.IQuickInputService).quickAccess.show(o.PREFIX)}}e.GotoLineAction=a,i.registerEditorAction(a)}),define(ie[662],ne([0,1,618,32,98,28,20,63,6,14,25,77,130,263]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let o=class extends _.AbstractGotoSymbolQuickAccessProvider{constructor(u){super();this.editorService=u,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return S.withNullAsUndefined(this.editorService.getFocusedCodeEditor())}};o=Me([_e(0,L.ICodeEditorService)],o),e.StandaloneGotoSymbolQuickAccessProvider=o,k.Registry.as(M.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:_.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:m.QuickOutlineNLS.quickOutlineActionLabel,prefix:_.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:m.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:_.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class a extends i.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:m.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:C.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(u){u.get(s.IQuickInputService).quickAccess.show(_.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=a,i.registerEditorAction(a)}),define(ie[663],ne([0,1,14,119,63]),function($,e,_,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends _.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:M.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(m,v){const i=m.get(k.IStandaloneThemeService);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getColorTheme().themeName,i.setTheme("hc-black"))}}_.registerEditorAction(L)}),define(ie[192],ne([0,1,7,49,2,532,33,68,37,182,34,11,117,441,17,16,369]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function r(p,w,b,g,f,y,I){const N=p.getActions(w),D=typeof g=="string"?T=>T===g:g;return l(N,b,!1,D,f,y,I),n(N)}e.createAndFillInActionBarActions=r;function n(p){const w=new M.DisposableStore;for(const[,b]of p)for(const g of b)w.add(g);return w}function l(p,w,b,g=N=>N==="navigation",f=Number.MAX_SAFE_INTEGER,y=()=>!1,I=!1){let N,D;Array.isArray(w)?(N=w,D=w):(N=w.primary,D=w.secondary);const T=new Set;for(const[P,R]of p){let O;g(P)?(O=N,O.length>0&&I&&O.push(new k.Separator)):(O=D,O.length>0&&O.push(new k.Separator));for(let A of R){b&&(A=A instanceof S.MenuItemAction&&A.alt?A.alt:A);const F=O.push(A);A instanceof k.SubmenuAction&&T.add({group:P,action:A,index:F-1})}}for(const{group:P,action:R,index:O}of T){const A=g(P)?N:D,F=R.actions;(F.length<=1||A.length+F.length-2<=f)&&y(R,P,A.length)&&A.splice(O,1,...F)}if(N!==D&&N.length>f){const P=N.splice(f,N.length-f);D.unshift(...P,new k.Separator)}}let t=class extends o.ActionViewItem{constructor(w,b,g,f,y){super(void 0,w,{icon:!!(w.class||w.item.icon),label:!w.class&&!w.item.icon,draggable:b==null?void 0:b.draggable});this._keybindingService=g,this._notificationService=f,this._contextKeyService=y,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new M.MutableDisposable),this._altKey=_.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(w){return Ie(this,void 0,void 0,function*(){w.preventDefault(),w.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(b){this._notificationService.error(b)}})}render(w){super.render(w),w.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let b=!1,g=this._altKey.keyStatus.altKey||(c.isWindows||c.isLinux)&&this._altKey.keyStatus.shiftKey;const f=()=>{const y=b&&g;y!==this._wantsAltCommand&&(this._wantsAltCommand=y,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(y=>{g=y.altKey||(c.isWindows||c.isLinux)&&y.shiftKey,f()})),this._register(_.addDisposableListener(w,"mouseleave",y=>{b=!1,f()})),this._register(_.addDisposableListener(w,"mouseenter",y=>{b=!0,f()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const w=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),b=w&&w.getLabel(),g=this._commandAction.tooltip||this._commandAction.label;let f=b?L.localize(0,null,g,b):g;if(!this._wantsAltCommand&&this._menuItemAction.alt){const y=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,I=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),N=I&&I.getLabel(),D=N?L.localize(1,null,y,N):y;f+=`
[${i.UILabelProvider.modifierLabels[c.OS].altKey}] ${D}`}this.label.title=f}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(w){var b;this._itemClassDispose.value=void 0;const{element:g,label:f}=this;if(!g||!f)return;const y=this._commandAction.checked&&((b=w.toggled)===null||b===void 0?void 0:b.icon)?w.toggled.icon:w.icon;if(!!y)if(s.ThemeIcon.isThemeIcon(y)){const I=s.ThemeIcon.asClassNameArray(y);f.classList.add(...I),this._itemClassDispose.value=M.toDisposable(()=>{f.classList.remove(...I)})}else y.light&&f.style.setProperty("--menu-entry-icon-light",_.asCSSUrl(y.light)),y.dark&&f.style.setProperty("--menu-entry-icon-dark",_.asCSSUrl(y.dark)),f.classList.add("icon"),this._itemClassDispose.value=M.toDisposable(()=>{f.classList.remove("icon"),f.style.removeProperty("--menu-entry-icon-light"),f.style.removeProperty("--menu-entry-icon-dark")})}};t=Me([_e(2,v.IKeybindingService),_e(3,C.INotificationService),_e(4,u.IContextKeyService)],t),e.MenuEntryActionViewItem=t;let d=class extends a.DropdownMenuActionViewItem{constructor(w,b){super(w,{getActions:()=>w.actions},b,{menuAsChild:!0,classNames:s.ThemeIcon.isThemeIcon(w.item.icon)?s.ThemeIcon.asClassName(w.item.icon):void 0})}render(w){if(super.render(w),this.element){w.classList.add("menu-entry");const{icon:b}=this._action.item;b&&!s.ThemeIcon.isThemeIcon(b)&&(this.element.classList.add("icon"),b.light&&this.element.style.setProperty("--menu-entry-icon-light",_.asCSSUrl(b.light)),b.dark&&this.element.style.setProperty("--menu-entry-icon-dark",_.asCSSUrl(b.dark)))}}};d=Me([_e(1,m.IContextMenuService)],d),e.SubmenuEntryActionViewItem=d;function h(p,w){return w instanceof S.MenuItemAction?p.createInstance(t,w,void 0):w instanceof S.SubmenuItemAction?p.createInstance(d,w):void 0}e.createActionViewItem=h}),define(ie[124],ne([0,1,7,83,49,29,6,42,28,150,557,512,16,9,74,14,22,27,192,359]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=a.createDecorator("IPeekViewService"),c.registerSingleton(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(b,g){const f=this._widgets.get(b);f&&(f.listener.dispose(),f.widget.dispose());const y=()=>{const I=this._widgets.get(b);I&&I.widget===g&&(I.listener.dispose(),this._widgets.delete(b))};this._widgets.set(b,{widget:g,listener:g.onDidClose(y)})}});var t;(function(b){b.inPeekEditor=new o.RawContextKey("inReferenceSearchEditor",!0,s.localize(0,null)),b.notInPeekEditor=b.inPeekEditor.toNegated()})(t=e.PeekContext||(e.PeekContext={}));let d=class{constructor(g,f){g instanceof i.EmbeddedCodeEditorWidget&&t.inPeekEditor.bindTo(f)}dispose(){}};d.ID="editor.contrib.referenceController",d=Me([_e(1,o.IContextKeyService)],d),u.registerEditorContribution(d.ID,d);function h(b){let g=b.get(v.ICodeEditorService).getFocusedCodeEditor();return g instanceof i.EmbeddedCodeEditorWidget?g.getParentEditor():g}e.getOuterEditor=h;const p={headerBackgroundColor:L.Color.white,primaryHeadingColor:L.Color.fromHex("#333333"),secondaryHeadingColor:L.Color.fromHex("#6c6c6cb3")};let w=class extends C.ZoneWidget{constructor(g,f,y){super(g,f);this.instantiationService=y,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,m.mixin(this.options,p,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(g){let f=this.options;g.headerBackgroundColor&&(f.headerBackgroundColor=g.headerBackgroundColor),g.primaryHeadingColor&&(f.primaryHeadingColor=g.primaryHeadingColor),g.secondaryHeadingColor&&(f.secondaryHeadingColor=g.secondaryHeadingColor),super.style(g)}_applyStyles(){super._applyStyles();let g=this.options;this._headElement&&g.headerBackgroundColor&&(this._headElement.style.backgroundColor=g.headerBackgroundColor.toString()),this._primaryHeading&&g.primaryHeadingColor&&(this._primaryHeading.style.color=g.primaryHeadingColor.toString()),this._secondaryHeading&&g.secondaryHeadingColor&&(this._secondaryHeading.style.color=g.secondaryHeadingColor.toString()),this._bodyElement&&g.frameColor&&(this._bodyElement.style.borderColor=g.frameColor.toString())}_fillContainer(g){this.setCssClass("peekview-widget"),this._headElement=_.$(".head"),this._bodyElement=_.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),g.appendChild(this._headElement),g.appendChild(this._bodyElement)}_fillHead(g,f){const y=_.$(".peekview-title");_.append(this._headElement,y),_.addStandardDisposableListener(y,"click",D=>this._onTitleClick(D)),this._fillTitleIcon(y),this._primaryHeading=_.$("span.filename"),this._secondaryHeading=_.$("span.dirname"),this._metaHeading=_.$("span.meta"),_.append(y,this._primaryHeading,this._secondaryHeading,this._metaHeading);const I=_.$(".peekview-actions");_.append(this._headElement,I);const N=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(I,N),this._disposables.add(this._actionbarWidget),f||this._actionbarWidget.push(new M.Action("peekview.close",s.localize(1,null),n.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(g){}_getActionBarOptions(){return{actionViewItemProvider:l.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(g){}setTitle(g,f){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=g,this._primaryHeading.setAttribute("title",g),f?this._secondaryHeading.innerText=f:_.clearNode(this._secondaryHeading))}setMetaTitle(g){this._metaHeading&&(g?(this._metaHeading.innerText=g,_.show(this._metaHeading)):_.hide(this._metaHeading))}_doLayout(g,f){if(!this._isShowing&&g<0){this.dispose();return}const y=Math.ceil(this.editor.getOption(56)*1.2),I=Math.round(g-(y+2));this._doLayoutHead(y,f),this._doLayoutBody(I,f)}_doLayoutHead(g,f){this._headElement&&(this._headElement.style.height=`${g}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(g,f){this._bodyElement&&(this._bodyElement.style.height=`${g}px`)}};w=Me([_e(2,a.IInstantiationService)],w),e.PeekViewWidget=w,e.peekViewTitleBackground=r.registerColor("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},s.localize(2,null)),e.peekViewTitleForeground=r.registerColor("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},s.localize(3,null)),e.peekViewTitleInfoForeground=r.registerColor("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},s.localize(4,null)),e.peekViewBorder=r.registerColor("peekView.border",{dark:"#007acc",light:"#007acc",hc:r.contrastBorder},s.localize(5,null)),e.peekViewResultsBackground=r.registerColor("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:L.Color.black},s.localize(6,null)),e.peekViewResultsMatchForeground=r.registerColor("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:L.Color.white},s.localize(7,null)),e.peekViewResultsFileForeground=r.registerColor("peekViewResult.fileForeground",{dark:L.Color.white,light:"#1E1E1E",hc:L.Color.white},s.localize(8,null)),e.peekViewResultsSelectionBackground=r.registerColor("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},s.localize(9,null)),e.peekViewResultsSelectionForeground=r.registerColor("peekViewResult.selectionForeground",{dark:L.Color.white,light:"#6C6C6C",hc:L.Color.white},s.localize(10,null)),e.peekViewEditorBackground=r.registerColor("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:L.Color.black},s.localize(11,null)),e.peekViewEditorGutterBackground=r.registerColor("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},s.localize(12,null)),e.peekViewResultsMatchHighlight=r.registerColor("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},s.localize(13,null)),e.peekViewEditorMatchHighlight=r.registerColor("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},s.localize(14,null)),e.peekViewEditorMatchHighlightBorder=r.registerColor("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:r.activeContrastBorder},s.localize(15,null))}),define(ie[664],ne([0,1,7,83,2,123,525,192,33,16,9]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class s extends m.MenuEntryActionViewItem{updateLabel(){const c=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!c)return super.updateLabel();this.label&&(this.label.textContent=S.localize(0,null,this._action.label,s.symbolPrintEnter(c)))}static symbolPrintEnter(c){var u;return(u=c.getLabel())===null||u===void 0?void 0:u.replace(/\benter\b/gi,"\u23CE")}}let o=class{constructor(c,u,r,n){this._menuService=r,this._contextKeyService=n,this._menuDisposables=new M.DisposableStore,this.element=_.append(c,_.$(".suggest-status-bar"));const l=t=>t instanceof v.MenuItemAction?u.createInstance(s,t,void 0):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:l}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:l}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const c=this._menuService.createMenu(L.suggestWidgetStatusbarMenu,this._contextKeyService),u=()=>{const r=[],n=[];for(let[l,t]of c.getActions())l==="left"?r.push(...t):n.push(...t);this._leftActions.clear(),this._leftActions.push(r),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(c.onDidChange(()=>u())),this._menuDisposables.add(c)}hide(){this._menuDisposables.clear()}};o=Me([_e(1,C.IInstantiationService),_e(2,v.IMenuService),_e(3,i.IContextKeyService)],o),e.SuggestWidgetStatus=o}),define(ie[665],ne([0,1,15,6,2,33,26,16]),function($,e,_,k,M,L,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let v=class{constructor(s){this._commandService=s}createMenu(s,o,a=!1){return new i(s,a,this._commandService,o,this)}};v=Me([_e(0,S.ICommandService)],v),e.MenuService=v;let i=class tt{constructor(s,o,a,c,u){this._id=s,this._fireEventsForSubmenuChanges=o,this._commandService=a,this._contextKeyService=c,this._menuService=u,this._disposables=new M.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const r=new _.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},50);this._disposables.add(r),this._disposables.add(L.MenuRegistry.onDidChangeMenu(t=>{t.has(s)&&r.schedule()}));const n=this._disposables.add(new M.DisposableStore),l=()=>{const t=new _.RunOnceScheduler(()=>this._onDidChange.fire(this),50);n.add(t),n.add(c.onDidChangeContext(d=>{d.affectsSome(this._contextKeys)&&t.schedule()}))};this._onDidChange=new k.Emitter({onFirstListenerAdd:l,onLastListenerRemove:n.clear.bind(n)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const s=L.MenuRegistry.getMenuItems(this._id);let o;s.sort(tt._compareMenuItems);for(const a of s){const c=a.group||"";(!o||o[0]!==c)&&(o=[c,[]],this._menuGroups.push(o)),o[1].push(a),this._collectContextKeys(a)}}_collectContextKeys(s){if(tt._fillInKbExprKeys(s.when,this._contextKeys),L.isIMenuItem(s)){if(s.command.precondition&&tt._fillInKbExprKeys(s.command.precondition,this._contextKeys),s.command.toggled){const o=s.command.toggled.condition||s.command.toggled;tt._fillInKbExprKeys(o,this._contextKeys)}}else this._fireEventsForSubmenuChanges&&L.MenuRegistry.getMenuItems(s.submenu).forEach(this._collectContextKeys,this)}getActions(s){const o=[];for(let a of this._menuGroups){const[c,u]=a,r=[];for(const n of u)if(this._contextKeyService.contextMatchesRules(n.when)){const l=L.isIMenuItem(n)?new L.MenuItemAction(n.command,n.alt,s,this._contextKeyService,this._commandService):new L.SubmenuItemAction(n,this._menuService,this._contextKeyService,s);r.push(l)}r.length>0&&o.push([c,r])}return o}static _fillInKbExprKeys(s,o){if(s)for(let a of s.keys())o.add(a)}static _compareMenuItems(s,o){let a=s.group,c=o.group;if(a!==c){if(a){if(!c)return-1}else return 1;if(a==="navigation")return-1;if(c==="navigation")return 1;let n=a.localeCompare(c);if(n!==0)return n}let u=s.order||0,r=o.order||0;return u<r?-1:u>r?1:tt._compareTitles(L.isIMenuItem(s)?s.command.title:s.title,L.isIMenuItem(o)?o.command.title:o.title)}static _compareTitles(s,o){const a=typeof s=="string"?s:s.original,c=typeof o=="string"?o:o.original;return a.localeCompare(c)}};i=Me([_e(2,S.ICommandService),_e(3,m.IContextKeyService),_e(4,L.IMenuService)],i)}),define(ie[666],ne([0,1,593,68,88,34,11,37,2,7]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let C=class extends v.Disposable{constructor(o,a,c,u,r){super();this.contextMenuHandler=new _.ContextMenuHandler(c,o,a,u,r)}configure(o){this.contextMenuHandler.configure(o)}showContextMenu(o){this.contextMenuHandler.showContextMenu(o),i.ModifierKeyEmitter.getInstance().resetKeyStatus()}};C=Me([_e(0,M.ITelemetryService),_e(1,L.INotificationService),_e(2,k.IContextViewService),_e(3,m.IKeybindingService),_e(4,S.IThemeService)],C),e.ContextMenuService=C}),define(ie[153],ne([0,1,7,321,107,6,2,537,40,97,16,9,37,32,122,11,254,239,438,437,64,324]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.didBindWorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchListSupportsKeyboardNavigation=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=s.createDecorator("listService");let p=class{constructor(G){this._themeService=G,this.disposables=new S.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(G,Q){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const le=new M.DefaultStyleController(_.createStyleSheet(),"");this.disposables.add(c.attachListStyler(le,this._themeService))}if(this.lists.some(le=>le.widget===G))throw new Error("Cannot register the same widget multiple times");const J={widget:G,extraContextKeys:Q};return this.lists.push(J),G.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=G),S.combinedDisposable(G.onDidFocus(()=>this._lastFocusedWidget=G),S.toDisposable(()=>this.lists.splice(this.lists.indexOf(J),1)),G.onDidDispose(()=>{this.lists=this.lists.filter(le=>le!==J),this._lastFocusedWidget===G&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};p=Me([_e(0,u.IThemeService)],p),e.ListService=p;const w=new C.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new C.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=C.ContextKeyExpr.and(w,C.ContextKeyExpr.not(r.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new C.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new C.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new C.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new C.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsKeyboardNavigation=new C.RawContextKey("listSupportsKeyboardNavigation",!0),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation",e.WorkbenchListAutomaticKeyboardNavigation=new C.RawContextKey(e.WorkbenchListAutomaticKeyboardNavigationKey,!0),e.didBindWorkbenchListAutomaticKeyboardNavigation=!1;function b(x,G){const Q=x.createScoped(G.getHTMLElement());return w.bindTo(Q),Q}const g="workbench.list.multiSelectModifier",f="workbench.list.openMode",y="workbench.list.horizontalScrolling",I="workbench.list.keyboardNavigation",N="workbench.list.automaticKeyboardNavigation",D="workbench.tree.indent",T="workbench.tree.renderIndentGuides",P="workbench.list.smoothScrolling",R="workbench.tree.expandMode";function O(x){return x.getValue(g)==="alt"}class A extends S.Disposable{constructor(G){super();this.configurationService=G,this.useAltAsMultipleSelectionModifier=O(G),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(G=>{G.affectsConfiguration(g)&&(this.useAltAsMultipleSelectionModifier=O(this.configurationService))}))}isSelectionSingleChangeEvent(G){return this.useAltAsMultipleSelectionModifier?G.browserEvent.altKey:M.isSelectionSingleChangeEvent(G)}isSelectionRangeChangeEvent(G){return M.isSelectionRangeChangeEvent(G)}}function F(x,G,Q){const J=new S.DisposableStore,le=Object.assign({},x);if(!x.multipleSelectionController){const oe=new A(G);le.multipleSelectionController=oe,J.add(oe)}return le.keyboardNavigationDelegate={mightProducePrintableCharacter(oe){return Q.mightProducePrintableCharacter(oe)}},le.smoothScrolling=Boolean(G.getValue(P)),[le,J]}let E=class extends M.List{constructor(G,Q,J,le,oe,he,K,re,Y,se){const ge=typeof oe.horizontalScrolling!="undefined"?oe.horizontalScrolling:Boolean(Y.getValue(y)),[pe,ve]=F(oe,Y,se);super(G,Q,J,le,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},c.computeStyles(re.getColorTheme(),c.defaultListStyles)),pe),{horizontalScrolling:ge}));this.disposables.add(ve),this.contextKeyService=b(he,this),this.themeService=re,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(oe.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=oe.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(Y),this.disposables.add(this.contextKeyService),this.disposables.add(K.register(this)),oe.overrideStyles&&this.updateStyles(oe.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ee=this.getSelection(),Te=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ee.length>0||Te.length>0),this.listMultiSelection.set(Ee.length>1),this.listDoubleSelection.set(Ee.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ee=this.getSelection(),Te=this.getFocus();this.listHasSelectionOrFocus.set(Ee.length>0||Te.length>0)})),this.disposables.add(Y.onDidChangeConfiguration(Ee=>{Ee.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=O(Y));let Te={};if(Ee.affectsConfiguration(y)&&this.horizontalScrolling===void 0){const De=Boolean(Y.getValue(y));Te=Object.assign(Object.assign({},Te),{horizontalScrolling:De})}if(Ee.affectsConfiguration(P)){const De=Boolean(Y.getValue(P));Te=Object.assign(Object.assign({},Te),{smoothScrolling:De})}Object.keys(Te).length>0&&this.updateOptions(Te)})),this.navigator=new q(this,Object.assign({configurationService:Y},oe)),this.disposables.add(this.navigator)}updateOptions(G){super.updateOptions(G),G.overrideStyles&&this.updateStyles(G.overrideStyles),G.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!G.multipleSelectionSupport)}updateStyles(G){var Q;(Q=this._styler)===null||Q===void 0||Q.dispose(),this._styler=c.attachListStyler(this,this.themeService,G)}dispose(){var G;(G=this._styler)===null||G===void 0||G.dispose(),super.dispose()}};E=Me([_e(5,C.IContextKeyService),_e(6,e.IListService),_e(7,u.IThemeService),_e(8,v.IConfigurationService),_e(9,o.IKeybindingService)],E),e.WorkbenchList=E;let W=class extends k.PagedList{constructor(G,Q,J,le,oe,he,K,re,Y,se){const ge=typeof oe.horizontalScrolling!="undefined"?oe.horizontalScrolling:Boolean(Y.getValue(y)),[pe,ve]=F(oe,Y,se);super(G,Q,J,le,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},c.computeStyles(re.getColorTheme(),c.defaultListStyles)),pe),{horizontalScrolling:ge}));this.disposables=new S.DisposableStore,this.disposables.add(ve),this.contextKeyService=b(he,this),this.themeService=re,this.horizontalScrolling=oe.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(oe.selectionNavigation)),this._useAltAsMultipleSelectionModifier=O(Y),this.disposables.add(this.contextKeyService),this.disposables.add(K.register(this)),oe.overrideStyles&&this.updateStyles(oe.overrideStyles),oe.overrideStyles&&this.disposables.add(c.attachListStyler(this,re,oe.overrideStyles)),this.disposables.add(Y.onDidChangeConfiguration(Ee=>{Ee.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=O(Y));let Te={};if(Ee.affectsConfiguration(y)&&this.horizontalScrolling===void 0){const De=Boolean(Y.getValue(y));Te=Object.assign(Object.assign({},Te),{horizontalScrolling:De})}if(Ee.affectsConfiguration(P)){const De=Boolean(Y.getValue(P));Te=Object.assign(Object.assign({},Te),{smoothScrolling:De})}Object.keys(Te).length>0&&this.updateOptions(Te)})),this.navigator=new q(this,Object.assign({configurationService:Y},oe)),this.disposables.add(this.navigator)}updateOptions(G){super.updateOptions(G),G.overrideStyles&&this.updateStyles(G.overrideStyles),G.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!G.multipleSelectionSupport)}updateStyles(G){var Q;(Q=this._styler)===null||Q===void 0||Q.dispose(),this._styler=c.attachListStyler(this,this.themeService,G)}dispose(){var G;(G=this._styler)===null||G===void 0||G.dispose(),this.disposables.dispose(),super.dispose()}};W=Me([_e(5,C.IContextKeyService),_e(6,e.IListService),_e(7,u.IThemeService),_e(8,v.IConfigurationService),_e(9,o.IKeybindingService)],W),e.WorkbenchPagedList=W;let V=class extends h.Table{constructor(G,Q,J,le,oe,he,K,re,Y,se,ge){const pe=typeof he.horizontalScrolling!="undefined"?he.horizontalScrolling:Boolean(se.getValue(y)),[ve,Le]=F(he,se,ge);super(G,Q,J,le,oe,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},c.computeStyles(Y.getColorTheme(),c.defaultListStyles)),ve),{horizontalScrolling:pe}));this.disposables=new S.DisposableStore,this.disposables.add(Le),this.contextKeyService=b(K,this),this.themeService=Y,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!!he.multipleSelectionSupport),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(he.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=he.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(se),this.disposables.add(this.contextKeyService),this.disposables.add(re.register(this)),he.overrideStyles&&this.updateStyles(he.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Te=this.getSelection(),De=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Te.length>0||De.length>0),this.listMultiSelection.set(Te.length>1),this.listDoubleSelection.set(Te.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Te=this.getSelection(),De=this.getFocus();this.listHasSelectionOrFocus.set(Te.length>0||De.length>0)})),this.disposables.add(se.onDidChangeConfiguration(Te=>{Te.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=O(se));let De={};if(Te.affectsConfiguration(y)&&this.horizontalScrolling===void 0){const Ae=Boolean(se.getValue(y));De=Object.assign(Object.assign({},De),{horizontalScrolling:Ae})}if(Te.affectsConfiguration(P)){const Ae=Boolean(se.getValue(P));De=Object.assign(Object.assign({},De),{smoothScrolling:Ae})}Object.keys(De).length>0&&this.updateOptions(De)})),this.navigator=new j(this,Object.assign({configurationService:se},he)),this.disposables.add(this.navigator)}updateOptions(G){super.updateOptions(G),G.overrideStyles&&this.updateStyles(G.overrideStyles),G.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!G.multipleSelectionSupport)}updateStyles(G){var Q;(Q=this._styler)===null||Q===void 0||Q.dispose(),this._styler=c.attachListStyler(this,this.themeService,G)}dispose(){var G;(G=this._styler)===null||G===void 0||G.dispose(),this.disposables.dispose(),super.dispose()}};V=Me([_e(6,C.IContextKeyService),_e(7,e.IListService),_e(8,u.IThemeService),_e(9,v.IConfigurationService),_e(10,o.IKeybindingService)],V),e.WorkbenchTable=V;class U extends S.Disposable{constructor(G,Q){var J;super();this.widget=G,this._onDidOpen=this._register(new L.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(L.Event.filter(this.widget.onDidChangeSelection,le=>le.browserEvent instanceof KeyboardEvent)(le=>this.onSelectionFromKeyboard(le))),this._register(this.widget.onPointer(le=>this.onPointer(le.element,le.browserEvent))),this._register(this.widget.onMouseDblClick(le=>this.onMouseDblClick(le.element,le.browserEvent))),typeof(Q==null?void 0:Q.openOnSingleClick)!="boolean"&&(Q==null?void 0:Q.configurationService)?(this.openOnSingleClick=(Q==null?void 0:Q.configurationService.getValue(f))!=="doubleClick",this._register(Q==null?void 0:Q.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(Q==null?void 0:Q.configurationService.getValue(f))!=="doubleClick"}))):this.openOnSingleClick=(J=Q==null?void 0:Q.openOnSingleClick)!==null&&J!==void 0?J:!0}onSelectionFromKeyboard(G){if(G.elements.length!==1)return;const Q=G.browserEvent,J=typeof Q.preserveFocus=="boolean"?Q.preserveFocus:!0,le=typeof Q.pinned=="boolean"?Q.pinned:!J,oe=!1;this._open(this.getSelectedElement(),J,le,oe,G.browserEvent)}onPointer(G,Q){if(!this.openOnSingleClick||Q.detail===2)return;const le=Q.button===1,oe=!0,he=le,K=Q.ctrlKey||Q.metaKey||Q.altKey;this._open(G,oe,he,K,Q)}onMouseDblClick(G,Q){if(!Q)return;const J=Q.target;if(J.classList.contains("monaco-tl-twistie")||J.classList.contains("monaco-icon-label")&&J.classList.contains("folder-icon")&&Q.offsetX<16)return;const oe=!1,he=!0,K=Q.ctrlKey||Q.metaKey||Q.altKey;this._open(G,oe,he,K,Q)}_open(G,Q,J,le,oe){!G||this._onDidOpen.fire({editorOptions:{preserveFocus:Q,pinned:J,revealIfVisible:!0},sideBySide:le,element:G,browserEvent:oe})}}class q extends U{constructor(G,Q){super(G,Q);this.widget=G}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class j extends U{constructor(G,Q){super(G,Q)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class te extends U{constructor(G,Q){super(G,Q)}getSelectedElement(){var G;return(G=this.widget.getSelection()[0])!==null&&G!==void 0?G:void 0}}function ae(x,G){let Q=!1;return J=>{if(Q)return Q=!1,!1;const le=G.softDispatch(J,x);return le&&le.enterChord?(Q=!0,!1):(Q=!1,!0)}}let de=class extends n.ObjectTree{constructor(G,Q,J,le,oe,he,K,re,Y,se,ge){const{options:pe,getAutomaticKeyboardNavigation:ve,disposable:Le}=H(Q,oe,he,Y,se,ge);super(G,Q,J,le,pe);this.disposables.add(Le),this.internals=new z(this,oe,ve,oe.overrideStyles,he,K,re,Y,ge),this.disposables.add(this.internals)}updateOptions(G){super.updateOptions(G),this.internals.updateOptions(G)}};de=Me([_e(5,C.IContextKeyService),_e(6,e.IListService),_e(7,u.IThemeService),_e(8,v.IConfigurationService),_e(9,o.IKeybindingService),_e(10,d.IAccessibilityService)],de),e.WorkbenchObjectTree=de;let ue=class extends n.CompressibleObjectTree{constructor(G,Q,J,le,oe,he,K,re,Y,se,ge){const{options:pe,getAutomaticKeyboardNavigation:ve,disposable:Le}=H(Q,oe,he,Y,se,ge);super(G,Q,J,le,pe);this.disposables.add(Le),this.internals=new z(this,oe,ve,oe.overrideStyles,he,K,re,Y,ge),this.disposables.add(this.internals)}updateOptions(G={}){super.updateOptions(G),G.overrideStyles&&this.internals.updateStyleOverrides(G.overrideStyles),this.internals.updateOptions(G)}};ue=Me([_e(5,C.IContextKeyService),_e(6,e.IListService),_e(7,u.IThemeService),_e(8,v.IConfigurationService),_e(9,o.IKeybindingService),_e(10,d.IAccessibilityService)],ue),e.WorkbenchCompressibleObjectTree=ue;let X=class extends t.DataTree{constructor(G,Q,J,le,oe,he,K,re,Y,se,ge,pe){const{options:ve,getAutomaticKeyboardNavigation:Le,disposable:Ee}=H(Q,he,K,se,ge,pe);super(G,Q,J,le,oe,ve);this.disposables.add(Ee),this.internals=new z(this,he,Le,he.overrideStyles,K,re,Y,se,pe),this.disposables.add(this.internals)}updateOptions(G={}){super.updateOptions(G),G.overrideStyles&&this.internals.updateStyleOverrides(G.overrideStyles),this.internals.updateOptions(G)}};X=Me([_e(6,C.IContextKeyService),_e(7,e.IListService),_e(8,u.IThemeService),_e(9,v.IConfigurationService),_e(10,o.IKeybindingService),_e(11,d.IAccessibilityService)],X),e.WorkbenchDataTree=X;let B=class extends l.AsyncDataTree{constructor(G,Q,J,le,oe,he,K,re,Y,se,ge,pe){const{options:ve,getAutomaticKeyboardNavigation:Le,disposable:Ee}=H(Q,he,K,se,ge,pe);super(G,Q,J,le,oe,ve);this.disposables.add(Ee),this.internals=new z(this,he,Le,he.overrideStyles,K,re,Y,se,pe),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(G={}){super.updateOptions(G),G.overrideStyles&&this.internals.updateStyleOverrides(G.overrideStyles),this.internals.updateOptions(G)}};B=Me([_e(6,C.IContextKeyService),_e(7,e.IListService),_e(8,u.IThemeService),_e(9,v.IConfigurationService),_e(10,o.IKeybindingService),_e(11,d.IAccessibilityService)],B),e.WorkbenchAsyncDataTree=B;let Z=class extends l.CompressibleAsyncDataTree{constructor(G,Q,J,le,oe,he,K,re,Y,se,ge,pe,ve){const{options:Le,getAutomaticKeyboardNavigation:Ee,disposable:Te}=H(Q,K,re,ge,pe,ve);super(G,Q,J,le,oe,he,Le);this.disposables.add(Te),this.internals=new z(this,K,Ee,K.overrideStyles,re,Y,se,ge,ve),this.disposables.add(this.internals)}updateOptions(G){super.updateOptions(G),this.internals.updateOptions(G)}};Z=Me([_e(7,C.IContextKeyService),_e(8,e.IListService),_e(9,u.IThemeService),_e(10,v.IConfigurationService),_e(11,o.IKeybindingService),_e(12,d.IAccessibilityService)],Z),e.WorkbenchCompressibleAsyncDataTree=Z;function H(x,G,Q,J,le,oe){var he;e.WorkbenchListSupportsKeyboardNavigation.bindTo(Q),e.didBindWorkbenchListAutomaticKeyboardNavigation||(e.WorkbenchListAutomaticKeyboardNavigation.bindTo(Q),e.didBindWorkbenchListAutomaticKeyboardNavigation=!0);const K=()=>{let Le=Boolean(Q.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return Le&&(Le=Boolean(J.getValue(N))),Le},re=oe.isScreenReaderOptimized(),Y=G.simpleKeyboardNavigation||re?"simple":J.getValue(I),se=G.horizontalScrolling!==void 0?G.horizontalScrolling:Boolean(J.getValue(y)),[ge,pe]=F(G,J,le),ve=G.additionalScrollHeight;return{getAutomaticKeyboardNavigation:K,disposable:pe,options:Object.assign(Object.assign({keyboardSupport:!1},ge),{indent:J.getValue(D),renderIndentGuides:J.getValue(T),smoothScrolling:Boolean(J.getValue(P)),automaticKeyboardNavigation:K(),simpleKeyboardNavigation:Y==="simple",filterOnType:Y==="filter",horizontalScrolling:se,keyboardNavigationEventFilter:ae(x,le),additionalScrollHeight:ve,hideTwistiesOfChildlessElements:G.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(he=G.expandOnlyOnTwistieClick)!==null&&he!==void 0?he:J.getValue(R)==="doubleClick"})}}let z=class{constructor(G,Q,J,le,oe,he,K,re,Y){this.tree=G,this.themeService=K,this.disposables=[],this.contextKeyService=b(oe,G),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!!Q.multipleSelectionSupport),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(Q.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=O(re);const ge=new Set;ge.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const pe=()=>{const Le=Y.isScreenReaderOptimized()?"simple":re.getValue(I);G.updateOptions({simpleKeyboardNavigation:Le==="simple",filterOnType:Le==="filter"})};this.updateStyleOverrides(le),this.disposables.push(this.contextKeyService,he.register(G),G.onDidChangeSelection(()=>{const ve=G.getSelection(),Le=G.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ve.length>0||Le.length>0),this.hasMultiSelection.set(ve.length>1),this.hasDoubleSelection.set(ve.length===2)})}),G.onDidChangeFocus(()=>{const ve=G.getSelection(),Le=G.getFocus();this.hasSelectionOrFocus.set(ve.length>0||Le.length>0)}),re.onDidChangeConfiguration(ve=>{let Le={};if(ve.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=O(re)),ve.affectsConfiguration(D)){const Ee=re.getValue(D);Le=Object.assign(Object.assign({},Le),{indent:Ee})}if(ve.affectsConfiguration(T)){const Ee=re.getValue(T);Le=Object.assign(Object.assign({},Le),{renderIndentGuides:Ee})}if(ve.affectsConfiguration(P)){const Ee=Boolean(re.getValue(P));Le=Object.assign(Object.assign({},Le),{smoothScrolling:Ee})}if(ve.affectsConfiguration(I)&&pe(),ve.affectsConfiguration(N)&&(Le=Object.assign(Object.assign({},Le),{automaticKeyboardNavigation:J()})),ve.affectsConfiguration(y)&&Q.horizontalScrolling===void 0){const Ee=Boolean(re.getValue(y));Le=Object.assign(Object.assign({},Le),{horizontalScrolling:Ee})}ve.affectsConfiguration(R)&&Q.expandOnlyOnTwistieClick===void 0&&(Le=Object.assign(Object.assign({},Le),{expandOnlyOnTwistieClick:re.getValue(R)==="doubleClick"})),Object.keys(Le).length>0&&G.updateOptions(Le)}),this.contextKeyService.onDidChangeContext(ve=>{ve.affectsSome(ge)&&G.updateOptions({automaticKeyboardNavigation:J()})}),Y.onDidChangeScreenReaderOptimized(()=>pe())),this.navigator=new te(G,Object.assign({configurationService:re},Q)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(G){G.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!G.multipleSelectionSupport)}updateStyleOverrides(G){S.dispose(this.styler),this.styler=G?c.attachListStyler(this.tree,this.themeService,G):S.Disposable.None}dispose(){this.disposables=S.dispose(this.disposables),S.dispose(this.styler),this.styler=void 0}};z=Me([_e(4,C.IContextKeyService),_e(5,e.IListService),_e(6,u.IThemeService),_e(7,v.IConfigurationService),_e(8,d.IAccessibilityService)],z),a.Registry.as(i.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:m.localize(0,null),type:"object",properties:{[g]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[m.localize(1,null),m.localize(2,null)],default:"ctrlCmd",description:m.localize(3,null)},[f]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:m.localize(4,null)},[y]:{type:"boolean",default:!1,description:m.localize(5,null)},[D]:{type:"number",default:8,minimum:0,maximum:40,description:m.localize(6,null)},[T]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:m.localize(7,null)},[P]:{type:"boolean",default:!1,description:m.localize(8,null)},[I]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[m.localize(9,null),m.localize(10,null),m.localize(11,null)],default:"highlight",description:m.localize(12,null)},[N]:{type:"boolean",default:!0,markdownDescription:m.localize(13,null)},[R]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:m.localize(14,null)}}})}),define(ie[667],ne([0,1,144,9,11,22,23,122,16,64,453,153,588]),function($,e,_,k,M,L,S,m,v,i,C,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let a=class extends M.Themable{constructor(u,r,n,l,t){super(n);this.instantiationService=u,this.contextKeyService=r,this.accessibilityService=l,this.layoutService=t,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(o.QuickAccessController))),this._quickAccess}createController(u=this.layoutService,r){var n,l;const t={idPrefix:"quickInput_",container:u.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:h=>this.setContextKey(h),returnFocus:()=>u.focus(),createList:(h,p,w,b,g)=>this.instantiationService.createInstance(s.WorkbenchList,h,p,w,b,g),styles:this.computeStyles()},d=this._register(new C.QuickInputController(Object.assign(Object.assign({},t),r)));return d.layout(u.dimension,(l=(n=u.offset)===null||n===void 0?void 0:n.top)!==null&&l!==void 0?l:0),this._register(u.onDidLayout(h=>{var p,w;return d.layout(h,(w=(p=u.offset)===null||p===void 0?void 0:p.top)!==null&&w!==void 0?w:0)})),this._register(d.onShow(()=>this.resetContextKeys())),this._register(d.onHide(()=>this.resetContextKeys())),d}setContextKey(u){let r;u&&(r=this.contexts.get(u),r||(r=new v.RawContextKey(u,!1).bindTo(this.contextKeyService),this.contexts.set(u,r))),!(r&&r.get())&&(this.resetContextKeys(),r&&r.set(!0))}resetContextKeys(){this.contexts.forEach(u=>{u.get()&&u.reset()})}pick(u,r={},n=S.CancellationToken.None){return this.controller.pick(u,r,n)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},m.computeStyles(this.theme,{quickInputBackground:L.quickInputBackground,quickInputForeground:L.quickInputForeground,quickInputTitleBackground:L.quickInputTitleBackground,contrastBorder:L.contrastBorder,widgetShadow:L.widgetShadow})),inputBox:m.computeStyles(this.theme,{inputForeground:L.inputForeground,inputBackground:L.inputBackground,inputBorder:L.inputBorder,inputValidationInfoBackground:L.inputValidationInfoBackground,inputValidationInfoForeground:L.inputValidationInfoForeground,inputValidationInfoBorder:L.inputValidationInfoBorder,inputValidationWarningBackground:L.inputValidationWarningBackground,inputValidationWarningForeground:L.inputValidationWarningForeground,inputValidationWarningBorder:L.inputValidationWarningBorder,inputValidationErrorBackground:L.inputValidationErrorBackground,inputValidationErrorForeground:L.inputValidationErrorForeground,inputValidationErrorBorder:L.inputValidationErrorBorder}),countBadge:m.computeStyles(this.theme,{badgeBackground:L.badgeBackground,badgeForeground:L.badgeForeground,badgeBorder:L.contrastBorder}),button:m.computeStyles(this.theme,{buttonForeground:L.buttonForeground,buttonBackground:L.buttonBackground,buttonHoverBackground:L.buttonHoverBackground,buttonBorder:L.contrastBorder}),progressBar:m.computeStyles(this.theme,{progressBarBackground:L.progressBarBackground}),keybindingLabel:m.computeStyles(this.theme,{keybindingLabelBackground:L.keybindingLabelBackground,keybindingLabelForeground:L.keybindingLabelForeground,keybindingLabelBorder:L.keybindingLabelBorder,keybindingLabelBottomBorder:L.keybindingLabelBottomBorder,keybindingLabelShadow:L.widgetShadow}),list:m.computeStyles(this.theme,{listBackground:L.quickInputBackground,listInactiveFocusForeground:L.quickInputListFocusForeground,listInactiveSelectionIconForeground:L.quickInputListFocusIconForeground,listInactiveFocusBackground:L.quickInputListFocusBackground,listFocusOutline:L.activeContrastBorder,listInactiveFocusOutline:L.activeContrastBorder,pickerGroupBorder:L.pickerGroupBorder,pickerGroupForeground:L.pickerGroupForeground})}}};a=Me([_e(0,k.IInstantiationService),_e(1,v.IContextKeyService),_e(2,M.IThemeService),_e(3,i.IAccessibilityService),_e(4,_.ILayoutService)],a),e.QuickInputService=a}),define(ie[668],ne([0,1,14,11,23,9,16,64,144,28,667,90,367]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputServiceImpl=e.EditorScopedQuickInputServiceImpl=void 0;let o=class extends C.QuickInputService{constructor(n,l,t,d,h,p){super(l,t,d,h,p);this.host=void 0;const w=c.get(n);this.host={_serviceBrand:void 0,get container(){return w.widget.getDomNode()},get dimension(){return n.getLayoutInfo()},get onDidLayout(){return n.onDidLayoutChange},focus:()=>n.focus()}}createController(){return super.createController(this.host)}};o=Me([_e(1,L.IInstantiationService),_e(2,S.IContextKeyService),_e(3,k.IThemeService),_e(4,m.IAccessibilityService),_e(5,v.ILayoutService)],o),e.EditorScopedQuickInputServiceImpl=o;let a=class{constructor(n,l){this.instantiationService=n,this.codeEditorService=l,this.mapEditorToService=new Map}get activeService(){const n=this.codeEditorService.getFocusedCodeEditor();if(!n)throw new Error("Quick input service needs a focused editor to work.");let l=this.mapEditorToService.get(n);if(!l){const t=l=this.instantiationService.createInstance(o,n);this.mapEditorToService.set(n,l),s.once(n.onDidDispose)(()=>{t.dispose(),this.mapEditorToService.delete(n)})}return l}get quickAccess(){return this.activeService.quickAccess}pick(n,l={},t=M.CancellationToken.None){return this.activeService.pick(n,l,t)}createQuickPick(){return this.activeService.createQuickPick()}};a=Me([_e(0,L.IInstantiationService),_e(1,i.ICodeEditorService)],a),e.StandaloneQuickInputServiceImpl=a;class c{constructor(n){this.editor=n,this.widget=new u(this.editor)}static get(n){return n.getContribution(c.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=c,c.ID="editor.controller.quickInput";class u{constructor(n){this.codeEditor=n,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return u.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=u,u.ID="editor.contrib.quickInputWidget",_.registerEditorContribution(c.ID,c)}),define(ie[669],ne([0,1,73,11,22,27]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var S;(function(m){function v(i){switch(i){case _.default.Ignore:return"severity-ignore "+L.Codicon.info.classNames;case _.default.Info:return L.Codicon.info.classNames;case _.default.Warning:return L.Codicon.warning.classNames;case _.default.Error:return L.Codicon.error.classNames;default:return""}}m.className=v})(S=e.SeverityIcon||(e.SeverityIcon={})),k.registerThemingParticipant((m,v)=>{const i=m.getColor(M.problemsErrorIconForeground);if(i){const o=L.Codicon.error.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.text-search-provider-messages .providerMessage ${o},
			.extensions-viewlet > .extensions ${o} {
				color: ${i};
			}
		`)}const C=m.getColor(M.problemsWarningIconForeground);if(C){const o=L.Codicon.warning.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.extension-editor ${o},
			.text-search-provider-messages .providerMessage ${o},
			.preferences-editor ${o} {
				color: ${C};
			}
		`)}const s=m.getColor(M.problemsInfoIconForeground);if(s){const o=L.Codicon.info.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.text-search-provider-messages .providerMessage ${o},
			.extension-editor ${o} {
				color: ${s};
			}
		`)}})}),define(ie[670],ne([0,1,490,7,2,86,3,22,11,29,61,163,19,6,124,43,669,58,33,16,192,9,8,121,352]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarning=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class b{constructor(D,T,P,R,O){this._openerService=R,this._labelService=O,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new M.DisposableStore,this._editor=T;const A=document.createElement("div");A.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),A.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),A.appendChild(this._relatedBlock),this._disposables.add(k.addStandardDisposableListener(this._relatedBlock,"click",F=>{F.preventDefault();const E=this._relatedDiagnostics.get(F.target);E&&P(E)})),this._scrollable=new C.ScrollableElement(A,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),D.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(F=>{A.style.left=`-${F.scrollLeft}px`,A.style.top=`-${F.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){M.dispose(this._disposables)}update(D){const{source:T,message:P,relatedInformation:R,code:O}=D;let A=((T==null?void 0:T.length)||0)+"()".length;O&&(typeof O=="string"?A+=O.length:A+=O.value.length);const F=p.splitLines(P);this._lines=F.length,this._longestLineLength=0;for(const q of F)this._longestLineLength=Math.max(q.length+A,this._longestLineLength);k.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(D)),this._editor.applyFontInfo(this._messageBlock);let E=this._messageBlock;for(const q of F)E=document.createElement("div"),E.innerText=q,q===""&&(E.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(E);if(T||O){const q=document.createElement("span");if(q.classList.add("details"),E.appendChild(q),T){const j=document.createElement("span");j.innerText=T,j.classList.add("source"),q.appendChild(j)}if(O)if(typeof O=="string"){const j=document.createElement("span");j.innerText=`(${O})`,j.classList.add("code"),q.appendChild(j)}else{this._codeLink=k.$("a.code-link"),this._codeLink.setAttribute("href",`${O.target.toString()}`),this._codeLink.onclick=te=>{this._openerService.open(O.target,{allowCommands:!0}),te.preventDefault(),te.stopPropagation()};const j=k.append(this._codeLink,k.$("span"));j.innerText=O.value,q.appendChild(this._codeLink)}}if(k.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),o.isNonEmptyArray(R)){const q=this._relatedBlock.appendChild(document.createElement("div"));q.style.paddingTop=`${Math.floor(this._editor.getOption(56)*.66)}px`,this._lines+=1;for(const j of R){let te=document.createElement("div"),ae=document.createElement("a");ae.classList.add("filename"),ae.innerText=`${s.getBaseLabel(j.resource)}(${j.startLineNumber}, ${j.startColumn}): `,ae.title=this._labelService.getUriLabel(j.resource),this._relatedDiagnostics.set(ae,j);let de=document.createElement("span");de.innerText=j.message,te.appendChild(ae),te.appendChild(de),this._lines+=1,q.appendChild(te)}}const W=this._editor.getOption(40),V=Math.ceil(W.typicalFullwidthCharacterWidth*this._longestLineLength*.75),U=W.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:V,scrollHeight:U})}layout(D,T){this._scrollable.getDomNode().style.height=`${D}px`,this._scrollable.getDomNode().style.width=`${T}px`,this._scrollable.setScrollDimensions({width:T,height:D})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(D){let T="";switch(D.severity){case L.MarkerSeverity.Error:T=_.localize(0,null);break;case L.MarkerSeverity.Warning:T=_.localize(1,null);break;case L.MarkerSeverity.Info:T=_.localize(2,null);break;case L.MarkerSeverity.Hint:T=_.localize(3,null);break}let P=_.localize(4,null,T,D.startLineNumber+":"+D.startColumn);const R=this._editor.getModel();return R&&D.startLineNumber<=R.getLineCount()&&D.startLineNumber>=1&&(P=`${R.getLineContent(D.startLineNumber)}, ${P}`),P}}let g=class $t extends c.PeekViewWidget{constructor(D,T,P,R,O,A,F){super(D,{showArrow:!0,showFrame:!0,isAccessible:!0},O);this._themeService=T,this._openerService=P,this._menuService=R,this._contextKeyService=A,this._labelService=F,this._callOnDispose=new M.DisposableStore,this._onDidSelectRelatedInformation=new a.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=L.MarkerSeverity.Warning,this._backgroundColor=i.Color.white,this._applyTheme(T.getColorTheme()),this._callOnDispose.add(T.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(D){this._backgroundColor=D.getColor(e.editorMarkerNavigationBackground);let T=e.editorMarkerNavigationError;this._severity===L.MarkerSeverity.Warning?T=e.editorMarkerNavigationWarning:this._severity===L.MarkerSeverity.Info&&(T=e.editorMarkerNavigationInfo);const P=D.getColor(T);this.style({arrowColor:P,frameColor:P,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:D.getColor(c.peekViewTitleForeground),secondaryHeadingColor:D.getColor(c.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(D){super._fillHead(D),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(R=>this.editor.focus()));const T=[],P=this._menuService.createMenu($t.TitleMenu,this._contextKeyService);d.createAndFillInActionBarActions(P,void 0,T),this._actionbarWidget.push(T,{label:!1,icon:!0,index:0}),P.dispose()}_fillTitleIcon(D){this._icon=k.append(D,k.$(""))}_fillBody(D){this._parentContainer=D,D.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),D.appendChild(this._container),this._message=new b(this._container,this.editor,T=>this._onDidSelectRelatedInformation.fire(T),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(D,T,P){this._container.classList.remove("stale"),this._message.update(D),this._severity=D.severity,this._applyTheme(this._themeService.getColorTheme());let R=S.Range.lift(D);const O=this.editor.getPosition();let A=O&&R.containsPosition(O)?O:R.getStartPosition();super.show(A,this.computeRequiredHeight());const F=this.editor.getModel();if(F){const E=P>1?_.localize(5,null,T,P):_.localize(6,null,T,P);this.setTitle(u.basename(F.uri),E)}this._icon.className=`codicon ${r.SeverityIcon.className(L.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(A,0),this.editor.focus()}updateMarker(D){this._container.classList.remove("stale"),this._message.update(D)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(D,T){super._doLayoutBody(D,T),this._heightInPixel=D,this._message.layout(D,T),this._container.style.height=`${D}px`}_onWidth(D){this._message.layout(this._heightInPixel,D)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};g.TitleMenu=new l.MenuId("gotoErrorTitleMenu"),g=Me([_e(1,v.IThemeService),_e(2,n.IOpenerService),_e(3,l.IMenuService),_e(4,h.IInstantiationService),_e(5,t.IContextKeyService),_e(6,w.ILabelService)],g),e.MarkerNavigationWidget=g;let f=m.oneOf(m.editorErrorForeground,m.editorErrorBorder),y=m.oneOf(m.editorWarningForeground,m.editorWarningBorder),I=m.oneOf(m.editorInfoForeground,m.editorInfoBorder);e.editorMarkerNavigationError=m.registerColor("editorMarkerNavigationError.background",{dark:f,light:f,hc:f},_.localize(7,null)),e.editorMarkerNavigationWarning=m.registerColor("editorMarkerNavigationWarning.background",{dark:y,light:y,hc:y},_.localize(8,null)),e.editorMarkerNavigationInfo=m.registerColor("editorMarkerNavigationInfo.background",{dark:I,light:I,hc:I},_.localize(9,null)),e.editorMarkerNavigationBackground=m.registerColor("editorMarkerNavigation.background",{dark:"#2D2D30",light:i.Color.white,hc:"#0C141F"},_.localize(10,null)),v.registerThemingParticipant((N,D)=>{const T=N.getColor(m.textLinkForeground);T&&(D.addRule(`.monaco-editor .marker-widget a { color: ${T}; }`),D.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${T}; }`))})}),define(ie[79],ne([0,1,32,11,6,542,189,15,27]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class i{constructor(){this._onDidChange=new M.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:L.localize(0,null)},fontCharacter:{type:"string",description:L.localize(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${v.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(n,l,t,d){const h=this.iconsById[n];if(h){if(t&&!h.description){h.description=t,this.iconSchema.properties[n].markdownDescription=`${t} $(${n})`;const b=this.iconReferenceSchema.enum.indexOf(n);b!==-1&&(this.iconReferenceSchema.enumDescriptions[b]=t),this._onDidChange.fire()}return h}let p={id:n,description:t,defaults:l,deprecationMessage:d};this.iconsById[n]=p;let w={$ref:"#/definitions/icons"};return d&&(w.deprecationMessage=d),t&&(w.markdownDescription=`${t}: $(${n})`),this.iconSchema.properties[n]=w,this.iconReferenceSchema.enum.push(n),this.iconReferenceSchema.enumDescriptions.push(t||""),this._onDidChange.fire(),{id:n}}getIcons(){return Object.keys(this.iconsById).map(n=>this.iconsById[n])}getIcon(n){return this.iconsById[n]}getIconSchema(){return this.iconSchema}getIconFont(n){return this.iconFontsById[n]}toString(){const n=(h,p)=>h.id.localeCompare(p.id),l=h=>{for(;k.ThemeIcon.isThemeIcon(h.defaults);)h=this.iconsById[h.defaults.id];return`codicon codicon-${h?h.id:""}`};let t=[];t.push("| preview     | identifier                        | default codicon ID                | description"),t.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const d=Object.keys(this.iconsById).map(h=>this.iconsById[h]);for(const h of d.filter(p=>!!p.description).sort(n))t.push(`|<i class="${l(h)}"></i>|${h.id}|${k.ThemeIcon.isThemeIcon(h.defaults)?h.defaults.id:h.id}|${h.description||""}|`);t.push("| preview     | identifier                        "),t.push("| ----------- | --------------------------------- |");for(const h of d.filter(p=>!k.ThemeIcon.isThemeIcon(p.defaults)).sort(n))t.push(`|<i class="${l(h)}"></i>|${h.id}|`);return t.join(`
`)}}const C=new i;_.Registry.add(e.Extensions.IconContribution,C);function s(r,n,l,t){return C.registerIcon(r,n,l,t)}e.registerIcon=s;function o(){return C}e.getIconRegistry=o;function a(){for(const r of v.iconRegistry.all)C.registerIcon(r.id,r.definition,r.description);v.iconRegistry.onDidRegister(r=>C.registerIcon(r.id,r.definition,r.description))}a(),e.iconsSchemaId="vscode://schemas/icons";let c=_.Registry.as(S.Extensions.JSONContribution);c.registerSchema(e.iconsSchemaId,C.getIconSchema());const u=new m.RunOnceScheduler(()=>c.notifySchemaChanged(e.iconsSchemaId),200);C.onDidChange(()=>{u.isScheduled()||u.schedule()}),e.widgetClose=s("widget-close",v.Codicon.close,L.localize(2,null))}),define(ie[671],ne([0,1,460,7,30,83,61,49,2,65,14,28,35,84,13,48,114,62,16,22,11,27,79,342]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const b=3;class g{constructor(A,F,E,W){this.originalLineStart=A,this.originalLineEnd=F,this.modifiedLineStart=E,this.modifiedLineEnd=W}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class f{constructor(A){this.entries=A}}const y=p.registerIcon("diff-review-insert",h.Codicon.add,_.localize(0,null)),I=p.registerIcon("diff-review-remove",h.Codicon.remove,_.localize(1,null)),N=p.registerIcon("diff-review-close",h.Codicon.close,_.localize(2,null));class D extends v.Disposable{constructor(A){super();this._width=0,this._diffEditor=A,this._isVisible=!1,this.shadow=M.createFastDomNode(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=M.createFastDomNode(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new L.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new m.Action("diffreview.close",_.localize(3,null),"close-diff-review "+d.ThemeIcon.asClassName(N),!0,()=>Ie(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=M.createFastDomNode(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=M.createFastDomNode(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(A.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(A.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(k.addStandardDisposableListener(this.domNode.domNode,"click",F=>{F.preventDefault();let E=k.findParentWithClass(F.target,"diff-review-row");E&&this._goToRow(E)})),this._register(k.addStandardDisposableListener(this.domNode.domNode,"keydown",F=>{(F.equals(18)||F.equals(2048|18)||F.equals(512|18))&&(F.preventDefault(),this._goToRow(this._getNextRow())),(F.equals(16)||F.equals(2048|16)||F.equals(512|16))&&(F.preventDefault(),this._goToRow(this._getPrevRow())),(F.equals(9)||F.equals(2048|9)||F.equals(512|9)||F.equals(1024|9))&&(F.preventDefault(),this.hide()),(F.equals(10)||F.equals(3))&&(F.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let A=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let E=-1;for(let W=0,V=this._diffs.length;W<V;W++)if(this._diffs[W]===this._currentDiff){E=W;break}A=this._diffs.length+E-1}else A=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;A=A%this._diffs.length;const F=this._diffs[A].entries;this._diffEditor.setPosition(new c.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let A=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let E=-1;for(let W=0,V=this._diffs.length;W<V;W++)if(this._diffs[W]===this._currentDiff){E=W;break}A=E+1}else A=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;A=A%this._diffs.length;const F=this._diffs[A].entries;this._diffEditor.setPosition(new c.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let A=-1,F=this._getCurrentFocusedRow();if(F){let E=parseInt(F.getAttribute("data-line"),10);isNaN(E)||(A=E)}this.hide(),A!==-1&&(this._diffEditor.setPosition(new c.Position(A,1)),this._diffEditor.revealPosition(new c.Position(A,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let A=this._getCurrentFocusedRow();return A?A.previousElementSibling?A.previousElementSibling:A:this._getFirstRow()}_getNextRow(){let A=this._getCurrentFocusedRow();return A?A.nextElementSibling?A.nextElementSibling:A:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let A=document.activeElement;return A&&/diff-review-row/.test(A.className)?A:null}_goToRow(A){let F=this._getCurrentFocusedRow();A.tabIndex=0,A.focus(),F&&F!==A&&(F.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(A,F,E){this._width=F,this.shadow.setTop(A-6),this.shadow.setWidth(F),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(A),this.domNode.setWidth(F),this.domNode.setHeight(E),this._content.setHeight(E),this._content.setWidth(F),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const A=this._diffEditor.getLineChanges();if(!A||A.length===0)return[];const F=this._diffEditor.getOriginalEditor().getModel(),E=this._diffEditor.getModifiedEditor().getModel();return!F||!E?[]:D._mergeAdjacent(A,F.getLineCount(),E.getLineCount())}static _mergeAdjacent(A,F,E){if(!A||A.length===0)return[];let W=[],V=0;for(let te=0,ae=A.length;te<ae;te++){const de=A[te],ue=de.originalStartLineNumber,X=de.originalEndLineNumber,B=de.modifiedStartLineNumber,Z=de.modifiedEndLineNumber;let H=[],z=0;{const ee=X===0?ue:ue-1,x=Z===0?B:B-1;let G=1,Q=1;if(te>0){const oe=A[te-1];oe.originalEndLineNumber===0?G=oe.originalStartLineNumber+1:G=oe.originalEndLineNumber+1,oe.modifiedEndLineNumber===0?Q=oe.modifiedStartLineNumber+1:Q=oe.modifiedEndLineNumber+1}let J=ee-b+1,le=x-b+1;if(J<G){const oe=G-J;J=J+oe,le=le+oe}if(le<Q){const oe=Q-le;J=J+oe,le=le+oe}H[z++]=new g(J,ee,le,x)}X!==0&&(H[z++]=new g(ue,X,0,0)),Z!==0&&(H[z++]=new g(0,0,B,Z));{const ee=X===0?ue+1:X+1,x=Z===0?B+1:Z+1;let G=F,Q=E;if(te+1<ae){const oe=A[te+1];oe.originalEndLineNumber===0?G=oe.originalStartLineNumber:G=oe.originalStartLineNumber-1,oe.modifiedEndLineNumber===0?Q=oe.modifiedStartLineNumber:Q=oe.modifiedStartLineNumber-1}let J=ee+b-1,le=x+b-1;if(J>G){const oe=G-J;J=J+oe,le=le+oe}if(le>Q){const oe=Q-le;J=J+oe,le=le+oe}H[z++]=new g(ee,J,x,le)}W[V++]=new f(H)}let U=W[0].entries,q=[],j=0;for(let te=1,ae=W.length;te<ae;te++){const de=W[te].entries,ue=U[U.length-1],X=de[0];if(ue.getType()===0&&X.getType()===0&&X.originalLineStart<=ue.originalLineEnd){U[U.length-1]=new g(ue.originalLineStart,X.originalLineEnd,ue.modifiedLineStart,X.modifiedLineEnd),U=U.concat(de.slice(1));continue}q[j++]=new f(U),U=de}return q[j++]=new f(U),q}_findDiffIndex(A){const F=A.lineNumber;for(let E=0,W=this._diffs.length;E<W;E++){const V=this._diffs[E].entries,U=V[V.length-1].modifiedLineEnd;if(F<=U)return E}return 0}_render(){const A=this._diffEditor.getOriginalEditor().getOptions(),F=this._diffEditor.getModifiedEditor().getOptions(),E=this._diffEditor.getOriginalEditor().getModel(),W=this._diffEditor.getModifiedEditor().getModel(),V=E.getOptions(),U=W.getOptions();if(!this._isVisible||!E||!W){k.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const q=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[q]===this._currentDiff)return;this._currentDiff=this._diffs[q];const j=this._diffs[q].entries;let te=document.createElement("div");te.className="diff-review-table",te.setAttribute("role","list"),te.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),i.Configuration.applyFontInfoSlow(te,F.get(40));let ae=0,de=0,ue=0,X=0;for(let le=0,oe=j.length;le<oe;le++){const he=j[le],K=he.originalLineStart,re=he.originalLineEnd,Y=he.modifiedLineStart,se=he.modifiedLineEnd;K!==0&&(ae===0||K<ae)&&(ae=K),re!==0&&(de===0||re>de)&&(de=re),Y!==0&&(ue===0||Y<ue)&&(ue=Y),se!==0&&(X===0||se>X)&&(X=se)}let B=document.createElement("div");B.className="diff-review-row";let Z=document.createElement("div");Z.className="diff-review-cell diff-review-summary";const H=de-ae+1,z=X-ue+1;Z.appendChild(document.createTextNode(`${q+1}/${this._diffs.length}: @@ -${ae},${H} +${ue},${z} @@`)),B.setAttribute("data-line",String(ue));const ee=le=>le===0?_.localize(4,null):le===1?_.localize(5,null):_.localize(6,null,le),x=ee(H),G=ee(z);B.setAttribute("aria-label",_.localize(7,null,q+1,this._diffs.length,ae,x,ue,G)),B.appendChild(Z),B.setAttribute("role","listitem"),te.appendChild(B);const Q=F.get(56);let J=ue;for(let le=0,oe=j.length;le<oe;le++){const he=j[le];D._renderSection(te,he,J,Q,this._width,A,E,V,F,W,U),he.modifiedLineStart!==0&&(J=he.modifiedLineEnd)}k.clearNode(this._content.domNode),this._content.domNode.appendChild(te),this.scrollbar.scanDomNode()}static _renderSection(A,F,E,W,V,U,q,j,te,ae,de){const ue=F.getType();let X="diff-review-row",B="";const Z="diff-review-spacer";let H=null;switch(ue){case 1:X="diff-review-row line-insert",B=" char-insert",H=y;break;case 2:X="diff-review-row line-delete",B=" char-delete",H=I;break}const z=F.originalLineStart,ee=F.originalLineEnd,x=F.modifiedLineStart,G=F.modifiedLineEnd,Q=Math.max(G-x,ee-z),J=U.get(128),le=J.glyphMarginWidth+J.lineNumbersWidth,oe=te.get(128),he=10+oe.glyphMarginWidth+oe.lineNumbersWidth;for(let K=0;K<=Q;K++){const re=z===0?0:z+K,Y=x===0?0:x+K,se=document.createElement("div");se.style.minWidth=V+"px",se.className=X,se.setAttribute("role","listitem"),Y!==0&&(E=Y),se.setAttribute("data-line",String(E));let ge=document.createElement("div");ge.className="diff-review-cell",ge.style.height=`${W}px`,se.appendChild(ge);const pe=document.createElement("span");pe.style.width=le+"px",pe.style.minWidth=le+"px",pe.className="diff-review-line-number"+B,re!==0?pe.appendChild(document.createTextNode(String(re))):pe.innerText="\xA0",ge.appendChild(pe);const ve=document.createElement("span");ve.style.width=he+"px",ve.style.minWidth=he+"px",ve.style.paddingRight="10px",ve.className="diff-review-line-number"+B,Y!==0?ve.appendChild(document.createTextNode(String(Y))):ve.innerText="\xA0",ge.appendChild(ve);const Le=document.createElement("span");if(Le.className=Z,H){const De=document.createElement("span");De.className=d.ThemeIcon.asClassName(H),De.innerText="\xA0\xA0",Le.appendChild(De)}else Le.innerText="\xA0\xA0";ge.appendChild(Le);let Ee;if(Y!==0){let De=this._renderLine(ae,te,de.tabSize,Y);D._ttPolicy&&(De=D._ttPolicy.createHTML(De)),ge.insertAdjacentHTML("beforeend",De),Ee=ae.getLineContent(Y)}else{let De=this._renderLine(q,U,j.tabSize,re);D._ttPolicy&&(De=D._ttPolicy.createHTML(De)),ge.insertAdjacentHTML("beforeend",De),Ee=q.getLineContent(re)}Ee.length===0&&(Ee=_.localize(8,null));let Te="";switch(ue){case 0:re===Y?Te=_.localize(9,null,Ee,re):Te=_.localize(10,null,Ee,re,Y);break;case 1:Te=_.localize(11,null,Ee,Y);break;case 2:Te=_.localize(12,null,Ee,re);break}se.setAttribute("aria-label",Te),A.appendChild(se)}}static _renderLine(A,F,E,W){const V=A.getLineContent(W),U=F.get(40),q=a.LineTokens.createEmpty(V),j=n.ViewLineRenderingData.isBasicASCII(V,A.mightContainNonBasicASCII()),te=n.ViewLineRenderingData.containsRTL(V,j,A.mightContainRTL());return r.renderViewLine2(new r.RenderLineInput(U.isMonospace&&!F.get(27),U.canUseHalfwidthRightwardsArrow,V,!1,j,te,0,q,[],E,0,U.spaceWidth,U.middotWidth,U.wsmiddotWidth,F.get(103),F.get(86),F.get(80),F.get(41)!==o.EditorFontLigatures.OFF,null)).html}}e.DiffReview=D,D._ttPolicy=(w=window.trustedTypes)===null||w===void 0?void 0:w.createPolicy("diffReview",{createHTML:O=>O}),d.registerThemingParticipant((O,A)=>{const F=O.getColor(u.editorLineNumbers);F&&A.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${F}; }`);const E=O.getColor(t.scrollbarShadow);E&&A.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${E} 0 -6px 6px -6px inset; }`)});class T extends C.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:_.localize(13,null),alias:"Go to Next Difference",precondition:l.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(A,F){const E=R(A);E&&E.diffReviewNext()}}class P extends C.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:_.localize(14,null),alias:"Go to Previous Difference",precondition:l.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(A,F){const E=R(A);E&&E.diffReviewPrev()}}function R(O){const A=O.get(s.ICodeEditorService),F=A.listDiffEditors(),E=A.getActiveCodeEditor();if(!E)return null;for(let W=0,V=F.length;W<V;W++){const U=F[W];if(U.getModifiedEditor().getId()===E.getId()||U.getOriginalEditor().getId()===E.getId())return U}return null}C.registerEditorAction(T),C.registerEditorAction(P)}),define(ie[272],ne([0,1,459,7,30,106,15,6,2,65,70,28,149,671,35,3,82,109,31,75,223,136,114,62,16,9,143,34,22,11,68,462,85,14,12,59,214,27,131,79,341]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y,I,N,D,T,P,R,O,A,F,E,W,V){"use strict";var U;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class q{constructor(Y,se){this._contextMenuService=Y,this._clipboardService=se,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(Y){return Y.filter(se=>!this._zonesMap[String(se.id)])}clean(Y){this._zones.length>0&&Y.changeViewZones(se=>{for(const ge of this._zones)se.removeZone(ge)}),this._zones=[],this._zonesMap={},this._decorations=Y.deltaDecorations(this._decorations,[])}apply(Y,se,ge,pe){const ve=pe?C.StableEditorScrollState.capture(Y):null;Y.changeViewZones(Le=>{for(const Ee of this._zones)Le.removeZone(Ee);for(const Ee of this._inlineDiffMargins)Ee.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Ee=0,Te=ge.zones.length;Ee<Te;Ee++){const De=ge.zones[Ee];De.suppressMouseDown=!0;const Ae=Le.addZone(De);this._zones.push(Ae),this._zonesMap[String(Ae)]=!0,ge.zones[Ee].diff&&De.marginDomNode&&(De.suppressMouseDown=!1,this._inlineDiffMargins.push(new T.InlineDiffMargin(Ae,De.marginDomNode,Y,ge.zones[Ee].diff,this._contextMenuService,this._clipboardService)))}}),ve&&ve.restore(Y),this._decorations=Y.deltaDecorations(this._decorations,ge.decorations),se&&se.setZones(ge.overviewZones)}}let j=0;const te=V.registerIcon("diff-insert",E.Codicon.add,_.localize(0,null)),ae=V.registerIcon("diff-remove",E.Codicon.remove,_.localize(1,null)),de=(U=window.trustedTypes)===null||U===void 0?void 0:U.createPolicy("diffEditorWidget",{createHTML:re=>re});let ue=class je extends v.Disposable{constructor(Y,se,ge,pe,ve,Le,Ee,Te,De,Ae,we,Se){super();this._editorProgressService=Se,this._onDidDispose=this._register(new m.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new m.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new m.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=ve,this._codeEditorService=Te,this._contextKeyService=this._register(Le.createScoped(Y)),this._instantiationService=Ee.createChild(new f.ServiceCollection([b.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=De,this._notificationService=Ae,this._id=++j,this._state=0,this._updatingDiffProgress=null,this._domElement=Y,se=se||{},this._renderSideBySide=!0,typeof se.renderSideBySide!="undefined"&&(this._renderSideBySide=se.renderSideBySide),this._maxComputationTime=5e3,typeof se.maxComputationTime!="undefined"&&(this._maxComputationTime=se.maxComputationTime),this._ignoreTrimWhitespace=!0,typeof se.ignoreTrimWhitespace!="undefined"&&(this._ignoreTrimWhitespace=se.ignoreTrimWhitespace),this._renderIndicators=!0,typeof se.renderIndicators!="undefined"&&(this._renderIndicators=se.renderIndicators),this._originalIsEditable=c.boolean(se.originalEditable,!1),this._diffCodeLens=c.boolean(se.diffCodeLens,!1),this._diffWordWrap=J(se.diffWordWrap,"inherit"),typeof se.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",se.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._renderOverviewRuler=!0,typeof se.renderOverviewRuler!="undefined"&&(this._renderOverviewRuler=Boolean(se.renderOverviewRuler)),this._updateDecorationsRunner=this._register(new S.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=je._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=M.createFastDomNode(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(k.addStandardDisposableListener(this._overviewDomElement,"mousedown",me=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(me)})),this._renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new q(we,pe),this._modifiedEditorState=new q(we,pe),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new F.ElementSizeObserver(this._containerDomElement,se.dimension,()=>this._onDidContainerSizeChanged())),se.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(se,ge.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(se,ge.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new a.DiffReview(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,typeof se.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=se.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new ee(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new G(this._createDataSource(),this._enableSplitViewResizing)),this._register(De.onDidColorThemeChange(me=>{this._strategy&&this._strategy.applyColors(me)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=je._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const ye=R.EditorExtensionsRegistry.getDiffEditorContributions();for(const me of ye)try{this._register(Ee.createInstance(me.ctor,this))}catch(ce){O.onUnexpectedError(ce)}this._codeEditorService.addDiffEditor(this)}_setState(Y){this._state!==Y&&(this._state=Y,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(Y,se){let ge="monaco-diff-editor monaco-editor-background ";return se&&(ge+="side-by-side "),ge+=N.getThemeTypeSelector(Y.type),ge}_recreateOverviewRulers(){!this._renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(Y,se){const ge=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Y),se);this._register(ge.onDidScrollChange(ve=>{this._isHandlingScrollEvent||!ve.scrollTopChanged&&!ve.scrollLeftChanged&&!ve.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:ve.scrollLeft,scrollTop:ve.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ge.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ge.onDidChangeConfiguration(ve=>{!ge.getModel()||(ve.hasChanged(40)&&this._updateDecorationsRunner.schedule(),ve.hasChanged(129)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ge.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const pe=this._contextKeyService.createKey("isInDiffLeftEditor",ge.hasWidgetFocus());return this._register(ge.onDidFocusEditorWidget(()=>pe.set(!0))),this._register(ge.onDidBlurEditorWidget(()=>pe.set(!1))),this._register(ge.onDidContentSizeChange(ve=>{const Le=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+je.ONE_OVERVIEW_WIDTH,Ee=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ee,contentWidth:Le,contentHeightChanged:ve.contentHeightChanged,contentWidthChanged:ve.contentWidthChanged})})),ge}_createRightHandSideEditor(Y,se){const ge=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Y),se);this._register(ge.onDidScrollChange(ve=>{this._isHandlingScrollEvent||!ve.scrollTopChanged&&!ve.scrollLeftChanged&&!ve.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:ve.scrollLeft,scrollTop:ve.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ge.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ge.onDidChangeConfiguration(ve=>{!ge.getModel()||(ve.hasChanged(40)&&this._updateDecorationsRunner.schedule(),ve.hasChanged(129)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ge.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(ge.onDidChangeModelOptions(ve=>{ve.tabSize&&this._updateDecorationsRunner.schedule()}));const pe=this._contextKeyService.createKey("isInDiffRightEditor",ge.hasWidgetFocus());return this._register(ge.onDidFocusEditorWidget(()=>pe.set(!0))),this._register(ge.onDidBlurEditorWidget(()=>pe.set(!1))),this._register(ge.onDidContentSizeChange(ve=>{const Le=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+je.ONE_OVERVIEW_WIDTH,Ee=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ee,contentWidth:Le,contentHeightChanged:ve.contentHeightChanged,contentWidthChanged:ve.contentWidthChanged})})),ge}_createInnerEditor(Y,se,ge,pe){return Y.createInstance(o.CodeEditorWidget,se,ge,pe)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return n.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(Y){let se=!1;typeof Y.renderSideBySide!="undefined"&&this._renderSideBySide!==Y.renderSideBySide&&(this._renderSideBySide=Y.renderSideBySide,se=!0),typeof Y.maxComputationTime!="undefined"&&(this._maxComputationTime=Y.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let ge=!1;typeof Y.ignoreTrimWhitespace!="undefined"&&this._ignoreTrimWhitespace!==Y.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=Y.ignoreTrimWhitespace,ge=!0),typeof Y.renderIndicators!="undefined"&&this._renderIndicators!==Y.renderIndicators&&(this._renderIndicators=Y.renderIndicators,ge=!0),ge&&this._beginUpdateDecorations(),this._originalIsEditable=c.boolean(Y.originalEditable,this._originalIsEditable),this._diffCodeLens=c.boolean(Y.diffCodeLens,this._diffCodeLens),this._diffWordWrap=J(Y.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Y)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Y)),typeof Y.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=Y.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),se&&(this._renderSideBySide?this._setStrategy(new ee(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new G(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=je._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)),typeof Y.renderOverviewRuler!="undefined"&&this._renderOverviewRuler!==Y.renderOverviewRuler&&(this._renderOverviewRuler=Y.renderOverviewRuler,this._renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(Y){if(Y&&(!Y.original||!Y.modified))throw new Error(Y.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(Y?Y.original:null),this._modifiedEditor.setModel(Y?Y.modified:null),this._updateDecorationsRunner.cancel(),Y&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Y&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(Y){return this._modifiedEditor.getVisibleColumnFromPosition(Y)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(Y){this._modifiedEditor.setPosition(Y)}revealLine(Y,se=0){this._modifiedEditor.revealLine(Y,se)}revealLineInCenter(Y,se=0){this._modifiedEditor.revealLineInCenter(Y,se)}revealLineInCenterIfOutsideViewport(Y,se=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(Y,se)}revealLineNearTop(Y,se=0){this._modifiedEditor.revealLineNearTop(Y,se)}revealPosition(Y,se=0){this._modifiedEditor.revealPosition(Y,se)}revealPositionInCenter(Y,se=0){this._modifiedEditor.revealPositionInCenter(Y,se)}revealPositionInCenterIfOutsideViewport(Y,se=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Y,se)}revealPositionNearTop(Y,se=0){this._modifiedEditor.revealPositionNearTop(Y,se)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(Y){this._modifiedEditor.setSelection(Y)}setSelections(Y){this._modifiedEditor.setSelections(Y)}revealLines(Y,se,ge=0){this._modifiedEditor.revealLines(Y,se,ge)}revealLinesInCenter(Y,se,ge=0){this._modifiedEditor.revealLinesInCenter(Y,se,ge)}revealLinesInCenterIfOutsideViewport(Y,se,ge=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Y,se,ge)}revealLinesNearTop(Y,se,ge=0){this._modifiedEditor.revealLinesNearTop(Y,se,ge)}revealRange(Y,se=0,ge=!1,pe=!0){this._modifiedEditor.revealRange(Y,se,ge,pe)}revealRangeInCenter(Y,se=0){this._modifiedEditor.revealRangeInCenter(Y,se)}revealRangeInCenterIfOutsideViewport(Y,se=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Y,se)}revealRangeNearTop(Y,se=0){this._modifiedEditor.revealRangeNearTop(Y,se)}revealRangeNearTopIfOutsideViewport(Y,se=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Y,se)}revealRangeAtTop(Y,se=0){this._modifiedEditor.revealRangeAtTop(Y,se)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const Y=this._originalEditor.saveViewState(),se=this._modifiedEditor.saveViewState();return{original:Y,modified:se}}restoreViewState(Y){if(Y&&Y.original&&Y.modified){const se=Y;this._originalEditor.restoreViewState(se.original),this._modifiedEditor.restoreViewState(se.modified)}}layout(Y){this._elementSizeObserver.observe(Y)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(Y,se,ge){this._modifiedEditor.trigger(Y,se,ge)}changeDecorations(Y){return this._modifiedEditor.changeDecorations(Y)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const Y=this._elementSizeObserver.getHeight(),se=this._getReviewHeight(),ge=je.ENTIRE_DIFF_OVERVIEW_WIDTH-2*je.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:je.ONE_OVERVIEW_WIDTH,right:ge+je.ONE_OVERVIEW_WIDTH,height:Y-se}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:je.ONE_OVERVIEW_WIDTH,height:Y-se}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),je.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(Y,se){return!Y&&!se?!0:!Y||!se?!1:Y.toString()===se.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const Y=this._originalEditor.getModel(),se=this._modifiedEditor.getModel();if(!Y||!se)return;this._diffComputationToken++;const ge=this._diffComputationToken;if(this._setState(1),!this._editorWorkerService.canComputeDiff(Y.uri,se.uri)){(!je._equals(Y.uri,this._lastOriginalWarning)||!je._equals(se.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Y.uri,this._lastModifiedWarning=se.uri,this._notificationService.warn(_.localize(2,null)));return}this._editorWorkerService.computeDiff(Y.uri,se.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(pe=>{ge===this._diffComputationToken&&Y===this._originalEditor.getModel()&&se===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=pe,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},pe=>{ge===this._diffComputationToken&&Y===this._originalEditor.getModel()&&se===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const Y=this._diffComputationResult?this._diffComputationResult.changes:[],se=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),ge=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),pe=this._strategy.getEditorsDiffDecorations(Y,this._ignoreTrimWhitespace,this._renderIndicators,se,ge);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,pe.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,pe.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(Y){const se=Object.assign({},Y);return se.inDiffEditor=!0,se.automaticLayout=!1,se.scrollbar=Object.assign({},se.scrollbar||{}),se.scrollbar.vertical="visible",se.folding=!1,se.codeLens=this._diffCodeLens,se.fixedOverflowWidgets=!0,se.minimap=Object.assign({},se.minimap||{}),se.minimap.enabled=!1,se}_adjustOptionsForLeftHandSide(Y){const se=this._adjustOptionsForSubEditor(Y);return this._renderSideBySide?se.wordWrapOverride1=this._diffWordWrap:se.wordWrapOverride1="off",Y.originalAriaLabel&&(se.ariaLabel=Y.originalAriaLabel),se.readOnly=!this._originalIsEditable,se.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},se),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(Y){const se=this._adjustOptionsForSubEditor(Y);return Y.modifiedAriaLabel&&(se.ariaLabel=Y.modifiedAriaLabel),se.wordWrapOverride1=this._diffWordWrap,se.revealHorizontalRightPadding=c.EditorOptions.revealHorizontalRightPadding.defaultValue+je.ENTIRE_DIFF_OVERVIEW_WIDTH,se.scrollbar.verticalHasArrows=!1,se.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},se),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const Y=this._elementSizeObserver.getWidth(),se=this._elementSizeObserver.getHeight(),ge=this._getReviewHeight(),pe=this._strategy.layout();this._originalDomNode.style.width=pe+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Y-pe+"px",this._modifiedDomNode.style.left=pe+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=se-ge+"px",this._overviewDomElement.style.width=je.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Y-je.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(je.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:pe,height:se-ge}),this._modifiedEditor.layout({width:Y-pe-(this._renderOverviewRuler?je.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:se-ge}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(se-ge,Y,ge),this._layoutOverviewViewport()}_layoutOverviewViewport(){const Y=this._computeOverviewViewport();Y?(this._overviewViewportDomElement.setTop(Y.top),this._overviewViewportDomElement.setHeight(Y.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const Y=this._modifiedEditor.getLayoutInfo();if(!Y)return null;const se=this._modifiedEditor.getScrollTop(),ge=this._modifiedEditor.getScrollHeight(),pe=Math.max(0,Y.height),ve=Math.max(0,pe-2*0),Le=ge>0?ve/ge:0,Ee=Math.max(0,Math.floor(Y.height*Le)),Te=Math.floor(se*Le);return{height:Ee,top:Te}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(Y){this._strategy&&this._strategy.dispose(),this._strategy=Y,Y.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(Y,se){const ge=this._diffComputationResult?this._diffComputationResult.changes:[];if(ge.length===0||Y<se(ge[0]))return null;let pe=0,ve=ge.length-1;for(;pe<ve;){const Le=Math.floor((pe+ve)/2),Ee=se(ge[Le]),Te=Le+1<=ve?se(ge[Le+1]):1073741824;Y<Ee?ve=Le-1:Y>=Te?pe=Le+1:(pe=Le,ve=Le)}return ge[pe]}_getEquivalentLineForOriginalLineNumber(Y){const se=this._getLineChangeAtOrBeforeLineNumber(Y,Te=>Te.originalStartLineNumber);if(!se)return Y;const ge=se.originalStartLineNumber+(se.originalEndLineNumber>0?-1:0),pe=se.modifiedStartLineNumber+(se.modifiedEndLineNumber>0?-1:0),ve=se.originalEndLineNumber>0?se.originalEndLineNumber-se.originalStartLineNumber+1:0,Le=se.modifiedEndLineNumber>0?se.modifiedEndLineNumber-se.modifiedStartLineNumber+1:0,Ee=Y-ge;return Ee<=ve?pe+Math.min(Ee,Le):pe+Le-ve+Ee}_getEquivalentLineForModifiedLineNumber(Y){const se=this._getLineChangeAtOrBeforeLineNumber(Y,Te=>Te.modifiedStartLineNumber);if(!se)return Y;const ge=se.originalStartLineNumber+(se.originalEndLineNumber>0?-1:0),pe=se.modifiedStartLineNumber+(se.modifiedEndLineNumber>0?-1:0),ve=se.originalEndLineNumber>0?se.originalEndLineNumber-se.originalStartLineNumber+1:0,Le=se.modifiedEndLineNumber>0?se.modifiedEndLineNumber-se.modifiedStartLineNumber+1:0,Ee=Y-pe;return Ee<=Le?ge+Math.min(Ee,ve):ge+ve-Le+Ee}getDiffLineInformationForOriginal(Y){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Y)}:null}getDiffLineInformationForModified(Y){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Y)}:null}};ue.ONE_OVERVIEW_WIDTH=15,ue.ENTIRE_DIFF_OVERVIEW_WIDTH=30,ue.UPDATE_DIFF_DECORATIONS_DELAY=200,ue=Me([_e(3,P.IClipboardService),_e(4,t.IEditorWorkerService),_e(5,b.IContextKeyService),_e(6,g.IInstantiationService),_e(7,s.ICodeEditorService),_e(8,N.IThemeService),_e(9,y.INotificationService),_e(10,D.IContextMenuService),_e(11,A.IEditorProgressService)],ue),e.DiffEditorWidget=ue;class X extends v.Disposable{constructor(Y){super();this._dataSource=Y,this._insertColor=null,this._removeColor=null}applyColors(Y){const se=(Y.getColor(I.diffInserted)||I.defaultInsertColor).transparent(2),ge=(Y.getColor(I.diffRemoved)||I.defaultRemoveColor).transparent(2),pe=!se.equals(this._insertColor)||!ge.equals(this._removeColor);return this._insertColor=se,this._removeColor=ge,pe}getEditorsDiffDecorations(Y,se,ge,pe,ve){ve=ve.sort((De,Ae)=>De.afterLineNumber-Ae.afterLineNumber),pe=pe.sort((De,Ae)=>De.afterLineNumber-Ae.afterLineNumber);const Le=this._getViewZones(Y,pe,ve,ge),Ee=this._getOriginalEditorDecorations(Y,se,ge),Te=this._getModifiedEditorDecorations(Y,se,ge);return{original:{decorations:Ee.decorations,overviewZones:Ee.overviewZones,zones:Le.original},modified:{decorations:Te.decorations,overviewZones:Te.overviewZones,zones:Le.modified}}}}class B{constructor(Y){this._source=Y,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class Z{constructor(Y,se,ge,pe,ve){this._lineChanges=Y,this._originalForeignVZ=se,this._modifiedForeignVZ=ge,this._originalEditor=pe,this._modifiedEditor=ve}static _getViewLineCount(Y,se,ge){const pe=Y.getModel(),ve=Y._getViewModel();if(pe&&ve){const Le=K(pe,ve,se,ge);return Le.endLineNumber-Le.startLineNumber+1}return ge-se+1}getViewZones(){const Y=this._originalEditor.getOption(56),se=this._modifiedEditor.getOption(56),ge=this._originalEditor.getOption(129).wrappingColumn!==-1,pe=this._modifiedEditor.getOption(129).wrappingColumn!==-1,ve=ge||pe,Le=this._originalEditor.getModel(),Ee=this._originalEditor._getViewModel().coordinatesConverter,Te=this._modifiedEditor._getViewModel().coordinatesConverter,De={original:[],modified:[]};let Ae=0,we=0,Se=0,ye=0,me=0,ce=0;const fe=(Pe,Fe)=>Pe.afterLineNumber-Fe.afterLineNumber,Ce=(Pe,Fe)=>{if(Fe.domNode===null&&Pe.length>0){const Oe=Pe[Pe.length-1];if(Oe.afterLineNumber===Fe.afterLineNumber&&Oe.domNode===null){Oe.heightInLines+=Fe.heightInLines;return}}Pe.push(Fe)},be=new B(this._modifiedForeignVZ),ke=new B(this._originalForeignVZ);let Ne=1,Re=1;for(let Pe=0,Fe=this._lineChanges.length;Pe<=Fe;Pe++){const Oe=Pe<Fe?this._lineChanges[Pe]:null;Oe!==null?(Se=Oe.originalStartLineNumber+(Oe.originalEndLineNumber>0?-1:0),ye=Oe.modifiedStartLineNumber+(Oe.modifiedEndLineNumber>0?-1:0),we=Oe.originalEndLineNumber>0?Z._getViewLineCount(this._originalEditor,Oe.originalStartLineNumber,Oe.originalEndLineNumber):0,Ae=Oe.modifiedEndLineNumber>0?Z._getViewLineCount(this._modifiedEditor,Oe.modifiedStartLineNumber,Oe.modifiedEndLineNumber):0,me=Math.max(Oe.originalStartLineNumber,Oe.originalEndLineNumber),ce=Math.max(Oe.modifiedStartLineNumber,Oe.modifiedEndLineNumber)):(Se+=1e7+we,ye+=1e7+Ae,me=Se,ce=ye);let xe=[],Be=[];if(ve){let We;Oe?Oe.originalEndLineNumber>0?We=Oe.originalStartLineNumber-Ne:We=Oe.modifiedStartLineNumber-Re:We=Le.getLineCount()-Ne;for(let He=0;He<We;He++){const Ve=Ne+He,Ue=Re+He,Ze=Ee.getModelLineViewLineCount(Ve),$e=Te.getModelLineViewLineCount(Ue);Ze<$e?xe.push({afterLineNumber:Ve,heightInLines:$e-Ze,domNode:null,marginDomNode:null}):Ze>$e&&Be.push({afterLineNumber:Ue,heightInLines:Ze-$e,domNode:null,marginDomNode:null})}Oe&&(Ne=(Oe.originalEndLineNumber>0?Oe.originalEndLineNumber:Oe.originalStartLineNumber)+1,Re=(Oe.modifiedEndLineNumber>0?Oe.modifiedEndLineNumber:Oe.modifiedStartLineNumber)+1)}for(;be.current&&be.current.afterLineNumber<=ce;){let We;be.current.afterLineNumber<=ye?We=Se-ye+be.current.afterLineNumber:We=me;let He=null;Oe&&Oe.modifiedStartLineNumber<=be.current.afterLineNumber&&be.current.afterLineNumber<=Oe.modifiedEndLineNumber&&(He=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),xe.push({afterLineNumber:We,heightInLines:be.current.height/se,domNode:null,marginDomNode:He}),be.advance()}for(;ke.current&&ke.current.afterLineNumber<=me;){let We;ke.current.afterLineNumber<=Se?We=ye-Se+ke.current.afterLineNumber:We=ce,Be.push({afterLineNumber:We,heightInLines:ke.current.height/Y,domNode:null}),ke.advance()}if(Oe!==null&&le(Oe)){const We=this._produceOriginalFromDiff(Oe,we,Ae);We&&xe.push(We)}if(Oe!==null&&oe(Oe)){const We=this._produceModifiedFromDiff(Oe,we,Ae);We&&Be.push(We)}let ze=0,Ke=0;for(xe=xe.sort(fe),Be=Be.sort(fe);ze<xe.length&&Ke<Be.length;){const We=xe[ze],He=Be[Ke],Ve=We.afterLineNumber-Se,Ue=He.afterLineNumber-ye;Ve<Ue?(Ce(De.original,We),ze++):Ue<Ve?(Ce(De.modified,He),Ke++):We.shouldNotShrink?(Ce(De.original,We),ze++):He.shouldNotShrink?(Ce(De.modified,He),Ke++):We.heightInLines>=He.heightInLines?(We.heightInLines-=He.heightInLines,Ke++):(He.heightInLines-=We.heightInLines,ze++)}for(;ze<xe.length;)Ce(De.original,xe[ze]),ze++;for(;Ke<Be.length;)Ce(De.modified,Be[Ke]),Ke++}return{original:Z._ensureDomNodes(De.original),modified:Z._ensureDomNodes(De.modified)}}static _ensureDomNodes(Y){return Y.map(se=>(se.domNode||(se.domNode=he()),se))}}function H(re,Y,se,ge,pe){return{range:new u.Range(re,Y,se,ge),options:pe}}const z={charDelete:l.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:l.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:l.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:l.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:l.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:l.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+N.ThemeIcon.asClassName(te),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:l.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:l.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+N.ThemeIcon.asClassName(ae),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:l.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class ee extends X{constructor(Y,se){super(Y);this._disableSash=se===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new L.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(ge=>this._onSashDrag(ge)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Y){const se=Y===!1;this._disableSash!==se&&(this._disableSash=se,this._sash.state=this._disableSash?0:3)}layout(Y=this._sashRatio){const ge=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ue.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let pe=Math.floor((Y||.5)*ge);const ve=Math.floor(.5*ge);return pe=this._disableSash?ve:pe||ve,ge>ee.MINIMUM_EDITOR_WIDTH*2?(pe<ee.MINIMUM_EDITOR_WIDTH&&(pe=ee.MINIMUM_EDITOR_WIDTH),pe>ge-ee.MINIMUM_EDITOR_WIDTH&&(pe=ge-ee.MINIMUM_EDITOR_WIDTH)):pe=ve,this._sashPosition!==pe&&(this._sashPosition=pe,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Y){const ge=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ue.ENTIRE_DIFF_OVERVIEW_WIDTH:0),pe=this.layout((this._startSashPosition+(Y.currentX-Y.startX))/ge);this._sashRatio=pe/ge,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Y){return 0}getVerticalSashLeft(Y){return this._sashPosition}getVerticalSashHeight(Y){return this._dataSource.getHeight()}_getViewZones(Y,se,ge){const pe=this._dataSource.getOriginalEditor(),ve=this._dataSource.getModifiedEditor();return new x(Y,se,ge,pe,ve).getViewZones()}_getOriginalEditorDecorations(Y,se,ge){const pe=this._dataSource.getOriginalEditor(),ve=String(this._removeColor),Le={decorations:[],overviewZones:[]},Ee=pe.getModel(),Te=pe._getViewModel();for(const De of Y)if(oe(De)){Le.decorations.push({range:new u.Range(De.originalStartLineNumber,1,De.originalEndLineNumber,1073741824),options:ge?z.lineDeleteWithSign:z.lineDelete}),(!le(De)||!De.charChanges)&&Le.decorations.push(H(De.originalStartLineNumber,1,De.originalEndLineNumber,1073741824,z.charDeleteWholeLine));const Ae=K(Ee,Te,De.originalStartLineNumber,De.originalEndLineNumber);if(Le.overviewZones.push(new d.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,ve)),De.charChanges){for(const we of De.charChanges)if(oe(we))if(se)for(let Se=we.originalStartLineNumber;Se<=we.originalEndLineNumber;Se++){let ye,me;Se===we.originalStartLineNumber?ye=we.originalStartColumn:ye=Ee.getLineFirstNonWhitespaceColumn(Se),Se===we.originalEndLineNumber?me=we.originalEndColumn:me=Ee.getLineLastNonWhitespaceColumn(Se),Le.decorations.push(H(Se,ye,Se,me,z.charDelete))}else Le.decorations.push(H(we.originalStartLineNumber,we.originalStartColumn,we.originalEndLineNumber,we.originalEndColumn,z.charDelete))}}return Le}_getModifiedEditorDecorations(Y,se,ge){const pe=this._dataSource.getModifiedEditor(),ve=String(this._insertColor),Le={decorations:[],overviewZones:[]},Ee=pe.getModel(),Te=pe._getViewModel();for(const De of Y)if(le(De)){Le.decorations.push({range:new u.Range(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824),options:ge?z.lineInsertWithSign:z.lineInsert}),(!oe(De)||!De.charChanges)&&Le.decorations.push(H(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824,z.charInsertWholeLine));const Ae=K(Ee,Te,De.modifiedStartLineNumber,De.modifiedEndLineNumber);if(Le.overviewZones.push(new d.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,ve)),De.charChanges){for(const we of De.charChanges)if(le(we))if(se)for(let Se=we.modifiedStartLineNumber;Se<=we.modifiedEndLineNumber;Se++){let ye,me;Se===we.modifiedStartLineNumber?ye=we.modifiedStartColumn:ye=Ee.getLineFirstNonWhitespaceColumn(Se),Se===we.modifiedEndLineNumber?me=we.modifiedEndColumn:me=Ee.getLineLastNonWhitespaceColumn(Se),Le.decorations.push(H(Se,ye,Se,me,z.charInsert))}else Le.decorations.push(H(we.modifiedStartLineNumber,we.modifiedStartColumn,we.modifiedEndLineNumber,we.modifiedEndColumn,z.charInsert))}}return Le}}ee.MINIMUM_EDITOR_WIDTH=100;class x extends Z{constructor(Y,se,ge,pe,ve){super(Y,se,ge,pe,ve)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(Y,se,ge){return ge>se?{afterLineNumber:Math.max(Y.originalStartLineNumber,Y.originalEndLineNumber),heightInLines:ge-se,domNode:null}:null}_produceModifiedFromDiff(Y,se,ge){return se>ge?{afterLineNumber:Math.max(Y.modifiedStartLineNumber,Y.modifiedEndLineNumber),heightInLines:se-ge,domNode:null}:null}}class G extends X{constructor(Y,se){super(Y);this._decorationsLeft=Y.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(Y.getOriginalEditor().onDidLayoutChange(ge=>{this._decorationsLeft!==ge.decorationsLeft&&(this._decorationsLeft=ge.decorationsLeft,Y.relayoutEditors())}))}setEnableSplitViewResizing(Y){}_getViewZones(Y,se,ge,pe){const ve=this._dataSource.getOriginalEditor(),Le=this._dataSource.getModifiedEditor();return new Q(Y,se,ge,ve,Le,pe).getViewZones()}_getOriginalEditorDecorations(Y,se,ge){const pe=String(this._removeColor),ve={decorations:[],overviewZones:[]},Le=this._dataSource.getOriginalEditor(),Ee=Le.getModel(),Te=Le._getViewModel();for(const De of Y)if(oe(De)){ve.decorations.push({range:new u.Range(De.originalStartLineNumber,1,De.originalEndLineNumber,1073741824),options:z.lineDeleteMargin});const Ae=K(Ee,Te,De.originalStartLineNumber,De.originalEndLineNumber);ve.overviewZones.push(new d.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,pe))}return ve}_getModifiedEditorDecorations(Y,se,ge){const pe=this._dataSource.getModifiedEditor(),ve=String(this._insertColor),Le={decorations:[],overviewZones:[]},Ee=pe.getModel(),Te=pe._getViewModel();for(const De of Y)if(le(De)){Le.decorations.push({range:new u.Range(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824),options:ge?z.lineInsertWithSign:z.lineInsert});const Ae=K(Ee,Te,De.modifiedStartLineNumber,De.modifiedEndLineNumber);if(Le.overviewZones.push(new d.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,ve)),De.charChanges){for(const we of De.charChanges)if(le(we))if(se)for(let Se=we.modifiedStartLineNumber;Se<=we.modifiedEndLineNumber;Se++){let ye,me;Se===we.modifiedStartLineNumber?ye=we.modifiedStartColumn:ye=Ee.getLineFirstNonWhitespaceColumn(Se),Se===we.modifiedEndLineNumber?me=we.modifiedEndColumn:me=Ee.getLineLastNonWhitespaceColumn(Se),Le.decorations.push(H(Se,ye,Se,me,z.charInsert))}else Le.decorations.push(H(we.modifiedStartLineNumber,we.modifiedStartColumn,we.modifiedEndLineNumber,we.modifiedEndColumn,z.charInsert))}else Le.decorations.push(H(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824,z.charInsertWholeLine))}return Le}layout(){return Math.max(5,this._decorationsLeft)}}class Q extends Z{constructor(Y,se,ge,pe,ve,Le){super(Y,se,ge,pe,ve);this._originalModel=pe.getModel(),this._renderIndicators=Le,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const Y=super.getViewZones();return this._finalize(Y),Y}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const Y=document.createElement("div");return Y.className="inline-added-margin-view-zone",Y}_produceOriginalFromDiff(Y,se,ge){const pe=document.createElement("div");return pe.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Y.originalStartLineNumber,Y.originalEndLineNumber),heightInLines:ge,domNode:document.createElement("div"),marginDomNode:pe}}_produceModifiedFromDiff(Y,se,ge){const pe=document.createElement("div");pe.className=`view-lines line-delete ${W.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const ve=document.createElement("div");ve.className="inline-deleted-margin-view-zone";const Le={shouldNotShrink:!0,afterLineNumber:Y.modifiedEndLineNumber===0?Y.modifiedStartLineNumber:Y.modifiedStartLineNumber-1,heightInLines:se,minWidthInPx:0,domNode:pe,marginDomNode:ve,diff:{originalStartLineNumber:Y.originalStartLineNumber,originalEndLineNumber:Y.originalEndLineNumber,modifiedStartLineNumber:Y.modifiedStartLineNumber,modifiedEndLineNumber:Y.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Ee=Y.originalStartLineNumber;Ee<=Y.originalEndLineNumber;Ee++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Ee),null,null);return this._pendingLineChange.push(Y),this._pendingViewZones.push(Le),Le}_finalize(Y){const se=this._modifiedEditor.getOptions(),ge=this._modifiedEditor.getModel().getOptions().tabSize,pe=se.get(40),ve=se.get(27),Le=pe.typicalHalfwidthCharacterWidth,Ee=se.get(91),Te=this._originalModel.mightContainNonBasicASCII(),De=this._originalModel.mightContainRTL(),Ae=se.get(56),Se=se.get(128).decorationsWidth,ye=se.get(103),me=se.get(86),ce=se.get(80),fe=se.get(41),Ce=this._lineBreaksComputer.finalize();let be=0;for(let ke=0;ke<this._pendingLineChange.length;ke++){const Ne=this._pendingLineChange[ke],Re=this._pendingViewZones[ke],Pe=Re.domNode;i.Configuration.applyFontInfoSlow(Pe,pe);const Fe=Re.marginDomNode;i.Configuration.applyFontInfoSlow(Fe,pe);const Oe=[];if(Ne.charChanges)for(const Ue of Ne.charChanges)oe(Ue)&&Oe.push(new w.InlineDecoration(new u.Range(Ue.originalStartLineNumber,Ue.originalStartColumn,Ue.originalEndLineNumber,Ue.originalEndColumn),"char-delete",0));const xe=Oe.length>0,Be=r.createStringBuilder(1e4);let ze=0,Ke=0,We=null;for(let Ue=Ne.originalStartLineNumber;Ue<=Ne.originalEndLineNumber;Ue++){const Ze=Ue-Ne.originalStartLineNumber,$e=this._originalModel.getLineTokens(Ue),Qe=$e.getLineContent(),Ye=Ce[be++],Xe=h.LineDecoration.filter(Oe,Ue,1,Qe.length+1);if(Ye){let Ge=0;for(const et of Ye.breakOffsets){const at=$e.sliceAndInflate(Ge,et,0),nt=Qe.substring(Ge,et);ze=Math.max(ze,this._renderOriginalLine(Ke++,nt,at,h.LineDecoration.extractWrapped(Xe,Ge,et),xe,Te,De,pe,ve,Ae,Se,ye,me,ce,fe,ge,Be,Fe)),Ge=et}for(We||(We=[]);We.length<Ze;)We[We.length]=1;We[Ze]=Ye.breakOffsets.length,Re.heightInLines+=Ye.breakOffsets.length-1;const Je=document.createElement("div");Je.className="line-delete",Y.original.push({afterLineNumber:Ue,afterColumn:0,heightInLines:Ye.breakOffsets.length-1,domNode:he(),marginDomNode:Je})}else ze=Math.max(ze,this._renderOriginalLine(Ke++,Qe,$e,Xe,xe,Te,De,pe,ve,Ae,Se,ye,me,ce,fe,ge,Be,Fe))}ze+=Ee;const He=Be.build(),Ve=de?de.createHTML(He):He;if(Pe.innerHTML=Ve,Re.minWidthInPx=ze*Le,We){const Ue=Ne.originalEndLineNumber-Ne.originalStartLineNumber;for(;We.length<=Ue;)We[We.length]=1}Re.diff.viewLineCounts=We}Y.original.sort((ke,Ne)=>ke.afterLineNumber-Ne.afterLineNumber)}_renderOriginalLine(Y,se,ge,pe,ve,Le,Ee,Te,De,Ae,we,Se,ye,me,ce,fe,Ce,be){Ce.appendASCIIString('<div class="view-line'),ve||Ce.appendASCIIString(" char-delete"),Ce.appendASCIIString('" style="top:'),Ce.appendASCIIString(String(Y*Ae)),Ce.appendASCIIString('px;width:1000000px;">');const ke=w.ViewLineRenderingData.isBasicASCII(se,Le),Ne=w.ViewLineRenderingData.containsRTL(se,ke,Ee),Re=p.renderViewLine(new p.RenderLineInput(Te.isMonospace&&!De,Te.canUseHalfwidthRightwardsArrow,se,!1,ke,Ne,0,ge,pe,fe,0,Te.spaceWidth,Te.middotWidth,Te.wsmiddotWidth,Se,ye,me,ce!==c.EditorFontLigatures.OFF,null),Ce);if(Ce.appendASCIIString("</div>"),this._renderIndicators){const Pe=document.createElement("div");Pe.className=`delete-sign ${N.ThemeIcon.asClassName(ae)}`,Pe.setAttribute("style",`position:absolute;top:${Y*Ae}px;width:${we}px;height:${Ae}px;right:0;`),be.appendChild(Pe)}return Re.characterMapping.getAbsoluteOffset(Re.characterMapping.length)}}function J(re,Y){return c.stringSet(re,Y,["off","on","inherit"])}function le(re){return re.modifiedEndLineNumber>0}function oe(re){return re.originalEndLineNumber>0}function he(){const re=document.createElement("div");return re.className="diagonal-fill",re}function K(re,Y,se,ge){const pe=re.getLineCount();return se=Math.min(pe,Math.max(1,se)),ge=Math.min(pe,Math.max(1,ge)),Y.coordinatesConverter.convertModelRangeToViewRange(new u.Range(se,re.getLineMinColumn(se),ge,re.getLineMaxColumn(ge)))}N.registerThemingParticipant((re,Y)=>{const se=re.getColor(I.diffInserted);se&&(Y.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${se}; }`),Y.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${se}; }`),Y.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${se}; }`));const ge=re.getColor(I.diffRemoved);ge&&(Y.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${ge}; }`),Y.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${ge}; }`),Y.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${ge}; }`));const pe=re.getColor(I.diffInsertedOutline);pe&&Y.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${re.type==="hc"?"dashed":"solid"} ${pe}; }`);const ve=re.getColor(I.diffRemovedOutline);ve&&Y.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${re.type==="hc"?"dashed":"solid"} ${ve}; }`);const Le=re.getColor(I.scrollbarShadow);Le&&Y.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Le}; }`);const Ee=re.getColor(I.diffBorder);Ee&&Y.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Ee}; }`);const Te=re.getColor(I.scrollbarSliderBackground);Te&&Y.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Te};
			}
		`);const De=re.getColor(I.scrollbarSliderHoverBackground);De&&Y.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${De};
			}
		`);const Ae=re.getColor(I.scrollbarSliderActiveBackground);Ae&&Y.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Ae};
			}
		`);const we=re.getColor(I.diffDiagonalFill);Y.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${we} 12.5%,
			#0000 12.5%, #0000 50%,
			${we} 50%, ${we} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(ie[672],ne([0,1,483,7,44,165,106,51,15,12,2,17,8,3,147,22,11,585,27,79,350]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const d=t.registerIcon("find-selection",l.Codicon.selection,_.localize(0,null)),h=t.registerIcon("find-collapsed",l.Codicon.chevronRight,_.localize(1,null)),p=t.registerIcon("find-expanded",l.Codicon.chevronDown,_.localize(2,null));e.findReplaceIcon=t.registerIcon("find-replace",l.Codicon.replace,_.localize(3,null)),e.findReplaceAllIcon=t.registerIcon("find-replace-all",l.Codicon.replaceAll,_.localize(4,null)),e.findPreviousMatchIcon=t.registerIcon("find-previous-match",l.Codicon.arrowUp,_.localize(5,null)),e.findNextMatchIcon=t.registerIcon("find-next-match",l.Codicon.arrowDown,_.localize(6,null));const w=_.localize(7,null),b=_.localize(8,null),g=_.localize(9,null),f=_.localize(10,null),y=_.localize(11,null),I=_.localize(12,null),N=_.localize(13,null),D=_.localize(14,null),T=_.localize(15,null),P=_.localize(16,null),R=_.localize(17,null),O=_.localize(18,null,c.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=_.localize(19,null),e.NLS_NO_RESULTS=_.localize(20,null);const A=419,E=275-54;let W=69;const V=33,U="ctrlEnterReplaceAll.windows.donotask",q=s.isMacintosh?256:2048;class j{constructor(B){this.afterLineNumber=B,this.heightInPx=V,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=j;function te(X,B,Z){const H=!!B.match(/\n/);if(Z&&H&&Z.selectionStart>0){X.stopPropagation();return}}function ae(X,B,Z){const H=!!B.match(/\n/);if(Z&&H&&Z.selectionEnd<Z.value.length){X.stopPropagation();return}}class de extends m.Widget{constructor(B,Z,H,z,ee,x,G,Q,J){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=B,this._controller=Z,this._state=H,this._contextViewProvider=z,this._keybindingService=ee,this._contextKeyService=x,this._storageService=Q,this._notificationService=J,this._ctrlEnterReplaceAllWarningPrompted=!!Q.getBoolean(U,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new v.Delayer(500),this._register(C.toDisposable(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(le=>this._onStateChanged(le))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(le=>{if(le.hasChanged(78)&&(this._codeEditor.getOption(78)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),le.hasChanged(128)&&this._tryUpdateWidgetWidth(),le.hasChanged(2)&&this.updateAccessibilitySupport(),le.hasChanged(33)){const oe=this._codeEditor.getOption(33).addExtraSpaceOnTop;oe&&!this._viewZone&&(this._viewZone=new j(0),this._showViewZone()),!oe&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Ie(this,void 0,void 0,function*(){if(this._isVisible){let le=yield this._controller.getGlobalBufferTerm();le&&le!==this._state.searchString&&(this._state.change({searchString:le},!1),this._findInput.select())}}))),this._findInputFocused=c.CONTEXT_FIND_INPUT_FOCUSED.bindTo(x),this._findFocusTracker=this._register(k.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=c.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(x),this._replaceFocusTracker=this._register(k.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new j(0)),this._applyTheme(G.getColorTheme()),this._register(G.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(le=>{if(le.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return de.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(B){if(B.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(B.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),B.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),B.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(78)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=k.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(B.isRevealed||B.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),B.isRegex&&this._findInput.setRegex(this._state.isRegex),B.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),B.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),B.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),B.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),B.searchString||B.matchesCount||B.matchesPosition){let Z=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",Z),this._updateMatchesCount(),this._updateButtons()}(B.searchString||B.currentMatch)&&this._layoutViewZone(),B.updateHistory&&this._delayedUpdateHistory(),B.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,i.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=W+"px",this._state.matchesCount>=c.MATCHES_LIMIT?this._matchesCount.title=O:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let B;if(this._state.matchesCount>0){let Z=String(this._state.matchesCount);this._state.matchesCount>=c.MATCHES_LIMIT&&(Z+="+");let H=String(this._state.matchesPosition);H==="0"&&(H="?"),B=o.format(e.NLS_MATCHES_LOCATION,H,Z)}else B=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(B)),M.alert(this._getAriaLabel(B,this._state.currentMatch,this._state.searchString)),W=Math.max(W,this._matchesCount.clientWidth)}_getAriaLabel(B,Z,H){if(B===e.NLS_NO_RESULTS)return H===""?_.localize(21,null,B):_.localize(22,null,B,H);if(Z){const z=_.localize(23,null,B,H,Z.startLineNumber+":"+Z.startColumn),ee=this._codeEditor.getModel();return ee&&Z.startLineNumber<=ee.getLineCount()&&Z.startLineNumber>=1?`${ee.getLineContent(Z.startLineNumber)}, ${z}`:z}return _.localize(24,null,B,H)}_updateToggleSelectionFindButton(){let B=this._codeEditor.getSelection(),Z=B?B.startLineNumber!==B.endLineNumber||B.startColumn!==B.endColumn:!1,H=this._toggleSelectionFind.checked;this._isVisible&&(H||Z)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let B=this._state.searchString.length>0,Z=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&B&&Z&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&B&&Z&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&B),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&B),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let H=!this._codeEditor.getOption(78);this._toggleReplaceBtn.setEnabled(this._isVisible&&H)}_reveal(){if(this._revealTimeouts.forEach(B=>{clearTimeout(B)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const B=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const H=!!B&&B.startLineNumber!==B.endLineNumber;this._toggleSelectionFind.checked=H;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let Z=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&B){const H=this._codeEditor.getDomNode();if(H){const z=k.getDomNodePagePosition(H),ee=this._codeEditor.getScrolledVisiblePosition(B.getStartPosition()),x=z.left+(ee?ee.left:0),G=ee?ee.top:0;if(this._viewZone&&G<this._viewZone.heightInPx){B.endLineNumber>B.startLineNumber&&(Z=!1);const Q=k.getTopLeftOffset(this._domNode).left;x>Q&&(Z=!1);const J=this._codeEditor.getScrolledVisiblePosition(B.getEndPosition());z.left+(J?J.left:0)>Q&&(Z=!1)}}}this._showViewZone(Z)}}_hide(B){this._revealTimeouts.forEach(Z=>{clearTimeout(Z)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),B&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(B){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const H=this._viewZone;this._viewZoneId!==void 0||!H||this._codeEditor.changeViewZones(z=>{H.heightInPx=this._getHeight(),this._viewZoneId=z.addZone(H),this._codeEditor.setScrollTop(B||this._codeEditor.getScrollTop()+H.heightInPx)})}_showViewZone(B=!0){if(!this._isVisible||!this._codeEditor.getOption(33).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new j(0));const H=this._viewZone;this._codeEditor.changeViewZones(z=>{if(this._viewZoneId!==void 0){const ee=this._getHeight();if(ee===H.heightInPx)return;let x=ee-H.heightInPx;H.heightInPx=ee,z.layoutZone(this._viewZoneId),B&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+x);return}else{let ee=this._getHeight();if(ee-=this._codeEditor.getOption(72).top,ee<=0)return;H.heightInPx=ee,this._viewZoneId=z.addZone(H),B&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ee)}})}_removeViewZone(){this._codeEditor.changeViewZones(B=>{this._viewZoneId!==void 0&&(B.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(B){let Z={inputActiveOptionBorder:B.getColor(u.inputActiveOptionBorder),inputActiveOptionBackground:B.getColor(u.inputActiveOptionBackground),inputActiveOptionForeground:B.getColor(u.inputActiveOptionForeground),inputBackground:B.getColor(u.inputBackground),inputForeground:B.getColor(u.inputForeground),inputBorder:B.getColor(u.inputBorder),inputValidationInfoBackground:B.getColor(u.inputValidationInfoBackground),inputValidationInfoForeground:B.getColor(u.inputValidationInfoForeground),inputValidationInfoBorder:B.getColor(u.inputValidationInfoBorder),inputValidationWarningBackground:B.getColor(u.inputValidationWarningBackground),inputValidationWarningForeground:B.getColor(u.inputValidationWarningForeground),inputValidationWarningBorder:B.getColor(u.inputValidationWarningBorder),inputValidationErrorBackground:B.getColor(u.inputValidationErrorBackground),inputValidationErrorForeground:B.getColor(u.inputValidationErrorForeground),inputValidationErrorBorder:B.getColor(u.inputValidationErrorBorder)};this._findInput.style(Z),this._replaceInput.style(Z),this._toggleSelectionFind.style(Z)}_tryUpdateWidgetWidth(){if(!this._isVisible||!k.isInDOM(this._domNode))return;const B=this._codeEditor.getLayoutInfo();if(B.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const H=B.width,z=B.minimap.minimapWidth;let ee=!1,x=!1,G=!1;if(this._resized&&k.getTotalWidth(this._domNode)>A){this._domNode.style.maxWidth=`${H-28-z-15}px`,this._replaceInput.width=k.getTotalWidth(this._findInput.domNode);return}if(A+28+z>=H&&(x=!0),A+28+z-W>=H&&(G=!0),A+28+z-W>=H+50&&(ee=!0),this._domNode.classList.toggle("collapsed-find-widget",ee),this._domNode.classList.toggle("narrow-find-widget",G),this._domNode.classList.toggle("reduced-find-widget",x),!G&&!ee&&(this._domNode.style.maxWidth=`${H-28-z-15}px`),this._resized){this._findInput.inputBox.layout();let Q=this._findInput.inputBox.element.clientWidth;Q>0&&(this._replaceInput.width=Q)}else this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode))}_getHeight(){let B=0;return B+=4,B+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(B+=4,B+=this._replaceInput.inputBox.height+2),B+=4,B}_tryUpdateHeight(){const B=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===B?!1:(this._cachedHeight=B,this._domNode.style.height=`${B}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let B=this._codeEditor.getSelections();B.map(Z=>{Z.endColumn===1&&Z.endLineNumber>Z.startLineNumber&&(Z=Z.setEndPosition(Z.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Z.endLineNumber-1)));const H=this._state.currentMatch;return Z.startLineNumber!==Z.endLineNumber&&!a.Range.equalsRange(Z,H)?Z:null}).filter(Z=>!!Z),B.length&&this._state.change({searchScope:B},!0)}}_onFindInputMouseDown(B){B.middleButton&&B.stopPropagation()}_onFindInputKeyDown(B){if(B.equals(q|3)){this._findInput.inputBox.insertAtCursor(`
`),B.preventDefault();return}if(B.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),B.preventDefault();return}if(B.equals(2048|18)){this._codeEditor.focus(),B.preventDefault();return}if(B.equals(16))return te(B,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(B.equals(18))return ae(B,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(B){if(B.equals(q|3)){s.isWindows&&s.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(_.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(U,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),B.preventDefault();return}if(B.equals(2)){this._findInput.focusOnCaseSensitive(),B.preventDefault();return}if(B.equals(1024|2)){this._findInput.focus(),B.preventDefault();return}if(B.equals(2048|18)){this._codeEditor.focus(),B.preventDefault();return}if(B.equals(16))return te(B,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(B.equals(18))return ae(B,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(B){return 0}_keybindingLabelFor(B){let Z=this._keybindingService.lookupKeybinding(B);return Z?` (${Z.getLabel()})`:""}_buildDomNode(){const B=!0,Z=!0;this._findInput=this._register(new n.ContextScopedFindInput(null,this._contextViewProvider,{width:E,label:w,placeholder:b,appendCaseSensitiveLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleRegexCommand),validation:Q=>{if(Q.length===0||!this._findInput.getRegex())return null;try{return new RegExp(Q,"gu"),null}catch(J){return{content:J.message}}},flexibleHeight:B,flexibleWidth:Z,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Q=>this._onFindInputKeyDown(Q))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Q=>{Q.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),Q.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Q=>{Q.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Q.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Q=>{this._tryUpdateHeight()&&this._showViewZone()})),s.isLinux&&this._register(this._findInput.onMouseDown(Q=>this._onFindInputMouseDown(Q))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ue({label:g+this._keybindingLabelFor(c.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.PreviousMatchFindAction).run().then(void 0,i.onUnexpectedError)}})),this._nextBtn=this._register(new ue({label:f+this._keybindingLabelFor(c.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.NextMatchFindAction).run().then(void 0,i.onUnexpectedError)}}));let H=document.createElement("div");H.className="find-part",H.appendChild(this._findInput.domNode);const z=document.createElement("div");z.className="find-actions",H.appendChild(z),z.appendChild(this._matchesCount),z.appendChild(this._prevBtn.domNode),z.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new L.Checkbox({icon:d,title:y+this._keybindingLabelFor(c.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let Q=this._codeEditor.getSelections();Q.map(J=>(J.endColumn===1&&J.endLineNumber>J.startLineNumber&&(J=J.setEndPosition(J.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(J.endLineNumber-1))),J.isEmpty()?null:J)).filter(J=>!!J),Q.length&&this._state.change({searchScope:Q},!0)}}else this._state.change({searchScope:null},!0)})),z.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ue({label:I+this._keybindingLabelFor(c.FIND_IDS.CloseFindWidgetCommand),icon:t.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Q=>{Q.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Q.preventDefault())}})),z.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new n.ContextScopedReplaceInput(null,void 0,{label:N,placeholder:D,appendPreserveCaseLabel:this._keybindingLabelFor(c.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:B,flexibleWidth:Z,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Q=>this._onReplaceInputKeyDown(Q))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Q=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Q=>{Q.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Q.preventDefault())})),this._replaceBtn=this._register(new ue({label:T+this._keybindingLabelFor(c.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:Q=>{Q.equals(1024|2)&&(this._closeBtn.focus(),Q.preventDefault())}})),this._replaceAllBtn=this._register(new ue({label:P+this._keybindingLabelFor(c.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let ee=document.createElement("div");ee.className="replace-part",ee.appendChild(this._replaceInput.domNode);const x=document.createElement("div");x.className="replace-actions",ee.appendChild(x),x.appendChild(this._replaceBtn.domNode),x.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ue({label:R,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${A}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(H),this._domNode.appendChild(ee),this._resizeSash=new S.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let G=A;this._register(this._resizeSash.onDidStart(()=>{G=k.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(Q=>{this._resized=!0;let J=G+Q.startX-Q.currentX;if(J<A)return;const le=parseFloat(k.getComputedStyle(this._domNode).maxWidth)||0;J>le||(this._domNode.style.width=`${J}px`,this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Q=k.getTotalWidth(this._domNode);if(Q<A)return;let J=A;if(!this._resized||Q===A){const le=this._codeEditor.getLayoutInfo();J=le.width-28-le.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${J}px`,this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const B=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(B!==2)}}e.FindWidget=de,de.ID="editor.contrib.findWidget";class ue extends m.Widget{constructor(B){super();this._opts=B;let Z="button";this._opts.className&&(Z=Z+" "+this._opts.className),this._opts.icon&&(Z=Z+" "+r.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=Z,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,H=>{this._opts.onTrigger(),H.preventDefault()}),this.onkeydown(this._domNode,H=>{if(H.equals(10)||H.equals(3)){this._opts.onTrigger(),H.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(H)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(B){this._domNode.classList.toggle("disabled",!B),this._domNode.setAttribute("aria-disabled",String(!B)),this._domNode.tabIndex=B?0:-1}setExpanded(B){this._domNode.setAttribute("aria-expanded",String(!!B)),B?(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(h)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(p))):(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(p)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(h)))}}e.SimpleButton=ue,r.registerThemingParticipant((X,B)=>{const Z=(K,re)=>{re&&B.addRule(`.monaco-editor ${K} { background-color: ${re}; }`)};Z(".findMatch",X.getColor(u.editorFindMatchHighlight)),Z(".currentFindMatch",X.getColor(u.editorFindMatch)),Z(".findScope",X.getColor(u.editorFindRangeHighlight));const H=X.getColor(u.editorWidgetBackground);Z(".find-widget",H);const z=X.getColor(u.widgetShadow);z&&B.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${z}; }`);const ee=X.getColor(u.editorFindMatchHighlightBorder);ee&&B.addRule(`.monaco-editor .findMatch { border: 1px ${X.type==="hc"?"dotted":"solid"} ${ee}; box-sizing: border-box; }`);const x=X.getColor(u.editorFindMatchBorder);x&&B.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${x}; padding: 1px; box-sizing: border-box; }`);const G=X.getColor(u.editorFindRangeHighlightBorder);G&&B.addRule(`.monaco-editor .findScope { border: 1px ${X.type==="hc"?"dashed":"solid"} ${G}; }`);const Q=X.getColor(u.contrastBorder);Q&&B.addRule(`.monaco-editor .find-widget { border: 1px solid ${Q}; }`);const J=X.getColor(u.editorWidgetForeground);J&&B.addRule(`.monaco-editor .find-widget { color: ${J}; }`);const le=X.getColor(u.errorForeground);le&&B.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${le}; }`);const oe=X.getColor(u.editorWidgetResizeBorder);if(oe)B.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${oe}; }`);else{const K=X.getColor(u.editorWidgetBorder);K&&B.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${K}; }`)}const he=X.getColor(u.focusBorder);he&&B.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${he}; }`)})}),define(ie[273],ne([0,1,482,15,2,8,14,25,147,613,614,672,33,85,16,68,37,78,11,34]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const d=524288;function h(P,R="single"){if(!P.hasModel())return null;const O=P.getSelection();if(R==="single"&&O.startLineNumber===O.endLineNumber||R==="multiple"){if(O.isEmpty()){const A=P.getConfiguredWordAtPosition(O.getStartPosition());if(A)return A.word}else if(P.getModel().getValueLengthInRange(O)<d)return P.getModel().getValueInRange(O)}return null}e.getSelectionSearchString=h;let p=class jt extends M.Disposable{constructor(R,O,A,F){super();this._editor=R,this._findWidgetVisible=v.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(O),this._contextKeyService=O,this._storageService=A,this._clipboardService=F,this._updateHistoryDelayer=new k.Delayer(500),this._state=this._register(new C.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(E=>this._onStateChanged(E))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let E=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),E&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})}))}get editor(){return this._editor}static get(R){return R.getContribution(jt.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(R){this.saveQueryState(R),R.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),R.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(R){R.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),R.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),R.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),R.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!v.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let R=this._editor.getSelections();R.map(O=>(O.endColumn===1&&O.endLineNumber>O.startLineNumber&&(O=O.setEndPosition(O.endLineNumber-1,this._editor.getModel().getLineMaxColumn(O.endLineNumber-1))),O.isEmpty()?null:O)).filter(O=>!!O),R.length&&this._state.change({searchScope:R},!0)}}setSearchString(R){this._state.isRegex&&(R=L.escapeRegExpCharacters(R)),this._state.change({searchString:R},!1)}highlightFindOptions(R=!1){}_start(R){return Ie(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let O={isRevealed:!0};if(R.seedSearchStringFromSelection==="single"){let A=h(this._editor,R.seedSearchStringFromSelection);A&&(this._state.isRegex?O.searchString=L.escapeRegExpCharacters(A):O.searchString=A)}else if(R.seedSearchStringFromSelection==="multiple"&&!R.updateSearchScope){let A=h(this._editor,R.seedSearchStringFromSelection);A&&(O.searchString=A)}if(!O.searchString&&R.seedSearchStringFromGlobalClipboard){let A=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;A&&(O.searchString=A)}if(R.forceRevealReplace?O.isReplaceRevealed=!0:this._findWidgetVisible.get()||(O.isReplaceRevealed=!1),R.updateSearchScope){let A=this._editor.getSelections();A.some(F=>!F.isEmpty())&&(O.searchScope=A)}O.loop=R.loop,this._state.change(O,!1),this._model||(this._model=new v.FindModelBoundToEditorModel(this._editor,this._state))})}start(R){return this._start(R)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Ie(this,void 0,void 0,function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(R){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(R)}};p.ID="editor.contrib.findController",p=Me([_e(1,c.IContextKeyService),_e(2,n.IStorageService),_e(3,a.IClipboardService)],p),e.CommonFindController=p;let w=class extends p{constructor(R,O,A,F,E,W,V,U){super(R,A,V,U);this._contextViewService=O,this._keybindingService=F,this._themeService=E,this._notificationService=W,this._widget=null,this._findOptionsWidget=null}_start(R){const O=Object.create(null,{_start:{get:()=>super._start}});return Ie(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const A=this._editor.getSelection();let F=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":F=!0;break;case"never":F=!1;break;case"multiline":F=!!A&&A.startLineNumber!==A.endLineNumber;break;default:break}R.updateSearchScope=F,yield O._start.call(this,R),this._widget&&(R.shouldFocus===2?this._widget.focusReplaceInput():R.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(R=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!R?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new s.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new i.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};w=Me([_e(1,u.IContextViewService),_e(2,c.IContextKeyService),_e(3,r.IKeybindingService),_e(4,l.IThemeService),_e(5,t.INotificationService),_e(6,n.IStorageService),_e(7,a.IClipboardService)],w),e.FindController=w,e.StartFindAction=S.registerMultiEditorAction(new S.MultiEditorAction({id:v.FIND_IDS.StartFindAction,label:_.localize(0,null),alias:"Find",precondition:c.ContextKeyExpr.or(m.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:o.MenuId.MenubarEditMenu,group:"3_find",title:_.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(P,R,O)=>{const A=p.get(R);return A?A.start({forceRevealReplace:!1,seedSearchStringFromSelection:R.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:R.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(33).loop}):!1});class b extends S.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithSelection,label:_.localize(2,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(R,O){return Ie(this,void 0,void 0,function*(){let A=p.get(O);A&&(yield A.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(33).loop}),A.setGlobalBufferTerm(A.getState().searchString))})}}e.StartFindWithSelectionAction=b;class g extends S.EditorAction{run(R,O){return Ie(this,void 0,void 0,function*(){let A=p.get(O);A&&!this._run(A)&&(yield A.start({forceRevealReplace:!1,seedSearchStringFromSelection:A.getState().searchString.length===0&&O.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(33).loop}),this._run(A))})}}e.MatchFindAction=g;class f extends g{constructor(){super({id:v.FIND_IDS.NextMatchFindAction,label:_.localize(3,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(R){return R.moveToNextMatch()?(R.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=f;class y extends g{constructor(){super({id:v.FIND_IDS.PreviousMatchFindAction,label:_.localize(4,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(R){return R.moveToPrevMatch()}}e.PreviousMatchFindAction=y;class I extends S.EditorAction{run(R,O){return Ie(this,void 0,void 0,function*(){let A=p.get(O);if(!A)return;let F=h(O);F&&A.setSearchString(F),this._run(A)||(yield A.start({forceRevealReplace:!1,seedSearchStringFromSelection:O.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(33).loop}),this._run(A))})}}e.SelectionMatchFindAction=I;class N extends I{constructor(){super({id:v.FIND_IDS.NextSelectionMatchFindAction,label:_.localize(5,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(R){return R.moveToNextMatch()}}e.NextSelectionMatchFindAction=N;class D extends I{constructor(){super({id:v.FIND_IDS.PreviousSelectionMatchFindAction,label:_.localize(6,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(R){return R.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=D,e.StartFindReplaceAction=S.registerMultiEditorAction(new S.MultiEditorAction({id:v.FIND_IDS.StartFindReplaceAction,label:_.localize(7,null),alias:"Replace",precondition:c.ContextKeyExpr.or(m.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:o.MenuId.MenubarEditMenu,group:"3_find",title:_.localize(8,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(P,R,O)=>{if(!R.hasModel()||R.getOption(78))return!1;const A=p.get(R);if(!A)return!1;const F=R.getSelection(),E=A.isFindInputFocused(),W=!F.isEmpty()&&F.startLineNumber===F.endLineNumber&&R.getOption(33).seedSearchStringFromSelection&&!E,V=E||W?2:1;return A.start({forceRevealReplace:!0,seedSearchStringFromSelection:W?"single":"none",seedSearchStringFromGlobalClipboard:R.getOption(33).seedSearchStringFromSelection,shouldFocus:V,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(33).loop})}),S.registerEditorContribution(p.ID,w),S.registerEditorAction(b),S.registerEditorAction(f),S.registerEditorAction(y),S.registerEditorAction(N),S.registerEditorAction(D);const T=S.EditorCommand.bindToContribution(p.get);S.registerEditorCommand(new T({id:v.FIND_IDS.CloseFindWidgetCommand,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,c.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),S.registerEditorCommand(new T({id:v.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:P=>P.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleCaseSensitiveKeybinding.primary,mac:v.ToggleCaseSensitiveKeybinding.mac,win:v.ToggleCaseSensitiveKeybinding.win,linux:v.ToggleCaseSensitiveKeybinding.linux}})),S.registerEditorCommand(new T({id:v.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:P=>P.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleWholeWordKeybinding.primary,mac:v.ToggleWholeWordKeybinding.mac,win:v.ToggleWholeWordKeybinding.win,linux:v.ToggleWholeWordKeybinding.linux}})),S.registerEditorCommand(new T({id:v.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:P=>P.toggleRegex(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleRegexKeybinding.primary,mac:v.ToggleRegexKeybinding.mac,win:v.ToggleRegexKeybinding.win,linux:v.ToggleRegexKeybinding.linux}})),S.registerEditorCommand(new T({id:v.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:P=>P.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleSearchScopeKeybinding.primary,mac:v.ToggleSearchScopeKeybinding.mac,win:v.ToggleSearchScopeKeybinding.win,linux:v.ToggleSearchScopeKeybinding.linux}})),S.registerEditorCommand(new T({id:v.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:P=>P.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.TogglePreserveCaseKeybinding.primary,mac:v.TogglePreserveCaseKeybinding.mac,win:v.TogglePreserveCaseKeybinding.win,linux:v.TogglePreserveCaseKeybinding.linux}})),S.registerEditorCommand(new T({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.replace(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:2048|1024|22}})),S.registerEditorCommand(new T({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.replace(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),S.registerEditorCommand(new T({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.replaceAll(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:2048|512|3}})),S.registerEditorCommand(new T({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.replaceAll(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),S.registerEditorCommand(new T({id:v.FIND_IDS.SelectAllMatchesAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:P=>P.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:512|3}}))}),define(ie[673],ne([0,1,31,27,485,79,11]),function($,e,_,k,M,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=L.registerIcon("folding-expanded",k.Codicon.chevronDown,M.localize(0,null)),e.foldingCollapsedIcon=L.registerIcon("folding-collapsed",k.Codicon.chevronRight,M.localize(1,null));class m{constructor(i){this.editor=i,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(i,C){return C?m.HIDDEN_RANGE_DECORATION:i?this.showFoldingHighlights?m.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:m.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?m.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:m.EXPANDED_VISUAL_DECORATION}deltaDecorations(i,C){return this.editor.deltaDecorations(i,C)}changeDecorations(i){return this.editor.changeDecorations(i)}}e.FoldingDecorationProvider=m,m.COLLAPSED_VISUAL_DECORATION=_.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),m.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=_.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),m.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=_.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),m.EXPANDED_VISUAL_DECORATION=_.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),m.HIDDEN_RANGE_DECORATION=_.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ie[674],ne([0,1,484,20,8,15,41,2,14,414,673,25,415,45,555,18,227,416,12,16,11,22,351]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const p=new t.RawContextKey("foldingEnabled",!1);let w=class Gt extends m.Disposable{constructor(U,q){super();this.contextKeyService=q,this.localToDispose=this._register(new m.DisposableStore),this.editor=U;const j=this.editor.getOptions();this._isEnabled=j.get(35),this._useFoldingProviders=j.get(36)!=="indentation",this._unfoldOnClickAfterEndOfLine=j.get(38),this._restoringViewState=!1,this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new C.FoldingDecorationProvider(U),this.foldingDecorationProvider.autoHideFoldingControls=j.get(97)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=j.get(37),this.foldingEnabled=p.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(te=>{if(te.hasChanged(35)&&(this._isEnabled=this.editor.getOptions().get(35),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),te.hasChanged(97)||te.hasChanged(37)){const ae=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=ae.get(97)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=ae.get(37),this.onModelContentChanged()}te.hasChanged(36)&&(this._useFoldingProviders=this.editor.getOptions().get(36)!=="indentation",this.onFoldingStrategyChanged()),te.hasChanged(38)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(38))})),this.onModelChanged()}static get(U){return U.getContribution(Gt.ID)}saveViewState(){let U=this.editor.getModel();if(!U||!this._isEnabled||U.isTooLargeForTokenization())return{};if(this.foldingModel){let q=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),j=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:q,lineCount:U.getLineCount(),provider:j}}}restoreViewState(U){let q=this.editor.getModel();if(!q||!this._isEnabled||q.isTooLargeForTokenization()||!this.hiddenRangeModel||!U||!U.collapsedRegions||U.lineCount!==q.getLineCount())return;(U.provider===r.ID_SYNTAX_PROVIDER||U.provider===n.ID_INIT_PROVIDER)&&(this.foldingStateMemento=U);const j=U.collapsedRegions;if(this.hiddenRangeModel.applyMemento(j)){const te=this.getFoldingModel();te&&te.then(ae=>{if(ae){this._restoringViewState=!0;try{ae.applyMemento(j)}finally{this._restoringViewState=!1}}}).then(void 0,l.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let U=this.editor.getModel();!this._isEnabled||!U||U.isTooLargeForTokenization()||(this.foldingModel=new i.FoldingModel(U,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new o.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(q=>this.onHiddenRangesChanges(q))),this.updateScheduler=new L.Delayer(200),this.cursorChangedScheduler=new L.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(u.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(q=>this.onEditorMouseDown(q))),this.localToDispose.add(this.editor.onMouseUp(q=>this.onEditorMouseUp(q))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(U){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new c.IndentRangeProvider(U),this._useFoldingProviders&&this.foldingModel){let q=u.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(q.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new n.InitializingRangeProvider(U,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);q.length>0&&(this.rangeProvider=new r.SyntaxRangeProvider(U,q,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const U=this.foldingModel;if(!U)return null;let q=this.foldingRegionPromise=L.createCancelablePromise(j=>this.getRangeProvider(U.textModel).compute(j));return q.then(j=>{if(j&&q===this.foldingRegionPromise){let te=this.editor.getSelections(),ae=te?te.map(de=>de.startLineNumber):[];U.update(j,ae)}return U})}).then(void 0,U=>(l.onUnexpectedError(U),null)))}onHiddenRangesChanges(U){if(this.hiddenRangeModel&&U.length&&!this._restoringViewState){let q=this.editor.getSelections();q&&this.hiddenRangeModel.adjustSelections(q)&&this.editor.setSelections(q)}this.editor.setHiddenAreas(U)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const U=this.getFoldingModel();!U||U.then(q=>{if(q){let j=this.editor.getSelections();if(j&&j.length>0){let te=[];for(let ae of j){let de=ae.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(de)&&te.push(...q.getAllRegionsAtLine(de,ue=>ue.isCollapsed&&de>ue.startLineNumber))}te.length&&(q.toggleCollapseState(te),this.reveal(j[0].getPosition()))}}}).then(void 0,l.onUnexpectedError)}onEditorMouseDown(U){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!U.target||!U.target.range||!U.event.leftButton&&!U.event.middleButton)return;const q=U.target.range;let j=!1;switch(U.target.type){case 4:const te=U.target.detail,ae=U.target.element.offsetLeft;if(te.offsetX-ae<5)return;j=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!U.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let ue=this.editor.getModel();if(ue&&q.startColumn===ue.getLineMaxColumn(q.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:q.startLineNumber,iconClicked:j}}onEditorMouseUp(U){const q=this.getFoldingModel();if(!q||!this.mouseDownInfo||!U.target)return;let j=this.mouseDownInfo.lineNumber,te=this.mouseDownInfo.iconClicked,ae=U.target.range;if(!(!ae||ae.startLineNumber!==j)){if(te){if(U.target.type!==4)return}else{let de=this.editor.getModel();if(!de||ae.startColumn!==de.getLineMaxColumn(j))return}q.then(de=>{if(de){let ue=de.getRegionAtLine(j);if(ue&&ue.startLineNumber===j){let X=ue.isCollapsed;if(te||X){let B=U.event.altKey,Z=[];if(B){let H=ee=>!ee.containedBy(ue)&&!ue.containedBy(ee),z=de.getRegionsInside(null,H);for(const ee of z)ee.isCollapsed&&Z.push(ee);Z.length===0&&(Z=z)}else{let H=U.event.middleButton||U.event.shiftKey;if(H)for(const z of de.getRegionsInside(ue))z.isCollapsed===X&&Z.push(z);(X||!H||Z.length===0)&&Z.push(ue)}de.toggleCollapseState(Z),this.reveal({lineNumber:j,column:1})}}}}).then(void 0,l.onUnexpectedError)}}reveal(U){this.editor.revealPositionInCenterIfOutsideViewport(U,0)}};w.ID="editor.contrib.folding",w=Me([_e(1,t.IContextKeyService)],w),e.FoldingController=w;class b extends v.EditorAction{runEditorCommand(U,q,j){let te=w.get(q);if(!te)return;let ae=te.getFoldingModel();if(ae)return this.reportTelemetry(U,q),ae.then(de=>{if(de){this.invoke(te,de,q,j);const ue=q.getSelection();ue&&te.reveal(ue.getStartPosition())}})}getSelectedLines(U){let q=U.getSelections();return q?q.map(j=>j.startLineNumber):[]}getLineNumbers(U,q){return U&&U.selectionLines?U.selectionLines.map(j=>j+1):this.getSelectedLines(q)}run(U,q){}}function g(V){if(!k.isUndefined(V)){if(!k.isObject(V))return!1;const U=V;if(!k.isUndefined(U.levels)&&!k.isNumber(U.levels)||!k.isUndefined(U.direction)&&!k.isString(U.direction)||!k.isUndefined(U.selectionLines)&&(!k.isArray(U.selectionLines)||!U.selectionLines.every(k.isNumber)))return!1}return!0}class f extends b{constructor(){super({id:"editor.unfold",label:_.localize(0,null),alias:"Unfold",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:g,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(U,q,j,te){let ae=te&&te.levels||1,de=this.getLineNumbers(te,j);te&&te.direction==="up"?i.setCollapseStateLevelsUp(q,!1,ae,de):i.setCollapseStateLevelsDown(q,!1,ae,de)}}class y extends b{constructor(){super({id:"editor.unfoldRecursively",label:_.localize(1,null),alias:"Unfold Recursively",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|89),weight:100}})}invoke(U,q,j,te){i.setCollapseStateLevelsDown(q,!1,Number.MAX_VALUE,this.getSelectedLines(j))}}class I extends b{constructor(){super({id:"editor.fold",label:_.localize(2,null),alias:"Fold",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:g,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(U,q,j,te){let ae=this.getLineNumbers(te,j);const de=te&&te.levels,ue=te&&te.direction;typeof de!="number"&&typeof ue!="string"?i.setCollapseStateUp(q,!0,ae):ue==="up"?i.setCollapseStateLevelsUp(q,!0,de||1,ae):i.setCollapseStateLevelsDown(q,!0,de||1,ae)}}class N extends b{constructor(){super({id:"editor.toggleFold",label:_.localize(3,null),alias:"Toggle Fold",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|42),weight:100}})}invoke(U,q,j){let te=this.getSelectedLines(j);i.toggleCollapseState(q,1,te)}}class D extends b{constructor(){super({id:"editor.foldRecursively",label:_.localize(4,null),alias:"Fold Recursively",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|87),weight:100}})}invoke(U,q,j){let te=this.getSelectedLines(j);i.setCollapseStateLevelsDown(q,!0,Number.MAX_VALUE,te)}}class T extends b{constructor(){super({id:"editor.foldAllBlockComments",label:_.localize(5,null),alias:"Fold All Block Comments",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|85),weight:100}})}invoke(U,q,j){if(q.regions.hasTypes())i.setCollapseStateForType(q,u.FoldingRangeKind.Comment.value,!0);else{const te=j.getModel();if(!te)return;let ae=a.LanguageConfigurationRegistry.getComments(te.getLanguageIdentifier().id);if(ae&&ae.blockCommentStartToken){let de=new RegExp("^\\s*"+M.escapeRegExpCharacters(ae.blockCommentStartToken));i.setCollapseStateForMatchingLines(q,de,!0)}}}}class P extends b{constructor(){super({id:"editor.foldAllMarkerRegions",label:_.localize(6,null),alias:"Fold All Regions",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|29),weight:100}})}invoke(U,q,j){if(q.regions.hasTypes())i.setCollapseStateForType(q,u.FoldingRangeKind.Region.value,!0);else{const te=j.getModel();if(!te)return;let ae=a.LanguageConfigurationRegistry.getFoldingRules(te.getLanguageIdentifier().id);if(ae&&ae.markers&&ae.markers.start){let de=new RegExp(ae.markers.start);i.setCollapseStateForMatchingLines(q,de,!0)}}}}class R extends b{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:_.localize(7,null),alias:"Unfold All Regions",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|30),weight:100}})}invoke(U,q,j){if(q.regions.hasTypes())i.setCollapseStateForType(q,u.FoldingRangeKind.Region.value,!1);else{const te=j.getModel();if(!te)return;let ae=a.LanguageConfigurationRegistry.getFoldingRules(te.getLanguageIdentifier().id);if(ae&&ae.markers&&ae.markers.start){let de=new RegExp(ae.markers.start);i.setCollapseStateForMatchingLines(q,de,!1)}}}}class O extends b{constructor(){super({id:"editor.foldAllExcept",label:_.localize(8,null),alias:"Fold All Regions Except Selected",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|83),weight:100}})}invoke(U,q,j){let te=this.getSelectedLines(j);i.setCollapseStateForRest(q,!0,te)}}class A extends b{constructor(){super({id:"editor.unfoldAllExcept",label:_.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|81),weight:100}})}invoke(U,q,j){let te=this.getSelectedLines(j);i.setCollapseStateForRest(q,!1,te)}}class F extends b{constructor(){super({id:"editor.foldAll",label:_.localize(10,null),alias:"Fold All",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|21),weight:100}})}invoke(U,q,j){i.setCollapseStateLevelsDown(q,!0)}}class E extends b{constructor(){super({id:"editor.unfoldAll",label:_.localize(11,null),alias:"Unfold All",precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|40),weight:100}})}invoke(U,q,j){i.setCollapseStateLevelsDown(q,!1)}}class W extends b{getFoldingLevel(){return parseInt(this.id.substr(W.ID_PREFIX.length))}invoke(U,q,j){i.setCollapseStateAtLevel(q,this.getFoldingLevel(),!0,this.getSelectedLines(j))}}W.ID_PREFIX="editor.foldLevel",W.ID=V=>W.ID_PREFIX+V,v.registerEditorContribution(w.ID,w),v.registerEditorAction(f),v.registerEditorAction(y),v.registerEditorAction(I),v.registerEditorAction(D),v.registerEditorAction(F),v.registerEditorAction(E),v.registerEditorAction(T),v.registerEditorAction(P),v.registerEditorAction(R),v.registerEditorAction(O),v.registerEditorAction(A),v.registerEditorAction(N);for(let V=1;V<=7;V++)v.registerInstantiatedEditorAction(new W({id:W.ID(V),label:_.localize(12,null,V),alias:`Fold Level ${V}`,precondition:p,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|21+V),weight:100}}));e.foldBackgroundBackground=h.registerColor("editor.foldBackground",{light:h.transparent(h.editorSelectionBackground,.3),dark:h.transparent(h.editorSelectionBackground,.3),hc:null},_.localize(13,null),!0),e.editorFoldForeground=h.registerColor("editorGutter.foldingControlForeground",{dark:h.iconForeground,light:h.iconForeground,hc:h.iconForeground},_.localize(14,null)),d.registerThemingParticipant((V,U)=>{const q=V.getColor(e.foldBackgroundBackground);q&&U.addRule(`.monaco-editor .folded-background { background-color: ${q}; }`);const j=V.getColor(e.editorFoldForeground);j&&U.addRule(`
		.monaco-editor .cldr${d.ThemeIcon.asCSSSelector(C.foldingExpandedIcon)},
		.monaco-editor .cldr${d.ThemeIcon.asCSSSelector(C.foldingCollapsedIcon)} {
			color: ${j} !important;
		}
		`)})}),define(ie[274],ne([0,1,489,2,16,13,3,14,25,670,28,33,27,9,571,79]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let r=class ft{constructor(g,f,y,I,N){this._markerNavigationService=f,this._contextKeyService=y,this._editorService=I,this._instantiationService=N,this._sessionDispoables=new k.DisposableStore,this._editor=g,this._widgetVisible=p.bindTo(this._contextKeyService)}static get(g){return g.getContribution(ft.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(g){if(this._model&&this._model.matches(g))return this._model;let f=!1;return this._model&&(f=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(g),f&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(i.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(y=>{var I,N,D;(!((I=this._model)===null||I===void 0?void 0:I.selected)||!S.Range.containsPosition((N=this._model)===null||N===void 0?void 0:N.selected.marker,y.position))&&((D=this._model)===null||D===void 0||D.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const y=this._model.find(this._editor.getModel().uri,this._widget.position);y?this._widget.updateMarker(y.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(y=>{this._editorService.openCodeEditor({resource:y.resource,options:{pinned:!0,revealIfOpened:!0,selection:S.Range.lift(y).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(g=!0){this._cleanUp(),g&&this._editor.focus()}showAtMarker(g){if(this._editor.hasModel()){const f=this._getOrCreateModel(this._editor.getModel().uri);f.resetIndex(),f.move(!0,this._editor.getModel(),new L.Position(g.startLineNumber,g.startColumn)),f.selected&&this._widget.showAtMarker(f.selected.marker,f.selected.index,f.selected.total)}}nagivate(g,f){return Ie(this,void 0,void 0,function*(){if(this._editor.hasModel()){const y=this._getOrCreateModel(f?void 0:this._editor.getModel().uri);if(y.move(g,this._editor.getModel(),this._editor.getPosition()),!y.selected)return;if(y.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const I=yield this._editorService.openCodeEditor({resource:y.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:y.selected.marker}},this._editor);I&&(ft.get(I).close(),ft.get(I).nagivate(g,f))}else this._widget.showAtMarker(y.selected.marker,y.selected.index,y.selected.total)}})}};r.ID="editor.contrib.markerController",r=Me([_e(1,c.IMarkerNavigationService),_e(2,M.IContextKeyService),_e(3,C.ICodeEditorService),_e(4,a.IInstantiationService)],r),e.MarkerController=r;class n extends m.EditorAction{constructor(g,f,y){super(y);this._next=g,this._multiFile=f}run(g,f){return Ie(this,void 0,void 0,function*(){f.hasModel()&&r.get(f).nagivate(this._next,this._multiFile)})}}class l extends n{constructor(){super(!0,!1,{id:l.ID,label:l.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:l.LABEL,icon:u.registerIcon("marker-navigation-next",o.Codicon.chevronDown,_.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=l,l.ID="editor.action.marker.next",l.LABEL=_.localize(0,null);class t extends n{constructor(){super(!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:l.LABEL,icon:u.registerIcon("marker-navigation-previous",o.Codicon.chevronUp,_.localize(3,null)),group:"navigation",order:2}})}}t.ID="editor.action.marker.prev",t.LABEL=_.localize(2,null);class d extends n{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:_.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:_.localize(5,null),group:"6_problem_nav",order:1}})}}class h extends n{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:_.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:_.localize(7,null),group:"6_problem_nav",order:2}})}}m.registerEditorContribution(r.ID,r),m.registerEditorAction(l),m.registerEditorAction(t),m.registerEditorAction(d),m.registerEditorAction(h);const p=new M.RawContextKey("markersNavigationVisible",!1),w=m.EditorCommand.bindToContribution(r.get);m.registerEditorCommand(new w({id:"closeMarkersNavigation",precondition:p,handler:b=>b.close(),kbOpts:{weight:100+50,kbExpr:v.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(ie[675],ne([0,1,500,7,2,3,19,86,43,183,12,58,274,15,151,269,137,59]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const l=k.$;class t{constructor(w,b,g){this.owner=w,this.range=b,this.marker=g}isValidForHoverAnchor(w){return w.type===1&&this.range.startColumn<=w.range.startColumn&&this.range.endColumn>=w.range.endColumn}}e.MarkerHover=t;const d={type:1,filter:{include:r.CodeActionKind.QuickFix}};let h=class{constructor(w,b,g,f){this._editor=w,this._hover=b,this._markerDecorationsService=g,this._openerService=f,this.recentMarkerCodeActionsInfo=void 0}computeSync(w,b){if(!this._editor.hasModel()||w.type!==1)return[];const g=this._editor.getModel(),f=w.range.startLineNumber,y=g.getLineMaxColumn(f),I=[];for(const N of b){const D=N.range.startLineNumber===f?N.range.startColumn:1,T=N.range.endLineNumber===f?N.range.endColumn:y,P=this._markerDecorationsService.getMarker(g.uri,N);if(!P)continue;const R=new L.Range(w.range.startLineNumber,D,w.range.startLineNumber,T);I.push(new t(this,R,P))}return I}renderHoverParts(w,b,g){if(!w.length)return M.Disposable.None;const f=new M.DisposableStore;w.forEach(I=>b.appendChild(this.renderMarkerHover(I,f)));const y=w.length===1?w[0]:w.sort((I,N)=>m.MarkerSeverity.compare(I.marker.severity,N.marker.severity))[0];return this.renderMarkerStatusbar(y,g,f),f}renderMarkerHover(w,b){const g=l("div.hover-row"),f=k.append(g,l("div.marker.hover-contents")),{source:y,message:I,code:N,relatedInformation:D}=w.marker;this._editor.applyFontInfo(f);const T=k.append(f,l("span"));if(T.style.whiteSpace="pre-wrap",T.innerText=I,y||N)if(N&&typeof N!="string"){const P=l("span");if(y){const F=k.append(P,l("span"));F.innerText=y}const R=k.append(P,l("a.code-link"));R.setAttribute("href",N.target.toString()),b.add(k.addDisposableListener(R,"click",F=>{this._openerService.open(N.target,{allowCommands:!0}),F.preventDefault(),F.stopPropagation()}));const O=k.append(R,l("span"));O.innerText=N.value;const A=k.append(f,P);A.style.opacity="0.6",A.style.paddingLeft="6px"}else{const P=k.append(f,l("span"));P.style.opacity="0.6",P.style.paddingLeft="6px",P.innerText=y&&N?`${y}(${N})`:y||`(${N})`}if(S.isNonEmptyArray(D))for(const{message:P,resource:R,startLineNumber:O,startColumn:A}of D){const F=k.append(f,l("div"));F.style.marginTop="8px";const E=k.append(F,l("a"));E.innerText=`${v.basename(R)}(${O}, ${A}): `,E.style.cursor="pointer",b.add(k.addDisposableListener(E,"click",V=>{V.stopPropagation(),V.preventDefault(),this._openerService&&this._openerService.open(R,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:O,startColumn:A}}}).catch(C.onUnexpectedError)}));const W=k.append(F,l("span"));W.innerText=P,this._editor.applyFontInfo(W)}return g}renderMarkerStatusbar(w,b,g){if((w.marker.severity===m.MarkerSeverity.Error||w.marker.severity===m.MarkerSeverity.Warning||w.marker.severity===m.MarkerSeverity.Info)&&b.addAction({label:_.localize(0,null),commandId:o.NextMarkerAction.ID,run:()=>{this._hover.hide(),o.MarkerController.get(this._editor).showAtMarker(w.marker),this._editor.focus()}}),!this._editor.getOption(78)){const f=b.append(l("div"));this.recentMarkerCodeActionsInfo&&(m.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===m.IMarkerData.makeKey(w.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(f.textContent=_.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const y=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?M.Disposable.None:g.add(a.disposableTimeout(()=>f.textContent=_.localize(2,null),200));f.textContent||(f.textContent=String.fromCharCode(160));const I=this.getCodeActions(w.marker);g.add(M.toDisposable(()=>I.cancel())),I.then(N=>{if(y.dispose(),this.recentMarkerCodeActionsInfo={marker:w.marker,hasCodeActions:N.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){N.dispose(),f.textContent=_.localize(3,null);return}f.style.display="none";let D=!1;g.add(M.toDisposable(()=>{D||N.dispose()})),b.addAction({label:_.localize(4,null),commandId:u.QuickFixAction.Id,run:T=>{D=!0;const P=u.QuickFixController.get(this._editor),R=k.getDomNodePagePosition(T);this._hover.hide(),P.showCodeActions(d,N,{x:R.left+6,y:R.top+R.height+6})}})})}}getCodeActions(w){return a.createCancelablePromise(b=>c.getCodeActions(this._editor.getModel(),new L.Range(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn),d,n.Progress.None,b))}};h=Me([_e(2,i.IMarkerDecorationsService),_e(3,s.IOpenerService)],h),e.MarkerHoverParticipant=h}),define(ie[676],ne([0,1,509,15,41,2,44,14,245,3,21,25,52,31,18,273,33,22,11,16]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function d(U,q){const j=q.filter(te=>!U.find(ae=>ae.equals(te)));if(j.length>=1){const te=j.map(de=>`line ${de.viewState.position.lineNumber} column ${de.viewState.position.column}`).join(", "),ae=j.length===1?_.localize(0,null,te):_.localize(1,null,te);S.status(ae)}}class h extends m.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:_.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(3,null),order:2}})}run(q,j,te){if(!j.hasModel())return;const ae=te&&te.logicalLine===!0,de=j._getViewModel();if(de.cursorConfig.readOnly)return;de.pushStackElement();const ue=de.getCursorStates();de.setCursorStates(te.source,3,v.CursorMoveCommands.addCursorUp(de,ue,ae)),de.revealTopMostCursor(te.source),d(ue,de.getCursorStates())}}e.InsertCursorAbove=h;class p extends m.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:_.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(5,null),order:3}})}run(q,j,te){if(!j.hasModel())return;const ae=te&&te.logicalLine===!0,de=j._getViewModel();if(de.cursorConfig.readOnly)return;de.pushStackElement();const ue=de.getCursorStates();de.setCursorStates(te.source,3,v.CursorMoveCommands.addCursorDown(de,ue,ae)),de.revealBottomMostCursor(te.source),d(ue,de.getCursorStates())}}e.InsertCursorBelow=p;class w extends m.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:_.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(7,null),order:4}})}getCursorsForSelection(q,j,te){if(!q.isEmpty()){for(let ae=q.startLineNumber;ae<q.endLineNumber;ae++){let de=j.getLineMaxColumn(ae);te.push(new C.Selection(ae,de,ae,de))}q.endColumn>1&&te.push(new C.Selection(q.endLineNumber,q.endColumn,q.endLineNumber,q.endColumn))}}run(q,j){if(!j.hasModel())return;const te=j.getModel(),ae=j.getSelections(),de=j._getViewModel(),ue=de.getCursorStates();let X=[];ae.forEach(B=>this.getCursorsForSelection(B,te,X)),X.length>0&&j.setSelections(X),d(ue,de.getCursorStates())}}class b extends m.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:_.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(q,j){if(!j.hasModel())return;const te=j.getSelections(),ae=j.getModel().getLineCount();let de=[];for(let B=te[0].startLineNumber;B<=ae;B++)de.push(new C.Selection(B,te[0].startColumn,B,te[0].endColumn));const ue=j._getViewModel(),X=ue.getCursorStates();de.length>0&&j.setSelections(de),d(X,ue.getCursorStates())}}class g extends m.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:_.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(q,j){if(!j.hasModel())return;const te=j.getSelections();let ae=[];for(let X=te[0].startLineNumber;X>=1;X--)ae.push(new C.Selection(X,te[0].startColumn,X,te[0].endColumn));const de=j._getViewModel(),ue=de.getCursorStates();ae.length>0&&j.setSelections(ae),d(ue,de.getCursorStates())}}class f{constructor(q,j,te){this.selections=q,this.revealRange=j,this.revealScrollType=te}}e.MultiCursorSessionResult=f;class y{constructor(q,j,te,ae,de,ue,X){this._editor=q,this.findController=j,this.isDisconnectedFromFindController=te,this.searchText=ae,this.wholeWord=de,this.matchCase=ue,this.currentMatch=X}static create(q,j){if(!q.hasModel())return null;const te=j.getState();if(!q.hasTextFocus()&&te.isRevealed&&te.searchString.length>0)return new y(q,j,!1,te.searchString,te.wholeWord,te.matchCase,null);let ae=!1,de,ue;const X=q.getSelections();X.length===1&&X[0].isEmpty()?(ae=!0,de=!0,ue=!0):(de=te.wholeWord,ue=te.matchCase);const B=q.getSelection();let Z,H=null;if(B.isEmpty()){const z=q.getConfiguredWordAtPosition(B.getStartPosition());if(!z)return null;Z=z.word,H=new C.Selection(B.startLineNumber,z.startColumn,B.startLineNumber,z.endColumn)}else Z=q.getModel().getValueInRange(B).replace(/\r\n/g,`
`);return new y(q,j,ae,Z,de,ue,H)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const q=this._getNextMatch();if(!q)return null;const j=this._editor.getSelections();return new f(j.concat(q),q,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const q=this._getNextMatch();if(!q)return null;const j=this._editor.getSelections();return new f(j.slice(0,j.length-1).concat(q),q,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ae=this.currentMatch;return this.currentMatch=null,ae}this.findController.highlightFindOptions();const q=this._editor.getSelections(),j=q[q.length-1],te=this._editor.getModel().findNextMatch(this.searchText,j.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(114):null,!1);return te?new C.Selection(te.range.startLineNumber,te.range.startColumn,te.range.endLineNumber,te.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const q=this._getPreviousMatch();if(!q)return null;const j=this._editor.getSelections();return new f(j.concat(q),q,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const q=this._getPreviousMatch();if(!q)return null;const j=this._editor.getSelections();return new f(j.slice(0,j.length-1).concat(q),q,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ae=this.currentMatch;return this.currentMatch=null,ae}this.findController.highlightFindOptions();const q=this._editor.getSelections(),j=q[q.length-1],te=this._editor.getModel().findPreviousMatch(this.searchText,j.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(114):null,!1);return te?new C.Selection(te.range.startLineNumber,te.range.startColumn,te.range.endLineNumber,te.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(114):null,!1,1073741824)):[]}}e.MultiCursorSession=y;class I extends L.Disposable{constructor(q){super();this._sessionDispose=this._register(new L.DisposableStore),this._editor=q,this._ignoreSelectionChange=!1,this._session=null}static get(q){return q.getContribution(I.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(q){if(!this._session){const j=y.create(this._editor,q);if(!j)return;this._session=j;const te={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(te.wholeWordOverride=1,te.matchCaseOverride=1,te.isRegexOverride=2),q.getState().change(te,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ae=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(q.getState().onFindReplaceStateChange(ae=>{(ae.matchCase||ae.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const q={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(q,!1)}this._session=null}_setSelections(q){this._ignoreSelectionChange=!0,this._editor.setSelections(q),this._ignoreSelectionChange=!1}_expandEmptyToWord(q,j){if(!j.isEmpty())return j;const te=this._editor.getConfiguredWordAtPosition(j.getStartPosition());return te?new C.Selection(j.startLineNumber,te.startColumn,j.startLineNumber,te.endColumn):j}_applySessionResult(q){!q||(this._setSelections(q.selections),q.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(q.revealRange,q.revealScrollType))}getSession(q){return this._session}addSelectionToNextFindMatch(q){if(!!this._editor.hasModel()){if(!this._session){const j=this._editor.getSelections();if(j.length>1){const ae=q.getState().matchCase;if(!W(this._editor.getModel(),j,ae)){const ue=this._editor.getModel();let X=[];for(let B=0,Z=j.length;B<Z;B++)X[B]=this._expandEmptyToWord(ue,j[B]);this._editor.setSelections(X);return}}}this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(q){this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(q){this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(q){this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(q){if(!this._editor.hasModel())return;let j=null;const te=q.getState();if(te.isRevealed&&te.searchString.length>0&&te.isRegex)j=this._editor.getModel().findMatches(te.searchString,!0,te.isRegex,te.matchCase,te.wholeWord?this._editor.getOption(114):null,!1,1073741824);else{if(this._beginSessionIfNeeded(q),!this._session)return;j=this._session.selectAll()}if(te.searchScope){const ae=te.searchScope;let de=[];j.forEach(ue=>{ae.forEach(X=>{ue.range.endLineNumber<=X.endLineNumber&&ue.range.startLineNumber>=X.startLineNumber&&de.push(ue)})}),j=de}if(j.length>0){const ae=this._editor.getSelection();for(let de=0,ue=j.length;de<ue;de++){const X=j[de];if(X.range.intersectRanges(ae)){j[de]=j[0],j[0]=X;break}}this._setSelections(j.map(de=>new C.Selection(de.range.startLineNumber,de.range.startColumn,de.range.endLineNumber,de.range.endColumn)))}}}e.MultiCursorSelectionController=I,I.ID="editor.contrib.multiCursorController";class N extends m.EditorAction{run(q,j){const te=I.get(j);if(!te)return;const ae=u.CommonFindController.get(j);if(!ae)return;const de=j._getViewModel();if(de){const ue=de.getCursorStates();this._run(te,ae),d(ue,de.getCursorStates())}}}e.MultiCursorSelectionControllerAction=N;class D extends N{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:_.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(11,null),order:5}})}_run(q,j){q.addSelectionToNextFindMatch(j)}}e.AddSelectionToNextFindMatchAction=D;class T extends N{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:_.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(13,null),order:6}})}_run(q,j){q.addSelectionToPreviousFindMatch(j)}}e.AddSelectionToPreviousFindMatchAction=T;class P extends N{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:_.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:M.KeyChord(2048|41,2048|34),weight:100}})}_run(q,j){q.moveSelectionToNextFindMatch(j)}}e.MoveSelectionToNextFindMatchAction=P;class R extends N{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:_.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(q,j){q.moveSelectionToPreviousFindMatch(j)}}e.MoveSelectionToPreviousFindMatchAction=R;class O extends N{constructor(){super({id:"editor.action.selectHighlights",label:_.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:_.localize(17,null),order:7}})}_run(q,j){q.selectAll(j)}}e.SelectHighlightsAction=O;class A extends N{constructor(){super({id:"editor.action.changeAll",label:_.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(q,j){q.selectAll(j)}}e.CompatChangeAll=A;class F{constructor(q,j,te,ae){this.searchText=q,this.matchCase=j,this.wordSeparators=te,this.modelVersionId=ae}static softEquals(q,j){return!q&&!j?!0:!q||!j?!1:q.searchText===j.searchText&&q.matchCase===j.matchCase&&q.wordSeparators===j.wordSeparators&&q.modelVersionId===j.modelVersionId}}class E extends L.Disposable{constructor(q){super();this.editor=q,this._isEnabled=q.getOption(95),this.decorations=[],this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(q.onDidChangeConfiguration(j=>{this._isEnabled=q.getOption(95)})),this._register(q.onDidChangeCursorSelection(j=>{!this._isEnabled||(j.selection.isEmpty()?j.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(q.onDidChangeModel(j=>{this._setState(null)})),this._register(q.onDidChangeModelContent(j=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(u.CommonFindController.get(q).getState().onFindReplaceStateChange(j=>{this._update()}))}_update(){this._setState(E._createState(this._isEnabled,this.editor))}static _createState(q,j){if(!q||!j.hasModel())return null;const te=j.getSelection();if(te.startLineNumber!==te.endLineNumber)return null;const ae=I.get(j);if(!ae)return null;const de=u.CommonFindController.get(j);if(!de)return null;let ue=ae.getSession(de);if(!ue){const Z=j.getSelections();if(Z.length>1){const z=de.getState().matchCase;if(!W(j.getModel(),Z,z))return null}ue=y.create(j,de)}if(!ue||ue.currentMatch||/^[ \t]+$/.test(ue.searchText)||ue.searchText.length>200)return null;const X=de.getState(),B=X.matchCase;if(X.isRevealed){let Z=X.searchString;B||(Z=Z.toLowerCase());let H=ue.searchText;if(B||(H=H.toLowerCase()),Z===H&&ue.matchCase===X.matchCase&&ue.wholeWord===X.wholeWord&&!X.isRegex)return null}return new F(ue.searchText,ue.matchCase,ue.wholeWord?j.getOption(114):null,j.getModel().getVersionId())}_setState(q){if(F.softEquals(this.state,q)){this.state=q;return}if(this.state=q,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const j=this.editor.getModel();if(j.isTooLargeForTokenization())return;const te=c.DocumentHighlightProviderRegistry.has(j)&&this.editor.getOption(69);let ae=j.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(B=>B.range);ae.sort(i.Range.compareRangesUsingStarts);let de=this.editor.getSelections();de.sort(i.Range.compareRangesUsingStarts);let ue=[];for(let B=0,Z=0,H=ae.length,z=de.length;B<H;){const ee=ae[B];if(Z>=z)ue.push(ee),B++;else{const x=i.Range.compareRangesUsingStarts(ee,de[Z]);x<0?((de[Z].isEmpty()||!i.Range.areIntersecting(ee,de[Z]))&&ue.push(ee),B++):(x>0||B++,Z++)}}const X=ue.map(B=>({range:B,options:te?E._SELECTION_HIGHLIGHT:E._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,X)}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=E,E.ID="editor.contrib.selectionHighlighter",E._SELECTION_HIGHLIGHT_OVERVIEW=a.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:l.themeColorFromId(n.overviewRulerSelectionHighlightForeground),position:o.OverviewRulerLane.Center}}),E._SELECTION_HIGHLIGHT=a.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function W(U,q,j){const te=V(U,q[0],!j);for(let ae=1,de=q.length;ae<de;ae++){const ue=q[ae];if(ue.isEmpty())return!1;const X=V(U,ue,!j);if(te!==X)return!1}return!0}function V(U,q,j){const te=U.getValueInRange(q);return j?te.toLowerCase():te}m.registerEditorContribution(I.ID,I),m.registerEditorContribution(E.ID,E),m.registerEditorAction(h),m.registerEditorAction(p),m.registerEditorAction(w),m.registerEditorAction(D),m.registerEditorAction(T),m.registerEditorAction(P),m.registerEditorAction(R),m.registerEditorAction(O),m.registerEditorAction(A),m.registerEditorAction(b),m.registerEditorAction(g)}),define(ie[677],ne([0,1,7,44,61,6,2,57,145,188,511,16,58,22,11,561,8,27,20,99,79,358]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const h=_.$,p=d.registerIcon("parameter-hints-next",n.Codicon.chevronDown,C.localize(0,null)),w=d.registerIcon("parameter-hints-previous",n.Codicon.chevronUp,C.localize(1,null));let b=class Zt extends S.Disposable{constructor(f,y,I,N){super();this.editor=f,this.renderDisposeables=this._register(new S.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new v.MarkdownRenderer({editor:f},N,I)),this.model=this._register(new u.ParameterHintsModel(f)),this.keyVisible=i.Context.Visible.bindTo(y),this.keyMultipleSignatures=i.Context.MultipleSignatures.bindTo(y),this._register(this.model.onChangedHints(D=>{D?(this.show(),this.render(D)):this.hide()}))}createParamaterHintDOMNodes(){const f=h(".editor-widget.parameter-hints-widget"),y=_.append(f,h(".phwrapper"));y.tabIndex=-1;const I=_.append(y,h(".controls")),N=_.append(I,h(".button"+c.ThemeIcon.asCSSSelector(w))),D=_.append(I,h(".overloads")),T=_.append(I,h(".button"+c.ThemeIcon.asCSSSelector(p)));this._register(_.addDisposableListener(N,"click",E=>{_.EventHelper.stop(E),this.previous()})),this._register(_.addDisposableListener(T,"click",E=>{_.EventHelper.stop(E),this.next()}));const P=h(".body"),R=new M.DomScrollableElement(P,{});this._register(R),y.appendChild(R.getDomNode());const O=_.append(P,h(".signature")),A=_.append(P,h(".docs"));f.style.userSelect="text",this.domNodes={element:f,signature:O,overloads:D,docs:A,scrollbar:R},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(E=>{this.visible&&this.editor.layoutContentWidget(this)}));const F=()=>{if(!this.domNodes)return;const E=this.editor.getOption(40);this.domNodes.element.style.fontSize=`${E.fontSize}px`};F(),this._register(L.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(E=>E.hasChanged(40)).on(F,null)),this._register(this.editor.onDidLayoutChange(E=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(f){var y;if(this.renderDisposeables.clear(),!this.domNodes)return;const I=f.signatures.length>1;this.domNodes.element.classList.toggle("multiple",I),this.keyMultipleSignatures.set(I),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const N=f.signatures[f.activeSignature];if(!N)return;const D=_.append(this.domNodes.signature,h(".code")),T=this.editor.getOption(40);D.style.fontSize=`${T.fontSize}px`,D.style.fontFamily=T.fontFamily;const P=N.parameters.length>0,R=(y=N.activeParameter)!==null&&y!==void 0?y:f.activeParameter;if(P)this.renderParameters(D,N,R);else{const F=_.append(D,h("span"));F.textContent=N.label}const O=N.parameters[R];if(O==null?void 0:O.documentation){const F=h("span.documentation");if(typeof O.documentation=="string")F.textContent=O.documentation;else{const E=this.renderMarkdownDocs(O.documentation);F.appendChild(E.element)}_.append(this.domNodes.docs,h("p",{},F))}if(N.documentation!==void 0)if(typeof N.documentation=="string")_.append(this.domNodes.docs,h("p",{},N.documentation));else{const F=this.renderMarkdownDocs(N.documentation);_.append(this.domNodes.docs,F.element)}const A=this.hasDocs(N,O);if(this.domNodes.signature.classList.toggle("has-docs",A),this.domNodes.docs.classList.toggle("empty",!A),this.domNodes.overloads.textContent=String(f.activeSignature+1).padStart(f.signatures.length.toString().length,"0")+"/"+f.signatures.length,O){const F=this.getParameterLabel(N,R);this.announcedLabel!==F&&(k.alert(C.localize(2,null,F)),this.announcedLabel=F)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(f){const y=this.renderDisposeables.add(this.markdownRenderer.render(f,{asyncRenderCallback:()=>{var I;(I=this.domNodes)===null||I===void 0||I.scrollbar.scanDomNode()}}));return y.element.classList.add("markdown-docs"),y}hasDocs(f,y){return!!(y&&typeof y.documentation=="string"&&l.assertIsDefined(y.documentation).length>0||y&&typeof y.documentation=="object"&&l.assertIsDefined(y.documentation).value.length>0||f.documentation&&typeof f.documentation=="string"&&l.assertIsDefined(f.documentation).length>0||f.documentation&&typeof f.documentation=="object"&&l.assertIsDefined(f.documentation.value).length>0)}renderParameters(f,y,I){const[N,D]=this.getParameterLabelOffsets(y,I),T=document.createElement("span");T.textContent=y.label.substring(0,N);const P=document.createElement("span");P.textContent=y.label.substring(N,D),P.className="parameter active";const R=document.createElement("span");R.textContent=y.label.substring(D),_.append(f,T,P,R)}getParameterLabel(f,y){const I=f.parameters[y];return Array.isArray(I.label)?f.label.substring(I.label[0],I.label[1]):I.label}getParameterLabelOffsets(f,y){const I=f.parameters[y];if(I){if(Array.isArray(I.label))return I.label;if(I.label.length){const N=new RegExp(`(\\W|^)${r.escapeRegExpCharacters(I.label)}(?=\\W|$)`,"g");N.test(f.label);const D=N.lastIndex-I.label.length;return D>=0?[D,N.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return Zt.ID}trigger(f){this.model.trigger(f,0)}updateMaxHeight(){if(!this.domNodes)return;const y=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=y;const I=this.domNodes.element.getElementsByClassName("phwrapper");I.length&&(I[0].style.maxHeight=y)}};b.ID="editor.widget.parameterHintsWidget",b=Me([_e(1,s.IContextKeyService),_e(2,o.IOpenerService),_e(3,m.IModeService)],b),e.ParameterHintsWidget=b,c.registerThemingParticipant((g,f)=>{const y=g.getColor(a.editorHoverBorder);if(y){const P=g.type===t.ColorScheme.HIGH_CONTRAST?2:1;f.addRule(`.monaco-editor .parameter-hints-widget { border: ${P}px solid ${y}; }`),f.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${y.transparent(.5)}; }`),f.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${y.transparent(.5)}; }`)}const I=g.getColor(a.editorHoverBackground);I&&f.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${I}; }`);const N=g.getColor(a.textLinkForeground);N&&f.addRule(`.monaco-editor .parameter-hints-widget a { color: ${N}; }`);const D=g.getColor(a.editorHoverForeground);D&&f.addRule(`.monaco-editor .parameter-hints-widget { color: ${D}; }`);const T=g.getColor(a.textCodeBlockBackground);T&&f.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${T}; }`)})}),define(ie[678],ne([0,1,510,2,9,25,16,14,677,188,18]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let s=class Yt extends k.Disposable{constructor(r,n){super();this.editor=r,this.widget=this._register(n.createInstance(v.ParameterHintsWidget,this.editor))}static get(r){return r.getContribution(Yt.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(r){this.widget.trigger(r)}};s.ID="editor.controller.parameterHints",s=Me([_e(1,M.IInstantiationService)],s);class o extends m.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:_.localize(0,null),alias:"Trigger Parameter Hints",precondition:L.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(r,n){const l=s.get(n);l&&l.trigger({triggerKind:C.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=o,m.registerEditorContribution(s.ID,s),m.registerEditorAction(o);const a=100+75,c=m.EditorCommand.bindToContribution(s.get);m.registerEditorCommand(new c({id:"closeParameterHints",precondition:i.Context.Visible,handler:u=>u.cancel(),kbOpts:{weight:a,kbExpr:L.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),m.registerEditorCommand(new c({id:"showPrevParameterHint",precondition:S.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:u=>u.previous(),kbOpts:{weight:a,kbExpr:L.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),m.registerEditorCommand(new c({id:"showNextParameterHint",precondition:S.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:u=>u.next(),kbOpts:{weight:a,kbExpr:L.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(ie[679],ne([0,1,524,66,2,7,11,57,18,179,576,36,24,241,19,258,27,6,79]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function d(b){return`suggest-aria-id:${b}`}e.getAriaId=d,e.suggestMoreInfoIcon=l.registerIcon("suggest-more-info",r.Codicon.chevronRight,_.localize(0,null));const h=new(t=class mt{extract(g,f){if(g.textLabel.match(mt._regexStrict))return f[0]=g.textLabel,!0;if(g.completion.detail&&g.completion.detail.match(mt._regexStrict))return f[0]=g.completion.detail,!0;if(typeof g.completion.documentation=="string"){const y=mt._regexRelaxed.exec(g.completion.documentation);if(y&&(y.index===0||y.index+y[0].length===g.completion.documentation.length))return f[0]=y[0],!0}return!1}},t._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,t._regexStrict=new RegExp(`^${t._regexRelaxed.source}$`,"i"),t);let p=class{constructor(g,f,y,I){this._editor=g,this._modelService=f,this._modeService=y,this._themeService=I,this._onDidToggleDetails=new n.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(g){const f=Object.create(null);f.disposables=new M.DisposableStore,f.root=g,f.root.classList.add("show-file-icons"),f.icon=L.append(g,L.$(".icon")),f.colorspan=L.append(f.icon,L.$("span.colorspan"));const y=L.append(g,L.$(".contents")),I=L.append(y,L.$(".main"));f.iconContainer=L.append(I,L.$(".icon-label.codicon")),f.left=L.append(I,L.$("span.left")),f.right=L.append(I,L.$("span.right")),f.iconLabel=new i.IconLabel(f.left,{supportHighlights:!0,supportIcons:!0}),f.disposables.add(f.iconLabel),f.parametersLabel=L.append(f.left,L.$("span.signature-label")),f.qualifierLabel=L.append(f.left,L.$("span.qualifier-label")),f.detailsLabel=L.append(f.right,L.$("span.details-label")),f.readMore=L.append(f.right,L.$("span.readMore"+S.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),f.readMore.title=_.localize(1,null);const N=()=>{const D=this._editor.getOptions(),T=D.get(40),P=T.fontFamily,R=T.fontFeatureSettings,O=D.get(105)||T.fontSize,A=D.get(106)||T.lineHeight,F=T.fontWeight,E=`${O}px`,W=`${A}px`;f.root.style.fontSize=E,f.root.style.fontWeight=F,I.style.fontFamily=P,I.style.fontFeatureSettings=R,I.style.lineHeight=W,f.icon.style.height=W,f.icon.style.width=W,f.readMore.style.height=W,f.readMore.style.width=W};return N(),f.disposables.add(this._editor.onDidChangeConfiguration(D=>{(D.hasChanged(40)||D.hasChanged(105)||D.hasChanged(106))&&N()})),f}renderElement(g,f,y){const{completion:I}=g;y.root.id=d(f),y.colorspan.style.backgroundColor="";const N={labelEscapeNewLines:!0,matches:k.createMatches(g.score)};let D=[];if(I.kind===19&&h.extract(g,D))y.icon.className="icon customcolor",y.iconContainer.className="icon hide",y.colorspan.style.backgroundColor=D[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){y.icon.className="icon hide",y.iconContainer.className="icon hide";const T=C.getIconClasses(this._modelService,this._modeService,o.URI.from({scheme:"fake",path:g.textLabel}),a.FileKind.FILE),P=C.getIconClasses(this._modelService,this._modeService,o.URI.from({scheme:"fake",path:I.detail}),a.FileKind.FILE);N.extraClasses=T.length>P.length?T:P}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(y.icon.className="icon hide",y.iconContainer.className="icon hide",N.extraClasses=c.flatten([C.getIconClasses(this._modelService,this._modeService,o.URI.from({scheme:"fake",path:g.textLabel}),a.FileKind.FOLDER),C.getIconClasses(this._modelService,this._modeService,o.URI.from({scheme:"fake",path:I.detail}),a.FileKind.FOLDER)])):(y.icon.className="icon hide",y.iconContainer.className="",y.iconContainer.classList.add("suggest-icon",...v.completionKindToCssClass(I.kind).split(" ")));I.tags&&I.tags.indexOf(1)>=0&&(N.extraClasses=(N.extraClasses||[]).concat(["deprecated"]),N.matches=[]),y.iconLabel.setLabel(g.textLabel,void 0,N),typeof I.label=="string"?(y.parametersLabel.textContent="",y.detailsLabel.textContent=w(I.detail||""),y.root.classList.add("string-label")):(y.parametersLabel.textContent=w(I.label.detail||""),y.detailsLabel.textContent=w(I.label.description||""),y.root.classList.remove("string-label")),this._editor.getOption(104).showInlineDetails?L.show(y.detailsLabel):L.hide(y.detailsLabel),u.canExpandCompletionItem(g)?(y.right.classList.add("can-expand-details"),L.show(y.readMore),y.readMore.onmousedown=T=>{T.stopPropagation(),T.preventDefault()},y.readMore.onclick=T=>{T.stopPropagation(),T.preventDefault(),this._onDidToggleDetails.fire()}):(y.right.classList.remove("can-expand-details"),L.hide(y.readMore),y.readMore.onmousedown=null,y.readMore.onclick=null)}disposeTemplate(g){g.disposables.dispose()}};p=Me([_e(1,s.IModelService),_e(2,m.IModeService),_e(3,S.IThemeService)],p),e.ItemRenderer=p;function w(b){return b.replace(/\r\n|\r|\n/g,"")}}),define(ie[680],ne([0,1,522,8,7,6,12,2,107,16,123,122,11,22,78,15,9,258,664,679,236,150,101,362,130,263]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=a.registerColor("editorSuggestWidget.background",{dark:a.editorWidgetBackground,light:a.editorWidgetBackground,hc:a.editorWidgetBackground},_.localize(0,null)),e.editorSuggestWidgetBorder=a.registerColor("editorSuggestWidget.border",{dark:a.editorWidgetBorder,light:a.editorWidgetBorder,hc:a.editorWidgetBorder},_.localize(1,null)),e.editorSuggestWidgetForeground=a.registerColor("editorSuggestWidget.foreground",{dark:a.editorForeground,light:a.editorForeground,hc:a.editorForeground},_.localize(2,null)),e.editorSuggestWidgetSelectedForeground=a.registerColor("editorSuggestWidget.selectedForeground",{dark:a.quickInputListFocusForeground,light:a.quickInputListFocusForeground,hc:a.quickInputListFocusForeground},_.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=a.registerColor("editorSuggestWidget.selectedIconForeground",{dark:a.quickInputListFocusIconForeground,light:a.quickInputListFocusIconForeground,hc:a.quickInputListFocusIconForeground},_.localize(4,null)),e.editorSuggestWidgetSelectedBackground=a.registerColor("editorSuggestWidget.selectedBackground",{dark:a.quickInputListFocusBackground,light:a.quickInputListFocusBackground,hc:a.quickInputListFocusBackground},_.localize(5,null)),e.editorSuggestWidgetHighlightForeground=a.registerColor("editorSuggestWidget.highlightForeground",{dark:a.listHighlightForeground,light:a.listHighlightForeground,hc:a.listHighlightForeground},_.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=a.registerColor("editorSuggestWidget.focusHighlightForeground",{dark:a.listFocusHighlightForeground,light:a.listFocusHighlightForeground,hc:a.listFocusHighlightForeground},_.localize(7,null));class w{constructor(y,I){this._service=y,this._key=`suggestWidget.size/${I.getEditorType()}/${I instanceof h.EmbeddedCodeEditorWidget}`}restore(){var y;const I=(y=this._service.get(this._key,0))!==null&&y!==void 0?y:"";try{const N=JSON.parse(I);if(M.Dimension.is(N))return M.Dimension.lift(N)}catch(N){}}store(y){this._service.store(this._key,JSON.stringify(y),0,1)}reset(){this._service.remove(this._key,0)}}let b=class yt{constructor(y,I,N,D,T){this.editor=y,this._storageService=I,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new u.TimeoutTimer,this._disposables=new m.DisposableStore,this._onDidSelect=new L.Emitter,this._onDidFocus=new L.Emitter,this._onDidHide=new L.Emitter,this._onDidShow=new L.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new L.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new d.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new g(this,y),this._persistedSize=new w(I,y);class P{constructor(V,U,q=!1,j=!1){this.persistedSize=V,this.currentSize=U,this.persistHeight=q,this.persistWidth=j}}let R;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),R=new P(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(W=>{var V,U,q,j;if(this._resize(W.dimension.width,W.dimension.height),R&&(R.persistHeight=R.persistHeight||!!W.north||!!W.south,R.persistWidth=R.persistWidth||!!W.east||!!W.west),!!W.done){if(R){const{itemHeight:te,defaultSize:ae}=this.getLayoutInfo(),de=Math.round(te/2);let{width:ue,height:X}=this.element.size;(!R.persistHeight||Math.abs(R.currentSize.height-X)<=de)&&(X=(U=(V=R.persistedSize)===null||V===void 0?void 0:V.height)!==null&&U!==void 0?U:ae.height),(!R.persistWidth||Math.abs(R.currentSize.width-ue)<=de)&&(ue=(j=(q=R.persistedSize)===null||q===void 0?void 0:q.width)!==null&&j!==void 0?j:ae.width),this._persistedSize.store(new M.Dimension(ue,X))}this._contentWidget.unlockPreference(),R=void 0}})),this._messageElement=M.append(this.element.domNode,M.$(".message")),this._listElement=M.append(this.element.domNode,M.$(".tree"));const O=T.createInstance(n.SuggestDetailsWidget,this.editor);O.onDidClose(this.toggleDetails,this,this._disposables),this._details=new n.SuggestDetailsOverlay(O,this.editor);const A=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(104).showIcons);A();const F=T.createInstance(t.ItemRenderer,this.editor);this._disposables.add(F),this._disposables.add(F.onDidToggleDetails(()=>this.toggleDetails())),this._list=new v.List("SuggestWidget",this._listElement,{getHeight:W=>this.getLayoutInfo().itemHeight,getTemplateId:W=>"suggestion"},[F],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:W=>{if(W.isResolved&&this._isDetailsVisible()){const{documentation:V,detail:U}=W.completion,q=k.format("{0}{1}",U||"",V?typeof V=="string"?V:V.value:"");return _.localize(10,null,W.textLabel,q)}else return W.textLabel},getWidgetAriaLabel:()=>_.localize(11,null),getWidgetRole:()=>"listbox"}}),this._status=T.createInstance(l.SuggestWidgetStatus,this.element.domNode);const E=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(104).showStatusBar);E(),this._disposables.add(s.attachListStyler(this._list,D,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:a.activeContrastBorder})),this._disposables.add(D.onDidColorThemeChange(W=>this._onThemeChange(W))),this._onThemeChange(D.getColorTheme()),this._disposables.add(this._list.onMouseDown(W=>this._onListMouseDownOrTap(W))),this._disposables.add(this._list.onTap(W=>this._onListMouseDownOrTap(W))),this._disposables.add(this._list.onDidChangeSelection(W=>this._onListSelection(W))),this._disposables.add(this._list.onDidChangeFocus(W=>this._onListFocus(W))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(W=>{W.hasChanged(104)&&(E(),A())})),this._ctxSuggestWidgetVisible=C.Context.Visible.bindTo(N),this._ctxSuggestWidgetDetailsVisible=C.Context.DetailsVisible.bindTo(N),this._ctxSuggestWidgetMultipleSuggestions=C.Context.MultipleSuggestions.bindTo(N),this._disposables.add(M.addStandardDisposableListener(this._details.widget.domNode,"keydown",W=>{this._onDetailsKeydown.fire(W)})),this._disposables.add(this.editor.onMouseDown(W=>this._onEditorMouseDown(W)))}dispose(){var y;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(y=this._loadingTimeout)===null||y===void 0||y.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(y){this._details.widget.domNode.contains(y.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(y.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(y){typeof y.element=="undefined"||typeof y.index=="undefined"||(y.browserEvent.preventDefault(),y.browserEvent.stopPropagation(),this._select(y.element,y.index))}_onListSelection(y){y.elements.length&&this._select(y.elements[0],y.indexes[0])}_select(y,I){const N=this._completionModel;N&&(this._onDidSelect.fire({item:y,index:I,model:N}),this.editor.focus())}_onThemeChange(y){const I=y.getColor(e.editorSuggestWidgetBackground);I&&(this.element.domNode.style.backgroundColor=I.toString(),this._messageElement.style.backgroundColor=I.toString(),this._details.widget.domNode.style.backgroundColor=I.toString());const N=y.getColor(e.editorSuggestWidgetBorder);N&&(this.element.domNode.style.borderColor=N.toString(),this._messageElement.style.borderColor=N.toString(),this._status.element.style.borderTopColor=N.toString(),this._details.widget.domNode.style.borderColor=N.toString(),this._detailsBorderColor=N.toString());const D=y.getColor(a.focusBorder);D&&(this._detailsFocusBorderColor=D.toString()),this._details.widget.borderWidth=y.type==="hc"?2:1}_onListFocus(y){var I;if(this._ignoreFocusEvents)return;if(!y.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const N=y.elements[0],D=y.indexes[0];N!==this._focusedItem&&((I=this._currentSuggestionDetails)===null||I===void 0||I.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=N,this._list.reveal(D),this._currentSuggestionDetails=u.createCancelablePromise(T=>Ie(this,void 0,void 0,function*(){const P=u.disposableTimeout(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);T.onCancellationRequested(()=>P.dispose());const R=yield N.resolve(T);return P.dispose(),R})),this._currentSuggestionDetails.then(()=>{D>=this._list.length||N!==this._list.element(D)||(this._ignoreFocusEvents=!0,this._list.splice(D,1,[N]),this._list.setFocus([D]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:t.getAriaId(D)}))}).catch(S.onUnexpectedError)),this._onDidFocus.fire({item:N,index:D,model:this._completionModel})}_setState(y){if(this._state!==y)switch(this._state=y,this.element.domNode.classList.toggle("frozen",y===4),this.element.domNode.classList.remove("message"),y){case 0:M.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=yt.LOADING_MESSAGE,M.hide(this._listElement,this._status.element),M.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=yt.NO_SUGGESTIONS_MESSAGE,M.hide(this._listElement,this._status.element),M.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:M.hide(this._messageElement),M.show(this._listElement,this._status.element),this._show();break;case 4:M.hide(this._messageElement),M.show(this._listElement,this._status.element),this._show();break;case 5:M.hide(this._messageElement),M.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(y,I){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!y,this._isAuto||(this._loadingTimeout=u.disposableTimeout(()=>this._setState(1),I)))}showSuggestions(y,I,N,D){var T,P;if(this._contentWidget.setPosition(this.editor.getPosition()),(T=this._loadingTimeout)===null||T===void 0||T.dispose(),(P=this._currentSuggestionDetails)===null||P===void 0||P.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==y&&(this._completionModel=y),N&&this._state!==2&&this._state!==0){this._setState(4);return}const R=this._completionModel.items.length,O=R===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(R>1),O){this._setState(D?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(N?4:3),this._list.reveal(I,0),this._list.setFocus([I]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(n.canExpandCompletionItem(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(y){this._details.show(),y?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var y;(y=this._loadingTimeout)===null||y===void 0||y.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const I=this._persistedSize.restore(),N=Math.ceil(this.getLayoutInfo().itemHeight*4.3);I&&I.height<N&&this._persistedSize.store(I.with(void 0,N))}isFrozen(){return this._state===4}_afterRender(y){if(y===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(y){var I,N,D;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const T=M.getClientArea(document.body),P=this.getLayoutInfo();y||(y=P.defaultSize);let R=y.height,O=y.width;if(this._status.element.style.lineHeight=`${P.itemHeight}px`,this._state===2||this._state===1)R=P.itemHeight+P.borderHeight,O=P.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new M.Dimension(O,R),this._contentWidget.setPreference(2);else{const A=T.width-P.borderHeight-2*P.horizontalPadding;O>A&&(O=A);const F=this._completionModel?this._completionModel.stats.pLabelLen*P.typicalHalfwidthCharacterWidth:O,E=P.statusBarHeight+this._list.contentHeight+P.borderHeight,W=P.itemHeight+P.statusBarHeight,V=M.getDomNodePagePosition(this.editor.getDomNode()),U=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),q=V.top+U.top+U.height,j=Math.min(T.height-q-P.verticalPadding,E),te=Math.min(V.top+U.top-P.verticalPadding,E);let ae=Math.min(Math.max(te,j)+P.borderHeight,E);R===((I=this._cappedHeight)===null||I===void 0?void 0:I.capped)&&(R=this._cappedHeight.wanted),R<W&&(R=W),R>ae&&(R=ae);const de=100;R>j||this._forceRenderingAbove&&te>de?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ae=te):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ae=j),this.element.preferredSize=new M.Dimension(F,P.defaultSize.height),this.element.maxSize=new M.Dimension(A,ae),this.element.minSize=new M.Dimension(220,W),this._cappedHeight=R===E?{wanted:(D=(N=this._cappedHeight)===null||N===void 0?void 0:N.wanted)!==null&&D!==void 0?D:y.height,capped:R}:void 0}this._resize(O,R)}_resize(y,I){const{width:N,height:D}=this.element.maxSize;y=Math.min(N,y),I=Math.min(D,I);const{statusBarHeight:T}=this.getLayoutInfo();this._list.layout(I-T,y),this._listElement.style.height=`${I-T}px`,this.element.layout(I,y),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const y=this.editor.getOption(40),I=p.clamp(this.editor.getOption(106)||y.lineHeight,8,1e3),N=!this.editor.getOption(104).showStatusBar||this._state===2||this._state===1?0:I,D=this._details.widget.borderWidth,T=2*D;return{itemHeight:I,statusBarHeight:N,borderWidth:D,borderHeight:T,typicalHalfwidthCharacterWidth:y.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new M.Dimension(430,N+12*I+T)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(y){this._storageService.store("expandSuggestionDocs",y,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};b.LOADING_MESSAGE=_.localize(8,null),b.NO_SUGGESTIONS_MESSAGE=_.localize(9,null),b=Me([_e(1,c.IStorageService),_e(2,i.IContextKeyService),_e(3,o.IThemeService),_e(4,r.IInstantiationService)],b),e.SuggestWidget=b;class g{constructor(y,I){this._widget=y,this._editor=I,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:y,width:I}=this._widget.element.size,{borderWidth:N,horizontalPadding:D}=this._widget.getLayoutInfo();return new M.Dimension(I+2*N+D,y+2*N)}afterRender(y){this._widget._afterRender(y)}setPreference(y){this._preferenceLocked||(this._preference=y)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(y){this._position=y}}e.SuggestContentWidget=g,o.registerThemingParticipant((f,y)=>{const I=f.getColor(e.editorSuggestWidgetHighlightForeground);I&&y.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${I}; }`);const N=f.getColor(e.editorSuggestWidgetHighlightFocusForeground);I&&y.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${N}; }`);const D=f.getColor(e.editorSuggestWidgetForeground);D&&y.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${D}; }`);const T=f.getColor(e.editorSuggestWidgetSelectedForeground);T&&y.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${T}; }`);const P=f.getColor(e.editorSuggestWidgetSelectedIconForeground);P&&y.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${P}; }`);const R=f.getColor(a.textLinkForeground);R&&y.addRule(`.monaco-editor .suggest-details a { color: ${R}; }`);const O=f.getColor(a.textCodeBlockBackground);O&&y.addRule(`.monaco-editor .suggest-details code { background-color: ${O}; }`)})}),define(ie[681],ne([0,1,11,79,7,6]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconsStyleSheet=void 0;function S(){const m=new L.Emitter,v=k.getIconRegistry();return v.onDidChange(()=>m.fire()),{onDidChange:m.event,getCSS(){const i={},C=o=>{let a=o.defaults;for(;_.ThemeIcon.isThemeIcon(a);){const u=v.getIcon(a.id);if(!u)return;a=u.defaults}const c=a.fontId;if(c){const u=v.getIconFont(c);if(u)return i[c]=u,`.codicon-${o.id}:before { content: '${a.fontCharacter}'; font-family: ${M.asCSSPropertyValue(c)}; }`}return`.codicon-${o.id}:before { content: '${a.fontCharacter}'; }`},s=[];for(let o of v.getIcons()){const a=C(o);a&&s.push(a)}for(let o in i){const c=i[o].definition.src.map(u=>`${M.asCSSUrl(u.location)} format('${u.format}')`).join(", ");s.push(`@font-face { src: ${c}; font-family: ${M.asCSSPropertyValue(o)}; }`)}return s.join(`
`)}}}e.getIconsStyleSheet=S}),define(ie[682],ne([0,1,7,29,6,18,390,620,32,22,11,2,99,681]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeServiceImpl=void 0;const c="vs",u="vs-dark",r="hc-black",n=v.Registry.as(i.Extensions.ColorContribution),l=v.Registry.as(C.Extensions.ThemingContribution);class t{constructor(g,f){this.semanticHighlighting=!1,this.themeData=f;let y=f.base;g.length>0?(d(g)?this.id=g:this.id=y+" "+g,this.themeName=g):(this.id=y,this.themeName=y),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const g=new Map;for(let f in this.themeData.colors)g.set(f,k.Color.fromHex(this.themeData.colors[f]));if(this.themeData.inherit){let f=h(this.themeData.base);for(let y in f.colors)g.has(y)||g.set(y,k.Color.fromHex(f.colors[y]))}this.colors=g}return this.colors}getColor(g,f){const y=this.getColors().get(g);if(y)return y;if(f!==!1)return this.getDefault(g)}getDefault(g){let f=this.defaultColors[g];return f||(f=n.resolveDefaultColor(g,this),this.defaultColors[g]=f,f)}defines(g){return Object.prototype.hasOwnProperty.call(this.getColors(),g)}get type(){switch(this.base){case c:return o.ColorScheme.LIGHT;case r:return o.ColorScheme.HIGH_CONTRAST;default:return o.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let g=[],f=[];if(this.themeData.inherit){let y=h(this.themeData.base);g=y.rules,y.encodedTokensColors&&(f=y.encodedTokensColors)}g=g.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(f=this.themeData.encodedTokensColors),this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(g,f)}return this._tokenTheme}getTokenStyleMetadata(g,f,y){const N=this.tokenTheme._match([g].concat(f).join(".")).metadata,D=L.TokenMetadata.getForeground(N),T=L.TokenMetadata.getFontStyle(N);return{foreground:D,italic:Boolean(T&1),bold:Boolean(T&2),underline:Boolean(T&4)}}}function d(b){return b===c||b===u||b===r}function h(b){switch(b){case c:return m.vs;case u:return m.vs_dark;case r:return m.hc_black}}function p(b){let g=h(b);return new t(b,g)}class w extends s.Disposable{constructor(){super();this._onColorThemeChange=this._register(new M.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(c,p(c)),this._knownThemes.set(u,p(u)),this._knownThemes.set(r,p(r));const g=a.getIconsStyleSheet();this._codiconCSS=g.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(c),g.onDidChange(()=>{this._codiconCSS=g.getCSS(),this._updateCSS()}),_.addMatchMediaChangeListener("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(g){return _.isInShadowDOM(g)?this._registerShadowDomContainer(g):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=_.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),s.Disposable.None}_registerShadowDomContainer(g){const f=_.createStyleSheet(g);return f.className="monaco-colors",f.textContent=this._allCSS,this._styleElements.push(f),{dispose:()=>{for(let y=0;y<this._styleElements.length;y++)if(this._styleElements[y]===f){this._styleElements.splice(y,1);return}}}}defineTheme(g,f){if(!/^[a-z0-9\-]+$/i.test(g))throw new Error("Illegal theme name!");if(!d(f.base)&&!d(g))throw new Error("Illegal theme base!");this._knownThemes.set(g,new t(g,f)),d(g)&&this._knownThemes.forEach(y=>{y.base===g&&y.notifyBaseUpdated()}),this._theme.themeName===g&&this.setTheme(g)}getColorTheme(){return this._theme}setColorMapOverride(g){this._colorMapOverride=g,this._updateThemeOrColorMap()}setTheme(g){let f;this._knownThemes.has(g)?f=this._knownThemes.get(g):f=this._knownThemes.get(c),this._desiredTheme=f,this._updateActualTheme()}_updateActualTheme(){const g=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(r):this._desiredTheme;this._theme!==g&&(this._theme=g,this._updateThemeOrColorMap())}setAutoDetectHighContrast(g){this._autoDetectHighContrast=g,this._updateActualTheme()}_updateThemeOrColorMap(){let g=[],f={},y={addRule:N=>{f[N]||(g.push(N),f[N]=!0)}};l.getThemingParticipants().forEach(N=>N(this._theme,y,this._environment));const I=this._colorMapOverride||this._theme.tokenTheme.getColorMap();y.addRule(S.generateTokensCSSForColorMap(I)),this._themeCSS=g.join(`
`),this._updateCSS(),L.TokenizationRegistry.setColorMap(I),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(g=>g.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}e.StandaloneThemeServiceImpl=w}),define(ie[154],ne([0,1,9]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=_.createDecorator("undoRedoService");class k{constructor(m,v){this.resource=m,this.elements=v}}e.ResourceEditStackSnapshot=k;class M{constructor(){this.id=M._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=M,M._ID=0,M.None=new M;class L{constructor(){this.id=L._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=L,L._ID=0,L.None=new L}),define(ie[275],ne([0,1,6,2,17,12,35,31,18,146,142,40,15,23,11,69,154,92,240,46,257,251]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelServiceImpl=void 0;function p(O){return O.toString()}function w(O){const A=new n.StringSHA1,F=O.createSnapshot();let E;for(;E=F.read();)A.update(E);return A.digest()}class b{constructor(A,F,E){this._modelEventListeners=new k.DisposableStore,this.model=A,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(A.onWillDispose(()=>F(A))),this._modelEventListeners.add(A.onDidChangeLanguage(W=>E(A,W)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(A){this._disposeLanguageSelection(),this._languageSelection=A,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(A.languageIdentifier)),this.model.setMode(A.languageIdentifier)}}const g=M.isLinux||M.isMacintosh?1:2;class f{constructor(A,F,E,W,V,U,q,j){this.uri=A,this.initialUndoRedoSnapshot=F,this.time=E,this.sharesUndoRedoStack=W,this.heapSize=V,this.sha1=U,this.versionId=q,this.alternativeVersionId=j}}function y(O){return O.scheme===t.Schemas.file||O.scheme===t.Schemas.vscodeRemote||O.scheme===t.Schemas.userData||O.scheme==="fake-fs"}let I=class st extends k.Disposable{constructor(A,F,E,W,V){super();this._configurationService=A,this._resourcePropertiesService=F,this._themeService=E,this._logService=W,this._undoRedoService=V,this._onModelAdded=this._register(new _.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new _.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new _.Emitter),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new T(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new D(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(A,F){let E=S.EDITOR_MODEL_DEFAULTS.tabSize;if(A.editor&&typeof A.editor.tabSize!="undefined"){const de=parseInt(A.editor.tabSize,10);isNaN(de)||(E=de),E<1&&(E=1)}let W=E;if(A.editor&&typeof A.editor.indentSize!="undefined"&&A.editor.indentSize!=="tabSize"){const de=parseInt(A.editor.indentSize,10);isNaN(de)||(W=de),W<1&&(W=1)}let V=S.EDITOR_MODEL_DEFAULTS.insertSpaces;A.editor&&typeof A.editor.insertSpaces!="undefined"&&(V=A.editor.insertSpaces==="false"?!1:Boolean(A.editor.insertSpaces));let U=g;const q=A.eol;q===`\r
`?U=2:q===`
`&&(U=1);let j=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;A.editor&&typeof A.editor.trimAutoWhitespace!="undefined"&&(j=A.editor.trimAutoWhitespace==="false"?!1:Boolean(A.editor.trimAutoWhitespace));let te=S.EDITOR_MODEL_DEFAULTS.detectIndentation;A.editor&&typeof A.editor.detectIndentation!="undefined"&&(te=A.editor.detectIndentation==="false"?!1:Boolean(A.editor.detectIndentation));let ae=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;return A.editor&&typeof A.editor.largeFileOptimizations!="undefined"&&(ae=A.editor.largeFileOptimizations==="false"?!1:Boolean(A.editor.largeFileOptimizations)),{isForSimpleWidget:F,tabSize:E,indentSize:W,insertSpaces:V,detectIndentation:te,defaultEOL:U,trimAutoWhitespace:j,largeFileOptimizations:ae}}_getEOL(A,F){if(A)return this._resourcePropertiesService.getEOL(A,F);const E=this._configurationService.getValue("files.eol",{overrideIdentifier:F});return E&&E!=="auto"?E:M.OS===3||M.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const A=this._configurationService.getValue("files.restoreUndoStack");return typeof A=="boolean"?A:!0}getCreationOptions(A,F,E){let W=this._modelCreationOptionsByLanguageAndResource[A+F];if(!W){const V=this._configurationService.getValue("editor",{overrideIdentifier:A,resource:F}),U=this._getEOL(F,A);W=st._readModelOptions({editor:V,eol:U},E),this._modelCreationOptionsByLanguageAndResource[A+F]=W}return W}_updateModelOptions(){const A=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const F=Object.keys(this._models);for(let E=0,W=F.length;E<W;E++){const V=F[E],U=this._models[V],q=U.model.getLanguageIdentifier().language,j=U.model.uri,te=A[q+j],ae=this.getCreationOptions(q,j,U.model.isForSimpleWidget);st._setModelOptionsForModel(U.model,ae,te)}}static _setModelOptionsForModel(A,F,E){E&&E.defaultEOL!==F.defaultEOL&&A.getLineCount()===1&&A.setEOL(F.defaultEOL===1?0:1),!(E&&E.detectIndentation===F.detectIndentation&&E.insertSpaces===F.insertSpaces&&E.tabSize===F.tabSize&&E.indentSize===F.indentSize&&E.trimAutoWhitespace===F.trimAutoWhitespace)&&(F.detectIndentation?(A.detectIndentation(F.insertSpaces,F.tabSize),A.updateOptions({trimAutoWhitespace:F.trimAutoWhitespace})):A.updateOptions({insertSpaces:F.insertSpaces,tabSize:F.tabSize,indentSize:F.indentSize,trimAutoWhitespace:F.trimAutoWhitespace}))}_insertDisposedModel(A){this._disposedModels.set(p(A.uri),A),this._disposedModelsHeapSize+=A.heapSize}_removeDisposedModel(A){const F=this._disposedModels.get(p(A));return F&&(this._disposedModelsHeapSize-=F.heapSize),this._disposedModels.delete(p(A)),F}_ensureDisposedModelsHeapSize(A){if(this._disposedModelsHeapSize>A){const F=[];for(this._disposedModels.forEach(E=>{E.sharesUndoRedoStack||F.push(E)}),F.sort((E,W)=>E.time-W.time);F.length>0&&this._disposedModelsHeapSize>A;){const E=F.shift();this._removeDisposedModel(E.uri),E.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(E.initialUndoRedoSnapshot)}}}_createModelData(A,F,E,W){const V=this.getCreationOptions(F.language,E,W),U=new m.TextModel(A,V,F,E,this._undoRedoService);if(E&&this._disposedModels.has(p(E))){const te=this._removeDisposedModel(E),ae=this._undoRedoService.getElements(E),de=w(U)===te.sha1;if(de||te.sharesUndoRedoStack){for(const ue of ae.past)l.isEditStackElement(ue)&&ue.matchesResource(E)&&ue.setModel(U);for(const ue of ae.future)l.isEditStackElement(ue)&&ue.matchesResource(E)&&ue.setModel(U);this._undoRedoService.setElementsValidFlag(E,!0,ue=>l.isEditStackElement(ue)&&ue.matchesResource(E)),de&&(U._overwriteVersionId(te.versionId),U._overwriteAlternativeVersionId(te.alternativeVersionId),U._overwriteInitialUndoRedoSnapshot(te.initialUndoRedoSnapshot))}else te.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(te.initialUndoRedoSnapshot)}const q=p(U.uri);if(this._models[q])throw new Error("ModelService: Cannot add model because it already exists!");const j=new b(U,te=>this._onWillDispose(te),(te,ae)=>this._onDidChangeLanguage(te,ae));return this._models[q]=j,j}createModel(A,F,E,W=!1){let V;return F?(V=this._createModelData(A,F.languageIdentifier,E,W),this.setMode(V.model,F)):V=this._createModelData(A,i.PLAINTEXT_LANGUAGE_IDENTIFIER,E,W),this._onModelAdded.fire(V.model),V.model}setMode(A,F){if(!F)return;const E=this._models[p(A.uri)];!E||E.setLanguage(F)}getModels(){const A=[],F=Object.keys(this._models);for(let E=0,W=F.length;E<W;E++){const V=F[E];A.push(this._models[V].model)}return A}getModel(A){const F=p(A),E=this._models[F];return E?E.model:null}getSemanticTokensProviderStyling(A){return this._semanticStyling.get(A)}_onWillDispose(A){const F=p(A.uri),E=this._models[F],W=this._undoRedoService.getUriComparisonKey(A.uri)!==A.uri.toString();let V=!1,U=0;if(W||this._shouldRestoreUndoStack()&&y(A.uri)){const j=this._undoRedoService.getElements(A.uri);if(j.past.length>0||j.future.length>0){for(const te of j.past)l.isEditStackElement(te)&&te.matchesResource(A.uri)&&(V=!0,U+=te.heapSize(A.uri),te.setModel(A.uri));for(const te of j.future)l.isEditStackElement(te)&&te.matchesResource(A.uri)&&(V=!0,U+=te.heapSize(A.uri),te.setModel(A.uri))}}const q=st.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(V)if(!W&&U>q){const j=E.model.getInitialUndoRedoSnapshot();j!==null&&this._undoRedoService.restoreSnapshot(j)}else this._ensureDisposedModelsHeapSize(q-U),this._undoRedoService.setElementsValidFlag(A.uri,!1,j=>l.isEditStackElement(j)&&j.matchesResource(A.uri)),this._insertDisposedModel(new f(A.uri,E.model.getInitialUndoRedoSnapshot(),Date.now(),W,U,w(A),A.getVersionId(),A.getAlternativeVersionId()));else if(!W){const j=E.model.getInitialUndoRedoSnapshot();j!==null&&this._undoRedoService.restoreSnapshot(j)}delete this._models[F],E.dispose(),delete this._modelCreationOptionsByLanguageAndResource[A.getLanguageIdentifier().language+A.uri],this._onModelRemoved.fire(A)}_onDidChangeLanguage(A,F){const E=F.oldLanguage,W=A.getLanguageIdentifier().language,V=this.getCreationOptions(E,A.uri,A.isForSimpleWidget),U=this.getCreationOptions(W,A.uri,A.isForSimpleWidget);st._setModelOptionsForModel(A,U,V),this._onModelModeChanged.fire({model:A,oldModeId:E})}};I.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,I=Me([_e(0,s.IConfigurationService),_e(1,C.ITextResourcePropertiesService),_e(2,c.IThemeService),_e(3,u.ILogService),_e(4,r.IUndoRedoService)],I),e.ModelServiceImpl=I,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function N(O,A,F){var E;const W=(E=F.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:O.getLanguageIdentifier().language,resource:O.uri}))===null||E===void 0?void 0:E.enabled;return typeof W=="boolean"?W:A.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=N;class D extends k.Disposable{constructor(A,F,E,W){super();this._watchers=Object.create(null),this._semanticStyling=W;const V=j=>{this._watchers[j.uri.toString()]=new R(j,F,this._semanticStyling)},U=(j,te)=>{te.dispose(),delete this._watchers[j.uri.toString()]},q=()=>{for(let j of A.getModels()){const te=this._watchers[j.uri.toString()];N(j,F,E)?te||V(j):te&&U(j,te)}};this._register(A.onModelAdded(j=>{N(j,F,E)&&V(j)})),this._register(A.onModelRemoved(j=>{const te=this._watchers[j.uri.toString()];te&&U(j,te)})),this._register(E.onDidChangeConfiguration(j=>{j.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&q()})),this._register(F.onDidColorThemeChange(q))}}class T extends k.Disposable{constructor(A,F){super();this._themeService=A,this._logService=F,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(A){return this._caches.has(A)||this._caches.set(A,new d.SemanticTokensProviderStyling(A.getLegend(),this._themeService,this._logService)),this._caches.get(A)}}class P{constructor(A,F,E){this._provider=A,this.resultId=F,this.data=E}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class R extends k.Disposable{constructor(A,F,E){super();this._isDisposed=!1,this._model=A,this._semanticStyling=E,this._fetchDocumentSemanticTokens=this._register(new o.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),R.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const W=()=>{k.dispose(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const V of v.DocumentSemanticTokensProviderRegistry.all(A))typeof V.onDidChange=="function"&&this._documentProvidersChangeListeners.push(V.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};W(),this._register(v.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{W(),this._fetchDocumentSemanticTokens.schedule()})),this._register(F.onDidColorThemeChange(V=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const A=new a.CancellationTokenSource,F=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,E=h.getDocumentSemanticTokens(this._model,F,A.token);if(!E){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const{provider:W,request:V}=E;this._currentDocumentRequestCancellationTokenSource=A;const U=[],q=this._model.onDidChangeContent(te=>{U.push(te)}),j=this._semanticStyling.get(W);V.then(te=>{this._currentDocumentRequestCancellationTokenSource=null,q.dispose(),this._setDocumentSemanticTokens(W,te||null,j,U)},te=>{te&&(L.isPromiseCanceledError(te)||typeof te.message=="string"&&te.message.indexOf("busy")!==-1)||L.onUnexpectedError(te),this._currentDocumentRequestCancellationTokenSource=null,q.dispose(),U.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(A,F,E,W,V){for(let U=0;U<V;U++)E[W+U]=A[F+U]}_setDocumentSemanticTokens(A,F,E,W){const V=this._currentDocumentResponse,U=()=>{W.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){A&&F&&A.releaseDocumentSemanticTokens(F.resultId);return}if(!A||!E){this._model.setSemanticTokens(null,!1);return}if(!F){this._model.setSemanticTokens(null,!0),U();return}if(h.isSemanticTokensEdits(F)){if(!V){this._model.setSemanticTokens(null,!0);return}if(F.edits.length===0)F={resultId:F.resultId,data:V.data};else{let q=0;for(const ue of F.edits)q+=(ue.data?ue.data.length:0)-ue.deleteCount;const j=V.data,te=new Uint32Array(j.length+q);let ae=j.length,de=te.length;for(let ue=F.edits.length-1;ue>=0;ue--){const X=F.edits[ue],B=ae-(X.start+X.deleteCount);B>0&&(R._copy(j,ae-B,te,de-B,B),de-=B),X.data&&(R._copy(X.data,0,te,de-X.data.length,X.data.length),de-=X.data.length),ae=X.start}ae>0&&R._copy(j,0,te,0,ae),F={resultId:F.resultId,data:te}}}if(h.isSemanticTokens(F)){this._currentDocumentResponse=new P(A,F.resultId,F.data);const q=d.toMultilineTokens2(F,E,this._model.getLanguageIdentifier());if(W.length>0)for(const j of W)for(const te of q)for(const ae of j.changes)te.applyEdit(ae.range,ae.text);this._model.setSemanticTokens(q,!0)}else this._model.setSemanticTokens(null,!0);U()}}e.ModelSemanticColoring=R,R.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(ie[683],ne([0,1,7,29,6,2,46,43,150,3,31,67,615,495,9,121,153,22,11,124,118,212,154,37,354]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class b{constructor(N,D){this._editor=N,this._model=D,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new L.DisposableStore,this._callOnModelChange=new L.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const N=this._editor.getModel();if(!!N){for(let D of this._model.references)if(D.uri.toString()===N.uri.toString()){this._addDecorations(D.parent);return}}}_addDecorations(N){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const D=[],T=[];for(let R=0,O=N.children.length;R<O;R++){let A=N.children[R];this._decorationIgnoreSet.has(A.id)||A.uri.toString()===this._editor.getModel().uri.toString()&&(D.push({range:A.range,options:b.DecorationOptions}),T.push(R))}const P=this._editor.deltaDecorations([],D);for(let R=0;R<P.length;R++)this._decorations.set(P[R],N.children[T[R]])}_onDecorationChanged(){const N=[],D=this._editor.getModel();if(!!D){for(let[T,P]of this._decorations){const R=D.getDecorationRange(T);if(!R)continue;let O=!1;if(!i.Range.equalsRange(R,P.range)){if(i.Range.spansMultipleLines(R))O=!0;else{const A=P.range.endColumn-P.range.startColumn,F=R.endColumn-R.startColumn;A!==F&&(O=!0)}O?(this._decorationIgnoreSet.add(P.id),N.push(T)):P.range=R}}for(let T=0,P=N.length;T<P;T++)this._decorations.delete(N[T]);this._editor.deltaDecorations(N,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}b.DecorationOptions=C.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class g{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(N){let D,T;try{const P=JSON.parse(N);D=P.ratio,T=P.heightInLines}catch(P){}return{ratio:D||.7,heightInLines:T||18}}}e.LayoutData=g;class f extends r.WorkbenchAsyncDataTree{}let y=class extends t.PeekViewWidget{constructor(N,D,T,P,R,O,A,F,E,W){super(N,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},O);this._defaultTreeKeyboardSupport=D,this.layoutData=T,this._textModelResolverService=R,this._instantiationService=O,this._peekViewService=A,this._uriLabel=F,this._undoRedoService=E,this._keybindingService=W,this._disposeOnNewModel=new L.DisposableStore,this._callOnDispose=new L.DisposableStore,this._onDidSelectReference=new M.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new _.Dimension(0,0),this._applyTheme(P.getColorTheme()),this._callOnDispose.add(P.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(N,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),L.dispose(this._preview),L.dispose(this._previewNotAvailableMessage),L.dispose(this._tree),L.dispose(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(N){const D=N.getColor(t.peekViewBorder)||k.Color.transparent;this.style({arrowColor:D,frameColor:D,headerBackgroundColor:N.getColor(t.peekViewTitleBackground)||k.Color.transparent,primaryHeadingColor:N.getColor(t.peekViewTitleForeground),secondaryHeadingColor:N.getColor(t.peekViewTitleInfoForeground)})}show(N){this.editor.revealRangeInCenterIfOutsideViewport(N,0),super.show(N,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(N){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:N.ctrlKey||N.metaKey||N.altKey?"side":"open",source:"title"})}_fillBody(N){this.setCssClass("reference-zone-widget"),this._messageContainer=_.append(N,_.$("div.messages")),_.hide(this._messageContainer),this._splitView=new h.SplitView(N,{orientation:1}),this._previewContainer=_.append(N,_.$("div.preview.inline"));let D={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(v.EmbeddedCodeEditorWidget,this._previewContainer,D,this.editor),_.hide(this._previewContainer),this._previewNotAvailableMessage=new C.TextModel(a.localize(0,null),C.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=_.append(N,_.$("div.ref-tree.inline"));const T={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new o.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(o.StringRepresentationProvider),identityProvider:new o.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:t.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(_.addStandardDisposableListener(this._treeContainer,"keydown",R=>{R.equals(9)&&(this._keybindingService.dispatchEvent(R,R.target),R.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(f,"ReferencesWidget",this._treeContainer,new o.Delegate,[this._instantiationService.createInstance(o.FileReferencesRenderer),this._instantiationService.createInstance(o.OneReferenceRenderer)],this._instantiationService.createInstance(o.DataSource),T),this._splitView.addView({onDidChange:M.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:R=>{this._preview.layout({height:this._dim.height,width:R})}},h.Sizing.Distribute),this._splitView.addView({onDidChange:M.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:R=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${R}px`,this._tree.layout(this._dim.height,R)}},h.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let P=(R,O)=>{R instanceof d.OneReference&&(O==="show"&&this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:O,source:"tree"}))};this._tree.onDidOpen(R=>{R.sideBySide?P(R.element,"side"):R.editorOptions.pinned?P(R.element,"goto"):P(R.element,"show")}),_.hide(this._treeContainer)}_onWidth(N){this._dim&&this._doLayoutBody(this._dim.height,N)}_doLayoutBody(N,D){super._doLayoutBody(N,D),this._dim=new _.Dimension(D,N),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(D),this._splitView.resizeView(0,D*this.layoutData.ratio)}setSelection(N){return this._revealReference(N,!0).then(()=>{!this._model||(this._tree.setSelection([N]),this._tree.setFocus([N]))})}setModel(N){return this._disposeOnNewModel.clear(),this._model=N,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=a.localize(1,null),_.show(this._messageContainer),Promise.resolve(void 0)):(_.hide(this._messageContainer),this._decorationsManager=new b(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(N=>this._tree.rerender(N))),this._disposeOnNewModel.add(this._preview.onMouseDown(N=>{const{event:D,target:T}=N;if(D.detail!==2)return;const P=this._getFocusedReference();!P||this._onDidSelectReference.fire({element:{uri:P.uri,range:T.range},kind:D.ctrlKey||D.metaKey||D.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),_.show(this._treeContainer),_.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[N]=this._tree.getFocus();if(N instanceof d.OneReference)return N;if(N instanceof d.FileReferences&&N.children.length>0)return N.children[0]}revealReference(N){return Ie(this,void 0,void 0,function*(){yield this._revealReference(N,!1),this._onDidSelectReference.fire({element:N,kind:"goto",source:"tree"})})}_revealReference(N,D){return Ie(this,void 0,void 0,function*(){if(this._revealedReference===N)return;this._revealedReference=N,N.uri.scheme!==S.Schemas.inMemory?this.setTitle(m.basenameOrAuthority(N.uri),this._uriLabel.getUriLabel(m.dirname(N.uri))):this.setTitle(a.localize(2,null));const T=this._textModelResolverService.createModelReference(N.uri);this._tree.getInput()===N.parent?this._tree.reveal(N):(D&&this._tree.reveal(N.parent),yield this._tree.expand(N.parent),this._tree.reveal(N));const P=yield T;if(!this._model){P.dispose();return}L.dispose(this._previewModelReference);const R=P.object;if(R){const O=this._preview.getModel()===R.textEditorModel?0:1,A=i.Range.lift(N.range).collapseToStart();this._previewModelReference=P,this._preview.setModel(R.textEditorModel),this._preview.setSelection(A),this._preview.revealRangeInCenter(A,O)}else this._preview.setModel(this._previewNotAvailableMessage),P.dispose()})}};y=Me([_e(3,l.IThemeService),_e(4,s.ITextModelService),_e(5,c.IInstantiationService),_e(6,t.IPeekViewService),_e(7,u.ILabelService),_e(8,p.IUndoRedoService),_e(9,w.IKeybindingService)],y),e.ReferenceWidget=y,l.registerThemingParticipant((I,N)=>{const D=I.getColor(t.peekViewResultsMatchHighlight);D&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${D}; }`);const T=I.getColor(t.peekViewEditorMatchHighlight);T&&N.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${T}; }`);const P=I.getColor(t.peekViewEditorMatchHighlightBorder);P&&N.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${P}; box-sizing: border-box; }`);const R=I.getColor(n.activeContrastBorder);R&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${R}; box-sizing: border-box; }`);const O=I.getColor(t.peekViewResultsBackground);O&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${O}; }`);const A=I.getColor(t.peekViewResultsMatchForeground);A&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${A}; }`);const F=I.getColor(t.peekViewResultsFileForeground);F&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${F}; }`);const E=I.getColor(t.peekViewResultsSelectionBackground);E&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${E}; }`);const W=I.getColor(t.peekViewResultsSelectionForeground);W&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${W} !important; }`);const V=I.getColor(t.peekViewEditorBackground);V&&N.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${V};}`);const U=I.getColor(t.peekViewEditorGutterBackground);U&&N.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${U};}`)})}),define(ie[276],ne([0,1,493,12,2,28,9,16,40,78,118,683,3,13,34,15,124,153,87,41,26]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new m.RawContextKey("referenceSearchVisible",!1,_.localize(0,null));let h=class Lt{constructor(b,g,f,y,I,N,D,T){this._defaultTreeKeyboardSupport=b,this._editor=g,this._editorService=y,this._notificationService=I,this._instantiationService=N,this._storageService=D,this._configurationService=T,this._disposables=new M.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(f)}static get(b){return b.getContribution(Lt.ID)}dispose(){var b,g;this._referenceSearchVisible.reset(),this._disposables.dispose(),(b=this._widget)===null||b===void 0||b.dispose(),(g=this._model)===null||g===void 0||g.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(b,g,f){let y;if(this._widget&&(y=this._widget.position),this.closeWidget(),!!y&&b.containsPosition(y))return;this._peekMode=f,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const I="peekViewLayout",N=s.LayoutData.fromJSON(this._storageService.get(I,0,"{}"));this._widget=this._instantiationService.createInstance(s.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,N),this._widget.setTitle(_.localize(1,null)),this._widget.show(b),this._disposables.add(this._widget.onDidClose(()=>{g.cancel(),this._widget&&(this._storageService.store(I,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(T=>{let{element:P,kind:R}=T;if(!!P)switch(R){case"open":(T.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(P,!1,!1);break;case"side":this.openReference(P,!0,!1);break;case"goto":f?this._gotoReference(P):this.openReference(P,!1,!0);break}}));const D=++this._requestIdPool;g.then(T=>{var P;if(D!==this._requestIdPool||!this._widget){T.dispose();return}return(P=this._model)===null||P===void 0||P.dispose(),this._model=T,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(_.localize(2,null,this._model.title,this._model.references.length));let R=this._editor.getModel().uri,O=new a.Position(b.startLineNumber,b.startColumn),A=this._model.nearestReference(R,O);if(A)return this._widget.setSelection(A).then(()=>{this._widget&&this._editor.getOption(74)==="editor"&&this._widget.focusOnPreviewEditor()})}})},T=>{this._notificationService.error(T)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(b){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const g=this._widget.position;if(!g)return;const f=this._model.nearestReference(this._editor.getModel().uri,g);if(!f)return;const y=this._model.nextOrPreviousReference(f,b),I=this._editor.hasTextFocus(),N=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(y),yield this._gotoReference(y),I?this._editor.focus():this._widget&&N&&this._widget.focusOnPreviewEditor()})}revealReference(b){return Ie(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(b))})}closeWidget(b=!0){var g,f;(g=this._widget)===null||g===void 0||g.dispose(),(f=this._model)===null||f===void 0||f.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,b&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(b){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const g=o.Range.lift(b.range).collapseToStart();return this._editorService.openCodeEditor({resource:b.uri,options:{selection:g}},this._editor).then(f=>{var y;if(this._ignoreModelChangeEvent=!1,!f||!this._widget){this.closeWidget();return}if(this._editor===f)this._widget.show(g),this._widget.focusOnReferenceTree();else{const I=Lt.get(f),N=this._model.clone();this.closeWidget(),f.focus(),I.toggleWidget(g,u.createCancelablePromise(D=>Promise.resolve(N)),(y=this._peekMode)!==null&&y!==void 0?y:!1)}},f=>{this._ignoreModelChangeEvent=!1,k.onUnexpectedError(f)})}openReference(b,g,f){g||this.closeWidget();const{uri:y,range:I}=b;this._editorService.openCodeEditor({resource:y,options:{selection:I,pinned:f}},this._editor,g)}};h.ID="editor.contrib.referencesController",h=Me([_e(2,m.IContextKeyService),_e(3,L.ICodeEditorService),_e(4,c.INotificationService),_e(5,S.IInstantiationService),_e(6,i.IStorageService),_e(7,v.IConfigurationService)],h),e.ReferencesController=h;function p(w,b){const g=r.getOuterEditor(w);if(!g)return;let f=h.get(g);f&&b(f)}l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:t.KeyChord(2048|41,60),when:m.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(w){p(w,b=>{b.changeFocusBetweenPreviewAndReferences()})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:m.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(w){p(w,b=>{b.goToNextOrPreviousReference(!0)})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:m.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(w){p(w,b=>{b.goToNextOrPreviousReference(!1)})}}),d.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),d.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),d.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),d.CommandsRegistry.registerCommand("closeReferenceSearch",w=>p(w,b=>b.closeWidget())),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:m.ContextKeyExpr.and(r.PeekContext.inPeekEditor,m.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:m.ContextKeyExpr.and(e.ctxReferenceSearchVisible,m.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:m.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(w){var b;const f=(b=w.get(n.IListService).lastFocusedList)===null||b===void 0?void 0:b.getFocus();Array.isArray(f)&&f[0]instanceof C.OneReference&&p(w,y=>y.revealReference(f[0]))}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:m.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(w){var b;const f=(b=w.get(n.IListService).lastFocusedList)===null||b===void 0?void 0:b.getFocus();Array.isArray(f)&&f[0]instanceof C.OneReference&&p(w,y=>y.openReference(f[0],!0,!0))}}),d.CommandsRegistry.registerCommand("openReference",w=>{var b;const f=(b=w.get(n.IListService).lastFocusedList)===null||b===void 0?void 0:b.getFocus();Array.isArray(f)&&f[0]instanceof C.OneReference&&p(w,y=>y.openReference(f[0],!1,!0))})}),define(ie[277],ne([0,1,44,15,41,17,110,14,28,13,3,25,18,152,124,276,118,491,33,16,34,59,267,26,70,639,38,24,9,20,150]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y,I,N,D){"use strict";var T,P,R,O,A,F,E,W;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,l.MenuRegistry.appendMenuItem(l.MenuId.EditorContext,{submenu:l.MenuId.EditorContextPeek,title:n.localize(0,null),group:"navigation",order:100});const V=new Set;function U(Z){const H=new Z;return m.registerInstantiatedEditorAction(H),V.add(H.id),H}class q extends m.EditorAction{constructor(H,z){super(z);this._configuration=H}run(H,z){if(!z.hasModel())return Promise.resolve(void 0);const ee=H.get(d.INotificationService),x=H.get(v.ICodeEditorService),G=H.get(h.IEditorProgressService),Q=H.get(g.ISymbolNavigationService),J=z.getModel(),le=z.getPosition(),oe=new b.EditorStateCancellationTokenSource(z,1|4),he=k.raceCancellation(this._getLocationModel(J,le,oe.token),oe.token).then(K=>Ie(this,void 0,void 0,function*(){if(!K||oe.token.isCancellationRequested)return;_.alert(K.ariaMessage);let re;if(K.referenceAt(J.uri,le)){const se=this._getAlternativeCommand(z);se!==this.id&&V.has(se)&&(re=z.getAction(se))}const Y=K.references.length;if(Y===0){if(!this._configuration.muteMessage){const se=J.getWordAtPosition(le);a.MessageController.get(z).showMessage(this._getNoResultFoundMessage(se),le)}}else if(Y===1&&re)re.run();else return this._onResult(x,Q,z,K)}),K=>{ee.error(K)}).finally(()=>{oe.dispose()});return G.showWhile(he,250),he}_onResult(H,z,ee,x){return Ie(this,void 0,void 0,function*(){const G=this._getGoToPreference(ee);if(!(ee instanceof D.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||G==="peek"&&x.references.length>1))this._openInPeek(ee,x);else{const Q=x.firstReference(),J=x.references.length>1&&G==="gotoAndPeek",le=yield this._openReference(ee,H,Q,this._configuration.openToSide,!J);J&&le?this._openInPeek(le,x):x.dispose(),G==="goto"&&z.put(Q)}})}_openReference(H,z,ee,x,G){return Ie(this,void 0,void 0,function*(){let Q;if(o.isLocationLink(ee)&&(Q=ee.targetSelectionRange),Q||(Q=ee.range),!Q)return;const J=yield z.openCodeEditor({resource:ee.uri,options:{selection:C.Range.collapseToStart(Q),selectionRevealType:3}},H,x);if(!!J){if(G){const le=J.getModel(),oe=J.deltaDecorations([],[{range:Q,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{J.getModel()===le&&J.deltaDecorations(oe,[])},350)}return J}})}_openInPeek(H,z){let ee=u.ReferencesController.get(H);ee&&H.hasModel()?ee.toggleWidget(H.getSelection(),k.createCancelablePromise(x=>Promise.resolve(z)),this._configuration.openInPeek):z.dispose()}}class j extends q{_getLocationModel(H,z,ee){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield p.getDefinitionsAtPosition(H,z,ee),n.localize(1,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(2,null,H.word):n.localize(3,null)}_getAlternativeCommand(H){return H.getOption(47).alternativeDefinitionCommand}_getGoToPreference(H){return H.getOption(47).multipleDefinitions}}e.DefinitionAction=j;const te=L.isWeb&&!f.isStandalone?2048|70:70;U((T=class Et extends j{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Et.id,label:n.localize(4,null),alias:"Go to Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:te,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:l.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:2,title:n.localize(5,null)}});w.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",Et.id)}},T.id="editor.action.revealDefinition",T)),U((P=class Dt extends j{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Dt.id,label:n.localize(6,null),alias:"Open Definition to the Side",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:M.KeyChord(2048|41,te),weight:100}});w.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",Dt.id)}},P.id="editor.action.revealDefinitionAside",P)),U((R=class It extends j{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:It.id,label:n.localize(7,null),alias:"Peek Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDefinitionProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:l.MenuId.EditorContextPeek,group:"peek",order:2}});w.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",It.id)}},R.id="editor.action.peekDefinition",R));class ae extends q{_getLocationModel(H,z,ee){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield p.getDeclarationsAtPosition(H,z,ee),n.localize(8,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(9,null,H.word):n.localize(10,null)}_getAlternativeCommand(H){return H.getOption(47).alternativeDeclarationCommand}_getGoToPreference(H){return H.getOption(47).multipleDeclarations}}U((O=class Xt extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Xt.id,label:n.localize(11,null),alias:"Go to Declaration",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDeclarationProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:l.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:n.localize(12,null)}})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(13,null,H.word):n.localize(14,null)}},O.id="editor.action.revealDeclaration",O)),U(class extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:n.localize(15,null),alias:"Peek Declaration",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasDeclarationProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:l.MenuId.EditorContextPeek,group:"peek",order:3}})}});class de extends q{_getLocationModel(H,z,ee){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield p.getTypeDefinitionsAtPosition(H,z,ee),n.localize(16,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(17,null,H.word):n.localize(18,null)}_getAlternativeCommand(H){return H.getOption(47).alternativeTypeDefinitionCommand}_getGoToPreference(H){return H.getOption(47).multipleTypeDefinitions}}U((A=class Qt extends de{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Qt.ID,label:n.localize(19,null),alias:"Go to Type Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasTypeDefinitionProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:l.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:n.localize(20,null)}})}},A.ID="editor.action.goToTypeDefinition",A)),U((F=class Jt extends de{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Jt.ID,label:n.localize(21,null),alias:"Peek Type Definition",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasTypeDefinitionProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:l.MenuId.EditorContextPeek,group:"peek",order:4}})}},F.ID="editor.action.peekTypeDefinition",F));class ue extends q{_getLocationModel(H,z,ee){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield p.getImplementationsAtPosition(H,z,ee),n.localize(22,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(23,null,H.word):n.localize(24,null)}_getAlternativeCommand(H){return H.getOption(47).alternativeImplementationCommand}_getGoToPreference(H){return H.getOption(47).multipleImplementations}}U((E=class ei extends ue{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ei.ID,label:n.localize(25,null),alias:"Go to Implementations",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasImplementationProvider,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},menuOpts:{menuId:l.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:4,title:n.localize(26,null)},contextMenuOpts:{group:"navigation",order:1.45}})}},E.ID="editor.action.goToImplementation",E)),U((W=class ti extends ue{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ti.ID,label:n.localize(27,null),alias:"Peek Implementations",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasImplementationProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:l.MenuId.EditorContextPeek,group:"peek",order:5}})}},W.ID="editor.action.peekImplementation",W));class X extends q{_getNoResultFoundMessage(H){return H?n.localize(28,null,H.word):n.localize(29,null)}_getAlternativeCommand(H){return H.getOption(47).alternativeReferenceCommand}_getGoToPreference(H){return H.getOption(47).multipleReferences}}U(class extends X{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:n.localize(30,null),alias:"Go to References",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasReferenceProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:l.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:5,title:n.localize(31,null)}})}_getLocationModel(H,z,ee){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield p.getReferencesAtPosition(H,z,!0,ee),n.localize(32,null))})}}),U(class extends X{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:n.localize(33,null),alias:"Peek References",precondition:t.ContextKeyExpr.and(s.EditorContextKeys.hasReferenceProvider,c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:l.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(H,z,ee){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield p.getReferencesAtPosition(H,z,!1,ee),n.localize(34,null))})}});class B extends q{constructor(H,z,ee){super(H,{id:"editor.action.goToLocation",label:n.localize(35,null),alias:"Go To Any Symbol",precondition:t.ContextKeyExpr.and(c.PeekContext.notInPeekEditor,s.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=z,this._gotoMultipleBehaviour=ee}_getLocationModel(H,z,ee){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(this._references,n.localize(36,null))})}_getNoResultFoundMessage(H){return H&&n.localize(37,null,H.word)||""}_getGoToPreference(H){var z;return(z=this._gotoMultipleBehaviour)!==null&&z!==void 0?z:H.getOption(47).multipleReferences}_getAlternativeCommand(){return""}}w.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(Z,H,z,ee,x,G,Q)=>Ie(void 0,void 0,void 0,function*(){N.assertType(y.URI.isUri(H)),N.assertType(i.Position.isIPosition(z)),N.assertType(Array.isArray(ee)),N.assertType(typeof x=="undefined"||typeof x=="string"),N.assertType(typeof Q=="undefined"||typeof Q=="boolean");const J=Z.get(v.ICodeEditorService),le=yield J.openCodeEditor({resource:H},J.getFocusedCodeEditor());if(S.isCodeEditor(le))return le.setPosition(z),le.revealPositionInCenterIfOutsideViewport(z,0),le.invokeWithinContext(oe=>{const he=new class extends B{_getNoResultFoundMessage(K){return G||super._getNoResultFoundMessage(K)}}({muteMessage:!Boolean(G),openInPeek:Boolean(Q),openToSide:!1},ee,x);oe.get(I.IInstantiationService).invokeFunction(he.run.bind(he),le)})})}),w.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(Z,H,z,ee,x)=>Ie(void 0,void 0,void 0,function*(){Z.get(w.ICommandService).executeCommand("editor.action.goToLocations",H,z,ee,x,void 0,!0)})}),w.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(Z,H,z)=>{N.assertType(y.URI.isUri(H)),N.assertType(i.Position.isIPosition(z));const ee=Z.get(v.ICodeEditorService);return ee.openCodeEditor({resource:H},ee.getFocusedCodeEditor()).then(x=>{if(!S.isCodeEditor(x)||!x.hasModel())return;const G=u.ReferencesController.get(x);if(!G)return;const Q=k.createCancelablePromise(le=>p.getReferencesAtPosition(x.getModel(),i.Position.lift(z),!1,le).then(oe=>new r.ReferencesModel(oe,n.localize(38,null)))),J=new C.Range(z.lineNumber,z.column,z.lineNumber,z.column);return Promise.resolve(G.toggleWidget(J,Q,!1))})}}),w.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(ie[278],ne([0,1,492,15,12,81,57,3,18,14,267,2,67,11,22,70,277,229,13,20,124,16,353]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let p=class rt{constructor(b,g,f){this.textModelResolverService=g,this.modeService=f,this.toUnhook=new s.DisposableStore,this.toUnhookForKeyboard=new s.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=b;let y=new n.ClickLinkGesture(b);this.toUnhook.add(y),this.toUnhook.add(y.onMouseMoveOrRelevantKeyDown(([I,N])=>{this.startFindDefinitionFromMouse(I,t.withNullAsUndefined(N))})),this.toUnhook.add(y.onExecute(I=>{this.isEnabled(I)&&this.gotoDefinition(I.target.position,I.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},N=>{this.removeLinkDecorations(),M.onUnexpectedError(N)})})),this.toUnhook.add(y.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(b){return b.getContribution(rt.ID)}startFindDefinitionFromCursor(b){return this.startFindDefinition(b).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(g=>{g&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(b,g){if(b.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(b,g)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const f=b.target.position;this.startFindDefinition(f)}startFindDefinition(b){var g;this.toUnhookForKeyboard.clear();const f=b?(g=this.editor.getModel())===null||g===void 0?void 0:g.getWordAtPosition(b):null;if(!f)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===f.startColumn&&this.currentWordAtPosition.endColumn===f.endColumn&&this.currentWordAtPosition.word===f.word)return Promise.resolve(0);this.currentWordAtPosition=f;let y=new u.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=k.createCancelablePromise(I=>this.findDefinition(b,I)),this.previousPromise.then(I=>{if(!I||!I.length||!y.validate(this.editor)){this.removeLinkDecorations();return}if(I.length>1)this.addDecoration(new m.Range(b.lineNumber,f.startColumn,b.lineNumber,f.endColumn),new L.MarkdownString().appendText(_.localize(0,null,I.length)));else{let N=I[0];if(!N.uri)return;this.textModelResolverService.createModelReference(N.uri).then(D=>{if(!D.object||!D.object.textEditorModel){D.dispose();return}const{object:{textEditorModel:T}}=D,{startLineNumber:P}=N.range;if(P<1||P>T.getLineCount()){D.dispose();return}const R=this.getPreviewValue(T,P,N);let O;N.originSelectionRange?O=m.Range.lift(N.originSelectionRange):O=new m.Range(b.lineNumber,f.startColumn,b.lineNumber,f.endColumn);const A=this.modeService.getModeIdByFilepathOrFirstLine(T.uri);this.addDecoration(O,new L.MarkdownString().appendCodeblock(A||"",R)),D.dispose()})}}).then(void 0,M.onUnexpectedError)}getPreviewValue(b,g,f){let y=f.targetSelectionRange?f.range:this.getPreviewRangeBasedOnBrackets(b,g);return y.endLineNumber-y.startLineNumber>=rt.MAX_SOURCE_PREVIEW_LINES&&(y=this.getPreviewRangeBasedOnIndentation(b,g)),this.stripIndentationFromPreviewRange(b,g,y)}stripIndentationFromPreviewRange(b,g,f){let I=b.getLineFirstNonWhitespaceColumn(g);for(let D=g+1;D<f.endLineNumber;D++){const T=b.getLineFirstNonWhitespaceColumn(D);I=Math.min(I,T)}return b.getValueInRange(f).replace(new RegExp(`^\\s{${I-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(b,g){const f=b.getLineFirstNonWhitespaceColumn(g),y=Math.min(b.getLineCount(),g+rt.MAX_SOURCE_PREVIEW_LINES);let I=g+1;for(;I<y;I++){let N=b.getLineFirstNonWhitespaceColumn(I);if(f===N)break}return new m.Range(g,1,I+1,1)}getPreviewRangeBasedOnBrackets(b,g){const f=Math.min(b.getLineCount(),g+rt.MAX_SOURCE_PREVIEW_LINES),y=[];let I=!0,N=b.findNextBracket(new l.Position(g,1));for(;N!==null;){if(y.length===0)y.push(N);else{const R=y[y.length-1];if(R.open[0]===N.open[0]&&R.isOpen&&!N.isOpen?y.pop():y.push(N),y.length===0)if(I)I=!1;else return new m.Range(g,1,N.range.endLineNumber+1,1)}const D=b.getLineMaxColumn(g);let T=N.range.endLineNumber,P=N.range.endColumn;if(D===N.range.endColumn&&(T++,P=1),T>f)return new m.Range(g,1,f+1,1);N=b.findNextBracket(new l.Position(T,P))}return new m.Range(g,1,f+1,1)}addDecoration(b,g){const f={range:b,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:g}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[f])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(b,g){return this.editor.hasModel()&&b.isNoneOrSingleMouseDown&&b.target.type===6&&(b.hasTriggerModifier||(g?g.keyCodeIsTriggerKey:!1))&&v.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(b,g){const f=this.editor.getModel();return f?C.getDefinitionsAtPosition(f,b,g):Promise.resolve(null)}gotoDefinition(b,g){return this.editor.setPosition(b),this.editor.invokeWithinContext(f=>{const y=!g&&this.editor.getOption(75)&&!this.isInPeekEditor(f);return new r.DefinitionAction({openToSide:g,openInPeek:y,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(f,this.editor)})}isInPeekEditor(b){const g=b.get(h.IContextKeyService);return d.PeekContext.inPeekEditor.getValue(g)}dispose(){this.toUnhook.dispose()}};p.ID="editor.contrib.gotodefinitionatposition",p.MAX_SOURCE_PREVIEW_LINES=8,p=Me([_e(1,o.ITextModelService),_e(2,S.IModeService)],p),e.GotoDefinitionAtPositionEditorContribution=p,i.registerEditorContribution(p.ID,p),a.registerThemingParticipant((w,b)=>{const g=w.getColor(c.editorActiveLinkForeground);g&&b.addRule(`.monaco-editor .goto-definition-link { color: ${g} !important; }`)})}),define(ie[684],ne([0,1,15,2,14,18,36,257,11,40,275,251]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let o=class extends k.Disposable{constructor(c,u,r,n){super();this._modelService=u,this._themeService=r,this._configurationService=n,this._editor=c,this._tokenizeViewport=new _.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(l=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(L.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration(C.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let u=0,r=this._outstandingRequests.length;u<r;u++)if(this._outstandingRequests[u]===c){this._outstandingRequests.splice(u,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const c=this._editor.getModel();if(c.hasCompleteSemanticTokens())return;if(!C.isSemanticColoringEnabled(c,this._themeService,this._configurationService)){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const u=s.getDocumentRangeSemanticTokensProvider(c);if(!u){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const r=this._modelService.getSemanticTokensProviderStyling(u),n=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(n.map(l=>this._requestRange(c,l,u,r)))}_requestRange(c,u,r,n){const l=c.getVersionId(),t=_.createCancelablePromise(d=>Promise.resolve(r.provideDocumentRangeSemanticTokens(c,u,d)));return t.then(d=>{!d||c.isDisposed()||c.getVersionId()!==l||c.setPartialSemanticTokens(u,m.toMultilineTokens2(d,n,c.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(t),()=>this._removeOutstandingRequest(t)),t}};o.ID="editor.contrib.viewportSemanticTokens",o=Me([_e(1,S.IModelService),_e(2,v.IThemeService),_e(3,i.IConfigurationService)],o),M.registerEditorContribution(o.ID,o)}),define(ie[685],ne([0,1,14,28,276,40,16,9,34,78]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let C=class extends M.ReferencesController{constructor(o,a,c,u,r,n,l){super(!0,o,a,c,u,r,n,l)}};C=Me([_e(1,S.IContextKeyService),_e(2,k.ICodeEditorService),_e(3,v.INotificationService),_e(4,m.IInstantiationService),_e(5,i.IStorageService),_e(6,L.IConfigurationService)],C),e.StandaloneReferencesController=C,_.registerEditorContribution(M.ReferencesController.ID,C)}),define(ie[686],ne([0,1,543,154,12,74,120,73,46,34,2]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const s=!1;function o(w){return w.scheme===v.Schemas.file?w.fsPath:w.path}let a=0;class c{constructor(b,g,f,y,I,N,D){this.id=++a,this.type=0,this.actual=b,this.label=b.label,this.confirmBeforeUndo=b.confirmBeforeUndo||!1,this.resourceLabel=g,this.strResource=f,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=y,this.groupOrder=I,this.sourceId=N,this.sourceOrder=D,this.isValid=!0}setValid(b){this.isValid=b}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class u{constructor(b,g){this.resourceLabel=b,this.reason=g}}class r{constructor(){this.elements=new Map}createMessage(){const b=[],g=[];for(const[,y]of this.elements)(y.reason===0?b:g).push(y.resourceLabel);let f=[];return b.length>0&&f.push(_.localize(0,null,b.join(", "))),g.length>0&&f.push(_.localize(1,null,g.join(", "))),f.join(`
`)}get size(){return this.elements.size}has(b){return this.elements.has(b)}set(b,g){this.elements.set(b,g)}delete(b){return this.elements.delete(b)}}class n{constructor(b,g,f,y,I,N,D){this.id=++a,this.type=1,this.actual=b,this.label=b.label,this.confirmBeforeUndo=b.confirmBeforeUndo||!1,this.resourceLabels=g,this.strResources=f,this.groupId=y,this.groupOrder=I,this.sourceId=N,this.sourceOrder=D,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(b,g,f){this.removedResources||(this.removedResources=new r),this.removedResources.has(g)||this.removedResources.set(g,new u(b,f))}setValid(b,g,f){f?this.invalidatedResources&&(this.invalidatedResources.delete(g),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new r),this.invalidatedResources.has(g)||this.invalidatedResources.set(g,new u(b,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class l{constructor(b,g){this.resourceLabel=b,this.strResource=g,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const b of this._past)b.type===1&&b.removeResource(this.resourceLabel,this.strResource,0);for(const b of this._future)b.type===1&&b.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let b=[];b.push(`* ${this.strResource}:`);for(let g=0;g<this._past.length;g++)b.push(`   * [UNDO] ${this._past[g]}`);for(let g=this._future.length-1;g>=0;g--)b.push(`   * [REDO] ${this._future[g]}`);return b.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(b,g){b.type===1?b.setValid(this.resourceLabel,this.strResource,g):b.setValid(g)}setElementsValidFlag(b,g){for(const f of this._past)g(f.actual)&&this._setElementValidFlag(f,b);for(const f of this._future)g(f.actual)&&this._setElementValidFlag(f,b)}pushElement(b){for(const g of this._future)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(b),this.versionId++}createSnapshot(b){const g=[];for(let f=0,y=this._past.length;f<y;f++)g.push(this._past[f].id);for(let f=this._future.length-1;f>=0;f--)g.push(this._future[f].id);return new k.ResourceEditStackSnapshot(b,g)}restoreSnapshot(b){const g=b.elements.length;let f=!0,y=0,I=-1;for(let D=0,T=this._past.length;D<T;D++,y++){const P=this._past[D];f&&(y>=g||P.id!==b.elements[y])&&(f=!1,I=0),!f&&P.type===1&&P.removeResource(this.resourceLabel,this.strResource,0)}let N=-1;for(let D=this._future.length-1;D>=0;D--,y++){const T=this._future[D];f&&(y>=g||T.id!==b.elements[y])&&(f=!1,N=D),!f&&T.type===1&&T.removeResource(this.resourceLabel,this.strResource,0)}I!==-1&&(this._past=this._past.slice(0,I)),N!==-1&&(this._future=this._future.slice(N+1)),this.versionId++}getElements(){const b=[],g=[];for(const f of this._past)b.push(f.actual);for(const f of this._future)g.push(f.actual);return{past:b,future:g}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(b,g){for(let f=this._past.length-1;f>=0;f--)if(this._past[f]===b){g.has(this.strResource)?this._past[f]=g.get(this.strResource):this._past.splice(f,1);break}this.versionId++}splitFutureWorkspaceElement(b,g){for(let f=this._future.length-1;f>=0;f--)if(this._future[f]===b){g.has(this.strResource)?this._future[f]=g.get(this.strResource):this._future.splice(f,1);break}this.versionId++}moveBackward(b){this._past.pop(),this._future.push(b),this.versionId++}moveForward(b){this._future.pop(),this._past.push(b),this.versionId++}}class t{constructor(b){this.editStacks=b,this._versionIds=[];for(let g=0,f=this.editStacks.length;g<f;g++)this._versionIds[g]=this.editStacks[g].versionId}isValid(){for(let b=0,g=this.editStacks.length;b<g;b++)if(this._versionIds[b]!==this.editStacks[b].versionId)return!1;return!0}}const d=new l("","");d.locked=!0;let h=class{constructor(b,g){this._dialogService=b,this._notificationService=g,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(b){for(const g of this._uriComparisonKeyComputers)if(g[0]===b.scheme)return g[1].getComparisonKey(b);return b.toString()}_print(b){console.log("------------------------------------"),console.log(`AFTER ${b}: `);let g=[];for(const f of this._editStacks)g.push(f[1].toString());console.log(g.join(`
`))}pushElement(b,g=k.UndoRedoGroup.None,f=k.UndoRedoSource.None){if(b.type===0){const y=o(b.resource),I=this.getUriComparisonKey(b.resource);this._pushElement(new c(b,y,I,g.id,g.nextOrder(),f.id,f.nextOrder()))}else{const y=new Set,I=[],N=[];for(const D of b.resources){const T=o(D),P=this.getUriComparisonKey(D);y.has(P)||(y.add(P),I.push(T),N.push(P))}I.length===1?this._pushElement(new c(b,I[0],N[0],g.id,g.nextOrder(),f.id,f.nextOrder())):this._pushElement(new n(b,I,N,g.id,g.nextOrder(),f.id,f.nextOrder()))}s&&this._print("pushElement")}_pushElement(b){for(let g=0,f=b.strResources.length;g<f;g++){const y=b.resourceLabels[g],I=b.strResources[g];let N;this._editStacks.has(I)?N=this._editStacks.get(I):(N=new l(y,I),this._editStacks.set(I,N)),N.pushElement(b)}}getLastElement(b){const g=this.getUriComparisonKey(b);if(this._editStacks.has(g)){const f=this._editStacks.get(g);if(f.hasFutureElements())return null;const y=f.getClosestPastElement();return y?y.actual:null}return null}_splitPastWorkspaceElement(b,g){const f=b.actual.split(),y=new Map;for(const I of f){const N=o(I.resource),D=this.getUriComparisonKey(I.resource),T=new c(I,N,D,0,0,0,0);y.set(T.strResource,T)}for(const I of b.strResources){if(g&&g.has(I))continue;this._editStacks.get(I).splitPastWorkspaceElement(b,y)}}_splitFutureWorkspaceElement(b,g){const f=b.actual.split(),y=new Map;for(const I of f){const N=o(I.resource),D=this.getUriComparisonKey(I.resource),T=new c(I,N,D,0,0,0,0);y.set(T.strResource,T)}for(const I of b.strResources){if(g&&g.has(I))continue;this._editStacks.get(I).splitFutureWorkspaceElement(b,y)}}removeElements(b){const g=typeof b=="string"?b:this.getUriComparisonKey(b);this._editStacks.has(g)&&(this._editStacks.get(g).dispose(),this._editStacks.delete(g)),s&&this._print("removeElements")}setElementsValidFlag(b,g,f){const y=this.getUriComparisonKey(b);this._editStacks.has(y)&&this._editStacks.get(y).setElementsValidFlag(g,f),s&&this._print("setElementsValidFlag")}createSnapshot(b){const g=this.getUriComparisonKey(b);return this._editStacks.has(g)?this._editStacks.get(g).createSnapshot(b):new k.ResourceEditStackSnapshot(b,[])}restoreSnapshot(b){const g=this.getUriComparisonKey(b.resource);if(this._editStacks.has(g)){const f=this._editStacks.get(g);f.restoreSnapshot(b),!f.hasPastElements()&&!f.hasFutureElements()&&(f.dispose(),this._editStacks.delete(g))}s&&this._print("restoreSnapshot")}getElements(b){const g=this.getUriComparisonKey(b);return this._editStacks.has(g)?this._editStacks.get(g).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(b){if(!b)return[null,null];let g=null,f=null;for(const[y,I]of this._editStacks){const N=I.getClosestPastElement();!N||N.sourceId===b&&(!g||N.sourceOrder>g.sourceOrder)&&(g=N,f=y)}return[g,f]}canUndo(b){if(b instanceof k.UndoRedoSource){const[,f]=this._findClosestUndoElementWithSource(b.id);return!!f}const g=this.getUriComparisonKey(b);return this._editStacks.has(g)?this._editStacks.get(g).hasPastElements():!1}_onError(b,g){M.onUnexpectedError(b);for(const f of g.strResources)this.removeElements(f);this._notificationService.error(b)}_acquireLocks(b){for(const g of b.editStacks)if(g.locked)throw new Error("Cannot acquire edit stack lock");for(const g of b.editStacks)g.locked=!0;return()=>{for(const g of b.editStacks)g.locked=!1}}_safeInvokeWithLocks(b,g,f,y,I){const N=this._acquireLocks(f);let D;try{D=g()}catch(T){return N(),y.dispose(),this._onError(T,b)}return D?D.then(()=>(N(),y.dispose(),I()),T=>(N(),y.dispose(),this._onError(T,b))):(N(),y.dispose(),I())}_invokeWorkspacePrepare(b){return Ie(this,void 0,void 0,function*(){if(typeof b.actual.prepareUndoRedo=="undefined")return C.Disposable.None;const g=b.actual.prepareUndoRedo();return typeof g=="undefined"?C.Disposable.None:g})}_invokeResourcePrepare(b,g){if(b.actual.type!==1||typeof b.actual.prepareUndoRedo=="undefined")return g(C.Disposable.None);const f=b.actual.prepareUndoRedo();return f?C.isDisposable(f)?g(f):f.then(y=>g(y)):g(C.Disposable.None)}_getAffectedEditStacks(b){const g=[];for(const f of b.strResources)g.push(this._editStacks.get(f)||d);return new t(g)}_tryToSplitAndUndo(b,g,f,y){if(g.canSplit())return this._splitPastWorkspaceElement(g,f),this._notificationService.warn(y),new p(this._undo(b,0,!0));for(const I of g.strResources)this.removeElements(I);return this._notificationService.warn(y),new p}_checkWorkspaceUndo(b,g,f,y){if(g.removedResources)return this._tryToSplitAndUndo(b,g,g.removedResources,_.localize(2,null,g.label,g.removedResources.createMessage()));if(y&&g.invalidatedResources)return this._tryToSplitAndUndo(b,g,g.invalidatedResources,_.localize(3,null,g.label,g.invalidatedResources.createMessage()));const I=[];for(const D of f.editStacks)D.getClosestPastElement()!==g&&I.push(D.resourceLabel);if(I.length>0)return this._tryToSplitAndUndo(b,g,null,_.localize(4,null,g.label,I.join(", ")));const N=[];for(const D of f.editStacks)D.locked&&N.push(D.resourceLabel);return N.length>0?this._tryToSplitAndUndo(b,g,null,_.localize(5,null,g.label,N.join(", "))):f.isValid()?null:this._tryToSplitAndUndo(b,g,null,_.localize(6,null,g.label))}_workspaceUndo(b,g,f){const y=this._getAffectedEditStacks(g),I=this._checkWorkspaceUndo(b,g,y,!1);return I?I.returnValue:this._confirmAndExecuteWorkspaceUndo(b,g,y,f)}_isPartOfUndoGroup(b){if(!b.groupId)return!1;for(const[,g]of this._editStacks){const f=g.getClosestPastElement();if(!!f){if(f===b){const y=g.getSecondClosestPastElement();if(y&&y.groupId===b.groupId)return!0}if(f.groupId===b.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(b,g,f,y){return Ie(this,void 0,void 0,function*(){if(g.canSplit()&&!this._isPartOfUndoGroup(g)){const D=yield this._dialogService.show(m.default.Info,_.localize(7,null,g.label),[_.localize(8,null,f.editStacks.length),_.localize(9,null),_.localize(10,null)],{cancelId:2});if(D.choice===2)return;if(D.choice===1)return this._splitPastWorkspaceElement(g,null),this._undo(b,0,!0);const T=this._checkWorkspaceUndo(b,g,f,!1);if(T)return T.returnValue;y=!0}let I;try{I=yield this._invokeWorkspacePrepare(g)}catch(D){return this._onError(D,g)}const N=this._checkWorkspaceUndo(b,g,f,!0);if(N)return I.dispose(),N.returnValue;for(const D of f.editStacks)D.moveBackward(g);return this._safeInvokeWithLocks(g,()=>g.actual.undo(),f,I,()=>this._continueUndoInGroup(g.groupId,y))})}_resourceUndo(b,g,f){if(!g.isValid){b.flushAllElements();return}if(b.locked){const y=_.localize(11,null,g.label);this._notificationService.warn(y);return}return this._invokeResourcePrepare(g,y=>(b.moveBackward(g),this._safeInvokeWithLocks(g,()=>g.actual.undo(),new t([b]),y,()=>this._continueUndoInGroup(g.groupId,f))))}_findClosestUndoElementInGroup(b){if(!b)return[null,null];let g=null,f=null;for(const[y,I]of this._editStacks){const N=I.getClosestPastElement();!N||N.groupId===b&&(!g||N.groupOrder>g.groupOrder)&&(g=N,f=y)}return[g,f]}_continueUndoInGroup(b,g){if(!b)return;const[,f]=this._findClosestUndoElementInGroup(b);if(f)return this._undo(f,0,g)}undo(b){if(b instanceof k.UndoRedoSource){const[,g]=this._findClosestUndoElementWithSource(b.id);return g?this._undo(g,b.id,!1):void 0}return typeof b=="string"?this._undo(b,0,!1):this._undo(this.getUriComparisonKey(b),0,!1)}_undo(b,g=0,f){if(!this._editStacks.has(b))return;const y=this._editStacks.get(b),I=y.getClosestPastElement();if(!I)return;if(I.groupId){const[D,T]=this._findClosestUndoElementInGroup(I.groupId);if(I!==D&&T)return this._undo(T,g,f)}if((I.sourceId!==g||I.confirmBeforeUndo)&&!f)return this._confirmAndContinueUndo(b,g,I);try{return I.type===1?this._workspaceUndo(b,I,f):this._resourceUndo(y,I,f)}finally{s&&this._print("undo")}}_confirmAndContinueUndo(b,g,f){return Ie(this,void 0,void 0,function*(){if((yield this._dialogService.show(m.default.Info,_.localize(12,null,f.label),[_.localize(13,null),_.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(b,g,!0)})}_findClosestRedoElementWithSource(b){if(!b)return[null,null];let g=null,f=null;for(const[y,I]of this._editStacks){const N=I.getClosestFutureElement();!N||N.sourceId===b&&(!g||N.sourceOrder<g.sourceOrder)&&(g=N,f=y)}return[g,f]}canRedo(b){if(b instanceof k.UndoRedoSource){const[,f]=this._findClosestRedoElementWithSource(b.id);return!!f}const g=this.getUriComparisonKey(b);return this._editStacks.has(g)?this._editStacks.get(g).hasFutureElements():!1}_tryToSplitAndRedo(b,g,f,y){if(g.canSplit())return this._splitFutureWorkspaceElement(g,f),this._notificationService.warn(y),new p(this._redo(b));for(const I of g.strResources)this.removeElements(I);return this._notificationService.warn(y),new p}_checkWorkspaceRedo(b,g,f,y){if(g.removedResources)return this._tryToSplitAndRedo(b,g,g.removedResources,_.localize(15,null,g.label,g.removedResources.createMessage()));if(y&&g.invalidatedResources)return this._tryToSplitAndRedo(b,g,g.invalidatedResources,_.localize(16,null,g.label,g.invalidatedResources.createMessage()));const I=[];for(const D of f.editStacks)D.getClosestFutureElement()!==g&&I.push(D.resourceLabel);if(I.length>0)return this._tryToSplitAndRedo(b,g,null,_.localize(17,null,g.label,I.join(", ")));const N=[];for(const D of f.editStacks)D.locked&&N.push(D.resourceLabel);return N.length>0?this._tryToSplitAndRedo(b,g,null,_.localize(18,null,g.label,N.join(", "))):f.isValid()?null:this._tryToSplitAndRedo(b,g,null,_.localize(19,null,g.label))}_workspaceRedo(b,g){const f=this._getAffectedEditStacks(g),y=this._checkWorkspaceRedo(b,g,f,!1);return y?y.returnValue:this._executeWorkspaceRedo(b,g,f)}_executeWorkspaceRedo(b,g,f){return Ie(this,void 0,void 0,function*(){let y;try{y=yield this._invokeWorkspacePrepare(g)}catch(N){return this._onError(N,g)}const I=this._checkWorkspaceRedo(b,g,f,!0);if(I)return y.dispose(),I.returnValue;for(const N of f.editStacks)N.moveForward(g);return this._safeInvokeWithLocks(g,()=>g.actual.redo(),f,y,()=>this._continueRedoInGroup(g.groupId))})}_resourceRedo(b,g){if(!g.isValid){b.flushAllElements();return}if(b.locked){const f=_.localize(20,null,g.label);this._notificationService.warn(f);return}return this._invokeResourcePrepare(g,f=>(b.moveForward(g),this._safeInvokeWithLocks(g,()=>g.actual.redo(),new t([b]),f,()=>this._continueRedoInGroup(g.groupId))))}_findClosestRedoElementInGroup(b){if(!b)return[null,null];let g=null,f=null;for(const[y,I]of this._editStacks){const N=I.getClosestFutureElement();!N||N.groupId===b&&(!g||N.groupOrder<g.groupOrder)&&(g=N,f=y)}return[g,f]}_continueRedoInGroup(b){if(!b)return;const[,g]=this._findClosestRedoElementInGroup(b);if(g)return this._redo(g)}redo(b){if(b instanceof k.UndoRedoSource){const[,g]=this._findClosestRedoElementWithSource(b.id);return g?this._redo(g):void 0}return typeof b=="string"?this._redo(b):this._redo(this.getUriComparisonKey(b))}_redo(b){if(!this._editStacks.has(b))return;const g=this._editStacks.get(b),f=g.getClosestFutureElement();if(!!f){if(f.groupId){const[y,I]=this._findClosestRedoElementInGroup(f.groupId);if(f!==y&&I)return this._redo(I)}try{return f.type===1?this._workspaceRedo(b,f):this._resourceRedo(g,f)}finally{s&&this._print("redo")}}}};h=Me([_e(0,S.IDialogService),_e(1,i.INotificationService)],h),e.UndoRedoService=h;class p{constructor(b){this.returnValue=b}}L.registerSingleton(k.IUndoRedoService,h)}),define(ie[193],ne([0,1,9,50]),function($,e,_,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=_.createDecorator("contextService");class M{constructor(m,v,i,C){this._id=m,this._configuration=i,this._ignorePathCasing=C,this._foldersMap=k.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=v}get folders(){return this._folders}set folders(m){this._folders=m,this.updateFoldersMap()}get id(){return this._id}get configuration(){return this._configuration}set configuration(m){this._configuration=m}getFolder(m){return m&&this._foldersMap.findSubstr(m.with({scheme:m.scheme,authority:m.authority,path:m.path}))||null}updateFoldersMap(){this._foldersMap=k.TernarySearchTree.forUris(this._ignorePathCasing);for(const m of this.folders)this._foldersMap.set(m.uri,m)}toJSON(){return{id:this.id,folders:this.folders,configuration:this.configuration}}}e.Workspace=M;class L{constructor(m,v){this.raw=v,this.uri=m.uri,this.index=m.index,this.name=m.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=L}),define(ie[194],ne([0,1,8,7,54,6,41,2,17,73,24,110,138,190,56,13,3,36,26,40,583,565,255,87,567,568,34,193,63]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLayoutService=e.SimpleUriLabelService=e.SimpleBulkEditService=e.updateConfigurationService=e.SimpleWorkspaceContextService=e.StandaloneTelemetryService=e.SimpleResourcePropertiesService=e.SimpleResourceConfigurationService=e.SimpleConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.SimpleNotificationService=e.SimpleDialogService=e.SimpleEditorProgressService=e.SimpleEditorModelResolverService=e.SimpleModel=void 0;class N{constructor(B){this.disposed=!1,this.model=B,this._onWillDispose=new L.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}e.SimpleModel=N;function D(X,B,Z){return s.isCodeEditor(X)?B(X):Z(X)}let T=class{constructor(B){this.modelService=B}setEditor(B){this.editor=B}createModelReference(B){let Z=null;return this.editor&&(Z=D(this.editor,H=>this.findModel(H,B),H=>this.findModel(H.getOriginalEditor(),B)||this.findModel(H.getModifiedEditor(),B))),Z?Promise.resolve(new m.ImmortalReference(new N(Z))):Promise.reject(new Error("Model not found"))}findModel(B,Z){let H=this.modelService.getModel(Z);return H&&H.uri.toString()!==Z.toString()?null:H}};T=Me([_e(0,n.IModelService)],T),e.SimpleEditorModelResolverService=T;class P{show(){return P.NULL_PROGRESS_RUNNER}showWhile(B,Z){return Ie(this,void 0,void 0,function*(){yield B})}}e.SimpleEditorProgressService=P,P.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class R{confirm(B){return this.doConfirm(B).then(Z=>({confirmed:Z,checkboxChecked:!1}))}doConfirm(B){let Z=B.message;return B.detail&&(Z=Z+`

`+B.detail),Promise.resolve(window.confirm(Z))}show(B,Z,H,z){return Promise.resolve({choice:0})}}e.SimpleDialogService=R;class O{info(B){return this.notify({severity:i.default.Info,message:B})}warn(B){return this.notify({severity:i.default.Warning,message:B})}error(B){return this.notify({severity:i.default.Error,message:B})}notify(B){switch(B.severity){case i.default.Error:console.error(B.message);break;case i.default.Warning:console.warn(B.message);break;default:console.log(B.message);break}return O.NO_OP}status(B,Z){return m.Disposable.None}}e.SimpleNotificationService=O,O.NO_OP=new f.NoOpNotification;class A{constructor(B){this._onWillExecuteCommand=new L.Emitter,this._onDidExecuteCommand=new L.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=B}executeCommand(B,...Z){const H=l.CommandsRegistry.getCommand(B);if(!H)return Promise.reject(new Error(`command '${B}' not found`));try{this._onWillExecuteCommand.fire({commandId:B,args:Z});const z=this._instantiationService.invokeFunction.apply(this._instantiationService,[H.handler,...Z]);return this._onDidExecuteCommand.fire({commandId:B,args:Z}),Promise.resolve(z)}catch(z){return Promise.reject(z)}}}e.StandaloneCommandService=A;class F extends h.AbstractKeybindingService{constructor(B,Z,H,z,ee,x){super(B,Z,H,z,ee);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(k.addDisposableListener(x,k.EventType.KEY_DOWN,G=>{const Q=new M.StandardKeyboardEvent(G);this._dispatch(Q,Q.target)&&(Q.preventDefault(),Q.stopPropagation())})),this._register(k.addDisposableListener(window,k.EventType.KEY_UP,G=>{const Q=new M.StandardKeyboardEvent(G);this._singleModifierDispatch(Q,Q.target)&&Q.preventDefault()}))}addDynamicKeybinding(B,Z,H,z){const ee=S.createKeybinding(Z,v.OS),x=new m.DisposableStore;return ee&&(this._dynamicKeybindings.push({keybinding:ee,command:B,when:z,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),x.add(m.toDisposable(()=>{for(let G=0;G<this._dynamicKeybindings.length;G++)if(this._dynamicKeybindings[G].command===B){this._dynamicKeybindings.splice(G,1),this.updateResolver({source:1});return}}))),x.add(l.CommandsRegistry.registerCommand(B,H)),this.updateResolver({source:1}),x}updateResolver(B){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(B)}_getResolver(){if(!this._cachedResolver){const B=this._toNormalizedKeybindingItems(w.KeybindingsRegistry.getDefaultKeybindings(),!0),Z=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new p.KeybindingResolver(B,Z,H=>this._log(H))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(B,Z){let H=[],z=0;for(const ee of B){const x=ee.when||void 0,G=ee.keybinding;if(!G)H[z++]=new b.ResolvedKeybindingItem(void 0,ee.command,ee.commandArgs,x,Z,null,!1);else{const Q=this.resolveKeybinding(G);for(const J of Q)H[z++]=new b.ResolvedKeybindingItem(J,ee.command,ee.commandArgs,x,Z,null,!1)}}return H}resolveKeybinding(B){return[new g.USLayoutResolvedKeybinding(B,v.OS)]}resolveKeyboardEvent(B){let Z=new S.SimpleKeybinding(B.ctrlKey,B.shiftKey,B.altKey,B.metaKey,B.keyCode).toChord();return new g.USLayoutResolvedKeybinding(Z,v.OS)}}e.StandaloneKeybindingService=F;function E(X){return X&&typeof X=="object"&&(!X.overrideIdentifier||typeof X.overrideIdentifier=="string")&&(!X.resource||X.resource instanceof C.URI)}class W{constructor(){this._onDidChangeConfiguration=new L.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new d.Configuration(new d.DefaultConfigurationModel,new d.ConfigurationModel)}getValue(B,Z){const H=typeof B=="string"?B:void 0,z=E(B)?B:E(Z)?Z:{};return this._configuration.getValue(H,z,void 0)}updateValues(B){const Z={data:this._configuration.toData()};let H=[];for(const z of B){const[ee,x]=z;this.getValue(ee)!==x&&(this._configuration.updateValue(ee,x),H.push(ee))}if(H.length>0){const z=new d.ConfigurationChangeEvent({keys:H,overrides:[]},Z,this._configuration);z.source=7,z.sourceConfig=null,this._onDidChangeConfiguration.fire(z)}return Promise.resolve()}}e.SimpleConfigurationService=W;class V{constructor(B){this.configurationService=B,this._onDidChangeConfiguration=new L.Emitter,this.configurationService.onDidChangeConfiguration(Z=>{this._onDidChangeConfiguration.fire({affectedKeys:Z.affectedKeys,affectsConfiguration:(H,z)=>Z.affectsConfiguration(z)})})}getValue(B,Z,H){const ee=(u.Position.isIPosition(Z)?Z:null)?typeof H=="string"?H:void 0:typeof Z=="string"?Z:void 0;return typeof ee=="undefined"?this.configurationService.getValue():this.configurationService.getValue(ee)}}e.SimpleResourceConfigurationService=V;let U=class{constructor(B){this.configurationService=B}getEOL(B,Z){const H=this.configurationService.getValue("files.eol",{overrideIdentifier:Z,resource:B});return H&&H!=="auto"?H:v.isLinux||v.isMacintosh?`
`:`\r
`}};U=Me([_e(0,t.IConfigurationService)],U),e.SimpleResourcePropertiesService=U;class q{publicLog(B,Z){return Promise.resolve(void 0)}publicLog2(B,Z){return this.publicLog(B,Z)}}e.StandaloneTelemetryService=q;class j{constructor(){const B=C.URI.from({scheme:j.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new y.WorkspaceFolder({uri:B,name:"",index:0})]}}getWorkspace(){return this.workspace}}e.SimpleWorkspaceContextService=j,j.SCHEME="inmemory";function te(X,B,Z){if(!B||!(X instanceof W))return;let H=[];Object.keys(B).forEach(z=>{a.isEditorConfigurationKey(z)&&H.push([`editor.${z}`,B[z]]),Z&&a.isDiffEditorConfigurationKey(z)&&H.push([`diffEditor.${z}`,B[z]])}),H.length>0&&X.updateValues(H)}e.updateConfigurationService=te;class ae{constructor(B){this._modelService=B}hasPreviewHandler(){return!1}apply(B,Z){return Ie(this,void 0,void 0,function*(){const H=new Map;for(let x of B){if(!(x instanceof o.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const G=this._modelService.getModel(x.resource);if(!G)throw new Error("bad edit - model not found");if(typeof x.versionId=="number"&&G.getVersionId()!==x.versionId)throw new Error("bad state - model changed in the meantime");let Q=H.get(G);Q||(Q=[],H.set(G,Q)),Q.push(c.EditOperation.replaceMove(r.Range.lift(x.textEdit.range),x.textEdit.text))}let z=0,ee=0;for(const[x,G]of H)x.pushStackElement(),x.pushEditOperations([],G,()=>[]),x.pushStackElement(),ee+=1,z+=G.length;return{ariaSummary:_.format(I.SimpleServicesNLS.bulkEditServiceSummary,z,ee)}})}}e.SimpleBulkEditService=ae;class de{getUriLabel(B,Z){return B.scheme==="file"?B.fsPath:B.path}}e.SimpleUriLabelService=de;class ue{constructor(B,Z){this._codeEditorService=B,this._container=Z,this.onDidLayout=L.Event.None}get dimension(){return this._dimension||(this._dimension=k.getClientArea(window.document.body)),this._dimension}get container(){return this._container}focus(){var B;(B=this._codeEditorService.getFocusedCodeEditor())===null||B===void 0||B.focus()}}e.SimpleLayoutService=ue}),define(ie[687],ne([0,1,44,2,28,149,272,219,75,194,119,33,26,40,16,68,9,37,34,11,64,63,85,59,36,57,264,105]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let I=0,N=!1;function D(){N||(N=!0,_.setARIAContainer(document.body))}let T=class extends L.CodeEditorWidget{constructor(E,W,V,U,q,j,te,ae,de,ue){const X=Object.assign({},W);X.ariaLabel=X.ariaLabel||h.StandaloneCodeEditorNLS.editorViewAccessibleLabel,X.ariaLabel=X.ariaLabel+";"+h.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(E,X,{},V,U,q,j,ae,de,ue),te instanceof i.StandaloneKeybindingService?this._standaloneKeybindingService=te:this._standaloneKeybindingService=null,D()}addCommand(E,W,V){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let U="DYNAMIC_"+ ++I,q=c.ContextKeyExpr.deserialize(V);return this._standaloneKeybindingService.addDynamicKeybinding(U,E,W,q),U}createContextKey(E,W){return this._contextKeyService.createKey(E,W)}addAction(E){if(typeof E.id!="string"||typeof E.label!="string"||typeof E.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const W=E.id,V=E.label,U=c.ContextKeyExpr.and(c.ContextKeyExpr.equals("editorId",this.getId()),c.ContextKeyExpr.deserialize(E.precondition)),q=E.keybindings,j=c.ContextKeyExpr.and(U,c.ContextKeyExpr.deserialize(E.keybindingContext)),te=E.contextMenuGroupId||null,ae=E.contextMenuOrder||0,de=(Z,...H)=>Promise.resolve(E.run(this,...H)),ue=new k.DisposableStore,X=this.getId()+":"+W;if(ue.add(o.CommandsRegistry.registerCommand(X,de)),te){let Z={command:{id:X,title:V},when:U,group:te,order:ae};ue.add(s.MenuRegistry.appendMenuItem(s.MenuId.EditorContext,Z))}if(Array.isArray(q))for(const Z of q)ue.add(this._standaloneKeybindingService.addDynamicKeybinding(X,Z,de,j));let B=new m.InternalEditorAction(X,V,V,U,de,this._contextKeyService);return this._actions[W]=B,ue.add(k.toDisposable(()=>{delete this._actions[W]})),ue}_triggerCommand(E,W){if(this._codeEditorService instanceof f.StandaloneCodeEditorServiceImpl)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(E,W)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(E,W)}};T=Me([_e(2,r.IInstantiationService),_e(3,M.ICodeEditorService),_e(4,o.ICommandService),_e(5,c.IContextKeyService),_e(6,n.IKeybindingService),_e(7,t.IThemeService),_e(8,l.INotificationService),_e(9,d.IAccessibilityService)],T),e.StandaloneCodeEditor=T;let P=class extends T{constructor(E,W,V,U,q,j,te,ae,de,ue,X,B,Z,H,z){const ee=Object.assign({},W);i.updateConfigurationService(B,ee,!1);const x=ue.registerEditorContainer(E);typeof ee.theme=="string"&&ue.setTheme(ee.theme),typeof ee.autoDetectHighContrast!="undefined"&&ue.setAutoDetectHighContrast(Boolean(ee.autoDetectHighContrast));let G=ee.model;delete ee.model,super(E,ee,U,q,j,te,ae,ue,X,Z),this._contextViewService=de,this._configurationService=B,this._standaloneThemeService=ue,this._register(V),this._register(x);let Q;if(typeof G=="undefined"?(Q=O(H,z,ee.value||"",ee.language||y.Mimes.text,void 0),this._ownsModel=!0):(Q=G,this._ownsModel=!1),this._attachModel(Q),Q){let J={oldModelUrl:null,newModelUrl:Q.uri};this._onDidChangeModel.fire(J)}}dispose(){super.dispose()}updateOptions(E){i.updateConfigurationService(this._configurationService,E,!1),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),typeof E.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(E.autoDetectHighContrast)),super.updateOptions(E)}_attachModel(E){super._attachModel(E),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(E){super._postDetachModelCleanup(E),E&&this._ownsModel&&(E.dispose(),this._ownsModel=!1)}};P=Me([_e(3,r.IInstantiationService),_e(4,M.ICodeEditorService),_e(5,o.ICommandService),_e(6,c.IContextKeyService),_e(7,n.IKeybindingService),_e(8,u.IContextViewService),_e(9,C.IStandaloneThemeService),_e(10,l.INotificationService),_e(11,a.IConfigurationService),_e(12,d.IAccessibilityService),_e(13,b.IModelService),_e(14,g.IModeService)],P),e.StandaloneEditor=P;let R=class extends S.DiffEditorWidget{constructor(E,W,V,U,q,j,te,ae,de,ue,X,B,Z,H,z){const ee=Object.assign({},W);i.updateConfigurationService(B,ee,!0);const x=ue.registerEditorContainer(E);typeof ee.theme=="string"&&ue.setTheme(ee.theme),typeof ee.autoDetectHighContrast!="undefined"&&ue.setAutoDetectHighContrast(Boolean(ee.autoDetectHighContrast)),super(E,ee,{},z,ae,q,U,de,ue,X,Z,H),this._contextViewService=te,this._configurationService=B,this._standaloneThemeService=ue,this._register(V),this._register(x),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(E){i.updateConfigurationService(this._configurationService,E,!0),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),typeof E.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(E.autoDetectHighContrast)),super.updateOptions(E)}_createInnerEditor(E,W,V){return E.createInstance(T,W,V)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(E,W,V){return this.getModifiedEditor().addCommand(E,W,V)}createContextKey(E,W){return this.getModifiedEditor().createContextKey(E,W)}addAction(E){return this.getModifiedEditor().addAction(E)}};R=Me([_e(3,r.IInstantiationService),_e(4,c.IContextKeyService),_e(5,n.IKeybindingService),_e(6,u.IContextViewService),_e(7,v.IEditorWorkerService),_e(8,M.ICodeEditorService),_e(9,C.IStandaloneThemeService),_e(10,l.INotificationService),_e(11,a.IConfigurationService),_e(12,u.IContextMenuService),_e(13,w.IEditorProgressService),_e(14,p.IClipboardService)],R),e.StandaloneDiffEditor=R;function O(F,E,W,V,U){if(W=W||"",!V){const q=W.indexOf(`
`);let j=W;return q!==-1&&(j=W.substring(0,q)),A(F,W,E.createByFilepathOrFirstLine(U||null,j),U)}return A(F,W,E.create(V),U)}e.createTextModel=O;function A(F,E,W,V){return F.createModel(E,W,V)}}),define(ie[279],ne([0,1,2,138,28,75,256,57,581,36,275,142,194,264,682,119,33,26,40,584,16,666,68,569,120,9,564,143,37,121,153,69,572,86,34,59,78,88,11,193,665,183,608,64,144,74,582,85,544,154,686,668,77]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y,I,N,D,T,P,R,O,A,F,E,W,V,U,q,j,te,ae,de,ue,X,B,Z,H,z,ee){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicStandaloneServices=e.StaticServices=void 0;var x;(function(Q){const J=new y.ServiceCollection;class le{constructor(se,ge){this._serviceId=se,this._factory=ge,this._value=null}get id(){return this._serviceId}get(se){if(!this._value){if(se&&(this._value=se[this._serviceId.toString()]),this._value||(this._value=this._factory(se)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");J.set(this._serviceId,this._value)}return this._value}}Q.LazyStaticService=le;let oe=[];function he(Y,se){let ge=new le(Y,se);return oe.push(ge),ge}function K(Y){let se=new y.ServiceCollection;for(const[pe,ve]of de.getSingletonServiceDescriptors())se.set(pe,ve);for(let pe in Y)Y.hasOwnProperty(pe)&&se.set(g.createDecorator(pe),Y[pe]);oe.forEach(pe=>se.set(pe.id,pe.get(Y)));let ge=new f.InstantiationService(se,!0);return se.set(g.IInstantiationService,ge),[se,ge]}Q.init=K,Q.instantiationService=he(g.IInstantiationService,()=>new f.InstantiationService(J,!0));const re=new o.SimpleConfigurationService;Q.configurationService=he(l.IConfigurationService,()=>re),Q.resourceConfigurationService=he(s.ITextResourceConfigurationService,()=>new o.SimpleResourceConfigurationService(re)),Q.resourcePropertiesService=he(s.ITextResourcePropertiesService,()=>new o.SimpleResourcePropertiesService(re)),Q.contextService=he(V.IWorkspaceContextService,()=>new o.SimpleWorkspaceContextService),Q.labelService=he(N.ILabelService,()=>new o.SimpleUriLabelService),Q.telemetryService=he(E.ITelemetryService,()=>new o.StandaloneTelemetryService),Q.dialogService=he(b.IDialogService,()=>new o.SimpleDialogService),Q.notificationService=he(O.INotificationService,()=>new o.SimpleNotificationService),Q.markerService=he(R.IMarkerService,()=>new P.MarkerService),Q.modeService=he(m.IModeService,Y=>new v.ModeServiceImpl),Q.standaloneThemeService=he(u.IStandaloneThemeService,()=>new c.StandaloneThemeServiceImpl),Q.logService=he(T.ILogService,()=>new T.LogService(new T.ConsoleLogger)),Q.undoRedoService=he(Z.IUndoRedoService,Y=>new H.UndoRedoService(Q.dialogService.get(Y),Q.notificationService.get(Y))),Q.modelService=he(i.IModelService,Y=>new C.ModelServiceImpl(Q.configurationService.get(Y),Q.resourcePropertiesService.get(Y),Q.standaloneThemeService.get(Y),Q.logService.get(Y),Q.undoRedoService.get(Y))),Q.markerDecorationsService=he(q.IMarkerDecorationsService,Y=>new j.MarkerDecorationsService(Q.modelService.get(Y),Q.markerService.get(Y))),Q.contextKeyService=he(d.IContextKeyService,Y=>new t.ContextKeyService(Q.configurationService.get(Y))),Q.codeEditorService=he(M.ICodeEditorService,Y=>new a.StandaloneCodeEditorServiceImpl(null,Q.contextKeyService.get(Y),Q.standaloneThemeService.get(Y))),Q.editorProgressService=he(A.IEditorProgressService,()=>new o.SimpleEditorProgressService),Q.storageService=he(F.IStorageService,()=>new F.InMemoryStorageService),Q.editorWorkerService=he(L.IEditorWorkerService,Y=>new S.EditorWorkerServiceImpl(Q.modelService.get(Y),Q.resourceConfigurationService.get(Y),Q.logService.get(Y)))})(x=e.StaticServices||(e.StaticServices={}));class G extends _.Disposable{constructor(J,le){super();const[oe,he]=x.init(le);this._serviceCollection=oe,this._instantiationService=he;const K=this.get(l.IConfigurationService),re=this.get(O.INotificationService),Y=this.get(E.ITelemetryService),se=this.get(W.IThemeService),ge=this.get(T.ILogService),pe=this.get(d.IContextKeyService);let ve=(Ae,we)=>{let Se=null;return le&&(Se=le[Ae.toString()]),Se||(Se=we()),this._serviceCollection.set(Ae,Se),Se};ve(te.IAccessibilityService,()=>new ue.AccessibilityService(pe,K)),ve(D.IListService,()=>new D.ListService(se));let Le=ve(n.ICommandService,()=>new o.StandaloneCommandService(this._instantiationService)),Ee=ve(I.IKeybindingService,()=>this._register(new o.StandaloneKeybindingService(pe,Le,Y,re,ge,J))),Te=ve(ae.ILayoutService,()=>new o.SimpleLayoutService(x.codeEditorService.get(M.ICodeEditorService),J));ve(ee.IQuickInputService,()=>new z.StandaloneQuickInputServiceImpl(he,x.codeEditorService.get(M.ICodeEditorService)));let De=ve(p.IContextViewService,()=>this._register(new w.ContextViewService(Te)));ve(X.IClipboardService,()=>new B.BrowserClipboardService),ve(p.IContextMenuService,()=>{const Ae=new h.ContextMenuService(Y,re,De,Ee,se);return Ae.configure({blockMouse:!1}),this._register(Ae)}),ve(r.IMenuService,()=>new U.MenuService(Le)),ve(k.IBulkEditService,()=>new o.SimpleBulkEditService(x.modelService.get(i.IModelService)))}get(J){let le=this._serviceCollection.get(J);if(!le)throw new Error("Missing service "+J);return le}set(J,le){this._serviceCollection.set(J,le)}has(J){return this._serviceCollection.has(J)}}e.DynamicStandaloneServices=G}),define(ie[688],ne([0,1,28,573,217,35,168,109,52,18,76,75,57,67,570,174,558,194,687,279,119,26,40,16,68,9,37,34,58,64,65,59,85,8,36,368]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y,I,N,D,T,P,R,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function A(re,Y,se){let ge=new t.DynamicStandaloneServices(re,Y),pe=null;ge.has(a.ITextModelService)||(pe=new n.SimpleEditorModelResolverService(t.StaticServices.modelService.get()),ge.set(a.ITextModelService,pe)),ge.has(I.IOpenerService)||ge.set(I.IOpenerService,new k.OpenerService(ge.get(_.ICodeEditorService),ge.get(h.ICommandService)));let ve=se(ge);return pe&&pe.setEditor(ve),ve}function F(re,Y,se){return A(re,se||{},ge=>new l.StandaloneEditor(re,Y,ge,ge.get(g.IInstantiationService),ge.get(_.ICodeEditorService),ge.get(h.ICommandService),ge.get(w.IContextKeyService),ge.get(f.IKeybindingService),ge.get(b.IContextViewService),ge.get(d.IStandaloneThemeService),ge.get(y.INotificationService),ge.get(p.IConfigurationService),ge.get(N.IAccessibilityService),ge.get(O.IModelService),ge.get(o.IModeService)))}e.create=F;function E(re){return t.StaticServices.codeEditorService.get().onCodeEditorAdd(Y=>{re(Y)})}e.onDidCreateEditor=E;function W(re,Y,se){return A(re,se||{},ge=>new l.StandaloneDiffEditor(re,Y,ge,ge.get(g.IInstantiationService),ge.get(w.IContextKeyService),ge.get(f.IKeybindingService),ge.get(b.IContextViewService),ge.get(s.IEditorWorkerService),ge.get(_.ICodeEditorService),ge.get(d.IStandaloneThemeService),ge.get(y.INotificationService),ge.get(p.IConfigurationService),ge.get(b.IContextMenuService),ge.get(T.IEditorProgressService),ge.get(P.IClipboardService)))}e.createDiffEditor=W;function V(re,Y){return new M.DiffNavigator(re,Y)}e.createDiffNavigator=V;function U(re,Y,se){return l.createTextModel(t.StaticServices.modelService.get(),t.StaticServices.modeService.get(),re,Y,se)}e.createModel=U;function q(re,Y){t.StaticServices.modelService.get().setMode(re,t.StaticServices.modeService.get().create(Y))}e.setModelLanguage=q;function j(re,Y,se){re&&t.StaticServices.markerService.get().changeOne(Y,re.uri,se)}e.setModelMarkers=j;function te(re){return t.StaticServices.markerService.get().read(re)}e.getModelMarkers=te;function ae(re){return t.StaticServices.markerService.get().onMarkerChanged(re)}e.onDidChangeMarkers=ae;function de(re){return t.StaticServices.modelService.get().getModel(re)}e.getModel=de;function ue(){return t.StaticServices.modelService.get().getModels()}e.getModels=ue;function X(re){return t.StaticServices.modelService.get().onModelAdded(re)}e.onDidCreateModel=X;function B(re){return t.StaticServices.modelService.get().onModelRemoved(re)}e.onWillDisposeModel=B;function Z(re){return t.StaticServices.modelService.get().onModelModeChanged(Y=>{re({model:Y.model,oldLanguage:Y.oldModeId})})}e.onDidChangeModelLanguage=Z;function H(re){return c.createWebWorker(t.StaticServices.modelService.get(),re)}e.createWebWorker=H;function z(re,Y){const se=t.StaticServices.standaloneThemeService.get();return se.registerEditorContainer(re),r.Colorizer.colorizeElement(se,t.StaticServices.modeService.get(),re,Y)}e.colorizeElement=z;function ee(re,Y,se){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),r.Colorizer.colorize(t.StaticServices.modeService.get(),re,Y,se)}e.colorize=ee;function x(re,Y,se=4){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),r.Colorizer.colorizeModelLine(re,Y,se)}e.colorizeModelLine=x;function G(re){let Y=i.TokenizationRegistry.get(re);return Y||{getInitialState:()=>C.NULL_STATE,tokenize:(se,ge,pe,ve)=>C.nullTokenize(re,se,pe,ve)}}function Q(re,Y){t.StaticServices.modeService.get().triggerMode(Y);let ge=G(Y),pe=R.splitLines(re),ve=[],Le=ge.getInitialState();for(let Ee=0,Te=pe.length;Ee<Te;Ee++){let De=pe[Ee],Ae=ge.tokenize(De,!0,Le,0);ve[Ee]=Ae.tokens,Le=Ae.endState}return ve}e.tokenize=Q;function J(re,Y){t.StaticServices.standaloneThemeService.get().defineTheme(re,Y)}e.defineTheme=J;function le(re){t.StaticServices.standaloneThemeService.get().setTheme(re)}e.setTheme=le;function oe(){D.clearAllFontInfos()}e.remeasureFonts=oe;function he(re,Y){return h.CommandsRegistry.registerCommand({id:re,handler:Y})}e.registerCommand=he;function K(){return{create:F,onDidCreateEditor:E,createDiffEditor:W,createDiffNavigator:V,createModel:U,setModelLanguage:q,setModelMarkers:j,getModelMarkers:te,onDidChangeMarkers:ae,getModels:ue,getModel:de,onDidCreateModel:X,onWillDisposeModel:B,onDidChangeModelLanguage:Z,createWebWorker:H,colorizeElement:z,colorize:ee,colorizeModelLine:x,tokenize:Q,defineTheme:J,setTheme:le,remeasureFonts:oe,registerCommand:he,AccessibilitySupport:u.AccessibilitySupport,ContentWidgetPositionPreference:u.ContentWidgetPositionPreference,CursorChangeReason:u.CursorChangeReason,DefaultEndOfLine:u.DefaultEndOfLine,EditorAutoIndentStrategy:u.EditorAutoIndentStrategy,EditorOption:u.EditorOption,EndOfLinePreference:u.EndOfLinePreference,EndOfLineSequence:u.EndOfLineSequence,MinimapPosition:u.MinimapPosition,MouseTargetType:u.MouseTargetType,OverlayWidgetPositionPreference:u.OverlayWidgetPositionPreference,OverviewRulerLane:u.OverviewRulerLane,RenderLineNumbersType:u.RenderLineNumbersType,RenderMinimap:u.RenderMinimap,ScrollbarVisibility:u.ScrollbarVisibility,ScrollType:u.ScrollType,TextEditorCursorBlinkingStyle:u.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:u.TextEditorCursorStyle,TrackedRangeStickiness:u.TrackedRangeStickiness,WrappingIndent:u.WrappingIndent,ConfigurationChangedEvent:L.ConfigurationChangedEvent,BareFontInfo:S.BareFontInfo,FontInfo:S.FontInfo,TextModelResolvedOptions:v.TextModelResolvedOptions,FindMatch:v.FindMatch,EditorType:m.EditorType,EditorOptions:L.EditorOptions}}e.createMonacoEditorAPI=K}),define(ie[689],ne([0,1,29,3,134,18,45,146,174,279,426,250]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.setColorMap=e.TokenizationSupport2Adapter=e.EncodedTokenizationSupport2Adapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function o(H){m.ModesRegistry.registerLanguage(H)}e.register=o;function a(){let H=[];return H=H.concat(m.ModesRegistry.getLanguages()),H}e.getLanguages=a;function c(H){let z=i.StaticServices.modeService.get().getLanguageIdentifier(H);return z?z.id:0}e.getEncodedLanguageId=c;function u(H,z){let ee=i.StaticServices.modeService.get().onDidCreateMode(x=>{x.getId()===H&&(ee.dispose(),z())});return ee}e.onLanguage=u;function r(H,z){let ee=i.StaticServices.modeService.get().getLanguageIdentifier(H);if(!ee)throw new Error(`Cannot set configuration for unknown language ${H}`);return S.LanguageConfigurationRegistry.register(ee,z,100)}e.setLanguageConfiguration=r;class n{constructor(z,ee){this._languageIdentifier=z,this._actual=ee}getInitialState(){return this._actual.getInitialState()}tokenize(z,ee,x,G){if(typeof this._actual.tokenize=="function")return l.adaptTokenize(this._languageIdentifier.language,this._actual,z,x,G);throw new Error("Not supported!")}tokenize2(z,ee,x){let G=this._actual.tokenizeEncoded(z,x);return new M.TokenizationResult2(G.tokens,G.endState)}}e.EncodedTokenizationSupport2Adapter=n;class l{constructor(z,ee,x){this._standaloneThemeService=z,this._languageIdentifier=ee,this._actual=x}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(z,ee,x){let G=[],Q=0;for(let J=0,le=z.length;J<le;J++){const oe=z[J];let he=oe.startIndex;J===0?he=0:he<Q&&(he=Q),G[J]=new M.Token(he+x,oe.scopes,ee),Q=he}return G}static adaptTokenize(z,ee,x,G,Q){let J=ee.tokenize(x,G),le=l._toClassicTokens(J.tokens,z,Q),oe;return J.endState.equals(G)?oe=G:oe=J.endState,new M.TokenizationResult(le,oe)}tokenize(z,ee,x,G){return l.adaptTokenize(this._languageIdentifier.language,this._actual,z,x,G)}_toBinaryTokens(z,ee){const x=this._languageIdentifier.id,G=this._standaloneThemeService.getColorTheme().tokenTheme;let Q=[],J=0,le=0;for(let he=0,K=z.length;he<K;he++){const re=z[he],Y=G.match(x,re.scopes);if(J>0&&Q[J-1]===Y)continue;let se=re.startIndex;he===0?se=0:se<le&&(se=le),Q[J++]=se+ee,Q[J++]=Y,le=se}let oe=new Uint32Array(J);for(let he=0;he<J;he++)oe[he]=Q[he];return oe}tokenize2(z,ee,x,G){let Q=this._actual.tokenize(z,x),J=this._toBinaryTokens(Q.tokens,G),le;return Q.endState.equals(x)?le=x:le=Q.endState,new M.TokenizationResult2(J,le)}}e.TokenizationSupport2Adapter=l;function t(H){return"tokenizeEncoded"in H}function d(H){return H&&typeof H.then=="function"}function h(H){if(H){const z=[null];for(let ee=1,x=H.length;ee<x;ee++)z[ee]=_.Color.fromHex(H[ee]);i.StaticServices.standaloneThemeService.get().setColorMapOverride(z)}else i.StaticServices.standaloneThemeService.get().setColorMapOverride(null)}e.setColorMap=h;function p(H,z){let ee=i.StaticServices.modeService.get().getLanguageIdentifier(H);if(!ee)throw new Error(`Cannot set tokens provider for unknown language ${H}`);const x=G=>t(G)?new n(ee,G):new l(i.StaticServices.standaloneThemeService.get(),ee,G);return d(z)?L.TokenizationRegistry.registerPromise(H,z.then(G=>x(G))):L.TokenizationRegistry.register(H,x(z))}e.setTokensProvider=p;function w(H,z){const ee=x=>s.createTokenizationSupport(i.StaticServices.modeService.get(),i.StaticServices.standaloneThemeService.get(),H,C.compile(H,x));return d(z)?L.TokenizationRegistry.registerPromise(H,z.then(x=>ee(x))):L.TokenizationRegistry.register(H,ee(z))}e.setMonarchTokensProvider=w;function b(H,z){return L.ReferenceProviderRegistry.register(H,z)}e.registerReferenceProvider=b;function g(H,z){return L.RenameProviderRegistry.register(H,z)}e.registerRenameProvider=g;function f(H,z){return L.SignatureHelpProviderRegistry.register(H,z)}e.registerSignatureHelpProvider=f;function y(H,z){return L.HoverProviderRegistry.register(H,{provideHover:(ee,x,G)=>{let Q=ee.getWordAtPosition(x);return Promise.resolve(z.provideHover(ee,x,G)).then(J=>{if(!!J)return!J.range&&Q&&(J.range=new k.Range(x.lineNumber,Q.startColumn,x.lineNumber,Q.endColumn)),J.range||(J.range=new k.Range(x.lineNumber,x.column,x.lineNumber,x.column)),J})}})}e.registerHoverProvider=y;function I(H,z){return L.DocumentSymbolProviderRegistry.register(H,z)}e.registerDocumentSymbolProvider=I;function N(H,z){return L.DocumentHighlightProviderRegistry.register(H,z)}e.registerDocumentHighlightProvider=N;function D(H,z){return L.LinkedEditingRangeProviderRegistry.register(H,z)}e.registerLinkedEditingRangeProvider=D;function T(H,z){return L.DefinitionProviderRegistry.register(H,z)}e.registerDefinitionProvider=T;function P(H,z){return L.ImplementationProviderRegistry.register(H,z)}e.registerImplementationProvider=P;function R(H,z){return L.TypeDefinitionProviderRegistry.register(H,z)}e.registerTypeDefinitionProvider=R;function O(H,z){return L.CodeLensProviderRegistry.register(H,z)}e.registerCodeLensProvider=O;function A(H,z){return L.CodeActionProviderRegistry.register(H,{provideCodeActions:(ee,x,G,Q)=>{let J=i.StaticServices.markerService.get().read({resource:ee.uri}).filter(le=>k.Range.areIntersectingOrTouching(le,x));return z.provideCodeActions(ee,x,{markers:J,only:G.only},Q)}})}e.registerCodeActionProvider=A;function F(H,z){return L.DocumentFormattingEditProviderRegistry.register(H,z)}e.registerDocumentFormattingEditProvider=F;function E(H,z){return L.DocumentRangeFormattingEditProviderRegistry.register(H,z)}e.registerDocumentRangeFormattingEditProvider=E;function W(H,z){return L.OnTypeFormattingEditProviderRegistry.register(H,z)}e.registerOnTypeFormattingEditProvider=W;function V(H,z){return L.LinkProviderRegistry.register(H,z)}e.registerLinkProvider=V;function U(H,z){return L.CompletionProviderRegistry.register(H,z)}e.registerCompletionItemProvider=U;function q(H,z){return L.ColorProviderRegistry.register(H,z)}e.registerColorProvider=q;function j(H,z){return L.FoldingRangeProviderRegistry.register(H,z)}e.registerFoldingRangeProvider=j;function te(H,z){return L.DeclarationProviderRegistry.register(H,z)}e.registerDeclarationProvider=te;function ae(H,z){return L.SelectionRangeRegistry.register(H,z)}e.registerSelectionRangeProvider=ae;function de(H,z){return L.DocumentSemanticTokensProviderRegistry.register(H,z)}e.registerDocumentSemanticTokensProvider=de;function ue(H,z){return L.DocumentRangeSemanticTokensProviderRegistry.register(H,z)}e.registerDocumentRangeSemanticTokensProvider=ue;function X(H,z){return L.InlineCompletionsProviderRegistry.register(H,z)}e.registerInlineCompletionsProvider=X;function B(H,z){return L.InlayHintsProviderRegistry.register(H,z)}e.registerInlayHintsProvider=B;function Z(){return{register:o,getLanguages:a,onLanguage:u,getEncodedLanguageId:c,setLanguageConfiguration:r,setColorMap:h,setTokensProvider:p,setMonarchTokensProvider:w,registerReferenceProvider:b,registerRenameProvider:g,registerCompletionItemProvider:U,registerSignatureHelpProvider:f,registerHoverProvider:y,registerDocumentSymbolProvider:I,registerDocumentHighlightProvider:N,registerLinkedEditingRangeProvider:D,registerDefinitionProvider:T,registerImplementationProvider:P,registerTypeDefinitionProvider:R,registerCodeLensProvider:O,registerCodeActionProvider:A,registerDocumentFormattingEditProvider:F,registerDocumentRangeFormattingEditProvider:E,registerOnTypeFormattingEditProvider:W,registerLinkProvider:V,registerColorProvider:q,registerFoldingRangeProvider:j,registerDeclarationProvider:te,registerSelectionRangeProvider:ae,registerDocumentSemanticTokensProvider:de,registerDocumentRangeSemanticTokensProvider:ue,registerInlineCompletionsProvider:X,registerInlayHintsProvider:B,DocumentHighlightKind:v.DocumentHighlightKind,CompletionItemKind:v.CompletionItemKind,CompletionItemTag:v.CompletionItemTag,CompletionItemInsertTextRule:v.CompletionItemInsertTextRule,SymbolKind:v.SymbolKind,SymbolTag:v.SymbolTag,IndentAction:v.IndentAction,CompletionTriggerKind:v.CompletionTriggerKind,SignatureHelpTriggerKind:v.SignatureHelpTriggerKind,InlayHintKind:v.InlayHintKind,InlineCompletionTriggerKind:v.InlineCompletionTriggerKind,FoldingRangeKind:L.FoldingRangeKind}}e.createMonacoLanguagesAPI=Z}),define(ie[690],ne([0,1,35,222,688,689,17,266]),function($,e,_,k,M,L,S,m){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,_.EditorOptions.wrappingIndent.defaultValue=0,_.EditorOptions.glyphMargin.defaultValue=!1,_.EditorOptions.autoIndent.defaultValue=3,_.EditorOptions.overviewRulerLanes.defaultValue=2,m.FormattingConflicts.setFormatterSelector((C,s,o)=>Promise.resolve(C[0]));const i=k.createMonacoBaseAPI();i.editor=M.createMonacoEditorAPI(),i.languages=L.createMonacoLanguagesAPI(),e.CancellationTokenSource=i.CancellationTokenSource,e.Emitter=i.Emitter,e.KeyCode=i.KeyCode,e.KeyMod=i.KeyMod,e.Position=i.Position,e.Range=i.Range,e.Selection=i.Selection,e.SelectionDirection=i.SelectionDirection,e.MarkerSeverity=i.MarkerSeverity,e.MarkerTag=i.MarkerTag,e.Uri=i.Uri,e.Token=i.Token,e.editor=i.editor,e.languages=i.languages,(((v=S.globals.MonacoEnvironment)===null||v===void 0?void 0:v.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=i),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(ie[691],ne([0,1,24]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";function k(L){const S=L;return typeof(S==null?void 0:S.id)=="string"&&_.URI.isUri(S.uri)}e.isSingleFolderWorkspaceIdentifier=k;function M(L){if(L.configuration)return{id:L.id,configPath:L.configuration};if(L.folders.length===1)return{id:L.id,uri:L.folders[0].uri}}e.toWorkspaceIdentifier=M}),define(ie[692],ne([0,1,519,72,43,116,45,8,691,163,300]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=void 0;class s{constructor(d){this._delegates=d}resolve(d){for(const h of this._delegates){let p=h.resolve(d);if(p!==void 0)return p}}}e.CompositeSnippetVariableResolver=s;class o{constructor(d,h,p,w){this._model=d,this._selection=h,this._selectionIdx=p,this._overtypingCapturer=w}resolve(d){const{name:h}=d;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let p=this._model.getValueInRange(this._selection)||void 0,w=this._selection.startLineNumber!==this._selection.endLineNumber;if(!p&&this._overtypingCapturer){const b=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);b&&(p=b.value,w=b.multiline)}if(p&&w&&d.snippet){const b=this._model.getLineContent(this._selection.startLineNumber),g=m.getLeadingWhitespace(b,0,this._selection.startColumn-1);let f=g;d.snippet.walk(I=>I===d?!1:(I instanceof L.Text&&(f=m.getLeadingWhitespace(m.splitLines(I.value).pop())),!0));const y=m.commonPrefixLength(f,g);p=p.replace(/(\r\n|\r|\n)(.*)/g,(I,N,D)=>`${N}${f.substr(y)}${D}`)}return p}else{if(h==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(h==="TM_CURRENT_WORD"){const p=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return p&&p.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=o;class a{constructor(d,h){this._labelService=d,this._model=h}resolve(d){const{name:h}=d;if(h==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(h==="TM_FILENAME_BASE"){const p=k.basename(this._model.uri.fsPath),w=p.lastIndexOf(".");return w<=0?p:p.slice(0,w)}else{if(h==="TM_DIRECTORY"&&this._labelService)return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(M.dirname(this._model.uri));if(h==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri);if(h==="RELATIVE_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=a;class c{constructor(d,h,p,w){this._readClipboardText=d,this._selectionIdx=h,this._selectionCount=p,this._spread=w}resolve(d){if(d.name!=="CLIPBOARD")return;const h=this._readClipboardText();if(!!h){if(this._spread){const p=h.split(/\r\n|\n|\r/).filter(w=>!m.isFalsyOrWhitespace(w));if(p.length===this._selectionCount)return p[this._selectionIdx]}return h}}}e.ClipboardBasedVariableResolver=c;class u{constructor(d,h){this._model=d,this._selection=h}resolve(d){const{name:h}=d,p=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),w=S.LanguageConfigurationRegistry.getComments(p);if(!!w){if(h==="LINE_COMMENT")return w.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return w.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return w.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=u;class r{resolve(d){const{name:h}=d;if(h==="CURRENT_YEAR")return String(new Date().getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(new Date().getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(new Date().getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(new Date().getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(new Date().getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(new Date().getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return r.dayNames[new Date().getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return r.dayNamesShort[new Date().getDay()];if(h==="CURRENT_MONTH_NAME")return r.monthNames[new Date().getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return r.monthNamesShort[new Date().getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))}}e.TimeBasedVariableResolver=r,r.dayNames=[_.localize(0,null),_.localize(1,null),_.localize(2,null),_.localize(3,null),_.localize(4,null),_.localize(5,null),_.localize(6,null)],r.dayNamesShort=[_.localize(7,null),_.localize(8,null),_.localize(9,null),_.localize(10,null),_.localize(11,null),_.localize(12,null),_.localize(13,null)],r.monthNames=[_.localize(14,null),_.localize(15,null),_.localize(16,null),_.localize(17,null),_.localize(18,null),_.localize(19,null),_.localize(20,null),_.localize(21,null),_.localize(22,null),_.localize(23,null),_.localize(24,null),_.localize(25,null)],r.monthNamesShort=[_.localize(26,null),_.localize(27,null),_.localize(28,null),_.localize(29,null),_.localize(30,null),_.localize(31,null),_.localize(32,null),_.localize(33,null),_.localize(34,null),_.localize(35,null),_.localize(36,null),_.localize(37,null)];class n{constructor(d){this._workspaceService=d}resolve(d){if(!this._workspaceService)return;const h=v.toWorkspaceIdentifier(this._workspaceService.getWorkspace());if(!!h){if(d.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(h);if(d.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(h)}}_resolveWorkspaceName(d){if(v.isSingleFolderWorkspaceIdentifier(d))return k.basename(d.uri.path);let h=k.basename(d.configPath.path);return h.endsWith(v.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-v.WORKSPACE_EXTENSION.length-1)),h}_resoveWorkspacePath(d){if(v.isSingleFolderWorkspaceIdentifier(d))return i.normalizeDriveLetter(d.uri.fsPath);let h=k.basename(d.configPath.path),p=d.configPath.fsPath;return p.endsWith(h)&&(p=p.substr(0,p.length-h.length-1)),p?i.normalizeDriveLetter(p):"/"}}e.WorkspaceBasedVariableResolver=n;class l{resolve(d){const{name:h}=d;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return C.generateUuid()}}e.RandomBasedVariableResolver=l}),define(ie[280],ne([0,1,19,2,8,56,3,21,31,193,9,116,692,11,22,121,361]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0,a.registerThemingParticipant((t,d)=>{function h(p){const w=t.getColor(p);return w?w.toString():"transparent"}d.addRule(`.monaco-editor .snippet-placeholder { background-color: ${h(c.snippetTabstopHighlightBackground)}; outline-color: ${h(c.snippetTabstopHighlightBorder)}; }`),d.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${h(c.snippetFinalTabstopHighlightBackground)}; outline-color: ${h(c.snippetFinalTabstopHighlightBorder)}; }`)});class r{constructor(d,h,p,w){this._editor=d,this._snippet=h,this._offset=p,this._snippetLineLeadingWhitespace=w,this._nestingLevel=1,this._placeholderGroups=_.groupBy(h.placeholders,s.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const d=this._editor.getModel();this._editor.changeDecorations(h=>{for(const p of this._snippet.placeholders){const w=this._snippet.offset(p),b=this._snippet.fullLen(p),g=S.Range.fromPositions(d.getPositionAt(this._offset+w),d.getPositionAt(this._offset+w+b)),f=p.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive,y=h.addDecoration(g,f);this._placeholderDecorations.set(p,y)}})}move(d){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let w=[];for(const b of this._placeholderGroups[this._placeholderGroupsIdx])if(b.transform){const g=this._placeholderDecorations.get(b),f=this._editor.getModel().getDecorationRange(g),y=this._editor.getModel().getValueInRange(f),I=b.transform.resolve(y).split(/\r\n|\r|\n/);for(let N=1;N<I.length;N++)I[N]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+I[N]);w.push(L.EditOperation.replace(f,I.join(this._editor.getModel().getEOL())))}w.length>0&&this._editor.executeEdits("snippet.placeholderTransform",w)}let h=!1;d===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,h=!0):d===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,h=!0);const p=this._editor.getModel().changeDecorations(w=>{const b=new Set,g=[];for(const f of this._placeholderGroups[this._placeholderGroupsIdx]){const y=this._placeholderDecorations.get(f),I=this._editor.getModel().getDecorationRange(y);g.push(new m.Selection(I.startLineNumber,I.startColumn,I.endLineNumber,I.endColumn)),h=h&&this._hasPlaceholderBeenCollapsed(f),w.changeDecorationOptions(y,f.isFinalTabstop?r._decor.activeFinal:r._decor.active),b.add(f);for(const N of this._snippet.enclosingPlaceholders(f)){const D=this._placeholderDecorations.get(N);w.changeDecorationOptions(D,N.isFinalTabstop?r._decor.activeFinal:r._decor.active),b.add(N)}}for(const[f,y]of this._placeholderDecorations)b.has(f)||w.changeDecorationOptions(y,f.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive);return g});return h?this.move(d):p??[]}_hasPlaceholderBeenCollapsed(d){let h=d;for(;h;){if(h instanceof s.Placeholder){const p=this._placeholderDecorations.get(h);if(this._editor.getModel().getDecorationRange(p).isEmpty()&&h.toString().length>0)return!0}h=h.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const d=new Map;for(const h of this._placeholderGroups){let p;for(const w of h){if(w.isFinalTabstop)break;p||(p=[],d.set(w.index,p));const b=this._placeholderDecorations.get(w),g=this._editor.getModel().getDecorationRange(b);if(!g){d.delete(w.index);break}p.push(g)}}return d}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(d){const h=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(p=>{for(const w of this._placeholderGroups[this._placeholderGroupsIdx]){const b=d.shift();console.assert(!b._placeholderDecorations);const g=b._snippet.placeholderInfo.last.index;for(const y of b._snippet.placeholderInfo.all)y.isFinalTabstop?y.index=w.index+(g+1)/this._nestingLevel:y.index=w.index+y.index/this._nestingLevel;this._snippet.replace(w,b._snippet.children);const f=this._placeholderDecorations.get(w);p.removeDecoration(f),this._placeholderDecorations.delete(w);for(const y of b._snippet.placeholders){const I=b._snippet.offset(y),N=b._snippet.fullLen(y),D=S.Range.fromPositions(h.getPositionAt(b._offset+I),h.getPositionAt(b._offset+I+N)),T=p.addDecoration(D,r._decor.inactive);this._placeholderDecorations.set(y,T)}}this._placeholderGroups=_.groupBy(this._snippet.placeholders,s.Placeholder.compareByIndex)})}}e.OneSnippet=r,r._decor={active:v.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:v.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const n={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class l{constructor(d,h,p=n){this._templateMerges=[],this._snippets=[],this._editor=d,this._template=h,this._options=p}static adjustWhitespace(d,h,p,w,b){const g=d.getLineContent(h.lineNumber),f=M.getLeadingWhitespace(g,0,h.column-1);let y;return p.walk(I=>{if(!(I instanceof s.Text)||I.parent instanceof s.Choice)return!0;const N=I.value.split(/\r\n|\r|\n/);if(w){const T=p.offset(I);if(T===0)N[0]=d.normalizeIndentation(N[0]);else{y=y??p.toString();let P=y.charCodeAt(T-1);(P===10||P===13)&&(N[0]=d.normalizeIndentation(f+N[0]))}for(let P=1;P<N.length;P++)N[P]=d.normalizeIndentation(f+N[P])}const D=N.join(d.getEOL());return D!==I.value&&(I.parent.replace(I,[new s.Text(D)]),y=void 0),!0}),f}static adjustSelection(d,h,p,w){if(p!==0||w!==0){const{positionLineNumber:b,positionColumn:g}=h,f=g-p,y=g+w,I=d.validateRange({startLineNumber:b,startColumn:f,endLineNumber:b,endColumn:y});h=m.Selection.createWithDirection(I.startLineNumber,I.startColumn,I.endLineNumber,I.endColumn,h.getDirection())}return h}static createEditsAndSnippets(d,h,p,w,b,g,f,y){const I=[],N=[];if(!d.hasModel())return{edits:I,snippets:N};const D=d.getModel(),T=d.invokeWithinContext(V=>V.get(i.IWorkspaceContextService,C.optional)),P=d.invokeWithinContext(V=>new o.ModelBasedVariableResolver(V.get(u.ILabelService,C.optional),D)),R=()=>f;let O=0,A=D.getValueInRange(l.adjustSelection(D,d.getSelection(),p,0)),F=D.getValueInRange(l.adjustSelection(D,d.getSelection(),0,w)),E=D.getLineFirstNonWhitespaceColumn(d.getSelection().positionLineNumber);const W=d.getSelections().map((V,U)=>({selection:V,idx:U})).sort((V,U)=>S.Range.compareRangesUsingStarts(V.selection,U.selection));for(const{selection:V,idx:U}of W){let q=l.adjustSelection(D,V,p,0),j=l.adjustSelection(D,V,0,w);A!==D.getValueInRange(q)&&(q=V),F!==D.getValueInRange(j)&&(j=V);const te=V.setStartPosition(q.startLineNumber,q.startColumn).setEndPosition(j.endLineNumber,j.endColumn),ae=new s.SnippetParser().parse(h,!0,b),de=te.getStartPosition(),ue=l.adjustWhitespace(D,de,ae,g||U>0&&E!==D.getLineFirstNonWhitespaceColumn(V.positionLineNumber),!0);ae.resolveVariables(new o.CompositeSnippetVariableResolver([P,new o.ClipboardBasedVariableResolver(R,U,W.length,d.getOption(68)==="spread"),new o.SelectionBasedVariableResolver(D,V,U,y),new o.CommentBasedVariableResolver(D,V),new o.TimeBasedVariableResolver,new o.WorkspaceBasedVariableResolver(T),new o.RandomBasedVariableResolver]));const X=D.getOffsetAt(de)+O;O+=ae.toString().length-D.getValueLengthInRange(te),I[U]=L.EditOperation.replace(te,ae.toString()),I[U].identifier={major:U,minor:0},N[U]=new r(d,ae,X,ue)}return{edits:I,snippets:N}}dispose(){k.dispose(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:d,snippets:h}=l.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=h,this._editor.executeEdits("snippet",d,p=>this._snippets[0].hasPlaceholder?this._move(!0):p.filter(w=>!!w.identifier).map(w=>m.Selection.fromPositions(w.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(d,h=n){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,d]);const{edits:p,snippets:w}=l.createEditsAndSnippets(this._editor,d,h.overwriteBefore,h.overwriteAfter,!0,h.adjustWhitespace,h.clipboardText,h.overtypingCapturer);this._editor.executeEdits("snippet",p,b=>{for(const g of this._snippets)g.merge(w);return console.assert(w.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):b.filter(g=>!!g.identifier).map(g=>m.Selection.fromPositions(g.range.getEndPosition()))})}next(){const d=this._move(!0);this._editor.setSelections(d),this._editor.revealPositionInCenterIfOutsideViewport(d[0].getPosition())}prev(){const d=this._move(!1);this._editor.setSelections(d),this._editor.revealPositionInCenterIfOutsideViewport(d[0].getPosition())}_move(d){const h=[];for(const p of this._snippets){const w=p.move(d);h.push(...w)}return h}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const d=this._editor.getSelections();if(d.length<this._snippets.length)return!1;let h=new Map;for(const p of this._snippets){const w=p.computePossibleSelections();if(h.size===0)for(const[b,g]of w){g.sort(S.Range.compareRangesUsingStarts);for(const f of d)if(g[0].containsRange(f)){h.set(b,[]);break}}if(h.size===0)return!1;h.forEach((b,g)=>{b.push(...w.get(g))})}d.sort(S.Range.compareRangesUsingStarts);for(let[p,w]of h){if(w.length!==d.length){h.delete(p);continue}w.sort(S.Range.compareRangesUsingStarts);for(let b=0;b<w.length;b++)if(!w[b].containsRange(d[b])){h.delete(p);continue}}return h.size>0}}e.SnippetSession=l}),define(ie[195],ne([0,1,2,14,3,21,25,123,16,69,280,518]),function($,e,_,k,M,L,S,m,v,i,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const o={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let a=class ot{constructor(r,n,l){this._editor=r,this._logService=n,this._snippetListener=new _.DisposableStore,this._modelVersionId=-1,this._inSnippet=ot.InSnippetMode.bindTo(l),this._hasNextTabstop=ot.HasNextTabstop.bindTo(l),this._hasPrevTabstop=ot.HasPrevTabstop.bindTo(l)}static get(r){return r.getContribution(ot.ID)}dispose(){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(r=this._session)===null||r===void 0||r.dispose(),this._snippetListener.dispose()}insert(r,n){try{this._doInsert(r,typeof n=="undefined"?o:Object.assign(Object.assign({},o),n))}catch(l){this.cancel(),this._logService.error(l),this._logService.error("snippet_error"),this._logService.error("insert_template=",r),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(r,n){!this._editor.hasModel()||(this._snippetListener.clear(),n.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(r,n):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new C.SnippetSession(this._editor,r,n),this._session.insert()),n.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(l=>l.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:r}=this._session;if(!r){this._currentChoice=void 0;return}if(this._currentChoice!==r){this._currentChoice=r,this._editor.setSelections(this._editor.getSelections().map(l=>L.Selection.fromPositions(l.getStartPosition())));const[n]=r.options;m.showSimpleSuggestions(this._editor,r.options.map((l,t)=>({kind:13,label:l.value,insertText:l.value,sortText:"a".repeat(t+1),range:M.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(r=!1){var n;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(n=this._session)===null||n===void 0||n.dispose(),this._session=void 0,this._modelVersionId=-1,r&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};a.ID="snippetController2",a.InSnippetMode=new v.RawContextKey("inSnippetMode",!1,s.localize(0,null)),a.HasNextTabstop=new v.RawContextKey("hasNextTabstop",!1,s.localize(1,null)),a.HasPrevTabstop=new v.RawContextKey("hasPrevTabstop",!1,s.localize(2,null)),a=Me([_e(1,i.ILogService),_e(2,v.IContextKeyService)],a),e.SnippetController2=a,k.registerEditorContribution(a.ID,a);const c=k.EditorCommand.bindToContribution(a.get);k.registerEditorCommand(new c({id:"jumpToNextSnippetPlaceholder",precondition:v.ContextKeyExpr.and(a.InSnippetMode,a.HasNextTabstop),handler:u=>u.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),k.registerEditorCommand(new c({id:"jumpToPrevSnippetPlaceholder",precondition:v.ContextKeyExpr.and(a.InSnippetMode,a.HasPrevTabstop),handler:u=>u.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|2}})),k.registerEditorCommand(new c({id:"leaveSnippet",precondition:a.InSnippetMode,handler:u=>u.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),k.registerEditorCommand(new c({id:"acceptSnippet",precondition:a.InSnippetMode,handler:u=>u.finish()}))}),define(ie[693],ne([0,1,15,12,6,2,21,18,422,123,195,23,75,425,8,85,88,69,16,40]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class d{constructor(g,f,y,I){this.leadingLineContent=g.getLineContent(f.lineNumber).substr(0,f.column-1),this.leadingWord=g.getWordUntilPosition(f),this.lineNumber=f.lineNumber,this.column=f.column,this.auto=y,this.shy=I}static shouldAutoTrigger(g){if(!g.hasModel())return!1;const f=g.getModel(),y=g.getPosition();f.tokenizeIfCheap(y.lineNumber);const I=f.getWordAtPosition(y);return!(!I||I.endColumn!==y.column||!isNaN(Number(I.word)))}}e.LineContext=d;function h(b,g){return Boolean(b.getContextKeyValue("inlineSuggestionVisible"))&&!Boolean(g.getValue("editor.inlineSuggest.allowQuickSuggestions"))}function p(b,g){return Boolean(b.getContextKeyValue("inlineSuggestionVisible"))&&!Boolean(g.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters"))}let w=class ii{constructor(g,f,y,I,N,D,T){this._editor=g,this._editorWorkerService=f,this._clipboardService=y,this._telemetryService=I,this._logService=N,this._contextKeyService=D,this._configurationService=T,this._toDispose=new L.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new L.DisposableStore,this._triggerQuickSuggest=new _.TimeoutTimer,this._state=0,this._completionDisposables=new L.DisposableStore,this._onDidCancel=new M.Emitter,this._onDidTrigger=new M.Emitter,this._onDidSuggest=new M.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new S.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(m.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(R=>{this._onCursorChange(R)}));let P=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{P=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{P=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{P||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){L.dispose(this._triggerCharacterListener),L.dispose([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(77),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(78)||!this._editor.hasModel()||!this._editor.getOption(107))return;const g=new Map;for(const y of m.CompletionProviderRegistry.all(this._editor.getModel()))for(const I of y.triggerCharacters||[]){let N=g.get(I);N||(N=new Set,N.add(i.getSnippetSuggestSupport()),g.set(I,N)),N.add(y)}const f=y=>{if(p(this._contextKeyService,this._configurationService))return;if(!y){const D=this._editor.getPosition();y=this._editor.getModel().getLineContent(D.lineNumber).substr(0,D.column-1)}let I="";c.isLowSurrogate(y.charCodeAt(y.length-1))?c.isHighSurrogate(y.charCodeAt(y.length-2))&&(I=y.substr(y.length-2)):I=y.charAt(y.length-1);const N=g.get(I);if(N){const D=this._completionModel?{items:this._completionModel.adopt(N),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:I},Boolean(this._completionModel),N,D)}};this._triggerCharacterListener.add(this._editor.onDidType(f)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(f))}get state(){return this._state}cancel(g=!1){var f;this._state!==0&&(this._triggerQuickSuggest.cancel(),(f=this._requestToken)===null||f===void 0||f.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:g}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!m.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(g){if(!this._editor.hasModel())return;const f=this._editor.getModel(),y=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!g.selection.isEmpty()||g.reason!==0&&g.reason!==3||g.source!=="keyboard"&&g.source!=="deleteLeft"){this.cancel();return}if(!!m.CompletionProviderRegistry.has(f))if(this._state===0&&g.reason===0){if(this._editor.getOption(76)===!1||!y.containsRange(this._currentSelection)&&!y.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(104).snippetsPreventQuickSuggestions&&C.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!d.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const I=this._editor.getModel(),N=this._editor.getPosition(),D=this._editor.getOption(76);if(D!==!1){if(D!==!0){I.tokenizeIfCheap(N.lineNumber);const T=I.getLineTokens(N.lineNumber),P=T.getStandardTokenType(T.findTokenIndexAtOffset(Math.max(N.column-1-1,0)));if(!(D.other&&P===0||D.comments&&P===1||D.strings&&P===2))return}h(this._contextKeyService,this._configurationService)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)}else this._state!==0&&g.reason===3&&this._refilterCompletionItems()}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const g=this._editor.getModel(),f=this._editor.getPosition(),y=new d(g,f,this._state===2,!1);this._onNewContext(y)})}trigger(g,f=!1,y,I){var N;if(!this._editor.hasModel())return;const D=this._editor.getModel(),T=g.auto,P=new d(D,this._editor.getPosition(),T,g.shy);this.cancel(f),this._state=T?2:1,this._onDidTrigger.fire({auto:T,shy:g.shy,position:this._editor.getPosition()}),this._context=P;let R={triggerKind:(N=g.triggerKind)!==null&&N!==void 0?N:0};g.triggerCharacter&&(R={triggerKind:1,triggerCharacter:g.triggerCharacter}),this._requestToken=new s.CancellationTokenSource;const O=this._editor.getOption(99);let A=1;switch(O){case"top":A=0;break;case"bottom":A=2;break}const{itemKind:F,showDeprecated:E}=ii._createSuggestFilter(this._editor),W=a.WordDistance.create(this._editorWorkerService,this._editor),V=i.provideSuggestionItems(D,this._editor.getPosition(),new i.CompletionOptions(A,F,y,E),R,this._requestToken.token);Promise.all([V,W]).then(([U,q])=>Ie(this,void 0,void 0,function*(){var j;if((j=this._requestToken)===null||j===void 0||j.dispose(),!this._editor.hasModel())return;let te=I==null?void 0:I.clipboardText;if(!te&&U.needsClipboard&&(te=yield this._clipboardService.readText()),this._state===0)return;const ae=this._editor.getModel();let de=U.items;if(I){const X=i.getSuggestionComparator(A);de=de.concat(I.items).sort(X)}const ue=new d(ae,this._editor.getPosition(),T,g.shy);this._completionModel=new v.CompletionModel(de,this._context.column,{leadingLineContent:ue.leadingLineContent,characterCountDelta:ue.column-this._context.column},q,this._editor.getOption(104),this._editor.getOption(99),te),this._completionDisposables.add(U.disposable),this._onNewContext(ue),this._reportDurationsTelemetry(U.durations)})).catch(k.onUnexpectedError)}_reportDurationsTelemetry(g){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(g)}),this._logService.debug("suggest.durations.json",g)})}static _createSuggestFilter(g){const f=new Set;g.getOption(99)==="none"&&f.add(27);const I=g.getOption(104);return I.showMethods||f.add(0),I.showFunctions||f.add(1),I.showConstructors||f.add(2),I.showFields||f.add(3),I.showVariables||f.add(4),I.showClasses||f.add(5),I.showStructs||f.add(6),I.showInterfaces||f.add(7),I.showModules||f.add(8),I.showProperties||f.add(9),I.showEvents||f.add(10),I.showOperators||f.add(11),I.showUnits||f.add(12),I.showValues||f.add(13),I.showConstants||f.add(14),I.showEnums||f.add(15),I.showEnumMembers||f.add(16),I.showKeywords||f.add(17),I.showWords||f.add(18),I.showColors||f.add(19),I.showFiles||f.add(20),I.showReferences||f.add(21),I.showColors||f.add(22),I.showFolders||f.add(23),I.showTypeParameters||f.add(24),I.showSnippets||f.add(27),I.showUsers||f.add(25),I.showIssues||f.add(26),{itemKind:f,showDeprecated:I.showDeprecated}}_onNewContext(g){if(!!this._context){if(g.lineNumber!==this._context.lineNumber){this.cancel();return}if(c.getLeadingWhitespace(g.leadingLineContent)!==c.getLeadingWhitespace(this._context.leadingLineContent)){this.cancel();return}if(g.column<this._context.column){g.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(g.leadingWord.word.length!==0&&g.leadingWord.startColumn>this._context.leadingWord.startColumn){const f=new Set(m.CompletionProviderRegistry.all(this._editor.getModel()));for(let I of this._completionModel.allProvider)f.delete(I);const y=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,f,{items:y,clipboardText:this._completionModel.clipboardText});return}if(g.column>this._context.column&&this._completionModel.incomplete.size>0&&g.leadingWord.word.length!==0){const{incomplete:f}=this._completionModel,y=this._completionModel.adopt(f);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,f,{items:y,clipboardText:this._completionModel.clipboardText})}else{let f=this._completionModel.lineContext,y=!1;if(this._completionModel.lineContext={leadingLineContent:g.leadingLineContent,characterCountDelta:g.column-this._context.column},this._completionModel.items.length===0){if(d.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<g.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=f,y=this._completionModel.items.length>0,y&&g.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:y})}}}}};w=Me([_e(1,o.IEditorWorkerService),_e(2,u.IClipboardService),_e(3,r.ITelemetryService),_e(4,n.ILogService),_e(5,l.IContextKeyService),_e(6,t.IConfigurationService)],w),e.SuggestModel=w}),define(ie[281],ne([0,1,44,19,12,41,2,70,14,56,3,25,195,116,590,521,26,16,9,87,123,562,693,680,563,6,15,20,423,424,13,17,33,23,69,80]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d,h,p,w,b,g,f,y,I,N,D,T,P,R,O,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let F=!1;class E{constructor(te,ae){if(this._model=te,this._position=ae,te.getLineMaxColumn(ae.lineNumber)!==ae.column){const ue=te.getOffsetAt(ae),X=te.getPositionAt(ue+1);this._marker=te.deltaDecorations([],[{range:C.Range.fromPositions(ae,X),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(te){if(this._model.isDisposed()||this._position.lineNumber!==te.lineNumber)return 0;if(this._marker){const ae=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(ae.getStartPosition())-this._model.getOffsetAt(te)}else return this._model.getLineMaxColumn(te.lineNumber)-te.column}}let W=class ni{constructor(te,ae,de,ue,X,B){this._memoryService=ae,this._commandService=de,this._contextKeyService=ue,this._instantiationService=X,this._logService=B,this._lineSuffix=new S.MutableDisposable,this._toDispose=new S.DisposableStore,this.editor=te,this.model=X.createInstance(p.SuggestModel,this.editor);const Z=d.Context.InsertMode.bindTo(ue);Z.set(te.getOption(104).insertMode),this.model.onDidTrigger(()=>Z.set(te.getOption(104).insertMode)),this.widget=this._toDispose.add(new f.IdleValue(()=>{const ee=this._instantiationService.createInstance(w.SuggestWidget,this.editor);this._toDispose.add(ee),this._toDispose.add(ee.onDidSelect(le=>this._insertSuggestion(le,0),this));const x=new I.CommitCharacterController(this.editor,ee,le=>this._insertSuggestion(le,2));this._toDispose.add(x),this._toDispose.add(this.model.onDidSuggest(le=>{le.completionModel.items.length===0&&x.reset()}));const G=d.Context.MakesTextEdit.bindTo(this._contextKeyService),Q=d.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),J=d.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(S.toDisposable(()=>{G.reset(),Q.reset(),J.reset()})),this._toDispose.add(ee.onDidFocus(({item:le})=>{const oe=this.editor.getPosition(),he=le.editStart.column,K=oe.column;let re=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!le.completion.command&&!le.completion.additionalTextEdits&&!(le.completion.insertTextRules&4)&&K-he===le.completion.insertText.length&&(re=this.editor.getModel().getValueInRange({startLineNumber:oe.lineNumber,startColumn:he,endLineNumber:oe.lineNumber,endColumn:K})!==le.completion.insertText),G.set(re),Q.set(!D.Position.equals(le.editInsertEnd,le.editReplaceEnd)),J.set(Boolean(le.provider.resolveCompletionItem)||Boolean(le.completion.documentation)||le.completion.detail!==le.completion.label)})),this._toDispose.add(ee.onDetailsKeyDown(le=>{if(le.toKeybinding().equals(new L.SimpleKeybinding(!0,!1,!1,!1,33))||T.isMacintosh&&le.toKeybinding().equals(new L.SimpleKeybinding(!1,!1,!1,!0,33))){le.stopPropagation();return}le.toKeybinding().isModifierKey()||this.editor.focus()})),ee})),this._overtypingCapturer=this._toDispose.add(new f.IdleValue(()=>this._toDispose.add(new N.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new f.IdleValue(()=>this._toDispose.add(new h.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(X.createInstance(b.WordContextKey,te)),this._toDispose.add(this.model.onDidTrigger(ee=>{this.widget.value.showTriggered(ee.auto,ee.shy?250:50),this._lineSuffix.value=new E(this.editor.getModel(),ee.position)})),this._toDispose.add(this.model.onDidSuggest(ee=>{if(!ee.shy){let x=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ee.completionModel.items);this.widget.value.showSuggestions(ee.completionModel,x,ee.isFrozen,ee.auto)}})),this._toDispose.add(this.model.onDidCancel(ee=>{ee.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{F||(this.model.cancel(),this.model.clear())}));let H=d.Context.AcceptSuggestionsOnEnter.bindTo(ue),z=()=>{const ee=this.editor.getOption(1);H.set(ee==="on"||ee==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>z())),z()}static get(te){return te.getContribution(ni.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(te,ae){if(!te||!te.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const de=this.editor.getModel(),ue=de.getAlternativeVersionId(),{item:X}=te,B=[],Z=new R.CancellationTokenSource;ae&1||this.editor.pushUndoStop();const H=this.getOverwriteInfo(X,Boolean(ae&8));if(this._memoryService.memorize(de,this.editor.getPosition(),X),Array.isArray(X.completion.additionalTextEdits)){const ee=m.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",X.completion.additionalTextEdits.map(x=>i.EditOperation.replace(C.Range.lift(x.range),x.text))),ee.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!X.isResolved){const ee=new A.StopWatch(!0);let x;const G=de.onDidChangeContent(oe=>{if(oe.isFlush){Z.cancel(),G.dispose();return}for(let he of oe.changes){const K=C.Range.getEndPosition(he.range);(!x||D.Position.isBefore(K,x))&&(x=K)}});let Q=ae;ae|=2;let J=!1,le=this.editor.onWillType(()=>{le.dispose(),J=!0,Q&2||this.editor.pushUndoStop()});B.push(X.resolve(Z.token).then(()=>{if(!X.completion.additionalTextEdits||Z.token.isCancellationRequested||x&&X.completion.additionalTextEdits.some(he=>D.Position.isBefore(x,C.Range.getStartPosition(he.range))))return!1;J&&this.editor.pushUndoStop();const oe=m.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",X.completion.additionalTextEdits.map(he=>i.EditOperation.replace(C.Range.lift(he.range),he.text))),oe.restoreRelativeVerticalPositionOfCursor(this.editor),(J||!(Q&2))&&this.editor.pushUndoStop(),!0}).then(oe=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",ee.elapsed(),oe),G.dispose(),le.dispose()}))}let{insertText:z}=X.completion;X.completion.insertTextRules&4||(z=a.SnippetParser.escape(z)),o.SnippetController2.get(this.editor).insert(z,{overwriteBefore:H.overwriteBefore,overwriteAfter:H.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(X.completion.insertTextRules&1),clipboardText:te.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),ae&2||this.editor.pushUndoStop(),X.completion.command?X.completion.command.id===V.id?this.model.trigger({auto:!0,shy:!1},!0):(B.push(this._commandService.executeCommand(X.completion.command.id,...X.completion.command.arguments?[...X.completion.command.arguments]:[]).catch(M.onUnexpectedError)),this.model.cancel()):this.model.cancel(),ae&4&&this._alternatives.value.set(te,ee=>{for(Z.cancel();de.canUndo();){ue!==de.getAlternativeVersionId()&&de.undo(),this._insertSuggestion(ee,1|2|(ae&8?8:0));break}}),this._alertCompletionItem(X),Promise.all(B).finally(()=>{this.model.clear(),Z.dispose()})}getOverwriteInfo(te,ae){y.assertType(this.editor.hasModel());let de=this.editor.getOption(104).insertMode==="replace";ae&&(de=!de);const ue=te.position.column-te.editStart.column,X=(de?te.editReplaceEnd.column:te.editInsertEnd.column)-te.position.column,B=this.editor.getPosition().column-te.position.column,Z=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:ue+B,overwriteAfter:X+Z}}_alertCompletionItem(te){if(k.isNonEmptyArray(te.completion.additionalTextEdits)){let ae=u.localize(0,null,te.textLabel,te.completion.additionalTextEdits.length);_.alert(ae)}}triggerSuggest(te){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,te),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(te){if(!this.editor.hasModel())return;const ae=this.editor.getPosition(),de=()=>{ae.equals(this.editor.getPosition())&&this._commandService.executeCommand(te.fallback)},ue=X=>{if(X.completion.insertTextRules&4||X.completion.additionalTextEdits)return!0;const B=this.editor.getPosition(),Z=X.editStart.column,H=B.column;return H-Z!==X.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:B.lineNumber,startColumn:Z,endLineNumber:B.lineNumber,endColumn:H})!==X.completion.insertText};g.Event.once(this.model.onDidTrigger)(X=>{let B=[];g.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{S.dispose(B),de()},void 0,B),this.model.onDidSuggest(({completionModel:Z})=>{if(S.dispose(B),Z.items.length===0){de();return}const H=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Z.items),z=Z.items[H];if(!ue(z)){de();return}this.editor.pushUndoStop(),this._insertSuggestion({index:H,item:z,model:Z},4|1|2)},void 0,B)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(ae.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(te,ae){const de=this.widget.value.getFocusedItem();let ue=0;te&&(ue|=4),ae&&(ue|=8),this._insertSuggestion(de,ue)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.value.stopForceRenderingAbove()}};W.ID="editor.contrib.suggestController",W=Me([_e(1,c.ISuggestMemoryService),_e(2,r.ICommandService),_e(3,n.IContextKeyService),_e(4,l.IInstantiationService),_e(5,O.ILogService)],W),e.SuggestController=W;class V extends v.EditorAction{constructor(){super({id:V.id,label:u.localize(1,null),alias:"Trigger Suggest",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(te,ae){const de=W.get(ae);!de||de.triggerSuggest()}}e.TriggerSuggestAction=V,V.id="editor.action.triggerSuggest",v.registerEditorContribution(W.ID,W),v.registerEditorAction(V);const U=100+90,q=v.EditorCommand.bindToContribution(W.get);v.registerEditorCommand(new q({id:"acceptSelectedSuggestion",precondition:d.Context.Visible,handler(j){j.acceptSelectedSuggestion(!0,!1)}})),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(d.Context.Visible,s.EditorContextKeys.textInputFocus),primary:2,weight:U}),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(d.Context.Visible,s.EditorContextKeys.textInputFocus,d.Context.AcceptSuggestionsOnEnter,d.Context.MakesTextEdit),primary:3,weight:U}),P.MenuRegistry.appendMenuItem(d.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:u.localize(2,null)},group:"left",order:1,when:d.Context.HasInsertAndReplaceRange.toNegated()}),P.MenuRegistry.appendMenuItem(d.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:u.localize(3,null)},group:"left",order:1,when:n.ContextKeyExpr.and(d.Context.HasInsertAndReplaceRange,d.Context.InsertMode.isEqualTo("insert"))}),P.MenuRegistry.appendMenuItem(d.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:u.localize(4,null)},group:"left",order:1,when:n.ContextKeyExpr.and(d.Context.HasInsertAndReplaceRange,d.Context.InsertMode.isEqualTo("replace"))}),v.registerEditorCommand(new q({id:"acceptAlternativeSelectedSuggestion",precondition:n.ContextKeyExpr.and(d.Context.Visible,s.EditorContextKeys.textInputFocus),kbOpts:{weight:U,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(j){j.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:d.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(d.Context.HasInsertAndReplaceRange,d.Context.InsertMode.isEqualTo("insert")),title:u.localize(5,null)},{menuId:d.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(d.Context.HasInsertAndReplaceRange,d.Context.InsertMode.isEqualTo("replace")),title:u.localize(6,null)}]})),r.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),v.registerEditorCommand(new q({id:"hideSuggestWidget",precondition:d.Context.Visible,handler:j=>j.cancelSuggestWidget(),kbOpts:{weight:U,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),v.registerEditorCommand(new q({id:"selectNextSuggestion",precondition:n.ContextKeyExpr.and(d.Context.Visible,d.Context.MultipleSuggestions),handler:j=>j.selectNextSuggestion(),kbOpts:{weight:U,kbExpr:s.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),v.registerEditorCommand(new q({id:"selectNextPageSuggestion",precondition:n.ContextKeyExpr.and(d.Context.Visible,d.Context.MultipleSuggestions),handler:j=>j.selectNextPageSuggestion(),kbOpts:{weight:U,kbExpr:s.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),v.registerEditorCommand(new q({id:"selectLastSuggestion",precondition:n.ContextKeyExpr.and(d.Context.Visible,d.Context.MultipleSuggestions),handler:j=>j.selectLastSuggestion()})),v.registerEditorCommand(new q({id:"selectPrevSuggestion",precondition:n.ContextKeyExpr.and(d.Context.Visible,d.Context.MultipleSuggestions),handler:j=>j.selectPrevSuggestion(),kbOpts:{weight:U,kbExpr:s.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),v.registerEditorCommand(new q({id:"selectPrevPageSuggestion",precondition:n.ContextKeyExpr.and(d.Context.Visible,d.Context.MultipleSuggestions),handler:j=>j.selectPrevPageSuggestion(),kbOpts:{weight:U,kbExpr:s.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),v.registerEditorCommand(new q({id:"selectFirstSuggestion",precondition:n.ContextKeyExpr.and(d.Context.Visible,d.Context.MultipleSuggestions),handler:j=>j.selectFirstSuggestion()})),v.registerEditorCommand(new q({id:"toggleSuggestionDetails",precondition:d.Context.Visible,handler:j=>j.toggleSuggestionDetails(),kbOpts:{weight:U,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,mac:{primary:256|10}},menuOpts:[{menuId:d.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(d.Context.DetailsVisible,d.Context.CanResolve),title:u.localize(7,null)},{menuId:d.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(d.Context.DetailsVisible.toNegated(),d.Context.CanResolve),title:u.localize(8,null)}]})),v.registerEditorCommand(new q({id:"toggleExplainMode",precondition:d.Context.Visible,handler:j=>j.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),v.registerEditorCommand(new q({id:"toggleSuggestionFocus",precondition:d.Context.Visible,handler:j=>j.toggleSuggestionFocus(),kbOpts:{weight:U,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),v.registerEditorCommand(new q({id:"insertBestCompletion",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),b.WordContextKey.AtEnd,d.Context.Visible.toNegated(),h.SuggestAlternatives.OtherSuggestions.toNegated(),o.SnippetController2.InSnippetMode.toNegated()),handler:(j,te)=>{j.triggerSuggestAndAcceptBest(y.isObject(te)?Object.assign({fallback:"tab"},te):{fallback:"tab"})},kbOpts:{weight:U,primary:2}})),v.registerEditorCommand(new q({id:"insertNextSuggestion",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,d.Context.Visible.toNegated(),o.SnippetController2.InSnippetMode.toNegated()),handler:j=>j.acceptNextSuggestion(),kbOpts:{weight:U,kbExpr:s.EditorContextKeys.textInputFocus,primary:2}})),v.registerEditorCommand(new q({id:"insertPrevSuggestion",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,d.Context.Visible.toNegated(),o.SnippetController2.InSnippetMode.toNegated()),handler:j=>j.acceptPrevSuggestion(),kbOpts:{weight:U,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|2}})),v.registerEditorAction(class extends v.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:u.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(j,te){W.get(te).resetWidgetSize()}})}),define(ie[694],ne([0,1,15,6,2,3,233,268,116,280,281]),function($,e,_,k,M,L,S,m,v,i,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetAdapterModel=void 0;class s extends S.BaseGhostTextWidgetModel{constructor(c){super(c);this.isSuggestWidgetVisible=!1,this.currentGhostText=void 0,this._isActive=!1,this.isShiftKeyPressed=!1,this.minReservedLineCount=0,this.setInactiveDelayed=this._register(new _.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this.isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100));const u=C.SuggestController.get(this.editor);if(u){let r=!1;const n=()=>{r||(r=!0,this._register(u.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})),this._register(u.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.minReservedLineCount=0,this.updateFromSuggestion()})),this._register(u.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})))};this._register(k.Event.once(u.model.onDidTrigger)(l=>{n()}))}this.updateFromSuggestion(),this._register(M.toDisposable(()=>{const r=C.SuggestController.get(this.editor);r&&r.stopForceRenderingAbove()})),this._register(c.onKeyDown(r=>{r.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.updateFromSuggestion())})),this._register(c.onKeyUp(r=>{r.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.updateFromSuggestion())}))}get isActive(){return this._isActive}setExpanded(c){super.setExpanded(c),this.updateFromSuggestion()}isSuggestionPreviewEnabled(){return this.editor.getOption(104).preview}updateFromSuggestion(){const c=C.SuggestController.get(this.editor);if(!c){this.setCurrentInlineCompletion(void 0);return}if(!this.isSuggestWidgetVisible){this.setCurrentInlineCompletion(void 0);return}const u=c.widget.value.getFocusedItem();if(!u){this.setCurrentInlineCompletion(void 0);return}this.setCurrentInlineCompletion(o(c,this.editor.getPosition(),u,this.isShiftKeyPressed))}setCurrentInlineCompletion(c){const u=this.editor.getOptions().get(104).previewMode;this.currentGhostText=c?m.inlineCompletionToGhostText(c,this.editor.getModel(),u)||new S.GhostText(c.range.endLineNumber,[],this.minReservedLineCount):void 0,this.currentGhostText&&this.expanded&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,...this.currentGhostText.parts.map(n=>n.lines.length-1)));const r=C.SuggestController.get(this.editor);r&&(this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?r.forceRenderingAbove():r.stopForceRenderingAbove()),this.onDidChangeEmitter.fire()}get ghostText(){return this.isSuggestionPreviewEnabled()?this.currentGhostText:void 0}}e.SuggestWidgetAdapterModel=s;function o(a,c,u,r){const n=u.item;if(Array.isArray(n.completion.additionalTextEdits))return{text:"",range:L.Range.fromPositions(c,c)};let{insertText:l}=n.completion;if(n.completion.insertTextRules&4){const d=new v.SnippetParser().parse(l),h=a.editor.getModel();i.SnippetSession.adjustWhitespace(h,c,d,!0,!0),l=d.toString()}const t=a.getOverwriteInfo(n,r);return{text:l,range:L.Range.fromPositions(c.delta(0,-t.overwriteBefore),c.delta(0,Math.max(t.overwriteAfter,0)))}}}),define(ie[695],ne([0,1,2,268,694,26,6,13,234]),function($,e,_,k,M,L,S,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextModel=e.DelegatingModel=void 0;class i extends _.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new S.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new _.MutableDisposable)}get targetModel(){var o;return(o=this.currentModelRef.value)===null||o===void 0?void 0:o.object}setTargetModel(o){this.currentModelRef.clear(),this.currentModelRef.value=o?v.createDisposableRef(o,o.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()}get ghostText(){var o,a;return this.hasCachedGhostText||(this.cachedGhostText=(a=(o=this.currentModelRef.value)===null||o===void 0?void 0:o.object)===null||a===void 0?void 0:a.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(o){var a;(a=this.targetModel)===null||a===void 0||a.setExpanded(o)}get expanded(){return this.targetModel?this.targetModel.expanded:!1}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=i;let C=class extends i{constructor(o,a){super();this.editor=o,this.commandService=a,this.suggestWidgetAdapterModel=this._register(new M.SuggestWidgetAdapterModel(this.editor)),this.inlineCompletionsModel=this._register(new k.InlineCompletionsModel(this.editor,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(o){var a;const c=(a=this.activeInlineCompletionsModel)===null||a===void 0?void 0:a.ghostText;return c?c.parts.some(u=>o.containsPosition(new m.Position(c.lineNumber,u.column))):!1}triggerInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.trigger()}commitInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.commitCurrentSuggestion()}hideInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.hide()}showNextInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.showNext()}showPreviousInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.showPrevious()}hasMultipleInlineCompletions(){var o;return Ie(this,void 0,void 0,function*(){const a=yield(o=this.activeInlineCompletionsModel)===null||o===void 0?void 0:o.hasMultipleInlineCompletions();return a!==void 0?a:!1})}};C=Me([_e(1,L.ICommandService)],C),e.GhostTextModel=C}),define(ie[282],ne([0,1,2,14,25,616,503,16,9,695]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.commitInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let C=class si extends _.Disposable{constructor(l,t){super();this.editor=l,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new _.MutableDisposable),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(d=>{d.hasChanged(104)&&this.updateModelController(),d.hasChanged(52)&&this.updateModelController()})),this.updateModelController()}static get(l){return l.getContribution(si.ID)}get activeModel(){var l;return(l=this.activeController.value)===null||l===void 0?void 0:l.model}updateModelController(){const l=this.editor.getOption(104),t=this.editor.getOption(52);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(l.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(o,this.editor):void 0}shouldShowHoverAt(l){var t;return((t=this.activeModel)===null||t===void 0?void 0:t.shouldShowHoverAt(l))||!1}shouldShowHoverAtViewZone(l){var t,d;return((d=(t=this.activeController.value)===null||t===void 0?void 0:t.widget)===null||d===void 0?void 0:d.shouldShowHoverAtViewZone(l))||!1}trigger(){var l;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(l=this.activeModel)===null||l===void 0||l.triggerInlineCompletion()}commit(){var l;(l=this.activeModel)===null||l===void 0||l.commitInlineCompletion()}hide(){var l;(l=this.activeModel)===null||l===void 0||l.hideInlineCompletion()}showNextInlineCompletion(){var l;(l=this.activeModel)===null||l===void 0||l.showNextInlineCompletion()}showPreviousInlineCompletion(){var l;(l=this.activeModel)===null||l===void 0||l.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var l;return Ie(this,void 0,void 0,function*(){const t=yield(l=this.activeModel)===null||l===void 0?void 0:l.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};C.inlineSuggestionVisible=new m.RawContextKey("inlineSuggestionVisible",!1,S.localize(0,null)),C.inlineSuggestionHasIndentation=new m.RawContextKey("inlineSuggestionHasIndentation",!1,S.localize(1,null)),C.ID="editor.contrib.ghostTextController",C=Me([_e(1,v.IInstantiationService)],C),e.GhostTextController=C;class s{constructor(l){this.contextKeyService=l,this.inlineCompletionVisible=C.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=C.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)}}let o=class extends _.Disposable{constructor(l,t,d){super();this.editor=l,this.instantiationService=t,this.contextKeyService=d,this.contextKeys=new s(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(i.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(L.GhostTextWidget,this.editor,this.model)),this._register(_.toDisposable(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var l;this.contextKeys.inlineCompletionVisible.set(((l=this.model.activeInlineCompletionsModel)===null||l===void 0?void 0:l.ghostText)!==void 0);const t=this.model.inlineCompletionsModel.ghostText;if(t&&t.parts.length>0){const{column:d,lines:h}=t.parts[0],p=h[0].startsWith(" ")||h[0].startsWith("	"),w=this.editor.getModel().getLineIndentColumn(t.lineNumber),b=d<=w;this.contextKeys.inlineCompletionSuggestsIndentation.set(!!this.model.activeInlineCompletionsModel&&p&&b)}else this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}};o=Me([_e(1,v.IInstantiationService),_e(2,m.IContextKeyService)],o),e.ActiveGhostTextController=o;const a=k.EditorCommand.bindToContribution(C.get);e.commitInlineSuggestionAction=new a({id:"editor.action.inlineSuggest.commit",precondition:m.ContextKeyExpr.and(C.inlineSuggestionVisible,C.inlineSuggestionHasIndentation.toNegated(),M.EditorContextKeys.tabMovesFocus.toNegated()),kbOpts:{weight:200,primary:2},handler(n){n.commit(),n.editor.focus()}}),k.registerEditorCommand(e.commitInlineSuggestionAction),k.registerEditorCommand(new a({id:"editor.action.inlineSuggest.hide",precondition:C.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(n){n.hide()}}));class c extends k.EditorAction{constructor(){super({id:c.ID,label:S.localize(2,null),alias:"Show Next Inline Suggestion",precondition:m.ContextKeyExpr.and(M.EditorContextKeys.writable,C.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(l,t){return Ie(this,void 0,void 0,function*(){const d=C.get(t);d&&(d.showNextInlineCompletion(),t.focus())})}}e.ShowNextInlineSuggestionAction=c,c.ID="editor.action.inlineSuggest.showNext";class u extends k.EditorAction{constructor(){super({id:u.ID,label:S.localize(3,null),alias:"Show Previous Inline Suggestion",precondition:m.ContextKeyExpr.and(M.EditorContextKeys.writable,C.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(l,t){return Ie(this,void 0,void 0,function*(){const d=C.get(t);d&&(d.showPreviousInlineCompletion(),t.focus())})}}e.ShowPreviousInlineSuggestionAction=u,u.ID="editor.action.inlineSuggest.showPrevious";class r extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:S.localize(4,null),alias:"Trigger Inline Suggestion",precondition:M.EditorContextKeys.writable})}run(l,t){return Ie(this,void 0,void 0,function*(){const d=C.get(t);d&&d.trigger()})}}e.TriggerInlineSuggestionAction=r,k.registerEditorContribution(C.ID,C),k.registerEditorAction(r),k.registerEditorAction(c),k.registerEditorAction(u)}),define(ie[696],ne([0,1,504,231,3,2,282,26,33,16]),function($,e,_,k,M,L,S,m,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class C{constructor(a,c,u){this.owner=a,this.range=c,this.controller=u}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}e.InlineCompletionsHover=C;let s=class{constructor(a,c,u,r,n){this._editor=a,this._commandService=u,this._menuService=r,this._contextKeyService=n}suggestHoverAnchor(a){const c=S.GhostTextController.get(this._editor);if(!c)return null;if(a.target.type===8){const u=a.target.detail;if(c.shouldShowHoverAtViewZone(u.viewZoneId))return new k.HoverForeignElementAnchor(1e3,this,M.Range.fromPositions(u.positionBefore||u.position,u.positionBefore||u.position))}return a.target.type===7&&a.target.range&&c.shouldShowHoverAt(a.target.range)?new k.HoverForeignElementAnchor(1e3,this,a.target.range):a.target.type===6&&a.target.range&&a.target.detail&&a.target.detail.mightBeForeignElement&&c.shouldShowHoverAt(a.target.range)?new k.HoverForeignElementAnchor(1e3,this,a.target.range):null}computeSync(a,c){const u=S.GhostTextController.get(this._editor);return u&&u.shouldShowHoverAt(a.range)?[new C(this,a.range,u)]:[]}renderHoverParts(a,c,u){const r=new L.DisposableStore,n=r.add(this._menuService.createMenu(v.MenuId.InlineCompletionsActions,this._contextKeyService)),l=u.addAction({label:_.localize(0,null),commandId:S.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(S.ShowNextInlineSuggestionAction.ID)}),t=u.addAction({label:_.localize(1,null),commandId:S.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(S.ShowPreviousInlineSuggestionAction.ID)});u.addAction({label:_.localize(2,null),commandId:S.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(S.commitInlineSuggestionAction.id)});const d=[l,t];for(const h of d)h.setEnabled(!1);a[0].hasMultipleSuggestions().then(h=>{for(const p of d)p.setEnabled(h)});for(const[h,p]of n.getActions())for(const w of p)w instanceof v.MenuItemAction&&u.addAction({label:w.label,commandId:w.item.id,run:()=>this._commandService.executeCommand(w.item.id)});return r}};s=Me([_e(2,m.ICommandService),_e(3,v.IMenuService),_e(4,i.IContextKeyService)],s),e.InlineCompletionsHoverParticipant=s}),define(ie[697],ne([0,1,7,2,13,3,31,18,230,11,19,22,51,320,675,9,642,696,640,37,231]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r,n,l,t,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesContentHoverWidget=void 0;const h=_.$;let p=class extends k.Disposable{constructor(f){super();this._keybindingService=f,this._hasContent=!1,this.hoverElement=h("div.hover-row.status-bar"),this.actionsElement=_.append(this.hoverElement,h("div.actions"))}get hasContent(){return this._hasContent}addAction(f){const y=this._keybindingService.lookupKeybinding(f.commandId),I=y?y.getLabel():null;return this._hasContent=!0,this._register(a.HoverAction.render(this.actionsElement,f,I))}append(f){const y=_.append(this.actionsElement,f);return this._hasContent=!0,y}};p=Me([_e(0,t.IKeybindingService)],p);class w{constructor(f,y){this._participants=y,this._editor=f,this._result=[],this._anchor=null}setAnchor(f){this._anchor=f,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(f,y){if(y.type!==1)return[];const I=f.getModel(),N=y.range.startLineNumber,D=I.getLineMaxColumn(N);return f.getLineDecorations(N).filter(T=>{if(T.options.isWholeLine)return!0;const P=T.range.startLineNumber===N?T.range.startColumn:1,R=T.range.endLineNumber===N?T.range.endColumn:D;return!(P>y.range.startColumn||y.range.endColumn>R)})}computeAsync(f){return Ie(this,void 0,void 0,function*(){const y=this._anchor;if(!this._editor.hasModel()||!y)return Promise.resolve([]);const I=w._getLineDecorations(this._editor,y),N=yield Promise.all(this._participants.map(D=>this._computeAsync(D,I,y,f)));return C.flatten(N)})}_computeAsync(f,y,I,N){return Ie(this,void 0,void 0,function*(){return f.computeAsync?f.computeAsync(I,y,N):[]})}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const f=w._getLineDecorations(this._editor,this._anchor);let y=[];for(const I of this._participants)y=y.concat(I.computeSync(this._anchor,f));return C.coalesce(y)}onResult(f,y){y?this._result=f.concat(this._result):this._result=this._result.concat(f)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const f of this._participants)if(f.createLoadingMessage){const y=f.createLoadingMessage(this._anchor);if(y)return this._result.slice(0).concat([y])}}return this._result.slice(0)}}let b=class Nt extends o.Widget{constructor(f,y,I,N){super();this._hoverVisibleKey=y,this._keybindingService=N,this.allowEditorOverflow=!0,this._participants=[I.createInstance(l.ColorHoverParticipant,f,this),I.createInstance(r.MarkdownHoverParticipant,f,this),I.createInstance(n.InlineCompletionsHoverParticipant,f,this),I.createInstance(c.MarkerHoverParticipant,f,this)],this._hover=this._register(new a.HoverWidget),this._id=Nt.ID,this._editor=f,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,D=>{D.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(D=>{D.hasChanged(40)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new w(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new v.HoverOperation(this._computer,D=>this._withResult(D,!0),null,D=>this._withResult(D,!1),this._editor.getOption(50).delay),this._register(_.addStandardDisposableListener(this.getDomNode(),_.EventType.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(_.addStandardDisposableListener(this.getDomNode(),_.EventType.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(f.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(50).delay)})),this._register(m.TokenizationRegistry.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(f){const y=f.target.type;if(y===6)return!0;if(y===7){const I=this._editor.getOption(40).typicalHalfwidthCharacterWidth/2,N=f.target.detail;if(N&&!N.isAfterLines&&typeof N.horizontalDistanceToText=="number"&&N.horizontalDistanceToText<I)return!0}return!1}maybeShowAt(f){var y;const I=[];for(const N of this._participants)if(typeof N.suggestHoverAnchor=="function"){const D=N.suggestHoverAnchor(f);D&&I.push(D)}if(this._shouldShowAt(f)&&f.target.range){const D=[...((y=f.target.element)===null||y===void 0?void 0:y.classList.values())||[]].find(T=>T.startsWith("ced-colorBox"))&&f.target.range.endColumn-f.target.range.startColumn==1?new L.Range(f.target.range.startLineNumber,f.target.range.startColumn+1,f.target.range.endLineNumber,f.target.range.endColumn+1):f.target.range;I.push(new d.HoverRangeAnchor(0,D))}return I.length===0?!1:(I.sort((N,D)=>D.priority-N.priority),this._startShowingAt(I[0],0,!1),!0)}_showAt(f,y,I){this._showAtPosition=f,this._showAtRange=y,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=I,I&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(y=>this._editor.applyFontInfo(y))}_updateContents(f){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(f),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const f=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:y,lineHeight:I}=this._editor.getOption(40);this._hover.contentsDomNode.style.fontSize=`${y}px`,this._hover.contentsDomNode.style.lineHeight=`${I}px`,this._hover.contentsDomNode.style.maxHeight=`${f}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(f,y,I){this._startShowingAt(new d.HoverRangeAnchor(0,f),y,I)}_startShowingAt(f,y,I){if(!(this._lastAnchor&&this._lastAnchor.equals(f))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!f.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const N=this._messages.filter(D=>D.isValidForHoverAnchor(f));if(N.length===0)this.hide();else{if(N.length===this._messages.length)return;this._renderMessages(f,N)}}this._lastAnchor=f,this._computer.setAnchor(f),this._shouldFocus=I,this._hoverOperation.start(y)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(f){this._colorPicker=f}onContentsChanged(){this._hover.onContentsChanged()}_withResult(f,y){this._messages=f,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):y&&this.hide()}_renderMessages(f,y){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let I=1073741824,N=y[0].range,D=null,T=document.createDocumentFragment();const P=new k.DisposableStore,R=new Map;for(const A of y)I=Math.min(I,A.range.startColumn),N=L.Range.plusRange(N,A.range),A.forceShowAtRange&&(D=A.range),R.has(A.owner)||R.set(A.owner,[]),R.get(A.owner).push(A);const O=P.add(new p(this._keybindingService));for(const[A,F]of R)P.add(A.renderHoverParts(F,T,O));O.hasContent&&T.appendChild(O.hoverElement),this._renderDisposable=P,T.hasChildNodes()&&(D?this._showAt(D.getStartPosition(),D,this._shouldFocus):this._showAt(new M.Position(f.range.startLineNumber,I),N,this._shouldFocus),this._updateContents(T)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,N?[{range:N,options:Nt._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};b.ID="editor.contrib.modesContentHoverWidget",b._DECORATION_OPTIONS=S.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),b=Me([_e(2,u.IInstantiationService),_e(3,t.IKeybindingService)],b),e.ModesContentHoverWidget=b,i.registerThemingParticipant((g,f)=>{const y=g.getColor(s.textLinkForeground);y&&f.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${y}; }`)})}),define(ie[283],ne([0,1,498,41,2,14,3,25,57,697,574,58,22,11,278,16,9]),function($,e,_,k,M,L,S,m,v,i,C,s,o,a,c,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let n=class ri{constructor(h,p,w,b,g){this._editor=h,this._instantiationService=p,this._openerService=w,this._modeService=b,this._toUnhook=new M.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(f=>{f.hasChanged(50)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=m.EditorContextKeys.hoverVisible.bindTo(g)}static get(h){return h.getContribution(ri.ID)}_hookEvents(){const h=()=>this._hideWidgets(),p=this._editor.getOption(50);this._isHoverEnabled=p.enabled,this._isHoverSticky=p.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(w=>this._onEditorMouseDown(w))),this._toUnhook.add(this._editor.onMouseUp(w=>this._onEditorMouseUp(w))),this._toUnhook.add(this._editor.onMouseMove(w=>this._onEditorMouseMove(w))),this._toUnhook.add(this._editor.onKeyDown(w=>this._onKeyDown(w))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(w=>this._onEditorMouseMove(w))),this._toUnhook.add(this._editor.onKeyDown(w=>this._onKeyDown(w)))),this._toUnhook.add(this._editor.onMouseLeave(h)),this._toUnhook.add(this._editor.onDidChangeModel(h)),this._toUnhook.add(this._editor.onDidScrollChange(w=>this._onEditorScrollChanged(w)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var h,p;(h=this._contentWidget)===null||h===void 0||h.onModelDecorationsChanged(),(p=this._glyphWidget)===null||p===void 0||p.onModelDecorationsChanged()}_onEditorScrollChanged(h){(h.scrollTopChanged||h.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(h){this._isMouseDown=!0;const p=h.target.type;if(p===9&&h.target.detail===i.ModesContentHoverWidget.ID){this._hoverClicked=!0;return}p===12&&h.target.detail===C.ModesGlyphHoverWidget.ID||(p!==12&&h.target.detail!==C.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(h){this._isMouseDown=!1}_onEditorMouseMove(h){var p,w,b,g,f;let y=h.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&y===9&&h.target.detail===i.ModesContentHoverWidget.ID||this._isHoverSticky&&!((w=(p=h.event.browserEvent.view)===null||p===void 0?void 0:p.getSelection())===null||w===void 0?void 0:w.isCollapsed)||!this._isHoverSticky&&y===9&&h.target.detail===i.ModesContentHoverWidget.ID&&((b=this._contentWidget)===null||b===void 0?void 0:b.isColorPickerVisible())||this._isHoverSticky&&y===12&&h.target.detail===C.ModesGlyphHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(h)){(g=this._glyphWidget)===null||g===void 0||g.hide();return}if(y===2&&h.target.position){(f=this._contentWidget)===null||f===void 0||f.hide(),this._glyphWidget||(this._glyphWidget=new C.ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(h.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(h){h.keyCode!==5&&h.keyCode!==6&&h.keyCode!==57&&h.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var h,p,w;this._isMouseDown&&this._hoverClicked&&((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||(this._hoverClicked=!1,(p=this._glyphWidget)===null||p===void 0||p.hide(),(w=this._contentWidget)===null||w===void 0||w.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(i.ModesContentHoverWidget,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var h;return((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||!1}showContentHover(h,p,w){this._getOrCreateContentWidget().startShowingAtRange(h,p,w)}dispose(){var h,p;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(h=this._glyphWidget)===null||h===void 0||h.dispose(),(p=this._contentWidget)===null||p===void 0||p.dispose()}};n.ID="editor.contrib.hover",n=Me([_e(1,r.IInstantiationService),_e(2,s.IOpenerService),_e(3,v.IModeService),_e(4,u.IContextKeyService)],n),e.ModesHoverController=n;class l extends L.EditorAction{constructor(){super({id:"editor.action.showHover",label:_.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|39),weight:100}})}run(h,p){if(!p.hasModel())return;let w=n.get(p);if(!w)return;const b=p.getPosition(),g=new S.Range(b.lineNumber,b.column,b.lineNumber,b.column),f=p.getOption(2)===2;w.showContentHover(g,1,f)}}class t extends L.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:_.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(h,p){let w=n.get(p);if(!w)return;const b=p.getPosition();if(!b)return;const g=new S.Range(b.lineNumber,b.column,b.lineNumber,b.column);c.GotoDefinitionAtPositionEditorContribution.get(p).startFindDefinitionFromCursor(b).then(()=>{w.showContentHover(g,1,!0)})}}L.registerEditorContribution(n.ID,n),L.registerEditorAction(l),L.registerEditorAction(t),a.registerThemingParticipant((d,h)=>{const p=d.getColor(o.editorHoverHighlight);p&&h.addRule(`.monaco-editor .hoverHighlight { background-color: ${p}; }`);const w=d.getColor(o.editorHoverBackground);w&&h.addRule(`.monaco-editor .monaco-hover { background-color: ${w}; }`);const b=d.getColor(o.editorHoverBorder);b&&(h.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${b}; }`),h.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${b.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${b.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${b.transparent(.5)}; }`));const g=d.getColor(o.textLinkForeground);g&&h.addRule(`.monaco-editor .monaco-hover a { color: ${g}; }`);const f=d.getColor(o.textLinkActiveForeground);f&&h.addRule(`.monaco-editor .monaco-hover a:hover { color: ${f}; }`);const y=d.getColor(o.editorHoverForeground);y&&h.addRule(`.monaco-editor .monaco-hover { color: ${y}; }`);const I=d.getColor(o.editorHoverStatusBarBackground);I&&h.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${I}; }`);const N=d.getColor(o.textCodeBlockBackground);N&&h.addRule(`.monaco-editor .monaco-hover code { background-color: ${N}; }`)})}),define(ie[698],ne([0,1,2,14,283,3,265]),function($,e,_,k,M,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class S extends _.Disposable{constructor(v){super();this._editor=v,this._register(v.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(v){var i;if(v.target.type!==6||![...((i=v.target.element)===null||i===void 0?void 0:i.classList.values())||[]].find(a=>a.startsWith("ced-colorBox"))||!v.target.range)return;const o=this._editor.getContribution(M.ModesHoverController.ID);if(!o.isColorPickerVisible()){const a=new L.Range(v.target.range.startLineNumber,v.target.range.startColumn+1,v.target.range.endLineNumber,v.target.range.endColumn+1);o.showContentHover(a,0,!1)}}}e.ColorContribution=S,S.ID="editor.contrib.colorContribution",k.registerEditorContribution(S.ID,S)}),define(ie[699],ne([0,1,148,149,272,217,625,626,627,628,629,650,632,698,633,634,635,636,273,674,637,638,559,282,277,278,274,283,644,645,643,646,647,648,676,678,651,652,195,281,653,270,654,684,655,271,656,63,130]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var pt=this&&this.__createBinding||(Object.create?function($,e,_,k){k===void 0&&(k=_),Object.defineProperty($,k,{enumerable:!0,get:function(){return e[_]}})}:function($,e,_,k){k===void 0&&(k=_),$[k]=e[_]}),Ct=this&&this.__exportStar||function($,e){for(var _ in $)_!=="default"&&!Object.prototype.hasOwnProperty.call(e,_)&&pt(e,$,_)};define(ie[702],ne([0,1,690,699,657,658,659,587,661,662,660,685,663]),function($,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Ct(_,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-typescript version: 4.6.0(17582eaec0872b9a311ec0dee2853e4fc6ba6cf2)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-typescript/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/lib/typescriptServicesMetadata",["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typescriptVersion=void 0,e.typescriptVersion="4.3.2"})),define("vs/language/typescript/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/typescript/monaco.contribution",["require","exports","./lib/typescriptServicesMetadata","./fillers/monaco-editor-core"],(function(t,e,i,n){"use strict";var r,o,s,a,c;Object.defineProperty(e,"__esModule",{value:!0}),e.getJavaScriptWorker=e.getTypeScriptWorker=e.javascriptDefaults=e.typescriptDefaults=e.typescriptVersion=e.ModuleResolutionKind=e.ScriptTarget=e.NewLineKind=e.JsxEmit=e.ModuleKind=void 0,function(t){t[t.None=0]="None",t[t.CommonJS=1]="CommonJS",t[t.AMD=2]="AMD",t[t.UMD=3]="UMD",t[t.System=4]="System",t[t.ES2015=5]="ES2015",t[t.ESNext=99]="ESNext"}(r=e.ModuleKind||(e.ModuleKind={})),function(t){t[t.None=0]="None",t[t.Preserve=1]="Preserve",t[t.React=2]="React",t[t.ReactNative=3]="ReactNative",t[t.ReactJSX=4]="ReactJSX",t[t.ReactJSXDev=5]="ReactJSXDev"}(o=e.JsxEmit||(e.JsxEmit={})),function(t){t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed"}(s=e.NewLineKind||(e.NewLineKind={})),function(t){t[t.ES3=0]="ES3",t[t.ES5=1]="ES5",t[t.ES2015=2]="ES2015",t[t.ES2016=3]="ES2016",t[t.ES2017=4]="ES2017",t[t.ES2018=5]="ES2018",t[t.ES2019=6]="ES2019",t[t.ES2020=7]="ES2020",t[t.ESNext=99]="ESNext",t[t.JSON=100]="JSON",t[t.Latest=99]="Latest"}(a=e.ScriptTarget||(e.ScriptTarget={})),function(t){t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs"}(c=e.ModuleResolutionKind||(e.ModuleResolutionKind={}));var p=function(){function t(t,e,i){this._onDidChange=new n.Emitter,this._onDidExtraLibsChange=new n.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(t),this.setDiagnosticsOptions(e),this.setWorkerOptions(i),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),t.prototype.getExtraLibs=function(){return this._extraLibs},t.prototype.addExtraLib=function(t,e){var i,n=this;if(i=void 0===e?"ts:extralib-"+Math.random().toString(36).substring(2,15):e,this._extraLibs[i]&&this._extraLibs[i].content===t)return{dispose:function(){}};var r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:t,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var t=n._extraLibs[i];t&&t.version===r&&(delete n._extraLibs[i],n._removedExtraLibs[i]=r,n._fireOnDidExtraLibsChangeSoon())}}},t.prototype.setExtraLibs=function(t){for(var e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),t&&t.length>0)for(var i=0,n=t;i<n.length;i++){var r=n[i],o=(e=r.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),r.content),s=1;this._removedExtraLibs[e]&&(s=this._removedExtraLibs[e]+1),this._extraLibs[e]={content:o,version:s}}this._fireOnDidExtraLibsChangeSoon()},t.prototype._fireOnDidExtraLibsChangeSoon=function(){var t=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout((function(){t._onDidExtraLibsChangeTimeout=-1,t._onDidExtraLibsChange.fire(void 0)}),0))},t.prototype.getCompilerOptions=function(){return this._compilerOptions},t.prototype.setCompilerOptions=function(t){this._compilerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},t.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setWorkerOptions=function(t){this._workerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setMaximumWorkerIdleTime=function(t){},t.prototype.setEagerModelSync=function(t){this._eagerModelSync=t},t.prototype.getEagerModelSync=function(){return this._eagerModelSync},t}();e.typescriptVersion=i.typescriptVersion,e.typescriptDefaults=new p({allowNonTsExtensions:!0,target:a.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{}),e.javascriptDefaults=new p({allowNonTsExtensions:!0,allowJs:!0,target:a.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{});e.getTypeScriptWorker=function(){return u().then((function(t){return t.getTypeScriptWorker()}))};function u(){return new Promise((function(e,i){t(["./tsMode"],e,i)}))}e.getJavaScriptWorker=function(){return u().then((function(t){return t.getJavaScriptWorker()}))},n.languages.typescript={ModuleKind:r,JsxEmit:o,NewLineKind:s,ScriptTarget:a,ModuleResolutionKind:c,typescriptVersion:e.typescriptVersion,typescriptDefaults:e.typescriptDefaults,javascriptDefaults:e.javascriptDefaults,getTypeScriptWorker:e.getTypeScriptWorker,getJavaScriptWorker:e.getJavaScriptWorker},n.languages.onLanguage("typescript",(function(){return u().then((function(t){return t.setupTypeScript(e.typescriptDefaults)}))})),n.languages.onLanguage("javascript",(function(){return u().then((function(t){return t.setupJavaScript(e.javascriptDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-css version: 3.6.0(791b8223f9387a6f516cbc335ce549edb3e4c023)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-css/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/css/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/css/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lessDefaults=n.scssDefaults=n.cssDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setDiagnosticsOptions=function(e){this.setOptions(e)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),s={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},i={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0};function r(){return new Promise((function(n,t){e(["./cssMode"],n,t)}))}n.cssDefaults=new o("css",s,i),n.scssDefaults=new o("scss",s,i),n.lessDefaults=new o("less",s,i),t.languages.css={cssDefaults:n.cssDefaults,lessDefaults:n.lessDefaults,scssDefaults:n.scssDefaults},t.languages.onLanguage("less",(function(){r().then((function(e){return e.setupMode(n.lessDefaults)}))})),t.languages.onLanguage("scss",(function(){r().then((function(e){return e.setupMode(n.scssDefaults)}))})),t.languages.onLanguage("css",(function(){r().then((function(e){return e.setupMode(n.cssDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-json version: 3.5.0(5bb24cf2acb93ebdc97dbcffe3f81a6214705d9a)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-json/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/json/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/json/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}();n.jsonDefaults=new o("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0}),t.languages.json={jsonDefaults:n.jsonDefaults},t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),t.languages.onLanguage("json",(function(){new Promise((function(n,t){e(["./jsonMode"],n,t)})).then((function(e){return e.setupMode(n.jsonDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-html version: 3.6.0(cfdc74341d3ec5337fefbe1f874dd2620600977f)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-html/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/html/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco}));var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}l((r=r.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};define("vs/language/html/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerHTMLLanguageService=t.razorDefaults=t.razorLanguageService=t.handlebarDefaults=t.handlebarLanguageService=t.htmlDefaults=t.htmlLanguageService=void 0;var r=function(){function e(e,t,r){this._onDidChange=new n.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(r)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),a={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function o(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",u="handlebars",l="razor";function s(t,i,u){var l=this;void 0===i&&(i=a),void 0===u&&(u=o(t));var s,c=new r(t,i,u),g=n.languages.onLanguage(t,(function(){return __awaiter(l,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,n){e(["./htmlMode"],t,n)}))];case 1:return s=t.sent().setupMode(c),[2]}}))}))}));return{defaults:c,dispose:function(){g.dispose(),null==s||s.dispose(),s=void 0}}}t.htmlLanguageService=s(i,a,o(i)),t.htmlDefaults=t.htmlLanguageService.defaults,t.handlebarLanguageService=s(u,a,o(u)),t.handlebarDefaults=t.handlebarLanguageService.defaults,t.razorLanguageService=s(l,a,o(l)),t.razorDefaults=t.razorLanguageService.defaults,n.languages.html={htmlDefaults:t.htmlDefaults,razorDefaults:t.razorDefaults,handlebarDefaults:t.handlebarDefaults,htmlLanguageService:t.htmlLanguageService,handlebarLanguageService:t.handlebarLanguageService,razorLanguageService:t.razorLanguageService,registerHTMLLanguageService:s},t.registerHTMLLanguageService=s}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-languages version: 2.6.0(8edbbc5a7bcfa0cf5f4627716e53c2d85653a2ee)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-languages/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/basic-languages/_.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.registerLanguage=i.loadLanguage=void 0;var n={},r={},s=function(){function e(e){var i=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,t){i._lazyLoadPromiseResolve=e,i._lazyLoadPromiseReject=t}))}return e.getOrCreate=function(i){return r[i]||(r[i]=new e(i)),r[i]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,n[this._languageId].loader().then((function(i){return e._lazyLoadPromiseResolve(i)}),(function(i){return e._lazyLoadPromiseReject(i)}))),this._lazyLoadPromise},e}();i.loadLanguage=function(e){return s.getOrCreate(e).load()},i.registerLanguage=function(e){var i=e.id;n[i]=e,t.languages.register(e);var r=s.getOrCreate(i);t.languages.setMonarchTokensProvider(i,r.whenLoaded().then((function(e){return e.language}))),t.languages.onLanguage(i,(function(){r.load().then((function(e){t.languages.setLanguageConfiguration(i,e.conf)}))}))}})),define("vs/basic-languages/abap/abap.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return new Promise((function(i,t){e(["./abap"],i,t)}))}})})),define("vs/basic-languages/apex/apex.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return new Promise((function(i,t){e(["./apex"],i,t)}))}})})),define("vs/basic-languages/azcli/azcli.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return new Promise((function(i,t){e(["./azcli"],i,t)}))}})})),define("vs/basic-languages/bat/bat.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return new Promise((function(i,t){e(["./bat"],i,t)}))}})})),define("vs/basic-languages/bicep/bicep.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return new Promise((function(i,t){e(["./bicep"],i,t)}))}})})),define("vs/basic-languages/cameligo/cameligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return new Promise((function(i,t){e(["./cameligo"],i,t)}))}})})),define("vs/basic-languages/clojure/clojure.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return new Promise((function(i,t){e(["./clojure"],i,t)}))}})})),define("vs/basic-languages/coffee/coffee.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return new Promise((function(i,t){e(["./coffee"],i,t)}))}})})),define("vs/basic-languages/cpp/cpp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}}),t.registerLanguage({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}})})),define("vs/basic-languages/csharp/csharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return new Promise((function(i,t){e(["./csharp"],i,t)}))}})})),define("vs/basic-languages/csp/csp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return new Promise((function(i,t){e(["./csp"],i,t)}))}})})),define("vs/basic-languages/css/css.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return new Promise((function(i,t){e(["./css"],i,t)}))}})})),define("vs/basic-languages/dart/dart.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return new Promise((function(i,t){e(["./dart"],i,t)}))}})})),define("vs/basic-languages/dockerfile/dockerfile.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return new Promise((function(i,t){e(["./dockerfile"],i,t)}))}})})),define("vs/basic-languages/ecl/ecl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return new Promise((function(i,t){e(["./ecl"],i,t)}))}})})),define("vs/basic-languages/elixir/elixir.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return new Promise((function(i,t){e(["./elixir"],i,t)}))}})})),define("vs/basic-languages/fsharp/fsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return new Promise((function(i,t){e(["./fsharp"],i,t)}))}})})),define("vs/basic-languages/go/go.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return new Promise((function(i,t){e(["./go"],i,t)}))}})})),define("vs/basic-languages/graphql/graphql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return new Promise((function(i,t){e(["./graphql"],i,t)}))}})})),define("vs/basic-languages/handlebars/handlebars.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return new Promise((function(i,t){e(["./handlebars"],i,t)}))}})})),define("vs/basic-languages/hcl/hcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return new Promise((function(i,t){e(["./hcl"],i,t)}))}})})),define("vs/basic-languages/html/html.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return new Promise((function(i,t){e(["./html"],i,t)}))}})})),define("vs/basic-languages/ini/ini.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return new Promise((function(i,t){e(["./ini"],i,t)}))}})})),define("vs/basic-languages/java/java.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return new Promise((function(i,t){e(["./java"],i,t)}))}})})),define("vs/basic-languages/javascript/javascript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return new Promise((function(i,t){e(["./javascript"],i,t)}))}})})),define("vs/basic-languages/julia/julia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return new Promise((function(i,t){e(["./julia"],i,t)}))}})})),define("vs/basic-languages/kotlin/kotlin.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return new Promise((function(i,t){e(["./kotlin"],i,t)}))}})})),define("vs/basic-languages/less/less.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return new Promise((function(i,t){e(["./less"],i,t)}))}})})),define("vs/basic-languages/lexon/lexon.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return new Promise((function(i,t){e(["./lexon"],i,t)}))}})})),define("vs/basic-languages/lua/lua.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return new Promise((function(i,t){e(["./lua"],i,t)}))}})})),define("vs/basic-languages/liquid/liquid.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return new Promise((function(i,t){e(["./liquid"],i,t)}))}})})),define("vs/basic-languages/m3/m3.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return new Promise((function(i,t){e(["./m3"],i,t)}))}})})),define("vs/basic-languages/markdown/markdown.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return new Promise((function(i,t){e(["./markdown"],i,t)}))}})})),define("vs/basic-languages/mips/mips.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return new Promise((function(i,t){e(["./mips"],i,t)}))}})})),define("vs/basic-languages/msdax/msdax.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return new Promise((function(i,t){e(["./msdax"],i,t)}))}})})),define("vs/basic-languages/mysql/mysql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return new Promise((function(i,t){e(["./mysql"],i,t)}))}})})),define("vs/basic-languages/objective-c/objective-c.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return new Promise((function(i,t){e(["./objective-c"],i,t)}))}})})),define("vs/basic-languages/pascal/pascal.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return new Promise((function(i,t){e(["./pascal"],i,t)}))}})})),define("vs/basic-languages/pascaligo/pascaligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return new Promise((function(i,t){e(["./pascaligo"],i,t)}))}})})),define("vs/basic-languages/perl/perl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return new Promise((function(i,t){e(["./perl"],i,t)}))}})})),define("vs/basic-languages/pgsql/pgsql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return new Promise((function(i,t){e(["./pgsql"],i,t)}))}})})),define("vs/basic-languages/php/php.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return new Promise((function(i,t){e(["./php"],i,t)}))}})})),define("vs/basic-languages/postiats/postiats.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return new Promise((function(i,t){e(["./postiats"],i,t)}))}})})),define("vs/basic-languages/powerquery/powerquery.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return new Promise((function(i,t){e(["./powerquery"],i,t)}))}})})),define("vs/basic-languages/powershell/powershell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return new Promise((function(i,t){e(["./powershell"],i,t)}))}})})),define("vs/basic-languages/pug/pug.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return new Promise((function(i,t){e(["./pug"],i,t)}))}})})),define("vs/basic-languages/python/python.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return new Promise((function(i,t){e(["./python"],i,t)}))}})})),define("vs/basic-languages/qsharp/qsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return new Promise((function(i,t){e(["./qsharp"],i,t)}))}})})),define("vs/basic-languages/r/r.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return new Promise((function(i,t){e(["./r"],i,t)}))}})})),define("vs/basic-languages/razor/razor.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return new Promise((function(i,t){e(["./razor"],i,t)}))}})})),define("vs/basic-languages/redis/redis.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return new Promise((function(i,t){e(["./redis"],i,t)}))}})})),define("vs/basic-languages/redshift/redshift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return new Promise((function(i,t){e(["./redshift"],i,t)}))}})})),define("vs/basic-languages/restructuredtext/restructuredtext.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return new Promise((function(i,t){e(["./restructuredtext"],i,t)}))}})})),define("vs/basic-languages/ruby/ruby.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return new Promise((function(i,t){e(["./ruby"],i,t)}))}})})),define("vs/basic-languages/rust/rust.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return new Promise((function(i,t){e(["./rust"],i,t)}))}})})),define("vs/basic-languages/sb/sb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return new Promise((function(i,t){e(["./sb"],i,t)}))}})})),define("vs/basic-languages/scala/scala.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return new Promise((function(i,t){e(["./scala"],i,t)}))}})})),define("vs/basic-languages/scheme/scheme.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return new Promise((function(i,t){e(["./scheme"],i,t)}))}})})),define("vs/basic-languages/scss/scss.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return new Promise((function(i,t){e(["./scss"],i,t)}))}})})),define("vs/basic-languages/shell/shell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return new Promise((function(i,t){e(["./shell"],i,t)}))}})})),define("vs/basic-languages/solidity/solidity.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return new Promise((function(i,t){e(["./solidity"],i,t)}))}})})),define("vs/basic-languages/sophia/sophia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return new Promise((function(i,t){e(["./sophia"],i,t)}))}})})),define("vs/basic-languages/sparql/sparql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return new Promise((function(i,t){e(["./sparql"],i,t)}))}})})),define("vs/basic-languages/sql/sql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return new Promise((function(i,t){e(["./sql"],i,t)}))}})})),define("vs/basic-languages/st/st.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return new Promise((function(i,t){e(["./st"],i,t)}))}})})),define("vs/basic-languages/swift/swift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return new Promise((function(i,t){e(["./swift"],i,t)}))}})})),define("vs/basic-languages/systemverilog/systemverilog.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}}),t.registerLanguage({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}})})),define("vs/basic-languages/tcl/tcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return new Promise((function(i,t){e(["./tcl"],i,t)}))}})})),define("vs/basic-languages/twig/twig.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return new Promise((function(i,t){e(["./twig"],i,t)}))}})})),define("vs/basic-languages/typescript/typescript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return new Promise((function(i,t){e(["./typescript"],i,t)}))}})})),define("vs/basic-languages/vb/vb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return new Promise((function(i,t){e(["./vb"],i,t)}))}})})),define("vs/basic-languages/xml/xml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return new Promise((function(i,t){e(["./xml"],i,t)}))}})})),define("vs/basic-languages/yaml/yaml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return new Promise((function(i,t){e(["./yaml"],i,t)}))}})})),define("vs/basic-languages/monaco.contribution",["require","exports","./abap/abap.contribution","./apex/apex.contribution","./azcli/azcli.contribution","./bat/bat.contribution","./bicep/bicep.contribution","./cameligo/cameligo.contribution","./clojure/clojure.contribution","./coffee/coffee.contribution","./cpp/cpp.contribution","./csharp/csharp.contribution","./csp/csp.contribution","./css/css.contribution","./dart/dart.contribution","./dockerfile/dockerfile.contribution","./ecl/ecl.contribution","./elixir/elixir.contribution","./fsharp/fsharp.contribution","./go/go.contribution","./graphql/graphql.contribution","./handlebars/handlebars.contribution","./hcl/hcl.contribution","./html/html.contribution","./ini/ini.contribution","./java/java.contribution","./javascript/javascript.contribution","./julia/julia.contribution","./kotlin/kotlin.contribution","./less/less.contribution","./lexon/lexon.contribution","./lua/lua.contribution","./liquid/liquid.contribution","./m3/m3.contribution","./markdown/markdown.contribution","./mips/mips.contribution","./msdax/msdax.contribution","./mysql/mysql.contribution","./objective-c/objective-c.contribution","./pascal/pascal.contribution","./pascaligo/pascaligo.contribution","./perl/perl.contribution","./pgsql/pgsql.contribution","./php/php.contribution","./postiats/postiats.contribution","./powerquery/powerquery.contribution","./powershell/powershell.contribution","./pug/pug.contribution","./python/python.contribution","./qsharp/qsharp.contribution","./r/r.contribution","./razor/razor.contribution","./redis/redis.contribution","./redshift/redshift.contribution","./restructuredtext/restructuredtext.contribution","./ruby/ruby.contribution","./rust/rust.contribution","./sb/sb.contribution","./scala/scala.contribution","./scheme/scheme.contribution","./scss/scss.contribution","./shell/shell.contribution","./solidity/solidity.contribution","./sophia/sophia.contribution","./sparql/sparql.contribution","./sql/sql.contribution","./st/st.contribution","./swift/swift.contribution","./systemverilog/systemverilog.contribution","./tcl/tcl.contribution","./twig/twig.contribution","./typescript/typescript.contribution","./vb/vb.contribution","./xml/xml.contribution","./yaml/yaml.contribution"],(function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})}));
define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/language/typescript/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map